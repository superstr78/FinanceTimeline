(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function s(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=s(o);fetch(o.href,u)}})();var Rf={exports:{}},mo={};var Ly;function OE(){if(Ly)return mo;Ly=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:i,type:r,key:f,ref:o!==void 0?o:null,props:u}}return mo.Fragment=e,mo.jsx=s,mo.jsxs=s,mo}var Uy;function VE(){return Uy||(Uy=1,Rf.exports=OE()),Rf.exports}var m=VE(),Cf={exports:{}},Se={};var Py;function LE(){if(Py)return Se;Py=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),C=Symbol.iterator;function z(O){return O===null||typeof O!="object"?null:(O=C&&O[C]||O["@@iterator"],typeof O=="function"?O:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,P={};function se(O,ee,oe){this.props=O,this.context=ee,this.refs=P,this.updater=oe||F}se.prototype.isReactComponent={},se.prototype.setState=function(O,ee){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ee,"setState")},se.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function L(){}L.prototype=se.prototype;function V(O,ee,oe){this.props=O,this.context=ee,this.refs=P,this.updater=oe||F}var ie=V.prototype=new L;ie.constructor=V,Y(ie,se.prototype),ie.isPureReactComponent=!0;var ce=Array.isArray;function ae(){}var I={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function w(O,ee,oe){var he=oe.ref;return{$$typeof:i,type:O,key:ee,ref:he!==void 0?he:null,props:oe}}function k(O,ee){return w(O.type,ee,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function M(O){var ee={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(oe){return ee[oe]})}var R=/\/+/g;function Me(O,ee){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):ee.toString(36)}function ze(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ae,ae):(O.status="pending",O.then(function(ee){O.status==="pending"&&(O.status="fulfilled",O.value=ee)},function(ee){O.status==="pending"&&(O.status="rejected",O.reason=ee)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function X(O,ee,oe,he,be){var Re=typeof O;(Re==="undefined"||Re==="boolean")&&(O=null);var Be=!1;if(O===null)Be=!0;else switch(Re){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(O.$$typeof){case i:case e:Be=!0;break;case T:return Be=O._init,X(Be(O._payload),ee,oe,he,be)}}if(Be)return be=be(O),Be=he===""?"."+Me(O,0):he,ce(be)?(oe="",Be!=null&&(oe=Be.replace(R,"$&/")+"/"),X(be,ee,oe,"",function(ta){return ta})):be!=null&&(N(be)&&(be=k(be,oe+(be.key==null||O&&O.key===be.key?"":(""+be.key).replace(R,"$&/")+"/")+Be)),ee.push(be)),1;Be=0;var Ct=he===""?".":he+":";if(ce(O))for(var rt=0;rt<O.length;rt++)he=O[rt],Re=Ct+Me(he,rt),Be+=X(he,ee,oe,Re,be);else if(rt=z(O),typeof rt=="function")for(O=rt.call(O),rt=0;!(he=O.next()).done;)he=he.value,Re=Ct+Me(he,rt++),Be+=X(he,ee,oe,Re,be);else if(Re==="object"){if(typeof O.then=="function")return X(ze(O),ee,oe,he,be);throw ee=String(O),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Be}function le(O,ee,oe){if(O==null)return O;var he=[],be=0;return X(O,he,"","",function(Re){return ee.call(oe,Re,be++)}),he}function me(O){if(O._status===-1){var ee=O._result;ee=ee(),ee.then(function(oe){(O._status===0||O._status===-1)&&(O._status=1,O._result=oe)},function(oe){(O._status===0||O._status===-1)&&(O._status=2,O._result=oe)}),O._status===-1&&(O._status=0,O._result=ee)}if(O._status===1)return O._result.default;throw O._result}var Ie=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},He={map:le,forEach:function(O,ee,oe){le(O,function(){ee.apply(this,arguments)},oe)},count:function(O){var ee=0;return le(O,function(){ee++}),ee},toArray:function(O){return le(O,function(ee){return ee})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Se.Activity=A,Se.Children=He,Se.Component=se,Se.Fragment=s,Se.Profiler=o,Se.PureComponent=V,Se.StrictMode=r,Se.Suspense=_,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Se.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},Se.cache=function(O){return function(){return O.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(O,ee,oe){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var he=Y({},O.props),be=O.key;if(ee!=null)for(Re in ee.key!==void 0&&(be=""+ee.key),ee)!E.call(ee,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ee.ref===void 0||(he[Re]=ee[Re]);var Re=arguments.length-2;if(Re===1)he.children=oe;else if(1<Re){for(var Be=Array(Re),Ct=0;Ct<Re;Ct++)Be[Ct]=arguments[Ct+2];he.children=Be}return w(O.type,be,he)},Se.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Se.createElement=function(O,ee,oe){var he,be={},Re=null;if(ee!=null)for(he in ee.key!==void 0&&(Re=""+ee.key),ee)E.call(ee,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(be[he]=ee[he]);var Be=arguments.length-2;if(Be===1)be.children=oe;else if(1<Be){for(var Ct=Array(Be),rt=0;rt<Be;rt++)Ct[rt]=arguments[rt+2];be.children=Ct}if(O&&O.defaultProps)for(he in Be=O.defaultProps,Be)be[he]===void 0&&(be[he]=Be[he]);return w(O,Re,be)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(O){return{$$typeof:p,render:O}},Se.isValidElement=N,Se.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:me}},Se.memo=function(O,ee){return{$$typeof:v,type:O,compare:ee===void 0?null:ee}},Se.startTransition=function(O){var ee=I.T,oe={};I.T=oe;try{var he=O(),be=I.S;be!==null&&be(oe,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(ae,Ie)}catch(Re){Ie(Re)}finally{ee!==null&&oe.types!==null&&(ee.types=oe.types),I.T=ee}},Se.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Se.use=function(O){return I.H.use(O)},Se.useActionState=function(O,ee,oe){return I.H.useActionState(O,ee,oe)},Se.useCallback=function(O,ee){return I.H.useCallback(O,ee)},Se.useContext=function(O){return I.H.useContext(O)},Se.useDebugValue=function(){},Se.useDeferredValue=function(O,ee){return I.H.useDeferredValue(O,ee)},Se.useEffect=function(O,ee){return I.H.useEffect(O,ee)},Se.useEffectEvent=function(O){return I.H.useEffectEvent(O)},Se.useId=function(){return I.H.useId()},Se.useImperativeHandle=function(O,ee,oe){return I.H.useImperativeHandle(O,ee,oe)},Se.useInsertionEffect=function(O,ee){return I.H.useInsertionEffect(O,ee)},Se.useLayoutEffect=function(O,ee){return I.H.useLayoutEffect(O,ee)},Se.useMemo=function(O,ee){return I.H.useMemo(O,ee)},Se.useOptimistic=function(O,ee){return I.H.useOptimistic(O,ee)},Se.useReducer=function(O,ee,oe){return I.H.useReducer(O,ee,oe)},Se.useRef=function(O){return I.H.useRef(O)},Se.useState=function(O){return I.H.useState(O)},Se.useSyncExternalStore=function(O,ee,oe){return I.H.useSyncExternalStore(O,ee,oe)},Se.useTransition=function(){return I.H.useTransition()},Se.version="19.2.1",Se}var zy;function xm(){return zy||(zy=1,Cf.exports=LE()),Cf.exports}var J=xm(),If={exports:{}},go={},kf={exports:{}},Df={};var By;function UE(){return By||(By=1,(function(i){function e(X,le){var me=X.length;X.push(le);e:for(;0<me;){var Ie=me-1>>>1,He=X[Ie];if(0<o(He,le))X[Ie]=le,X[me]=He,me=Ie;else break e}}function s(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var le=X[0],me=X.pop();if(me!==le){X[0]=me;e:for(var Ie=0,He=X.length,O=He>>>1;Ie<O;){var ee=2*(Ie+1)-1,oe=X[ee],he=ee+1,be=X[he];if(0>o(oe,me))he<He&&0>o(be,oe)?(X[Ie]=be,X[he]=me,Ie=he):(X[Ie]=oe,X[ee]=me,Ie=ee);else if(he<He&&0>o(be,me))X[Ie]=be,X[he]=me,Ie=he;else break e}}return le}function o(X,le){var me=X.sortIndex-le.sortIndex;return me!==0?me:X.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();i.unstable_now=function(){return f.now()-p}}var _=[],v=[],T=1,A=null,C=3,z=!1,F=!1,Y=!1,P=!1,se=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function ie(X){for(var le=s(v);le!==null;){if(le.callback===null)r(v);else if(le.startTime<=X)r(v),le.sortIndex=le.expirationTime,e(_,le);else break;le=s(v)}}function ce(X){if(Y=!1,ie(X),!F)if(s(_)!==null)F=!0,ae||(ae=!0,M());else{var le=s(v);le!==null&&ze(ce,le.startTime-X)}}var ae=!1,I=-1,E=5,w=-1;function k(){return P?!0:!(i.unstable_now()-w<E)}function N(){if(P=!1,ae){var X=i.unstable_now();w=X;var le=!0;try{e:{F=!1,Y&&(Y=!1,L(I),I=-1),z=!0;var me=C;try{t:{for(ie(X),A=s(_);A!==null&&!(A.expirationTime>X&&k());){var Ie=A.callback;if(typeof Ie=="function"){A.callback=null,C=A.priorityLevel;var He=Ie(A.expirationTime<=X);if(X=i.unstable_now(),typeof He=="function"){A.callback=He,ie(X),le=!0;break t}A===s(_)&&r(_),ie(X)}else r(_);A=s(_)}if(A!==null)le=!0;else{var O=s(v);O!==null&&ze(ce,O.startTime-X),le=!1}}break e}finally{A=null,C=me,z=!1}le=void 0}}finally{le?M():ae=!1}}}var M;if(typeof V=="function")M=function(){V(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Me=R.port2;R.port1.onmessage=N,M=function(){Me.postMessage(null)}}else M=function(){se(N,0)};function ze(X,le){I=se(function(){X(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return C},i.unstable_next=function(X){switch(C){case 1:case 2:case 3:var le=3;break;default:le=C}var me=C;C=le;try{return X()}finally{C=me}},i.unstable_requestPaint=function(){P=!0},i.unstable_runWithPriority=function(X,le){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var me=C;C=X;try{return le()}finally{C=me}},i.unstable_scheduleCallback=function(X,le,me){var Ie=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ie+me:Ie):me=Ie,X){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=me+He,X={id:T++,callback:le,priorityLevel:X,startTime:me,expirationTime:He,sortIndex:-1},me>Ie?(X.sortIndex=me,e(v,X),s(_)===null&&X===s(v)&&(Y?(L(I),I=-1):Y=!0,ze(ce,me-Ie))):(X.sortIndex=He,e(_,X),F||z||(F=!0,ae||(ae=!0,M()))),X},i.unstable_shouldYield=k,i.unstable_wrapCallback=function(X){var le=C;return function(){var me=C;C=le;try{return X.apply(this,arguments)}finally{C=me}}}})(Df)),Df}var qy;function PE(){return qy||(qy=1,kf.exports=UE()),kf.exports}var Mf={exports:{}},Xt={};var Hy;function zE(){if(Hy)return Xt;Hy=1;var i=xm();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)v+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(_,v,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:_,containerInfo:v,implementation:T}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xt.createPortal=function(_,v){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return u(_,v,null,T)},Xt.flushSync=function(_){var v=f.T,T=r.p;try{if(f.T=null,r.p=2,_)return _()}finally{f.T=v,r.p=T,r.d.f()}},Xt.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(_,v))},Xt.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},Xt.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var T=v.as,A=p(T,v.crossOrigin),C=typeof v.integrity=="string"?v.integrity:void 0,z=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;T==="style"?r.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:A,integrity:C,fetchPriority:z}):T==="script"&&r.d.X(_,{crossOrigin:A,integrity:C,fetchPriority:z,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Xt.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var T=p(v.as,v.crossOrigin);r.d.M(_,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(_)},Xt.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var T=v.as,A=p(T,v.crossOrigin);r.d.L(_,T,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Xt.preloadModule=function(_,v){if(typeof _=="string")if(v){var T=p(v.as,v.crossOrigin);r.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(_)},Xt.requestFormReset=function(_){r.d.r(_)},Xt.unstable_batchedUpdates=function(_,v){return _(v)},Xt.useFormState=function(_,v,T){return f.H.useFormState(_,v,T)},Xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xt.version="19.2.1",Xt}var Fy;function BE(){if(Fy)return Mf.exports;Fy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Mf.exports=zE(),Mf.exports}var Gy;function qE(){if(Gy)return go;Gy=1;var i=PE(),e=xm(),s=BE();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(u(t)!==t)throw Error(r(188))}function v(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return _(h),t;if(d===l)return _(h),n;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var y=!1,b=h.child;b;){if(b===a){y=!0,a=h,l=d;break}if(b===l){y=!0,l=h,a=d;break}b=b.sibling}if(!y){for(b=d.child;b;){if(b===a){y=!0,a=d,l=h;break}if(b===l){y=!0,l=d,a=h;break}b=b.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,C=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),V=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case se:return"Profiler";case P:return"StrictMode";case ce:return"Suspense";case ae:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case V:return t.displayName||"Context";case L:return(t._context.displayName||"Context")+".Consumer";case ie:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:Me(t.type)||"Memo";case E:n=t._payload,t=t._init;try{return Me(t(n))}catch{}}return null}var ze=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ie=[],He=-1;function O(t){return{current:t}}function ee(t){0>He||(t.current=Ie[He],Ie[He]=null,He--)}function oe(t,n){He++,Ie[He]=t.current,t.current=n}var he=O(null),be=O(null),Re=O(null),Be=O(null);function Ct(t,n){switch(oe(Re,n),oe(be,t),oe(he,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?ry(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=ry(n),t=ly(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(he),oe(he,t)}function rt(){ee(he),ee(be),ee(Re)}function ta(t){t.memoizedState!==null&&oe(Be,t);var n=he.current,a=ly(n,t.type);n!==a&&(oe(be,t),oe(he,a))}function Qa(t){be.current===t&&(ee(he),ee(be)),Be.current===t&&(ee(Be),co._currentValue=me)}var Ka,Xa;function es(t){if(Ka===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ka=n&&n[1]||"",Xa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ka+t+Xa}var cl=!1;function na(t,n){if(!t||cl)return"";cl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(K){var G=K}Reflect.construct(t,[],W)}else{try{W.call()}catch(K){G=K}t.call(W.prototype)}}else{try{throw Error()}catch(K){G=K}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),y=d[0],b=d[1];if(y&&b){var D=y.split(`
`),H=b.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===H.length)for(l=D.length-1,h=H.length-1;1<=l&&0<=h&&D[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==H[h]){var $=`
`+D[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{cl=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?es(a):""}function ul(t,n){switch(t.tag){case 26:case 27:case 5:return es(t.type);case 16:return es("Lazy");case 13:return t.child!==n&&n!==null?es("Suspense Fallback"):es("Suspense");case 19:return es("SuspenseList");case 0:case 15:return na(t.type,!1);case 11:return na(t.type.render,!1);case 1:return na(t.type,!0);case 31:return es("Activity");default:return""}}function hl(t){try{var n="",a=null;do n+=ul(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _t=Object.prototype.hasOwnProperty,It=i.unstable_scheduleCallback,ai=i.unstable_cancelCallback,Ch=i.unstable_shouldYield,Zo=i.unstable_requestPaint,en=i.unstable_now,sa=i.unstable_getCurrentPriorityLevel,dl=i.unstable_ImmediatePriority,fl=i.unstable_UserBlockingPriority,ri=i.unstable_NormalPriority,Ih=i.unstable_LowPriority,Jo=i.unstable_IdlePriority,Wo=i.log,ec=i.unstable_setDisableYieldValue,Un=null,Pt=null;function bn(t){if(typeof Wo=="function"&&ec(t),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(Un,t)}catch{}}var ft=Math.clz32?Math.clz32:nc,tc=Math.log,$a=Math.LN2;function nc(t){return t>>>=0,t===0?32:31-(tc(t)/$a|0)|0}var ts=256,ia=262144,vt=4194304;function ns(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ss(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=ns(l):(y&=b,y!==0?h=ns(y):a||(a=b&~t,a!==0&&(h=ns(a))))):(b=l&~d,b!==0?h=ns(b):y!==0?h=ns(y):a||(a=l&~t,a!==0&&(h=ns(a)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:h}function Pn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function kh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sc(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function is(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function aa(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Dh(t,n,a,l,h,d){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,D=t.expirationTimes,H=t.hiddenUpdates;for(a=y&~a;0<a;){var $=31-ft(a),W=1<<$;b[$]=0,D[$]=-1;var G=H[$];if(G!==null)for(H[$]=null,$=0;$<G.length;$++){var K=G[$];K!==null&&(K.lane&=-536870913)}a&=~W}l!==0&&ra(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(y&~n))}function ra(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ft(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function ml(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-ft(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function gl(t,n){var a=n&-n;return a=(a&42)!==0?1:la(a),(a&(t.suspendedLanes|n))!==0?0:a}function la(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ks(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ic(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:Iy(t.type))}function zn(t,n){var a=le.p;try{return le.p=t,n()}finally{le.p=a}}var Bn=Math.random().toString(36).slice(2),xt="__reactFiber$"+Bn,jt="__reactProps$"+Bn,as="__reactContainer$"+Bn,Za="__reactEvents$"+Bn,Mh="__reactListeners$"+Bn,ac="__reactHandles$"+Bn,rc="__reactResources$"+Bn,rs="__reactMarker$"+Bn;function Ja(t){delete t[xt],delete t[jt],delete t[Za],delete t[Mh],delete t[ac]}function ls(t){var n=t[xt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[as]||a[xt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=my(t);t!==null;){if(a=t[xt])return a;t=my(t)}return n}t=a,a=t.parentNode}return null}function En(t){if(t=t[xt]||t[as]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function dn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function os(t){var n=t[rc];return n||(n=t[rc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function bt(t){t[rs]=!0}var pl=new Set,yl={};function cs(t,n){us(t,n),us(t+"Capture",n)}function us(t,n){for(yl[t]=n,t=0;t<n.length;t++)pl.add(n[t])}var _l=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vl={},xl={};function lc(t){return _t.call(xl,t)?!0:_t.call(vl,t)?!1:_l.test(t)?xl[t]=!0:(vl[t]=!0,!1)}function Wa(t,n,a){if(lc(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function fn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Et(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Ot(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function li(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function bl(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,d.call(this,y)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Xe(t){if(!t._valueTracker){var n=li(t)?"checked":"value";t._valueTracker=bl(t,n,""+t[n])}}function oa(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=li(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function hs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ca=/[\n"\\]/g;function sn(t){return t.replace(ca,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function er(t,n,a,l,h,d,y,b){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ot(n)):t.value!==""+Ot(n)&&(t.value=""+Ot(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?El(t,y,Ot(n)):a!=null?El(t,y,Ot(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Ot(b):t.removeAttribute("name")}function oc(t,n,a,l,h,d,y,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){Xe(t);return}a=a!=null?""+Ot(a):"",n=n!=null?""+Ot(n):a,b||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Xe(t)}function El(t,n,a){n==="number"&&hs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function oi(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ot(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function cc(t,n,a){if(n!=null&&(n=""+Ot(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ot(a):""}function ci(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(ze(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ot(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Xe(t)}function an(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var uc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||uc.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Sl(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Tl(t,h,l)}else for(var d in n)n.hasOwnProperty(d)&&Tl(t,d,n[d])}function tr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ui=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nr(t){return ui.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function qn(){}var Al=null;function Tn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hi=null,ds=null;function ua(t){var n=En(t);if(n&&(t=n.stateNode)){var a=t[jt]||null;e:switch(t=n.stateNode,n.type){case"input":if(er(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[jt]||null;if(!h)throw Error(r(90));er(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&oa(l)}break e;case"textarea":cc(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&oi(t,!!a.multiple,n,!1)}}}var sr=!1;function di(t,n,a){if(sr)return t(n,a);sr=!0;try{var l=t(n);return l}finally{if(sr=!1,(hi!==null||ds!==null)&&(iu(),hi&&(n=hi,t=ds,ds=hi=null,ua(n),t)))for(n=0;n<t.length;n++)ua(t[n])}}function Hn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[jt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ha=!1;if(Sn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){ha=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{ha=!1}var fs=null,wl=null,da=null;function Nl(){if(da)return da;var t,n=wl,a=n.length,l,h="value"in fs?fs.value:fs.textContent,d=h.length;for(t=0;t<a&&n[t]===h[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===h[d-l];l++);return da=h.slice(t,1<l?1-l:void 0)}function fa(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ds(){return!0}function Fn(){return!1}function zt(t){function n(a,l,h,d,y){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ds:Fn,this.isPropagationStopped=Fn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ds)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ds)},persist:function(){},isPersistent:Ds}),n}var Ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ms=zt(Ms),fi=A({},Ms,{view:0,detail:0}),Rl=zt(fi),mi,ir,gs,ar=A({},fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gs&&(gs&&t.type==="mousemove"?(mi=t.screenX-gs.screenX,ir=t.screenY-gs.screenY):ir=mi=0,gs=t),mi)},movementY:function(t){return"movementY"in t?t.movementY:ir}}),Cl=zt(ar),ma=A({},ar,{dataTransfer:0}),dc=zt(ma),fc=A({},fi,{relatedTarget:0}),ga=zt(fc),Il=A({},Ms,{animationName:0,elapsedTime:0,pseudoElement:0}),mc=zt(Il),rr=A({},Ms,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gc=zt(rr),pc=A({},Ms,{data:0}),ps=zt(pc),yc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_c={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xc(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=vc[t])?!!n[t]:!1}function gi(){return xc}var tn=A({},fi,{key:function(t){if(t.key){var n=yc[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=fa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_c[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gi,charCode:function(t){return t.type==="keypress"?fa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bc=zt(tn),Ec=A({},ar,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),js=zt(Ec),c=A({},fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gi}),g=zt(c),x=A({},Ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=zt(x),B=A({},ar,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=zt(B),re=A({},Ms,{newState:0,oldState:0}),we=zt(re),mt=[9,13,27,32],Ye=Sn&&"CompositionEvent"in window,lt=null;Sn&&"documentMode"in document&&(lt=document.documentMode);var An=Sn&&"TextEvent"in window&&!lt,ys=Sn&&(!Ye||lt&&8<lt&&11>=lt),Gn=" ",Yn=!1;function pa(t,n){switch(t){case"keyup":return mt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var or=!1;function ab(t,n){switch(t){case"compositionend":return lr(n);case"keypress":return n.which!==32?null:(Yn=!0,Gn);case"textInput":return t=n.data,t===Gn&&Yn?null:t;default:return null}}function rb(t,n){if(or)return t==="compositionend"||!Ye&&pa(t,n)?(t=Nl(),da=wl=fs=null,or=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ys&&n.locale!=="ko"?null:n.data;default:return null}}var lb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!lb[t.type]:n==="textarea"}function _g(t,n,a,l){hi?ds?ds.push(l):ds=[l]:hi=l,n=hu(n,"onChange"),0<n.length&&(a=new ms("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var kl=null,Dl=null;function ob(t){ey(t,0)}function Tc(t){var n=dn(t);if(oa(n))return t}function vg(t,n){if(t==="change")return n}var xg=!1;if(Sn){var jh;if(Sn){var Oh="oninput"in document;if(!Oh){var bg=document.createElement("div");bg.setAttribute("oninput","return;"),Oh=typeof bg.oninput=="function"}jh=Oh}else jh=!1;xg=jh&&(!document.documentMode||9<document.documentMode)}function Eg(){kl&&(kl.detachEvent("onpropertychange",Tg),Dl=kl=null)}function Tg(t){if(t.propertyName==="value"&&Tc(Dl)){var n=[];_g(n,Dl,t,Tn(t)),di(ob,n)}}function cb(t,n,a){t==="focusin"?(Eg(),kl=n,Dl=a,kl.attachEvent("onpropertychange",Tg)):t==="focusout"&&Eg()}function ub(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tc(Dl)}function hb(t,n){if(t==="click")return Tc(n)}function db(t,n){if(t==="input"||t==="change")return Tc(n)}function fb(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var mn=typeof Object.is=="function"?Object.is:fb;function Ml(t,n){if(mn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!_t.call(n,h)||!mn(t[h],n[h]))return!1}return!0}function Sg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ag(t,n){var a=Sg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Sg(a)}}function wg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?wg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ng(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=hs(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=hs(t.document)}return n}function Vh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var mb=Sn&&"documentMode"in document&&11>=document.documentMode,cr=null,Lh=null,jl=null,Uh=!1;function Rg(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Uh||cr==null||cr!==hs(l)||(l=cr,"selectionStart"in l&&Vh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),jl&&Ml(jl,l)||(jl=l,l=hu(Lh,"onSelect"),0<l.length&&(n=new ms("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=cr)))}function ya(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var ur={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionrun:ya("Transition","TransitionRun"),transitionstart:ya("Transition","TransitionStart"),transitioncancel:ya("Transition","TransitionCancel"),transitionend:ya("Transition","TransitionEnd")},Ph={},Cg={};Sn&&(Cg=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);function _a(t){if(Ph[t])return Ph[t];if(!ur[t])return t;var n=ur[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Cg)return Ph[t]=n[a];return t}var Ig=_a("animationend"),kg=_a("animationiteration"),Dg=_a("animationstart"),gb=_a("transitionrun"),pb=_a("transitionstart"),yb=_a("transitioncancel"),Mg=_a("transitionend"),jg=new Map,zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zh.push("scrollEnd");function Qn(t,n){jg.set(t,n),cs(n,[t])}var Sc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},wn=[],hr=0,Bh=0;function Ac(){for(var t=hr,n=Bh=hr=0;n<t;){var a=wn[n];wn[n++]=null;var l=wn[n];wn[n++]=null;var h=wn[n];wn[n++]=null;var d=wn[n];if(wn[n++]=null,l!==null&&h!==null){var y=l.pending;y===null?h.next=h:(h.next=y.next,y.next=h),l.pending=h}d!==0&&Og(a,h,d)}}function wc(t,n,a,l){wn[hr++]=t,wn[hr++]=n,wn[hr++]=a,wn[hr++]=l,Bh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function qh(t,n,a,l){return wc(t,n,a,l),Nc(t)}function va(t,n){return wc(t,null,null,n),Nc(t)}function Og(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-ft(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),d):null}function Nc(t){if(50<no)throw no=0,Zd=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var dr={};function _b(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,n,a,l){return new _b(t,n,a,l)}function Hh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Os(t,n){var a=t.alternate;return a===null?(a=gn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Vg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Rc(t,n,a,l,h,d){var y=0;if(l=t,typeof t=="function")Hh(t)&&(y=1);else if(typeof t=="string")y=TE(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case w:return t=gn(31,a,n,h),t.elementType=w,t.lanes=d,t;case Y:return xa(a.children,h,d,n);case P:y=8,h|=24;break;case se:return t=gn(12,a,n,h|2),t.elementType=se,t.lanes=d,t;case ce:return t=gn(13,a,n,h),t.elementType=ce,t.lanes=d,t;case ae:return t=gn(19,a,n,h),t.elementType=ae,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case V:y=10;break e;case L:y=9;break e;case ie:y=11;break e;case I:y=14;break e;case E:y=16,l=null;break e}y=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=gn(y,a,n,h),n.elementType=t,n.type=l,n.lanes=d,n}function xa(t,n,a,l){return t=gn(7,t,l,n),t.lanes=a,t}function Fh(t,n,a){return t=gn(6,t,null,n),t.lanes=a,t}function Lg(t){var n=gn(18,null,null,0);return n.stateNode=t,n}function Gh(t,n,a){return n=gn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ug=new WeakMap;function Nn(t,n){if(typeof t=="object"&&t!==null){var a=Ug.get(t);return a!==void 0?a:(n={value:t,source:n,stack:hl(n)},Ug.set(t,n),n)}return{value:t,source:n,stack:hl(n)}}var fr=[],mr=0,Cc=null,Ol=0,Rn=[],Cn=0,pi=null,_s=1,vs="";function Vs(t,n){fr[mr++]=Ol,fr[mr++]=Cc,Cc=t,Ol=n}function Pg(t,n,a){Rn[Cn++]=_s,Rn[Cn++]=vs,Rn[Cn++]=pi,pi=t;var l=_s;t=vs;var h=32-ft(l)-1;l&=~(1<<h),a+=1;var d=32-ft(n)+h;if(30<d){var y=h-h%5;d=(l&(1<<y)-1).toString(32),l>>=y,h-=y,_s=1<<32-ft(n)+h|a<<h|l,vs=d+t}else _s=1<<d|a<<h|l,vs=t}function Yh(t){t.return!==null&&(Vs(t,1),Pg(t,1,0))}function Qh(t){for(;t===Cc;)Cc=fr[--mr],fr[mr]=null,Ol=fr[--mr],fr[mr]=null;for(;t===pi;)pi=Rn[--Cn],Rn[Cn]=null,vs=Rn[--Cn],Rn[Cn]=null,_s=Rn[--Cn],Rn[Cn]=null}function zg(t,n){Rn[Cn++]=_s,Rn[Cn++]=vs,Rn[Cn++]=pi,_s=n.id,vs=n.overflow,pi=t}var Bt=null,st=null,Pe=!1,yi=null,In=!1,Kh=Error(r(519));function _i(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vl(Nn(n,t)),Kh}function Bg(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[xt]=t,n[jt]=l,a){case"dialog":De("cancel",n),De("close",n);break;case"iframe":case"object":case"embed":De("load",n);break;case"video":case"audio":for(a=0;a<io.length;a++)De(io[a],n);break;case"source":De("error",n);break;case"img":case"image":case"link":De("error",n),De("load",n);break;case"details":De("toggle",n);break;case"input":De("invalid",n),oc(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",n);break;case"textarea":De("invalid",n),ci(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||iy(n.textContent,a)?(l.popover!=null&&(De("beforetoggle",n),De("toggle",n)),l.onScroll!=null&&De("scroll",n),l.onScrollEnd!=null&&De("scrollend",n),l.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||_i(t,!0)}function qg(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:Bt=Bt.return}}function gr(t){if(t!==Bt)return!1;if(!Pe)return qg(t),Pe=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||ff(t.type,t.memoizedProps)),a=!a),a&&st&&_i(t),qg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));st=fy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));st=fy(t)}else n===27?(n=st,Di(t.type)?(t=_f,_f=null,st=t):st=n):st=Bt?Dn(t.stateNode.nextSibling):null;return!0}function ba(){st=Bt=null,Pe=!1}function Xh(){var t=yi;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),yi=null),t}function Vl(t){yi===null?yi=[t]:yi.push(t)}var $h=O(null),Ea=null,Ls=null;function vi(t,n,a){oe($h,n._currentValue),n._currentValue=a}function Us(t){t._currentValue=$h.current,ee($h)}function Zh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Jh(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var y=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var D=0;D<n.length;D++)if(b.context===n[D]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Zh(d.return,a,t),l||(y=null);break e}d=b.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,d=y.alternate,d!==null&&(d.lanes|=a),Zh(y,a,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function pr(t,n,a,l){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var b=h.type;mn(h.pendingProps.value,y.value)||(t!==null?t.push(b):t=[b])}}else if(h===Be.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(co):t=[co])}h=h.return}t!==null&&Jh(n,t,a,l),n.flags|=262144}function Ic(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ta(t){Ea=t,Ls=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return Hg(Ea,t)}function kc(t,n){return Ea===null&&Ta(t),Hg(t,n)}function Hg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ls===null){if(t===null)throw Error(r(308));Ls=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ls=Ls.next=n;return a}var vb=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},xb=i.unstable_scheduleCallback,bb=i.unstable_NormalPriority,Tt={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wh(){return{controller:new vb,data:new Map,refCount:0}}function Ll(t){t.refCount--,t.refCount===0&&xb(bb,function(){t.controller.abort()})}var Ul=null,ed=0,yr=0,_r=null;function Eb(t,n){if(Ul===null){var a=Ul=[];ed=0,yr=sf(),_r={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ed++,n.then(Fg,Fg),n}function Fg(){if(--ed===0&&Ul!==null){_r!==null&&(_r.status="fulfilled");var t=Ul;Ul=null,yr=0,_r=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Tb(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Gg=X.S;X.S=function(t,n){R0=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Eb(t,n),Gg!==null&&Gg(t,n)};var Sa=O(null);function td(){var t=Sa.current;return t!==null?t:nt.pooledCache}function Dc(t,n){n===null?oe(Sa,Sa.current):oe(Sa,n.pool)}function Yg(){var t=td();return t===null?null:{parent:Tt._currentValue,pool:t}}var vr=Error(r(460)),nd=Error(r(474)),Mc=Error(r(542)),jc={then:function(){}};function Qg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Kg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(qn,qn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,$g(t),t;default:if(typeof n.status=="string")n.then(qn,qn);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,$g(t),t}throw wa=n,vr}}function Aa(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(wa=a,vr):a}}var wa=null;function Xg(){if(wa===null)throw Error(r(459));var t=wa;return wa=null,t}function $g(t){if(t===vr||t===Mc)throw Error(r(483))}var xr=null,Pl=0;function Oc(t){var n=Pl;return Pl+=1,xr===null&&(xr=[]),Kg(xr,t,n)}function zl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Vc(t,n){throw n.$$typeof===C?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Zg(t){function n(U,j){if(t){var q=U.deletions;q===null?(U.deletions=[j],U.flags|=16):q.push(j)}}function a(U,j){if(!t)return null;for(;j!==null;)n(U,j),j=j.sibling;return null}function l(U){for(var j=new Map;U!==null;)U.key!==null?j.set(U.key,U):j.set(U.index,U),U=U.sibling;return j}function h(U,j){return U=Os(U,j),U.index=0,U.sibling=null,U}function d(U,j,q){return U.index=q,t?(q=U.alternate,q!==null?(q=q.index,q<j?(U.flags|=67108866,j):q):(U.flags|=67108866,j)):(U.flags|=1048576,j)}function y(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function b(U,j,q,Z){return j===null||j.tag!==6?(j=Fh(q,U.mode,Z),j.return=U,j):(j=h(j,q),j.return=U,j)}function D(U,j,q,Z){var pe=q.type;return pe===Y?$(U,j,q.props.children,Z,q.key):j!==null&&(j.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===E&&Aa(pe)===j.type)?(j=h(j,q.props),zl(j,q),j.return=U,j):(j=Rc(q.type,q.key,q.props,null,U.mode,Z),zl(j,q),j.return=U,j)}function H(U,j,q,Z){return j===null||j.tag!==4||j.stateNode.containerInfo!==q.containerInfo||j.stateNode.implementation!==q.implementation?(j=Gh(q,U.mode,Z),j.return=U,j):(j=h(j,q.children||[]),j.return=U,j)}function $(U,j,q,Z,pe){return j===null||j.tag!==7?(j=xa(q,U.mode,Z,pe),j.return=U,j):(j=h(j,q),j.return=U,j)}function W(U,j,q){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Fh(""+j,U.mode,q),j.return=U,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case z:return q=Rc(j.type,j.key,j.props,null,U.mode,q),zl(q,j),q.return=U,q;case F:return j=Gh(j,U.mode,q),j.return=U,j;case E:return j=Aa(j),W(U,j,q)}if(ze(j)||M(j))return j=xa(j,U.mode,q,null),j.return=U,j;if(typeof j.then=="function")return W(U,Oc(j),q);if(j.$$typeof===V)return W(U,kc(U,j),q);Vc(U,j)}return null}function G(U,j,q,Z){var pe=j!==null?j.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return pe!==null?null:b(U,j,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case z:return q.key===pe?D(U,j,q,Z):null;case F:return q.key===pe?H(U,j,q,Z):null;case E:return q=Aa(q),G(U,j,q,Z)}if(ze(q)||M(q))return pe!==null?null:$(U,j,q,Z,null);if(typeof q.then=="function")return G(U,j,Oc(q),Z);if(q.$$typeof===V)return G(U,j,kc(U,q),Z);Vc(U,q)}return null}function K(U,j,q,Z,pe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(q)||null,b(j,U,""+Z,pe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case z:return U=U.get(Z.key===null?q:Z.key)||null,D(j,U,Z,pe);case F:return U=U.get(Z.key===null?q:Z.key)||null,H(j,U,Z,pe);case E:return Z=Aa(Z),K(U,j,q,Z,pe)}if(ze(Z)||M(Z))return U=U.get(q)||null,$(j,U,Z,pe,null);if(typeof Z.then=="function")return K(U,j,q,Oc(Z),pe);if(Z.$$typeof===V)return K(U,j,q,kc(j,Z),pe);Vc(j,Z)}return null}function de(U,j,q,Z){for(var pe=null,Fe=null,fe=j,Ce=j=0,Oe=null;fe!==null&&Ce<q.length;Ce++){fe.index>Ce?(Oe=fe,fe=null):Oe=fe.sibling;var Ge=G(U,fe,q[Ce],Z);if(Ge===null){fe===null&&(fe=Oe);break}t&&fe&&Ge.alternate===null&&n(U,fe),j=d(Ge,j,Ce),Fe===null?pe=Ge:Fe.sibling=Ge,Fe=Ge,fe=Oe}if(Ce===q.length)return a(U,fe),Pe&&Vs(U,Ce),pe;if(fe===null){for(;Ce<q.length;Ce++)fe=W(U,q[Ce],Z),fe!==null&&(j=d(fe,j,Ce),Fe===null?pe=fe:Fe.sibling=fe,Fe=fe);return Pe&&Vs(U,Ce),pe}for(fe=l(fe);Ce<q.length;Ce++)Oe=K(fe,U,Ce,q[Ce],Z),Oe!==null&&(t&&Oe.alternate!==null&&fe.delete(Oe.key===null?Ce:Oe.key),j=d(Oe,j,Ce),Fe===null?pe=Oe:Fe.sibling=Oe,Fe=Oe);return t&&fe.forEach(function(Li){return n(U,Li)}),Pe&&Vs(U,Ce),pe}function _e(U,j,q,Z){if(q==null)throw Error(r(151));for(var pe=null,Fe=null,fe=j,Ce=j=0,Oe=null,Ge=q.next();fe!==null&&!Ge.done;Ce++,Ge=q.next()){fe.index>Ce?(Oe=fe,fe=null):Oe=fe.sibling;var Li=G(U,fe,Ge.value,Z);if(Li===null){fe===null&&(fe=Oe);break}t&&fe&&Li.alternate===null&&n(U,fe),j=d(Li,j,Ce),Fe===null?pe=Li:Fe.sibling=Li,Fe=Li,fe=Oe}if(Ge.done)return a(U,fe),Pe&&Vs(U,Ce),pe;if(fe===null){for(;!Ge.done;Ce++,Ge=q.next())Ge=W(U,Ge.value,Z),Ge!==null&&(j=d(Ge,j,Ce),Fe===null?pe=Ge:Fe.sibling=Ge,Fe=Ge);return Pe&&Vs(U,Ce),pe}for(fe=l(fe);!Ge.done;Ce++,Ge=q.next())Ge=K(fe,U,Ce,Ge.value,Z),Ge!==null&&(t&&Ge.alternate!==null&&fe.delete(Ge.key===null?Ce:Ge.key),j=d(Ge,j,Ce),Fe===null?pe=Ge:Fe.sibling=Ge,Fe=Ge);return t&&fe.forEach(function(jE){return n(U,jE)}),Pe&&Vs(U,Ce),pe}function tt(U,j,q,Z){if(typeof q=="object"&&q!==null&&q.type===Y&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case z:e:{for(var pe=q.key;j!==null;){if(j.key===pe){if(pe=q.type,pe===Y){if(j.tag===7){a(U,j.sibling),Z=h(j,q.props.children),Z.return=U,U=Z;break e}}else if(j.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===E&&Aa(pe)===j.type){a(U,j.sibling),Z=h(j,q.props),zl(Z,q),Z.return=U,U=Z;break e}a(U,j);break}else n(U,j);j=j.sibling}q.type===Y?(Z=xa(q.props.children,U.mode,Z,q.key),Z.return=U,U=Z):(Z=Rc(q.type,q.key,q.props,null,U.mode,Z),zl(Z,q),Z.return=U,U=Z)}return y(U);case F:e:{for(pe=q.key;j!==null;){if(j.key===pe)if(j.tag===4&&j.stateNode.containerInfo===q.containerInfo&&j.stateNode.implementation===q.implementation){a(U,j.sibling),Z=h(j,q.children||[]),Z.return=U,U=Z;break e}else{a(U,j);break}else n(U,j);j=j.sibling}Z=Gh(q,U.mode,Z),Z.return=U,U=Z}return y(U);case E:return q=Aa(q),tt(U,j,q,Z)}if(ze(q))return de(U,j,q,Z);if(M(q)){if(pe=M(q),typeof pe!="function")throw Error(r(150));return q=pe.call(q),_e(U,j,q,Z)}if(typeof q.then=="function")return tt(U,j,Oc(q),Z);if(q.$$typeof===V)return tt(U,j,kc(U,q),Z);Vc(U,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,j!==null&&j.tag===6?(a(U,j.sibling),Z=h(j,q),Z.return=U,U=Z):(a(U,j),Z=Fh(q,U.mode,Z),Z.return=U,U=Z),y(U)):a(U,j)}return function(U,j,q,Z){try{Pl=0;var pe=tt(U,j,q,Z);return xr=null,pe}catch(fe){if(fe===vr||fe===Mc)throw fe;var Fe=gn(29,fe,null,U.mode);return Fe.lanes=Z,Fe.return=U,Fe}finally{}}}var Na=Zg(!0),Jg=Zg(!1),xi=!1;function sd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function id(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function bi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ei(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Nc(t),Og(t,null,a),n}return wc(t,l,n,a),Nc(t)}function Bl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,ml(t,a)}}function ad(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=y:d=d.next=y,a=a.next}while(a!==null);d===null?h=d=n:d=d.next=n}else h=d=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var rd=!1;function ql(){if(rd){var t=_r;if(t!==null)throw t}}function Hl(t,n,a,l){rd=!1;var h=t.updateQueue;xi=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var D=b,H=D.next;D.next=null,y===null?d=H:y.next=H,y=D;var $=t.alternate;$!==null&&($=$.updateQueue,b=$.lastBaseUpdate,b!==y&&(b===null?$.firstBaseUpdate=H:b.next=H,$.lastBaseUpdate=D))}if(d!==null){var W=h.baseState;y=0,$=H=D=null,b=d;do{var G=b.lane&-536870913,K=G!==b.lane;if(K?(je&G)===G:(l&G)===G){G!==0&&G===yr&&(rd=!0),$!==null&&($=$.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var de=t,_e=b;G=n;var tt=a;switch(_e.tag){case 1:if(de=_e.payload,typeof de=="function"){W=de.call(tt,W,G);break e}W=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=_e.payload,G=typeof de=="function"?de.call(tt,W,G):de,G==null)break e;W=A({},W,G);break e;case 2:xi=!0}}G=b.callback,G!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[G]:K.push(G))}else K={lane:G,tag:b.tag,payload:b.payload,callback:b.callback,next:null},$===null?(H=$=K,D=W):$=$.next=K,y|=G;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;K=b,b=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);$===null&&(D=W),h.baseState=D,h.firstBaseUpdate=H,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),Ni|=y,t.lanes=y,t.memoizedState=W}}function Wg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function ep(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Wg(a[t],n)}var br=O(null),Lc=O(0);function tp(t,n){t=Qs,oe(Lc,t),oe(br,n),Qs=t|n.baseLanes}function ld(){oe(Lc,Qs),oe(br,br.current)}function od(){Qs=Lc.current,ee(br),ee(Lc)}var pn=O(null),kn=null;function Ti(t){var n=t.alternate;oe(gt,gt.current&1),oe(pn,t),kn===null&&(n===null||br.current!==null||n.memoizedState!==null)&&(kn=t)}function cd(t){oe(gt,gt.current),oe(pn,t),kn===null&&(kn=t)}function np(t){t.tag===22?(oe(gt,gt.current),oe(pn,t),kn===null&&(kn=t)):Si()}function Si(){oe(gt,gt.current),oe(pn,pn.current)}function yn(t){ee(pn),kn===t&&(kn=null),ee(gt)}var gt=O(0);function Uc(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||pf(a)||yf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ps=0,Ne=null,We=null,St=null,Pc=!1,Er=!1,Ra=!1,zc=0,Fl=0,Tr=null,Sb=0;function ht(){throw Error(r(321))}function ud(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!mn(t[a],n[a]))return!1;return!0}function hd(t,n,a,l,h,d){return Ps=d,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,X.H=t===null||t.memoizedState===null?Pp:wd,Ra=!1,d=a(l,h),Ra=!1,Er&&(d=ip(n,a,l,h)),sp(t),d}function sp(t){X.H=Ql;var n=We!==null&&We.next!==null;if(Ps=0,St=We=Ne=null,Pc=!1,Fl=0,Tr=null,n)throw Error(r(300));t===null||At||(t=t.dependencies,t!==null&&Ic(t)&&(At=!0))}function ip(t,n,a,l){Ne=t;var h=0;do{if(Er&&(Tr=null),Fl=0,Er=!1,25<=h)throw Error(r(301));if(h+=1,St=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=zp,d=n(a,l)}while(Er);return d}function Ab(){var t=X.H,n=t.useState()[0];return n=typeof n.then=="function"?Gl(n):n,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Ne.flags|=1024),n}function dd(){var t=zc!==0;return zc=0,t}function fd(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function md(t){if(Pc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Pc=!1}Ps=0,St=We=Ne=null,Er=!1,Fl=zc=0,Tr=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Ne.memoizedState=St=t:St=St.next=t,St}function pt(){if(We===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var n=St===null?Ne.memoizedState:St.next;if(n!==null)St=n,We=t;else{if(t===null)throw Ne.alternate===null?Error(r(467)):Error(r(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},St===null?Ne.memoizedState=St=t:St=St.next=t}return St}function Bc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gl(t){var n=Fl;return Fl+=1,Tr===null&&(Tr=[]),t=Kg(Tr,t,n),n=Ne,(St===null?n.memoizedState:St.next)===null&&(n=n.alternate,X.H=n===null||n.memoizedState===null?Pp:wd),t}function qc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Gl(t);if(t.$$typeof===V)return qt(t)}throw Error(r(438,String(t)))}function gd(t){var n=null,a=Ne.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Bc(),Ne.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=k;return n.index++,a}function zs(t,n){return typeof n=="function"?n(t):n}function Hc(t){var n=pt();return pd(n,We,t)}function pd(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}n.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var b=y=null,D=null,H=n,$=!1;do{var W=H.lane&-536870913;if(W!==H.lane?(je&W)===W:(Ps&W)===W){var G=H.revertLane;if(G===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),W===yr&&($=!0);else if((Ps&G)===G){H=H.next,G===yr&&($=!0);continue}else W={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(b=D=W,y=d):D=D.next=W,Ne.lanes|=G,Ni|=G;W=H.action,Ra&&a(d,W),d=H.hasEagerState?H.eagerState:a(d,W)}else G={lane:W,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(b=D=G,y=d):D=D.next=G,Ne.lanes|=W,Ni|=W;H=H.next}while(H!==null&&H!==n);if(D===null?y=d:D.next=b,!mn(d,t.memoizedState)&&(At=!0,$&&(a=_r,a!==null)))throw a;t.memoizedState=d,t.baseState=y,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function yd(t){var n=pt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do d=t(d,y.action),y=y.next;while(y!==h);mn(d,n.memoizedState)||(At=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,l]}function ap(t,n,a){var l=Ne,h=pt(),d=Pe;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!mn((We||h).memoizedState,a);if(y&&(h.memoizedState=a,At=!0),h=h.queue,xd(op.bind(null,l,h,t),[t]),h.getSnapshot!==n||y||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,Sr(9,{destroy:void 0},lp.bind(null,l,h,a,n),null),nt===null)throw Error(r(349));d||(Ps&127)!==0||rp(l,n,a)}return a}function rp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ne.updateQueue,n===null?(n=Bc(),Ne.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function lp(t,n,a,l){n.value=a,n.getSnapshot=l,cp(n)&&up(t)}function op(t,n,a){return a(function(){cp(n)&&up(t)})}function cp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!mn(t,a)}catch{return!0}}function up(t){var n=va(t,2);n!==null&&un(n,t,2)}function _d(t){var n=nn();if(typeof t=="function"){var a=t;if(t=a(),Ra){bn(!0);try{a()}finally{bn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:t},n}function hp(t,n,a,l){return t.baseState=a,pd(t,We,typeof l=="function"?l:zs)}function wb(t,n,a,l,h){if(Yc(t))throw Error(r(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=n.pending,a===null?(d.next=n.pending=d,dp(n,d)):(d.next=a.next,n.pending=a.next=d)}}function dp(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var d=X.T,y={};X.T=y;try{var b=a(h,l),D=X.S;D!==null&&D(y,b),fp(t,n,b)}catch(H){vd(t,n,H)}finally{d!==null&&y.types!==null&&(d.types=y.types),X.T=d}}else try{d=a(h,l),fp(t,n,d)}catch(H){vd(t,n,H)}}function fp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){mp(t,n,l)},function(l){return vd(t,n,l)}):mp(t,n,a)}function mp(t,n,a){n.status="fulfilled",n.value=a,gp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,dp(t,a)))}function vd(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,gp(n),n=n.next;while(n!==l)}t.action=null}function gp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function pp(t,n){return n}function yp(t,n){if(Pe){var a=nt.formState;if(a!==null){e:{var l=Ne;if(Pe){if(st){t:{for(var h=st,d=In;h.nodeType!==8;){if(!d){h=null;break t}if(h=Dn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){st=Dn(h.nextSibling),l=h.data==="F!";break e}}_i(l)}l=!1}l&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pp,lastRenderedState:n},a.queue=l,a=Vp.bind(null,Ne,l),l.dispatch=a,l=_d(!1),d=Ad.bind(null,Ne,!1,l.queue),l=nn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=wb.bind(null,Ne,h,d,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function _p(t){var n=pt();return vp(n,We,t)}function vp(t,n,a){if(n=pd(t,n,pp)[0],t=Hc(zs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Gl(n)}catch(y){throw y===vr?Mc:y}else l=n;n=pt();var h=n.queue,d=h.dispatch;return a!==n.memoizedState&&(Ne.flags|=2048,Sr(9,{destroy:void 0},Nb.bind(null,h,a),null)),[l,d,t]}function Nb(t,n){t.action=n}function xp(t){var n=pt(),a=We;if(a!==null)return vp(n,a,t);pt(),n=n.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Sr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Ne.updateQueue,n===null&&(n=Bc(),Ne.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function bp(){return pt().memoizedState}function Fc(t,n,a,l){var h=nn();Ne.flags|=t,h.memoizedState=Sr(1|n,{destroy:void 0},a,l===void 0?null:l)}function Gc(t,n,a,l){var h=pt();l=l===void 0?null:l;var d=h.memoizedState.inst;We!==null&&l!==null&&ud(l,We.memoizedState.deps)?h.memoizedState=Sr(n,d,a,l):(Ne.flags|=t,h.memoizedState=Sr(1|n,d,a,l))}function Ep(t,n){Fc(8390656,8,t,n)}function xd(t,n){Gc(2048,8,t,n)}function Rb(t){Ne.flags|=4;var n=Ne.updateQueue;if(n===null)n=Bc(),Ne.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Tp(t){var n=pt().memoizedState;return Rb({ref:n,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Sp(t,n){return Gc(4,2,t,n)}function Ap(t,n){return Gc(4,4,t,n)}function wp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Np(t,n,a){a=a!=null?a.concat([t]):null,Gc(4,4,wp.bind(null,n,t),a)}function bd(){}function Rp(t,n){var a=pt();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&ud(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Cp(t,n){var a=pt();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&ud(n,l[1]))return l[0];if(l=t(),Ra){bn(!0);try{t()}finally{bn(!1)}}return a.memoizedState=[l,n],l}function Ed(t,n,a){return a===void 0||(Ps&1073741824)!==0&&(je&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=I0(),Ne.lanes|=t,Ni|=t,a)}function Ip(t,n,a,l){return mn(a,n)?a:br.current!==null?(t=Ed(t,a,l),mn(t,n)||(At=!0),t):(Ps&42)===0||(Ps&1073741824)!==0&&(je&261930)===0?(At=!0,t.memoizedState=a):(t=I0(),Ne.lanes|=t,Ni|=t,n)}function kp(t,n,a,l,h){var d=le.p;le.p=d!==0&&8>d?d:8;var y=X.T,b={};X.T=b,Ad(t,!1,n,a);try{var D=h(),H=X.S;if(H!==null&&H(b,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var $=Tb(D,l);Yl(t,n,$,xn(t))}else Yl(t,n,l,xn(t))}catch(W){Yl(t,n,{then:function(){},status:"rejected",reason:W},xn())}finally{le.p=d,y!==null&&b.types!==null&&(y.types=b.types),X.T=y}}function Cb(){}function Td(t,n,a,l){if(t.tag!==5)throw Error(r(476));var h=Dp(t).queue;kp(t,h,n,me,a===null?Cb:function(){return Mp(t),a(l)})}function Dp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:me},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Mp(t){var n=Dp(t);n.next===null&&(n=t.alternate.memoizedState),Yl(t,n.next.queue,{},xn())}function Sd(){return qt(co)}function jp(){return pt().memoizedState}function Op(){return pt().memoizedState}function Ib(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=xn();t=bi(a);var l=Ei(n,t,a);l!==null&&(un(l,n,a),Bl(l,n,a)),n={cache:Wh()},t.payload=n;return}n=n.return}}function kb(t,n,a){var l=xn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Yc(t)?Lp(n,a):(a=qh(t,n,a,l),a!==null&&(un(a,t,l),Up(a,n,l)))}function Vp(t,n,a){var l=xn();Yl(t,n,a,l)}function Yl(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Yc(t))Lp(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var y=n.lastRenderedState,b=d(y,a);if(h.hasEagerState=!0,h.eagerState=b,mn(b,y))return wc(t,n,h,0),nt===null&&Ac(),!1}catch{}finally{}if(a=qh(t,n,h,l),a!==null)return un(a,t,l),Up(a,n,l),!0}return!1}function Ad(t,n,a,l){if(l={lane:2,revertLane:sf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yc(t)){if(n)throw Error(r(479))}else n=qh(t,a,l,2),n!==null&&un(n,t,2)}function Yc(t){var n=t.alternate;return t===Ne||n!==null&&n===Ne}function Lp(t,n){Er=Pc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Up(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,ml(t,a)}}var Ql={readContext:qt,use:qc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};Ql.useEffectEvent=ht;var Pp={readContext:qt,use:qc,useCallback:function(t,n){return nn().memoizedState=[t,n===void 0?null:n],t},useContext:qt,useEffect:Ep,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Fc(4194308,4,wp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Fc(4194308,4,t,n)},useInsertionEffect:function(t,n){Fc(4,2,t,n)},useMemo:function(t,n){var a=nn();n=n===void 0?null:n;var l=t();if(Ra){bn(!0);try{t()}finally{bn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=nn();if(a!==void 0){var h=a(n);if(Ra){bn(!0);try{a(n)}finally{bn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=kb.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var n=nn();return t={current:t},n.memoizedState=t},useState:function(t){t=_d(t);var n=t.queue,a=Vp.bind(null,Ne,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:bd,useDeferredValue:function(t,n){var a=nn();return Ed(a,t,n)},useTransition:function(){var t=_d(!1);return t=kp.bind(null,Ne,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Ne,h=nn();if(Pe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),nt===null)throw Error(r(349));(je&127)!==0||rp(l,n,a)}h.memoizedState=a;var d={value:a,getSnapshot:n};return h.queue=d,Ep(op.bind(null,l,d,t),[t]),l.flags|=2048,Sr(9,{destroy:void 0},lp.bind(null,l,d,a,n),null),a},useId:function(){var t=nn(),n=nt.identifierPrefix;if(Pe){var a=vs,l=_s;a=(l&~(1<<32-ft(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=zc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=Sb++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Sd,useFormState:yp,useActionState:yp,useOptimistic:function(t){var n=nn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Ad.bind(null,Ne,!0,a),a.dispatch=n,[t,n]},useMemoCache:gd,useCacheRefresh:function(){return nn().memoizedState=Ib.bind(null,Ne)},useEffectEvent:function(t){var n=nn(),a={impl:t};return n.memoizedState=a,function(){if((Qe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},wd={readContext:qt,use:qc,useCallback:Rp,useContext:qt,useEffect:xd,useImperativeHandle:Np,useInsertionEffect:Sp,useLayoutEffect:Ap,useMemo:Cp,useReducer:Hc,useRef:bp,useState:function(){return Hc(zs)},useDebugValue:bd,useDeferredValue:function(t,n){var a=pt();return Ip(a,We.memoizedState,t,n)},useTransition:function(){var t=Hc(zs)[0],n=pt().memoizedState;return[typeof t=="boolean"?t:Gl(t),n]},useSyncExternalStore:ap,useId:jp,useHostTransitionStatus:Sd,useFormState:_p,useActionState:_p,useOptimistic:function(t,n){var a=pt();return hp(a,We,t,n)},useMemoCache:gd,useCacheRefresh:Op};wd.useEffectEvent=Tp;var zp={readContext:qt,use:qc,useCallback:Rp,useContext:qt,useEffect:xd,useImperativeHandle:Np,useInsertionEffect:Sp,useLayoutEffect:Ap,useMemo:Cp,useReducer:yd,useRef:bp,useState:function(){return yd(zs)},useDebugValue:bd,useDeferredValue:function(t,n){var a=pt();return We===null?Ed(a,t,n):Ip(a,We.memoizedState,t,n)},useTransition:function(){var t=yd(zs)[0],n=pt().memoizedState;return[typeof t=="boolean"?t:Gl(t),n]},useSyncExternalStore:ap,useId:jp,useHostTransitionStatus:Sd,useFormState:xp,useActionState:xp,useOptimistic:function(t,n){var a=pt();return We!==null?hp(a,We,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:gd,useCacheRefresh:Op};zp.useEffectEvent=Tp;function Nd(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Rd={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=xn(),h=bi(l);h.payload=n,a!=null&&(h.callback=a),n=Ei(t,h,l),n!==null&&(un(n,t,l),Bl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=xn(),h=bi(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ei(t,h,l),n!==null&&(un(n,t,l),Bl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=xn(),l=bi(a);l.tag=2,n!=null&&(l.callback=n),n=Ei(t,l,a),n!==null&&(un(n,t,a),Bl(n,t,a))}};function Bp(t,n,a,l,h,d,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,y):n.prototype&&n.prototype.isPureReactComponent?!Ml(a,l)||!Ml(h,d):!0}function qp(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Rd.enqueueReplaceState(n,n.state,null)}function Ca(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Hp(t){Sc(t)}function Fp(t){console.error(t)}function Gp(t){Sc(t)}function Qc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Yp(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Cd(t,n,a){return a=bi(a),a.tag=3,a.payload={element:null},a.callback=function(){Qc(t,n)},a}function Qp(t){return t=bi(t),t.tag=3,t}function Kp(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Yp(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Yp(n,a,l),typeof h!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function Db(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&pr(n,a,h,!0),a=pn.current,a!==null){switch(a.tag){case 31:case 13:return kn===null?au():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===jc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),ef(t,l,h)),!1;case 22:return a.flags|=65536,l===jc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),ef(t,l,h)),!1}throw Error(r(435,a.tag))}return ef(t,l,h),au(),!1}if(Pe)return n=pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Kh&&(t=Error(r(422),{cause:l}),Vl(Nn(t,a)))):(l!==Kh&&(n=Error(r(423),{cause:l}),Vl(Nn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Nn(l,a),h=Cd(t.stateNode,l,h),ad(t,h),dt!==4&&(dt=2)),!1;var d=Error(r(520),{cause:l});if(d=Nn(d,a),to===null?to=[d]:to.push(d),dt!==4&&(dt=2),n===null)return!0;l=Nn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Cd(a.stateNode,l,t),ad(a,t),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ri===null||!Ri.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Qp(h),Kp(h,t,a,l),ad(a,h),!1}a=a.return}while(a!==null);return!1}var Id=Error(r(461)),At=!1;function Ht(t,n,a,l){n.child=t===null?Jg(n,null,a,l):Na(n,t.child,a,l)}function Xp(t,n,a,l,h){a=a.render;var d=n.ref;if("ref"in l){var y={};for(var b in l)b!=="ref"&&(y[b]=l[b])}else y=l;return Ta(n),l=hd(t,n,a,y,d,h),b=dd(),t!==null&&!At?(fd(t,n,h),Bs(t,n,h)):(Pe&&b&&Yh(n),n.flags|=1,Ht(t,n,l,h),n.child)}function $p(t,n,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Hh(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,Zp(t,n,d,l,h)):(t=Rc(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!Ud(t,h)){var y=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ml,a(y,l)&&t.ref===n.ref)return Bs(t,n,h)}return n.flags|=1,t=Os(d,l),t.ref=n.ref,t.return=n,n.child=t}function Zp(t,n,a,l,h){if(t!==null){var d=t.memoizedProps;if(Ml(d,l)&&t.ref===n.ref)if(At=!1,n.pendingProps=l=d,Ud(t,h))(t.flags&131072)!==0&&(At=!0);else return n.lanes=t.lanes,Bs(t,n,h)}return kd(t,n,a,l,h)}function Jp(t,n,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,n.child=null;return Wp(t,n,d,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Dc(n,d!==null?d.cachePool:null),d!==null?tp(n,d):ld(),np(n);else return l=n.lanes=536870912,Wp(t,n,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Dc(n,d.cachePool),tp(n,d),Si(),n.memoizedState=null):(t!==null&&Dc(n,null),ld(),Si());return Ht(t,n,h,a),n.child}function Kl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Wp(t,n,a,l,h){var d=td();return d=d===null?null:{parent:Tt._currentValue,pool:d},n.memoizedState={baseLanes:a,cachePool:d},t!==null&&Dc(n,null),ld(),np(n),t!==null&&pr(t,n,l,!0),n.childLanes=h,null}function Kc(t,n){return n=$c({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function e0(t,n,a){return Na(n,t.child,null,a),t=Kc(n,n.pendingProps),t.flags|=2,yn(n),n.memoizedState=null,t}function Mb(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=Kc(n,l),n.lanes=536870912,Kl(null,t);if(cd(n),(t=st)?(t=dy(t,In),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:pi!==null?{id:_s,overflow:vs}:null,retryLane:536870912,hydrationErrors:null},a=Lg(t),a.return=n,n.child=a,Bt=n,st=null)):t=null,t===null)throw _i(n);return n.lanes=536870912,null}return Kc(n,l)}var d=t.memoizedState;if(d!==null){var y=d.dehydrated;if(cd(n),h)if(n.flags&256)n.flags&=-257,n=e0(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(At||pr(t,n,a,!1),h=(a&t.childLanes)!==0,At||h){if(l=nt,l!==null&&(y=gl(l,a),y!==0&&y!==d.retryLane))throw d.retryLane=y,va(t,y),un(l,t,y),Id;au(),n=e0(t,n,a)}else t=d.treeContext,st=Dn(y.nextSibling),Bt=n,Pe=!0,yi=null,In=!1,t!==null&&zg(n,t),n=Kc(n,l),n.flags|=4096;return n}return t=Os(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Xc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function kd(t,n,a,l,h){return Ta(n),a=hd(t,n,a,l,void 0,h),l=dd(),t!==null&&!At?(fd(t,n,h),Bs(t,n,h)):(Pe&&l&&Yh(n),n.flags|=1,Ht(t,n,a,h),n.child)}function t0(t,n,a,l,h,d){return Ta(n),n.updateQueue=null,a=ip(n,l,a,h),sp(t),l=dd(),t!==null&&!At?(fd(t,n,d),Bs(t,n,d)):(Pe&&l&&Yh(n),n.flags|=1,Ht(t,n,a,d),n.child)}function n0(t,n,a,l,h){if(Ta(n),n.stateNode===null){var d=dr,y=a.contextType;typeof y=="object"&&y!==null&&(d=qt(y)),d=new a(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Rd,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},sd(n),y=a.contextType,d.context=typeof y=="object"&&y!==null?qt(y):dr,d.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Nd(n,a,y,l),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&Rd.enqueueReplaceState(d,d.state,null),Hl(n,l,d,h),ql(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var b=n.memoizedProps,D=Ca(a,b);d.props=D;var H=d.context,$=a.contextType;y=dr,typeof $=="object"&&$!==null&&(y=qt($));var W=a.getDerivedStateFromProps;$=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||H!==y)&&qp(n,d,l,y),xi=!1;var G=n.memoizedState;d.state=G,Hl(n,l,d,h),ql(),H=n.memoizedState,b||G!==H||xi?(typeof W=="function"&&(Nd(n,a,W,l),H=n.memoizedState),(D=xi||Bp(n,a,D,l,G,H,y))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=H),d.props=l,d.state=H,d.context=y,l=D):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,id(t,n),y=n.memoizedProps,$=Ca(a,y),d.props=$,W=n.pendingProps,G=d.context,H=a.contextType,D=dr,typeof H=="object"&&H!==null&&(D=qt(H)),b=a.getDerivedStateFromProps,(H=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==W||G!==D)&&qp(n,d,l,D),xi=!1,G=n.memoizedState,d.state=G,Hl(n,l,d,h),ql();var K=n.memoizedState;y!==W||G!==K||xi||t!==null&&t.dependencies!==null&&Ic(t.dependencies)?(typeof b=="function"&&(Nd(n,a,b,l),K=n.memoizedState),($=xi||Bp(n,a,$,l,G,K,D)||t!==null&&t.dependencies!==null&&Ic(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,D)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=K),d.props=l,d.state=K,d.context=D,l=$):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,Xc(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=Na(n,t.child,null,h),n.child=Na(n,null,a,h)):Ht(t,n,a,h),n.memoizedState=d.state,t=n.child):t=Bs(t,n,h),t}function s0(t,n,a,l){return ba(),n.flags|=256,Ht(t,n,a,l),n.child}var Dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Md(t){return{baseLanes:t,cachePool:Yg()}}function jd(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=vn),t}function i0(t,n,a){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,y;if((y=d)||(y=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pe){if(h?Ti(n):Si(),(t=st)?(t=dy(t,In),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:pi!==null?{id:_s,overflow:vs}:null,retryLane:536870912,hydrationErrors:null},a=Lg(t),a.return=n,n.child=a,Bt=n,st=null)):t=null,t===null)throw _i(n);return yf(t)?n.lanes=32:n.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(Si(),h=n.mode,b=$c({mode:"hidden",children:b},h),l=xa(l,h,a,null),b.return=n,l.return=n,b.sibling=l,n.child=b,l=n.child,l.memoizedState=Md(a),l.childLanes=jd(t,y,a),n.memoizedState=Dd,Kl(null,l)):(Ti(n),Od(n,b))}var D=t.memoizedState;if(D!==null&&(b=D.dehydrated,b!==null)){if(d)n.flags&256?(Ti(n),n.flags&=-257,n=Vd(t,n,a)):n.memoizedState!==null?(Si(),n.child=t.child,n.flags|=128,n=null):(Si(),b=l.fallback,h=n.mode,l=$c({mode:"visible",children:l.children},h),b=xa(b,h,a,null),b.flags|=2,l.return=n,b.return=n,l.sibling=b,n.child=l,Na(n,t.child,null,a),l=n.child,l.memoizedState=Md(a),l.childLanes=jd(t,y,a),n.memoizedState=Dd,n=Kl(null,l));else if(Ti(n),yf(b)){if(y=b.nextSibling&&b.nextSibling.dataset,y)var H=y.dgst;y=H,l=Error(r(419)),l.stack="",l.digest=y,Vl({value:l,source:null,stack:null}),n=Vd(t,n,a)}else if(At||pr(t,n,a,!1),y=(a&t.childLanes)!==0,At||y){if(y=nt,y!==null&&(l=gl(y,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,va(t,l),un(y,t,l),Id;pf(b)||au(),n=Vd(t,n,a)}else pf(b)?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,st=Dn(b.nextSibling),Bt=n,Pe=!0,yi=null,In=!1,t!==null&&zg(n,t),n=Od(n,l.children),n.flags|=4096);return n}return h?(Si(),b=l.fallback,h=n.mode,D=t.child,H=D.sibling,l=Os(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,H!==null?b=Os(H,b):(b=xa(b,h,a,null),b.flags|=2),b.return=n,l.return=n,l.sibling=b,n.child=l,Kl(null,l),l=n.child,b=t.child.memoizedState,b===null?b=Md(a):(h=b.cachePool,h!==null?(D=Tt._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=Yg(),b={baseLanes:b.baseLanes|a,cachePool:h}),l.memoizedState=b,l.childLanes=jd(t,y,a),n.memoizedState=Dd,Kl(t.child,l)):(Ti(n),a=t.child,t=a.sibling,a=Os(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function Od(t,n){return n=$c({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function $c(t,n){return t=gn(22,t,null,n),t.lanes=0,t}function Vd(t,n,a){return Na(n,t.child,null,a),t=Od(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function a0(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Zh(t.return,n,a)}function Ld(t,n,a,l,h,d){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=h,y.treeForkCount=d)}function r0(t,n,a){var l=n.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var y=gt.current,b=(y&2)!==0;if(b?(y=y&1|2,n.flags|=128):y&=1,oe(gt,y),Ht(t,n,l,a),l=Pe?Ol:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&a0(t,a,n);else if(t.tag===19)a0(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Uc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Ld(n,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Uc(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Ld(n,!0,a,null,d,l);break;case"together":Ld(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Bs(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Ni|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(pr(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Os(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Os(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Ud(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ic(t)))}function jb(t,n,a){switch(n.tag){case 3:Ct(n,n.stateNode.containerInfo),vi(n,Tt,t.memoizedState.cache),ba();break;case 27:case 5:ta(n);break;case 4:Ct(n,n.stateNode.containerInfo);break;case 10:vi(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,cd(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ti(n),n.flags|=128,null):(a&n.child.childLanes)!==0?i0(t,n,a):(Ti(n),t=Bs(t,n,a),t!==null?t.sibling:null);Ti(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(pr(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return r0(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(gt,gt.current),l)break;return null;case 22:return n.lanes=0,Jp(t,n,a,n.pendingProps);case 24:vi(n,Tt,t.memoizedState.cache)}return Bs(t,n,a)}function l0(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)At=!0;else{if(!Ud(t,a)&&(n.flags&128)===0)return At=!1,jb(t,n,a);At=(t.flags&131072)!==0}else At=!1,Pe&&(n.flags&1048576)!==0&&Pg(n,Ol,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Aa(n.elementType),n.type=t,typeof t=="function")Hh(t)?(l=Ca(t,l),n.tag=1,n=n0(null,n,t,l,a)):(n.tag=0,n=kd(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ie){n.tag=11,n=Xp(null,n,t,l,a);break e}else if(h===I){n.tag=14,n=$p(null,n,t,l,a);break e}}throw n=Me(t)||t,Error(r(306,n,""))}}return n;case 0:return kd(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Ca(l,n.pendingProps),n0(t,n,l,h,a);case 3:e:{if(Ct(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,id(t,n),Hl(n,l,null,a);var y=n.memoizedState;if(l=y.cache,vi(n,Tt,l),l!==d.cache&&Jh(n,[Tt],a,!0),ql(),l=y.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=s0(t,n,l,a);break e}else if(l!==h){h=Nn(Error(r(424)),n),Vl(h),n=s0(t,n,l,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(st=Dn(t.firstChild),Bt=n,Pe=!0,yi=null,In=!0,a=Jg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ba(),l===h){n=Bs(t,n,a);break e}Ht(t,n,l,a)}n=n.child}return n;case 26:return Xc(t,n),t===null?(a=_y(n.type,null,n.pendingProps,null))?n.memoizedState=a:Pe||(a=n.type,t=n.pendingProps,l=du(Re.current).createElement(a),l[xt]=n,l[jt]=t,Ft(l,a,t),bt(l),n.stateNode=l):n.memoizedState=_y(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ta(n),t===null&&Pe&&(l=n.stateNode=gy(n.type,n.pendingProps,Re.current),Bt=n,In=!0,h=st,Di(n.type)?(_f=h,st=Dn(l.firstChild)):st=h),Ht(t,n,n.pendingProps.children,a),Xc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pe&&((h=l=st)&&(l=uE(l,n.type,n.pendingProps,In),l!==null?(n.stateNode=l,Bt=n,st=Dn(l.firstChild),In=!1,h=!0):h=!1),h||_i(n)),ta(n),h=n.type,d=n.pendingProps,y=t!==null?t.memoizedProps:null,l=d.children,ff(h,d)?l=null:y!==null&&ff(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=hd(t,n,Ab,null,null,a),co._currentValue=h),Xc(t,n),Ht(t,n,l,a),n.child;case 6:return t===null&&Pe&&((t=a=st)&&(a=hE(a,n.pendingProps,In),a!==null?(n.stateNode=a,Bt=n,st=null,t=!0):t=!1),t||_i(n)),null;case 13:return i0(t,n,a);case 4:return Ct(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Na(n,null,l,a):Ht(t,n,l,a),n.child;case 11:return Xp(t,n,n.type,n.pendingProps,a);case 7:return Ht(t,n,n.pendingProps,a),n.child;case 8:return Ht(t,n,n.pendingProps.children,a),n.child;case 12:return Ht(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,vi(n,n.type,l.value),Ht(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ta(n),h=qt(h),l=l(h),n.flags|=1,Ht(t,n,l,a),n.child;case 14:return $p(t,n,n.type,n.pendingProps,a);case 15:return Zp(t,n,n.type,n.pendingProps,a);case 19:return r0(t,n,a);case 31:return Mb(t,n,a);case 22:return Jp(t,n,a,n.pendingProps);case 24:return Ta(n),l=qt(Tt),t===null?(h=td(),h===null&&(h=nt,d=Wh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),n.memoizedState={parent:l,cache:h},sd(n),vi(n,Tt,h)):((t.lanes&a)!==0&&(id(t,n),Hl(n,null,null,a),ql()),h=t.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),vi(n,Tt,l)):(l=d.cache,vi(n,Tt,l),l!==h.cache&&Jh(n,[Tt],a,!0))),Ht(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function qs(t){t.flags|=4}function Pd(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(j0())t.flags|=8192;else throw wa=jc,nd}else t.flags&=-16777217}function o0(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ty(n))if(j0())t.flags|=8192;else throw wa=jc,nd}function Zc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?sc():536870912,t.lanes|=n,Rr|=n)}function Xl(t,n){if(!Pe)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function Ob(t,n,a){var l=n.pendingProps;switch(Qh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(n),null;case 1:return it(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Us(Tt),rt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(gr(n)?qs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xh())),it(n),null;case 26:var h=n.type,d=n.memoizedState;return t===null?(qs(n),d!==null?(it(n),o0(n,d)):(it(n),Pd(n,h,null,l,a))):d?d!==t.memoizedState?(qs(n),it(n),o0(n,d)):(it(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&qs(n),it(n),Pd(n,h,t,l,a)),null;case 27:if(Qa(n),a=Re.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&qs(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return it(n),null}t=he.current,gr(n)?Bg(n):(t=gy(h,l,a),n.stateNode=t,qs(n))}return it(n),null;case 5:if(Qa(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&qs(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return it(n),null}if(d=he.current,gr(n))Bg(n);else{var y=du(Re.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?y.createElement(h,{is:l.is}):y.createElement(h)}}d[xt]=n,d[jt]=l;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=d;e:switch(Ft(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&qs(n)}}return it(n),Pd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&qs(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=Re.current,gr(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[xt]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||iy(t.nodeValue,a)),t||_i(n,!0)}else t=du(t).createTextNode(l),t[xt]=n,n.stateNode=t}return it(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=gr(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[xt]=n}else ba(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),t=!1}else a=Xh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return it(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=gr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[xt]=n}else ba(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),h=!1}else h=Xh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Zc(n,n.updateQueue),it(n),null);case 4:return rt(),t===null&&of(n.stateNode.containerInfo),it(n),null;case 10:return Us(n.type),it(n),null;case 19:if(ee(gt),l=n.memoizedState,l===null)return it(n),null;if(h=(n.flags&128)!==0,d=l.rendering,d===null)if(h)Xl(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=Uc(t),d!==null){for(n.flags|=128,Xl(l,!1),t=d.updateQueue,n.updateQueue=t,Zc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Vg(a,t),a=a.sibling;return oe(gt,gt.current&1|2),Pe&&Vs(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&en()>nu&&(n.flags|=128,h=!0,Xl(l,!1),n.lanes=4194304)}else{if(!h)if(t=Uc(d),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Zc(n,t),Xl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Pe)return it(n),null}else 2*en()-l.renderingStartTime>nu&&a!==536870912&&(n.flags|=128,h=!0,Xl(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(t=l.last,t!==null?t.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,a=gt.current,oe(gt,h?a&1|2:a&1),Pe&&Vs(n,l.treeForkCount),t):(it(n),null);case 22:case 23:return yn(n),od(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(it(n),n.subtreeFlags&6&&(n.flags|=8192)):it(n),a=n.updateQueue,a!==null&&Zc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&ee(Sa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Us(Tt),it(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function Vb(t,n){switch(Qh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Us(Tt),rt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Qa(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(r(340));ba()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(yn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ba()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ee(gt),null;case 4:return rt(),null;case 10:return Us(n.type),null;case 22:case 23:return yn(n),od(),t!==null&&ee(Sa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Us(Tt),null;case 25:return null;default:return null}}function c0(t,n){switch(Qh(n),n.tag){case 3:Us(Tt),rt();break;case 26:case 27:case 5:Qa(n);break;case 4:rt();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:ee(gt);break;case 10:Us(n.type);break;case 22:case 23:yn(n),od(),t!==null&&ee(Sa);break;case 24:Us(Tt)}}function $l(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,y=a.inst;l=d(),y.destroy=l}a=a.next}while(a!==h)}}catch(b){Ze(n,n.return,b)}}function Ai(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var y=l.inst,b=y.destroy;if(b!==void 0){y.destroy=void 0,h=n;var D=a,H=b;try{H()}catch($){Ze(h,D,$)}}}l=l.next}while(l!==d)}}catch($){Ze(n,n.return,$)}}function u0(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{ep(n,a)}catch(l){Ze(t,t.return,l)}}}function h0(t,n,a){a.props=Ca(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,n,l)}}function Zl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ze(t,n,h)}}function xs(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,n,h)}else a.current=null}function d0(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function zd(t,n,a){try{var l=t.stateNode;iE(l,t.type,a,n),l[jt]=n}catch(h){Ze(t,t.return,h)}}function f0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Di(t.type)||t.tag===4}function Bd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||f0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Di(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qd(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=qn));else if(l!==4&&(l===27&&Di(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(qd(t,n,a),t=t.sibling;t!==null;)qd(t,n,a),t=t.sibling}function Jc(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Di(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Jc(t,n,a),t=t.sibling;t!==null;)Jc(t,n,a),t=t.sibling}function m0(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ft(n,l,a),n[xt]=t,n[jt]=a}catch(d){Ze(t,t.return,d)}}var Hs=!1,wt=!1,Hd=!1,g0=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function Lb(t,n){if(t=t.containerInfo,hf=vu,t=Ng(t),Vh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var y=0,b=-1,D=-1,H=0,$=0,W=t,G=null;t:for(;;){for(var K;W!==a||h!==0&&W.nodeType!==3||(b=y+h),W!==d||l!==0&&W.nodeType!==3||(D=y+l),W.nodeType===3&&(y+=W.nodeValue.length),(K=W.firstChild)!==null;)G=W,W=K;for(;;){if(W===t)break t;if(G===a&&++H===h&&(b=y),G===d&&++$===l&&(D=y),(K=W.nextSibling)!==null)break;W=G,G=W.parentNode}W=K}a=b===-1||D===-1?null:{start:b,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(df={focusedElem:t,selectionRange:a},vu=!1,Vt=n;Vt!==null;)if(n=Vt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Vt=t;else for(;Vt!==null;){switch(n=Vt,d=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=n,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var de=Ca(a.type,h);t=l.getSnapshotBeforeUpdate(de,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Ze(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)gf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":gf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Vt=t;break}Vt=n.return}}function p0(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Gs(t,a),l&4&&$l(5,a);break;case 1:if(Gs(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){Ze(a,a.return,y)}else{var h=Ca(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Ze(a,a.return,y)}}l&64&&u0(a),l&512&&Zl(a,a.return);break;case 3:if(Gs(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{ep(t,n)}catch(y){Ze(a,a.return,y)}}break;case 27:n===null&&l&4&&m0(a);case 26:case 5:Gs(t,a),n===null&&l&4&&d0(a),l&512&&Zl(a,a.return);break;case 12:Gs(t,a);break;case 31:Gs(t,a),l&4&&v0(t,a);break;case 13:Gs(t,a),l&4&&x0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Yb.bind(null,a),dE(t,a))));break;case 22:if(l=a.memoizedState!==null||Hs,!l){n=n!==null&&n.memoizedState!==null||wt,h=Hs;var d=wt;Hs=l,(wt=n)&&!d?Ys(t,a,(a.subtreeFlags&8772)!==0):Gs(t,a),Hs=h,wt=d}break;case 30:break;default:Gs(t,a)}}function y0(t){var n=t.alternate;n!==null&&(t.alternate=null,y0(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ja(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,rn=!1;function Fs(t,n,a){for(a=a.child;a!==null;)_0(t,n,a),a=a.sibling}function _0(t,n,a){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Un,a)}catch{}switch(a.tag){case 26:wt||xs(a,n),Fs(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:wt||xs(a,n);var l=ot,h=rn;Di(a.type)&&(ot=a.stateNode,rn=!1),Fs(t,n,a),ro(a.stateNode),ot=l,rn=h;break;case 5:wt||xs(a,n);case 6:if(l=ot,h=rn,ot=null,Fs(t,n,a),ot=l,rn=h,ot!==null)if(rn)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){Ze(a,n,d)}else try{ot.removeChild(a.stateNode)}catch(d){Ze(a,n,d)}break;case 18:ot!==null&&(rn?(t=ot,uy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Vr(t)):uy(ot,a.stateNode));break;case 4:l=ot,h=rn,ot=a.stateNode.containerInfo,rn=!0,Fs(t,n,a),ot=l,rn=h;break;case 0:case 11:case 14:case 15:Ai(2,a,n),wt||Ai(4,a,n),Fs(t,n,a);break;case 1:wt||(xs(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&h0(a,n,l)),Fs(t,n,a);break;case 21:Fs(t,n,a);break;case 22:wt=(l=wt)||a.memoizedState!==null,Fs(t,n,a),wt=l;break;default:Fs(t,n,a)}}function v0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Vr(t)}catch(a){Ze(n,n.return,a)}}}function x0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Vr(t)}catch(a){Ze(n,n.return,a)}}function Ub(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new g0),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new g0),n;default:throw Error(r(435,t.tag))}}function Wc(t,n){var a=Ub(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=Qb.bind(null,t,l);l.then(h,h)}})}function ln(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,y=n,b=y;e:for(;b!==null;){switch(b.tag){case 27:if(Di(b.type)){ot=b.stateNode,rn=!1;break e}break;case 5:ot=b.stateNode,rn=!1;break e;case 3:case 4:ot=b.stateNode.containerInfo,rn=!0;break e}b=b.return}if(ot===null)throw Error(r(160));_0(d,y,h),ot=null,rn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)b0(n,t),n=n.sibling}var Kn=null;function b0(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),on(t),l&4&&(Ai(3,t,t.return),$l(3,t),Ai(5,t,t.return));break;case 1:ln(n,t),on(t),l&512&&(wt||a===null||xs(a,a.return)),l&64&&Hs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Kn;if(ln(n,t),on(t),l&512&&(wt||a===null||xs(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[rs]||d[xt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ft(d,l,a),d[xt]=t,bt(d),l=d;break e;case"link":var y=by("link","href",h).get(l+(a.href||""));if(y){for(var b=0;b<y.length;b++)if(d=y[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(b,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;case"meta":if(y=by("meta","content",h).get(l+(a.content||""))){for(b=0;b<y.length;b++)if(d=y[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(b,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[xt]=t,bt(d),l=d}t.stateNode=l}else Ey(h,t.type,t.stateNode);else t.stateNode=xy(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Ey(h,t.type,t.stateNode):xy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&zd(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(n,t),on(t),l&512&&(wt||a===null||xs(a,a.return)),a!==null&&l&4&&zd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(n,t),on(t),l&512&&(wt||a===null||xs(a,a.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(de){Ze(t,t.return,de)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,zd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Hd=!0);break;case 6:if(ln(n,t),on(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(de){Ze(t,t.return,de)}}break;case 3:if(gu=null,h=Kn,Kn=fu(n.containerInfo),ln(n,t),Kn=h,on(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Vr(n.containerInfo)}catch(de){Ze(t,t.return,de)}Hd&&(Hd=!1,E0(t));break;case 4:l=Kn,Kn=fu(t.stateNode.containerInfo),ln(n,t),on(t),Kn=l;break;case 12:ln(n,t),on(t);break;case 31:ln(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Wc(t,l)));break;case 13:ln(n,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(tu=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Wc(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,H=Hs,$=wt;if(Hs=H||h,wt=$||D,ln(n,t),wt=$,Hs=H,on(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||D||Hs||wt||Ia(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){D=a=n;try{if(d=D.stateNode,h)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{b=D.stateNode;var W=D.memoizedProps.style,G=W!=null&&W.hasOwnProperty("display")?W.display:null;b.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(de){Ze(D,D.return,de)}}}else if(n.tag===6){if(a===null){D=n;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(de){Ze(D,D.return,de)}}}else if(n.tag===18){if(a===null){D=n;try{var K=D.stateNode;h?hy(K,!0):hy(D.stateNode,!1)}catch(de){Ze(D,D.return,de)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Wc(t,a))));break;case 19:ln(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Wc(t,l)));break;case 30:break;case 21:break;default:ln(n,t),on(t)}}function on(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(f0(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=Bd(t);Jc(t,d,h);break;case 5:var y=a.stateNode;a.flags&32&&(an(y,""),a.flags&=-33);var b=Bd(t);Jc(t,b,y);break;case 3:case 4:var D=a.stateNode.containerInfo,H=Bd(t);qd(t,H,D);break;default:throw Error(r(161))}}catch($){Ze(t,t.return,$)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function E0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;E0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Gs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)p0(t,n.alternate,n),n=n.sibling}function Ia(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ai(4,n,n.return),Ia(n);break;case 1:xs(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&h0(n,n.return,a),Ia(n);break;case 27:ro(n.stateNode);case 26:case 5:xs(n,n.return),Ia(n);break;case 22:n.memoizedState===null&&Ia(n);break;case 30:Ia(n);break;default:Ia(n)}t=t.sibling}}function Ys(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,d=n,y=d.flags;switch(d.tag){case 0:case 11:case 15:Ys(h,d,a),$l(4,d);break;case 1:if(Ys(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){Ze(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Wg(D[h],b)}catch(H){Ze(l,l.return,H)}}a&&y&64&&u0(d),Zl(d,d.return);break;case 27:m0(d);case 26:case 5:Ys(h,d,a),a&&l===null&&y&4&&d0(d),Zl(d,d.return);break;case 12:Ys(h,d,a);break;case 31:Ys(h,d,a),a&&y&4&&v0(h,d);break;case 13:Ys(h,d,a),a&&y&4&&x0(h,d);break;case 22:d.memoizedState===null&&Ys(h,d,a),Zl(d,d.return);break;case 30:break;default:Ys(h,d,a)}n=n.sibling}}function Fd(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ll(a))}function Gd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ll(t))}function Xn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)T0(t,n,a,l),n=n.sibling}function T0(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(t,n,a,l),h&2048&&$l(9,n);break;case 1:Xn(t,n,a,l);break;case 3:Xn(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ll(t)));break;case 12:if(h&2048){Xn(t,n,a,l),t=n.stateNode;try{var d=n.memoizedProps,y=d.id,b=d.onPostCommit;typeof b=="function"&&b(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Ze(n,n.return,D)}}else Xn(t,n,a,l);break;case 31:Xn(t,n,a,l);break;case 13:Xn(t,n,a,l);break;case 23:break;case 22:d=n.stateNode,y=n.alternate,n.memoizedState!==null?d._visibility&2?Xn(t,n,a,l):Jl(t,n):d._visibility&2?Xn(t,n,a,l):(d._visibility|=2,Ar(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Fd(y,n);break;case 24:Xn(t,n,a,l),h&2048&&Gd(n.alternate,n);break;default:Xn(t,n,a,l)}}function Ar(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=t,y=n,b=a,D=l,H=y.flags;switch(y.tag){case 0:case 11:case 15:Ar(d,y,b,D,h),$l(8,y);break;case 23:break;case 22:var $=y.stateNode;y.memoizedState!==null?$._visibility&2?Ar(d,y,b,D,h):Jl(d,y):($._visibility|=2,Ar(d,y,b,D,h)),h&&H&2048&&Fd(y.alternate,y);break;case 24:Ar(d,y,b,D,h),h&&H&2048&&Gd(y.alternate,y);break;default:Ar(d,y,b,D,h)}n=n.sibling}}function Jl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:Jl(a,l),h&2048&&Fd(l.alternate,l);break;case 24:Jl(a,l),h&2048&&Gd(l.alternate,l);break;default:Jl(a,l)}n=n.sibling}}var Wl=8192;function wr(t,n,a){if(t.subtreeFlags&Wl)for(t=t.child;t!==null;)S0(t,n,a),t=t.sibling}function S0(t,n,a){switch(t.tag){case 26:wr(t,n,a),t.flags&Wl&&t.memoizedState!==null&&SE(a,Kn,t.memoizedState,t.memoizedProps);break;case 5:wr(t,n,a);break;case 3:case 4:var l=Kn;Kn=fu(t.stateNode.containerInfo),wr(t,n,a),Kn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Wl,Wl=16777216,wr(t,n,a),Wl=l):wr(t,n,a));break;default:wr(t,n,a)}}function A0(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function eo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Vt=l,N0(l,t)}A0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)w0(t),t=t.sibling}function w0(t){switch(t.tag){case 0:case 11:case 15:eo(t),t.flags&2048&&Ai(9,t,t.return);break;case 3:eo(t);break;case 12:eo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,eu(t)):eo(t);break;default:eo(t)}}function eu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Vt=l,N0(l,t)}A0(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ai(8,n,n.return),eu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,eu(n));break;default:eu(n)}t=t.sibling}}function N0(t,n){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:Ai(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ll(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Vt=l;else e:for(a=t;Vt!==null;){l=Vt;var h=l.sibling,d=l.return;if(y0(l),l===a){Vt=null;break e}if(h!==null){h.return=d,Vt=h;break e}Vt=d}}}var Pb={getCacheForType:function(t){var n=qt(Tt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return qt(Tt).controller.signal}},zb=typeof WeakMap=="function"?WeakMap:Map,Qe=0,nt=null,ke=null,je=0,$e=0,_n=null,wi=!1,Nr=!1,Yd=!1,Qs=0,dt=0,Ni=0,ka=0,Qd=0,vn=0,Rr=0,to=null,cn=null,Kd=!1,tu=0,R0=0,nu=1/0,su=null,Ri=null,kt=0,Ci=null,Cr=null,Ks=0,Xd=0,$d=null,C0=null,no=0,Zd=null;function xn(){return(Qe&2)!==0&&je!==0?je&-je:X.T!==null?sf():ic()}function I0(){if(vn===0)if((je&536870912)===0||Pe){var t=ia;ia<<=1,(ia&3932160)===0&&(ia=262144),vn=t}else vn=536870912;return t=pn.current,t!==null&&(t.flags|=32),vn}function un(t,n,a){(t===nt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(Ir(t,0),Ii(t,je,vn,!1)),aa(t,a),((Qe&2)===0||t!==nt)&&(t===nt&&((Qe&2)===0&&(ka|=a),dt===4&&Ii(t,je,vn,!1)),bs(t))}function k0(t,n,a){if((Qe&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Pn(t,n),h=l?Hb(t,n):Wd(t,n,!0),d=l;do{if(h===0){Nr&&!l&&Ii(t,n,0,!1);break}else{if(a=t.current.alternate,d&&!Bb(a)){h=Wd(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var b=t;h=to;var D=b.current.memoizedState.isDehydrated;if(D&&(Ir(b,y).flags|=256),y=Wd(b,y,!1),y!==2){if(Yd&&!D){b.errorRecoveryDisabledLanes|=d,ka|=d,h=4;break e}d=cn,cn=h,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}h=y}if(d=!1,h!==2)continue}}if(h===1){Ir(t,0),Ii(t,n,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ii(l,n,vn,!wi);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=tu+300-en(),10<h)){if(Ii(l,n,vn,!wi),ss(l,0,!0)!==0)break e;Ks=n,l.timeoutHandle=oy(D0.bind(null,l,a,cn,su,Kd,n,vn,ka,Rr,wi,d,"Throttled",-0,0),h);break e}D0(l,a,cn,su,Kd,n,vn,ka,Rr,wi,d,null,-0,0)}}break}while(!0);bs(t)}function D0(t,n,a,l,h,d,y,b,D,H,$,W,G,K){if(t.timeoutHandle=-1,W=n.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},S0(n,d,W);var de=(d&62914560)===d?tu-en():(d&4194048)===d?R0-en():0;if(de=AE(W,de),de!==null){Ks=d,t.cancelPendingCommit=de(z0.bind(null,t,n,d,a,l,h,y,b,D,$,W,null,G,K)),Ii(t,d,y,!H);return}}z0(t,n,d,a,l,h,y,b,D)}function Bb(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!mn(d(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ii(t,n,a,l){n&=~Qd,n&=~ka,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var d=31-ft(h),y=1<<d;l[d]=-1,h&=~y}a!==0&&ra(t,a,n)}function iu(){return(Qe&6)===0?(so(0),!1):!0}function Jd(){if(ke!==null){if($e===0)var t=ke.return;else t=ke,Ls=Ea=null,md(t),xr=null,Pl=0,t=ke;for(;t!==null;)c0(t.alternate,t),t=t.return;ke=null}}function Ir(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,lE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ks=0,Jd(),nt=t,ke=a=Os(t.current,null),je=n,$e=0,_n=null,wi=!1,Nr=Pn(t,n),Yd=!1,Rr=vn=Qd=ka=Ni=dt=0,cn=to=null,Kd=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-ft(l),d=1<<h;n|=t[h],l&=~d}return Qs=n,Ac(),a}function M0(t,n){Ne=null,X.H=Ql,n===vr||n===Mc?(n=Xg(),$e=3):n===nd?(n=Xg(),$e=4):$e=n===Id?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,ke===null&&(dt=1,Qc(t,Nn(n,t.current)))}function j0(){var t=pn.current;return t===null?!0:(je&4194048)===je?kn===null:(je&62914560)===je||(je&536870912)!==0?t===kn:!1}function O0(){var t=X.H;return X.H=Ql,t===null?Ql:t}function V0(){var t=X.A;return X.A=Pb,t}function au(){dt=4,wi||(je&4194048)!==je&&pn.current!==null||(Nr=!0),(Ni&134217727)===0&&(ka&134217727)===0||nt===null||Ii(nt,je,vn,!1)}function Wd(t,n,a){var l=Qe;Qe|=2;var h=O0(),d=V0();(nt!==t||je!==n)&&(su=null,Ir(t,n)),n=!1;var y=dt;e:do try{if($e!==0&&ke!==null){var b=ke,D=_n;switch($e){case 8:Jd(),y=6;break e;case 3:case 2:case 9:case 6:pn.current===null&&(n=!0);var H=$e;if($e=0,_n=null,kr(t,b,D,H),a&&Nr){y=0;break e}break;default:H=$e,$e=0,_n=null,kr(t,b,D,H)}}qb(),y=dt;break}catch($){M0(t,$)}while(!0);return n&&t.shellSuspendCounter++,Ls=Ea=null,Qe=l,X.H=h,X.A=d,ke===null&&(nt=null,je=0,Ac()),y}function qb(){for(;ke!==null;)L0(ke)}function Hb(t,n){var a=Qe;Qe|=2;var l=O0(),h=V0();nt!==t||je!==n?(su=null,nu=en()+500,Ir(t,n)):Nr=Pn(t,n);e:do try{if($e!==0&&ke!==null){n=ke;var d=_n;t:switch($e){case 1:$e=0,_n=null,kr(t,n,d,1);break;case 2:case 9:if(Qg(d)){$e=0,_n=null,U0(n);break}n=function(){$e!==2&&$e!==9||nt!==t||($e=7),bs(t)},d.then(n,n);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Qg(d)?($e=0,_n=null,U0(n)):($e=0,_n=null,kr(t,n,d,7));break;case 5:var y=null;switch(ke.tag){case 26:y=ke.memoizedState;case 5:case 27:var b=ke;if(y?Ty(y):b.stateNode.complete){$e=0,_n=null;var D=b.sibling;if(D!==null)ke=D;else{var H=b.return;H!==null?(ke=H,ru(H)):ke=null}break t}}$e=0,_n=null,kr(t,n,d,5);break;case 6:$e=0,_n=null,kr(t,n,d,6);break;case 8:Jd(),dt=6;break e;default:throw Error(r(462))}}Fb();break}catch($){M0(t,$)}while(!0);return Ls=Ea=null,X.H=l,X.A=h,Qe=a,ke!==null?0:(nt=null,je=0,Ac(),dt)}function Fb(){for(;ke!==null&&!Ch();)L0(ke)}function L0(t){var n=l0(t.alternate,t,Qs);t.memoizedProps=t.pendingProps,n===null?ru(t):ke=n}function U0(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=t0(a,n,n.pendingProps,n.type,void 0,je);break;case 11:n=t0(a,n,n.pendingProps,n.type.render,n.ref,je);break;case 5:md(n);default:c0(a,n),n=ke=Vg(n,Qs),n=l0(a,n,Qs)}t.memoizedProps=t.pendingProps,n===null?ru(t):ke=n}function kr(t,n,a,l){Ls=Ea=null,md(n),xr=null,Pl=0;var h=n.return;try{if(Db(t,h,n,a,je)){dt=1,Qc(t,Nn(a,t.current)),ke=null;return}}catch(d){if(h!==null)throw ke=h,d;dt=1,Qc(t,Nn(a,t.current)),ke=null;return}n.flags&32768?(Pe||l===1?t=!0:Nr||(je&536870912)!==0?t=!1:(wi=t=!0,(l===2||l===9||l===3||l===6)&&(l=pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),P0(n,t)):ru(n)}function ru(t){var n=t;do{if((n.flags&32768)!==0){P0(n,wi);return}t=n.return;var a=Ob(n.alternate,n,Qs);if(a!==null){ke=a;return}if(n=n.sibling,n!==null){ke=n;return}ke=n=t}while(n!==null);dt===0&&(dt=5)}function P0(t,n){do{var a=Vb(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);dt=6,ke=null}function z0(t,n,a,l,h,d,y,b,D){t.cancelPendingCommit=null;do lu();while(kt!==0);if((Qe&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(d=n.lanes|n.childLanes,d|=Bh,Dh(t,a,d,y,b,D),t===nt&&(ke=nt=null,je=0),Cr=n,Ci=t,Ks=a,Xd=d,$d=h,C0=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Kb(ri,function(){return G0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=le.p,le.p=2,y=Qe,Qe|=4;try{Lb(t,n,a)}finally{Qe=y,le.p=h,X.T=l}}kt=1,B0(),q0(),H0()}}function B0(){if(kt===1){kt=0;var t=Ci,n=Cr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=le.p;le.p=2;var h=Qe;Qe|=4;try{b0(n,t);var d=df,y=Ng(t.containerInfo),b=d.focusedElem,D=d.selectionRange;if(y!==b&&b&&b.ownerDocument&&wg(b.ownerDocument.documentElement,b)){if(D!==null&&Vh(b)){var H=D.start,$=D.end;if($===void 0&&($=H),"selectionStart"in b)b.selectionStart=H,b.selectionEnd=Math.min($,b.value.length);else{var W=b.ownerDocument||document,G=W&&W.defaultView||window;if(G.getSelection){var K=G.getSelection(),de=b.textContent.length,_e=Math.min(D.start,de),tt=D.end===void 0?_e:Math.min(D.end,de);!K.extend&&_e>tt&&(y=tt,tt=_e,_e=y);var U=Ag(b,_e),j=Ag(b,tt);if(U&&j&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==j.node||K.focusOffset!==j.offset)){var q=W.createRange();q.setStart(U.node,U.offset),K.removeAllRanges(),_e>tt?(K.addRange(q),K.extend(j.node,j.offset)):(q.setEnd(j.node,j.offset),K.addRange(q))}}}}for(W=[],K=b;K=K.parentNode;)K.nodeType===1&&W.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<W.length;b++){var Z=W[b];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}vu=!!hf,df=hf=null}finally{Qe=h,le.p=l,X.T=a}}t.current=n,kt=2}}function q0(){if(kt===2){kt=0;var t=Ci,n=Cr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=le.p;le.p=2;var h=Qe;Qe|=4;try{p0(t,n.alternate,n)}finally{Qe=h,le.p=l,X.T=a}}kt=3}}function H0(){if(kt===4||kt===3){kt=0,Zo();var t=Ci,n=Cr,a=Ks,l=C0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?kt=5:(kt=0,Cr=Ci=null,F0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ri=null),ks(a),n=n.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=X.T,h=le.p,le.p=2,X.T=null;try{for(var d=t.onRecoverableError,y=0;y<l.length;y++){var b=l[y];d(b.value,{componentStack:b.stack})}}finally{X.T=n,le.p=h}}(Ks&3)!==0&&lu(),bs(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Zd?no++:(no=0,Zd=t):no=0,so(0)}}function F0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ll(n)))}function lu(){return B0(),q0(),H0(),G0()}function G0(){if(kt!==5)return!1;var t=Ci,n=Xd;Xd=0;var a=ks(Ks),l=X.T,h=le.p;try{le.p=32>a?32:a,X.T=null,a=$d,$d=null;var d=Ci,y=Ks;if(kt=0,Cr=Ci=null,Ks=0,(Qe&6)!==0)throw Error(r(331));var b=Qe;if(Qe|=4,w0(d.current),T0(d,d.current,y,a),Qe=b,so(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Un,d)}catch{}return!0}finally{le.p=h,X.T=l,F0(t,n)}}function Y0(t,n,a){n=Nn(a,n),n=Cd(t.stateNode,n,2),t=Ei(t,n,2),t!==null&&(aa(t,2),bs(t))}function Ze(t,n,a){if(t.tag===3)Y0(t,t,a);else for(;n!==null;){if(n.tag===3){Y0(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ri===null||!Ri.has(l))){t=Nn(a,t),a=Qp(2),l=Ei(n,a,2),l!==null&&(Kp(a,l,n,t),aa(l,2),bs(l));break}}n=n.return}}function ef(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new zb;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(Yd=!0,h.add(a),t=Gb.bind(null,t,n,a),n.then(t,t))}function Gb(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(je&a)===a&&(dt===4||dt===3&&(je&62914560)===je&&300>en()-tu?(Qe&2)===0&&Ir(t,0):Qd|=a,Rr===je&&(Rr=0)),bs(t)}function Q0(t,n){n===0&&(n=sc()),t=va(t,n),t!==null&&(aa(t,n),bs(t))}function Yb(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Q0(t,a)}function Qb(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Q0(t,a)}function Kb(t,n){return It(t,n)}var ou=null,Dr=null,tf=!1,cu=!1,nf=!1,ki=0;function bs(t){t!==Dr&&t.next===null&&(Dr===null?ou=Dr=t:Dr=Dr.next=t),cu=!0,tf||(tf=!0,$b())}function so(t,n){if(!nf&&cu){nf=!0;do for(var a=!1,l=ou;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var y=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-ft(42|t)+1)-1,d&=h&~(y&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Z0(l,d))}else d=je,d=ss(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Pn(l,d)||(a=!0,Z0(l,d));l=l.next}while(a);nf=!1}}function Xb(){K0()}function K0(){cu=tf=!1;var t=0;ki!==0&&rE()&&(t=ki);for(var n=en(),a=null,l=ou;l!==null;){var h=l.next,d=X0(l,n);d===0?(l.next=null,a===null?ou=h:a.next=h,h===null&&(Dr=a)):(a=l,(t!==0||(d&3)!==0)&&(cu=!0)),l=h}kt!==0&&kt!==5||so(t),ki!==0&&(ki=0)}function X0(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var y=31-ft(d),b=1<<y,D=h[y];D===-1?((b&a)===0||(b&l)!==0)&&(h[y]=kh(b,n)):D<=n&&(t.expiredLanes|=b),d&=~b}if(n=nt,a=je,a=ss(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ai(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Pn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&ai(l),ks(a)){case 2:case 8:a=fl;break;case 32:a=ri;break;case 268435456:a=Jo;break;default:a=ri}return l=$0.bind(null,t),a=It(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&ai(l),t.callbackPriority=2,t.callbackNode=null,2}function $0(t,n){if(kt!==0&&kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(lu()&&t.callbackNode!==a)return null;var l=je;return l=ss(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(k0(t,l,n),X0(t,en()),t.callbackNode!=null&&t.callbackNode===a?$0.bind(null,t):null)}function Z0(t,n){if(lu())return null;k0(t,n,!0)}function $b(){oE(function(){(Qe&6)!==0?It(dl,Xb):K0()})}function sf(){if(ki===0){var t=yr;t===0&&(t=ts,ts<<=1,(ts&261888)===0&&(ts=256)),ki=t}return ki}function J0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:nr(""+t)}function W0(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function Zb(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var d=J0((h[jt]||null).action),y=l.submitter;y&&(n=(n=y[jt]||null)?J0(n.formAction):y.getAttribute("formAction"),n!==null&&(d=n,y=null));var b=new ms("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ki!==0){var D=y?W0(h,y):new FormData(h);Td(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(b.preventDefault(),D=y?W0(h,y):new FormData(h),Td(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var af=0;af<zh.length;af++){var rf=zh[af],Jb=rf.toLowerCase(),Wb=rf[0].toUpperCase()+rf.slice(1);Qn(Jb,"on"+Wb)}Qn(Ig,"onAnimationEnd"),Qn(kg,"onAnimationIteration"),Qn(Dg,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(gb,"onTransitionRun"),Qn(pb,"onTransitionStart"),Qn(yb,"onTransitionCancel"),Qn(Mg,"onTransitionEnd"),us("onMouseEnter",["mouseout","mouseover"]),us("onMouseLeave",["mouseout","mouseover"]),us("onPointerEnter",["pointerout","pointerover"]),us("onPointerLeave",["pointerout","pointerover"]),cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cs("onBeforeInput",["compositionend","keypress","textInput","paste"]),cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(io));function ey(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var y=l.length-1;0<=y;y--){var b=l[y],D=b.instance,H=b.currentTarget;if(b=b.listener,D!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=H;try{d(h)}catch($){Sc($)}h.currentTarget=null,d=D}else for(y=0;y<l.length;y++){if(b=l[y],D=b.instance,H=b.currentTarget,b=b.listener,D!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=H;try{d(h)}catch($){Sc($)}h.currentTarget=null,d=D}}}}function De(t,n){var a=n[Za];a===void 0&&(a=n[Za]=new Set);var l=t+"__bubble";a.has(l)||(ty(n,t,2,!1),a.add(l))}function lf(t,n,a){var l=0;n&&(l|=4),ty(a,t,l,n)}var uu="_reactListening"+Math.random().toString(36).slice(2);function of(t){if(!t[uu]){t[uu]=!0,pl.forEach(function(a){a!=="selectionchange"&&(eE.has(a)||lf(a,!1,t),lf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[uu]||(n[uu]=!0,lf("selectionchange",!1,n))}}function ty(t,n,a,l){switch(Iy(n)){case 2:var h=RE;break;case 8:h=CE;break;default:h=Tf}a=h.bind(null,n,a,t),h=void 0,!ha||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function cf(t,n,a,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var b=l.stateNode.containerInfo;if(b===h)break;if(y===4)for(y=l.return;y!==null;){var D=y.tag;if((D===3||D===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;b!==null;){if(y=ls(b),y===null)return;if(D=y.tag,D===5||D===6||D===26||D===27){l=d=y;continue e}b=b.parentNode}}l=l.return}di(function(){var H=d,$=Tn(a),W=[];e:{var G=jg.get(t);if(G!==void 0){var K=ms,de=t;switch(t){case"keypress":if(fa(a)===0)break e;case"keydown":case"keyup":K=bc;break;case"focusin":de="focus",K=ga;break;case"focusout":de="blur",K=ga;break;case"beforeblur":case"afterblur":K=ga;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Cl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=dc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=g;break;case Ig:case kg:case Dg:K=mc;break;case Mg:K=S;break;case"scroll":case"scrollend":K=Rl;break;case"wheel":K=Q;break;case"copy":case"cut":case"paste":K=gc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=js;break;case"toggle":case"beforetoggle":K=we}var _e=(n&4)!==0,tt=!_e&&(t==="scroll"||t==="scrollend"),U=_e?G!==null?G+"Capture":null:G;_e=[];for(var j=H,q;j!==null;){var Z=j;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||U===null||(Z=Hn(j,U),Z!=null&&_e.push(ao(j,Z,q))),tt)break;j=j.return}0<_e.length&&(G=new K(G,de,null,a,$),W.push({event:G,listeners:_e}))}}if((n&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",G&&a!==Al&&(de=a.relatedTarget||a.fromElement)&&(ls(de)||de[as]))break e;if((K||G)&&(G=$.window===$?$:(G=$.ownerDocument)?G.defaultView||G.parentWindow:window,K?(de=a.relatedTarget||a.toElement,K=H,de=de?ls(de):null,de!==null&&(tt=u(de),_e=de.tag,de!==tt||_e!==5&&_e!==27&&_e!==6)&&(de=null)):(K=null,de=H),K!==de)){if(_e=Cl,Z="onMouseLeave",U="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(_e=js,Z="onPointerLeave",U="onPointerEnter",j="pointer"),tt=K==null?G:dn(K),q=de==null?G:dn(de),G=new _e(Z,j+"leave",K,a,$),G.target=tt,G.relatedTarget=q,Z=null,ls($)===H&&(_e=new _e(U,j+"enter",de,a,$),_e.target=q,_e.relatedTarget=tt,Z=_e),tt=Z,K&&de)t:{for(_e=tE,U=K,j=de,q=0,Z=U;Z;Z=_e(Z))q++;Z=0;for(var pe=j;pe;pe=_e(pe))Z++;for(;0<q-Z;)U=_e(U),q--;for(;0<Z-q;)j=_e(j),Z--;for(;q--;){if(U===j||j!==null&&U===j.alternate){_e=U;break t}U=_e(U),j=_e(j)}_e=null}else _e=null;K!==null&&ny(W,G,K,_e,!1),de!==null&&tt!==null&&ny(W,tt,de,_e,!0)}}e:{if(G=H?dn(H):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var Fe=vg;else if(yg(G))if(xg)Fe=db;else{Fe=ub;var fe=cb}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&tr(H.elementType)&&(Fe=vg):Fe=hb;if(Fe&&(Fe=Fe(t,H))){_g(W,Fe,a,$);break e}fe&&fe(t,G,H),t==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&El(G,"number",G.value)}switch(fe=H?dn(H):window,t){case"focusin":(yg(fe)||fe.contentEditable==="true")&&(cr=fe,Lh=H,jl=null);break;case"focusout":jl=Lh=cr=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,Rg(W,a,$);break;case"selectionchange":if(mb)break;case"keydown":case"keyup":Rg(W,a,$)}var Ce;if(Ye)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else or?pa(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(ys&&a.locale!=="ko"&&(or||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&or&&(Ce=Nl()):(fs=$,wl="value"in fs?fs.value:fs.textContent,or=!0)),fe=hu(H,Oe),0<fe.length&&(Oe=new ps(Oe,t,null,a,$),W.push({event:Oe,listeners:fe}),Ce?Oe.data=Ce:(Ce=lr(a),Ce!==null&&(Oe.data=Ce)))),(Ce=An?ab(t,a):rb(t,a))&&(Oe=hu(H,"onBeforeInput"),0<Oe.length&&(fe=new ps("onBeforeInput","beforeinput",null,a,$),W.push({event:fe,listeners:Oe}),fe.data=Ce)),Zb(W,t,H,a,$)}ey(W,n)})}function ao(t,n,a){return{instance:t,listener:n,currentTarget:a}}function hu(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Hn(t,a),h!=null&&l.unshift(ao(t,h,d)),h=Hn(t,n),h!=null&&l.push(ao(t,h,d))),t.tag===3)return l;t=t.return}return[]}function tE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ny(t,n,a,l,h){for(var d=n._reactName,y=[];a!==null&&a!==l;){var b=a,D=b.alternate,H=b.stateNode;if(b=b.tag,D!==null&&D===l)break;b!==5&&b!==26&&b!==27||H===null||(D=H,h?(H=Hn(a,d),H!=null&&y.unshift(ao(a,H,D))):h||(H=Hn(a,d),H!=null&&y.push(ao(a,H,D)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var nE=/\r\n?/g,sE=/\u0000|\uFFFD/g;function sy(t){return(typeof t=="string"?t:""+t).replace(nE,`
`).replace(sE,"")}function iy(t,n){return n=sy(n),sy(t)===n}function et(t,n,a,l,h,d){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&an(t,""+l);break;case"className":fn(t,"class",l);break;case"tabIndex":fn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(t,a,l);break;case"style":Sl(t,l,d);break;case"data":if(n!=="object"){fn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=nr(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&et(t,n,"name",h.name,h,null),et(t,n,"formEncType",h.formEncType,h,null),et(t,n,"formMethod",h.formMethod,h,null),et(t,n,"formTarget",h.formTarget,h,null)):(et(t,n,"encType",h.encType,h,null),et(t,n,"method",h.method,h,null),et(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=nr(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=qn);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=nr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),Wa(t,"popover",l);break;case"xlinkActuate":Et(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Et(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Et(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Et(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Et(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Et(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Et(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Et(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Et(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Wa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=hc.get(a)||a,Wa(t,a,l))}}function uf(t,n,a,l,h,d){switch(a){case"style":Sl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),d=t[jt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Wa(t,a,l)}}}function Ft(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var y=a[d];if(y!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:et(t,n,d,y,a,null)}}h&&et(t,n,"srcSet",a.srcSet,a,null),l&&et(t,n,"src",a.src,a,null);return;case"input":De("invalid",t);var b=d=y=h=null,D=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":y=$;break;case"checked":D=$;break;case"defaultChecked":H=$;break;case"value":d=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,n));break;default:et(t,n,l,$,a,null)}}oc(t,d,b,D,H,y,h,!1);return;case"select":De("invalid",t),l=y=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":y=b;break;case"multiple":l=b;default:et(t,n,h,b,a,null)}n=d,a=y,t.multiple=!!l,n!=null?oi(t,!!l,n,!1):a!=null&&oi(t,!!l,a,!0);return;case"textarea":De("invalid",t),d=h=l=null;for(y in a)if(a.hasOwnProperty(y)&&(b=a[y],b!=null))switch(y){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:et(t,n,y,b,a,null)}ci(t,l,h,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(t,n,D,l,a,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<io.length;l++)De(io[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:et(t,n,H,l,a,null)}return;default:if(tr(n)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&uf(t,n,$,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&et(t,n,b,l,a,null))}function iE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,y=null,b=null,D=null,H=null,$=null;for(K in a){var W=a[K];if(a.hasOwnProperty(K)&&W!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":D=W;default:l.hasOwnProperty(K)||et(t,n,K,null,l,W)}}for(var G in l){var K=l[G];if(W=a[G],l.hasOwnProperty(G)&&(K!=null||W!=null))switch(G){case"type":d=K;break;case"name":h=K;break;case"checked":H=K;break;case"defaultChecked":$=K;break;case"value":y=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,n));break;default:K!==W&&et(t,n,G,K,l,W)}}er(t,y,b,D,H,$,d,h);return;case"select":K=y=b=G=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":K=D;default:l.hasOwnProperty(d)||et(t,n,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":G=d;break;case"defaultValue":b=d;break;case"multiple":y=d;default:d!==D&&et(t,n,h,d,l,D)}n=b,a=y,l=K,G!=null?oi(t,!!a,G,!1):!!l!=!!a&&(n!=null?oi(t,!!a,n,!0):oi(t,!!a,a?[]:"",!1));return;case"textarea":K=G=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:et(t,n,b,null,l,h)}for(y in l)if(h=l[y],d=a[y],l.hasOwnProperty(y)&&(h!=null||d!=null))switch(y){case"value":G=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&et(t,n,y,h,l,d)}cc(t,G,K);return;case"option":for(var de in a)if(G=a[de],a.hasOwnProperty(de)&&G!=null&&!l.hasOwnProperty(de))switch(de){case"selected":t.selected=!1;break;default:et(t,n,de,null,l,G)}for(D in l)if(G=l[D],K=a[D],l.hasOwnProperty(D)&&G!==K&&(G!=null||K!=null))switch(D){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:et(t,n,D,G,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)G=a[_e],a.hasOwnProperty(_e)&&G!=null&&!l.hasOwnProperty(_e)&&et(t,n,_e,null,l,G);for(H in l)if(G=l[H],K=a[H],l.hasOwnProperty(H)&&G!==K&&(G!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:et(t,n,H,G,l,K)}return;default:if(tr(n)){for(var tt in a)G=a[tt],a.hasOwnProperty(tt)&&G!==void 0&&!l.hasOwnProperty(tt)&&uf(t,n,tt,void 0,l,G);for($ in l)G=l[$],K=a[$],!l.hasOwnProperty($)||G===K||G===void 0&&K===void 0||uf(t,n,$,G,l,K);return}}for(var U in a)G=a[U],a.hasOwnProperty(U)&&G!=null&&!l.hasOwnProperty(U)&&et(t,n,U,null,l,G);for(W in l)G=l[W],K=a[W],!l.hasOwnProperty(W)||G===K||G==null&&K==null||et(t,n,W,G,l,K)}function ay(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function aE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,y=h.initiatorType,b=h.duration;if(d&&b&&ay(y)){for(y=0,b=h.responseEnd,l+=1;l<a.length;l++){var D=a[l],H=D.startTime;if(H>b)break;var $=D.transferSize,W=D.initiatorType;$&&ay(W)&&(D=D.responseEnd,y+=$*(D<b?1:(b-H)/(D-H)))}if(--l,n+=8*(d+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var hf=null,df=null;function du(t){return t.nodeType===9?t:t.ownerDocument}function ry(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ly(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function ff(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var mf=null;function rE(){var t=window.event;return t&&t.type==="popstate"?t===mf?!1:(mf=t,!0):(mf=null,!1)}var oy=typeof setTimeout=="function"?setTimeout:void 0,lE=typeof clearTimeout=="function"?clearTimeout:void 0,cy=typeof Promise=="function"?Promise:void 0,oE=typeof queueMicrotask=="function"?queueMicrotask:typeof cy<"u"?function(t){return cy.resolve(null).then(t).catch(cE)}:oy;function cE(t){setTimeout(function(){throw t})}function Di(t){return t==="head"}function uy(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Vr(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")ro(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,ro(a);for(var d=a.firstChild;d;){var y=d.nextSibling,b=d.nodeName;d[rs]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=y}}else a==="body"&&ro(t.ownerDocument.body);a=h}while(a);Vr(n)}function hy(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function gf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":gf(a),Ja(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function uE(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[rs])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Dn(t.nextSibling),t===null)break}return null}function hE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Dn(t.nextSibling),t===null))return null;return t}function dy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Dn(t.nextSibling),t===null))return null;return t}function pf(t){return t.data==="$?"||t.data==="$~"}function yf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function dE(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Dn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var _f=null;function fy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Dn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function my(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function gy(t,n,a){switch(n=du(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function ro(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ja(t)}var Mn=new Map,py=new Set;function fu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Xs=le.d;le.d={f:fE,r:mE,D:gE,C:pE,L:yE,m:_E,X:xE,S:vE,M:bE};function fE(){var t=Xs.f(),n=iu();return t||n}function mE(t){var n=En(t);n!==null&&n.tag===5&&n.type==="form"?Mp(n):Xs.r(t)}var Mr=typeof document>"u"?null:document;function yy(t,n,a){var l=Mr;if(l&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),py.has(h)||(py.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ft(n,"link",t),bt(n),l.head.appendChild(n)))}}function gE(t){Xs.D(t),yy("dns-prefetch",t,null)}function pE(t,n){Xs.C(t,n),yy("preconnect",t,n)}function yE(t,n,a){Xs.L(t,n,a);var l=Mr;if(l&&t&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(t)+'"]';var d=h;switch(n){case"style":d=jr(t);break;case"script":d=Or(t)}Mn.has(d)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Mn.set(d,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(lo(d))||n==="script"&&l.querySelector(oo(d))||(n=l.createElement("link"),Ft(n,"link",t),bt(n),l.head.appendChild(n)))}}function _E(t,n){Xs.m(t,n);var a=Mr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Or(t)}if(!Mn.has(d)&&(t=A({rel:"modulepreload",href:t},n),Mn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(oo(d)))return}l=a.createElement("link"),Ft(l,"link",t),bt(l),a.head.appendChild(l)}}}function vE(t,n,a){Xs.S(t,n,a);var l=Mr;if(l&&t){var h=os(l).hoistableStyles,d=jr(t);n=n||"default";var y=h.get(d);if(!y){var b={loading:0,preload:null};if(y=l.querySelector(lo(d)))b.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Mn.get(d))&&vf(t,a);var D=y=l.createElement("link");bt(D),Ft(D,"link",t),D._p=new Promise(function(H,$){D.onload=H,D.onerror=$}),D.addEventListener("load",function(){b.loading|=1}),D.addEventListener("error",function(){b.loading|=2}),b.loading|=4,mu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:b},h.set(d,y)}}}function xE(t,n){Xs.X(t,n);var a=Mr;if(a&&t){var l=os(a).hoistableScripts,h=Or(t),d=l.get(h);d||(d=a.querySelector(oo(h)),d||(t=A({src:t,async:!0},n),(n=Mn.get(h))&&xf(t,n),d=a.createElement("script"),bt(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function bE(t,n){Xs.M(t,n);var a=Mr;if(a&&t){var l=os(a).hoistableScripts,h=Or(t),d=l.get(h);d||(d=a.querySelector(oo(h)),d||(t=A({src:t,async:!0,type:"module"},n),(n=Mn.get(h))&&xf(t,n),d=a.createElement("script"),bt(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function _y(t,n,a,l){var h=(h=Re.current)?fu(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=jr(a.href),a=os(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=jr(a.href);var d=os(h).hoistableStyles,y=d.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,y),(d=h.querySelector(lo(t)))&&!d._p&&(y.instance=d,y.state.loading=5),Mn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(t,a),d||EE(h,t,a,y.state))),n&&l===null)throw Error(r(528,""));return y}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Or(a),a=os(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function jr(t){return'href="'+sn(t)+'"'}function lo(t){return'link[rel="stylesheet"]['+t+"]"}function vy(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function EE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ft(n,"link",a),bt(n),t.head.appendChild(n))}function Or(t){return'[src="'+sn(t)+'"]'}function oo(t){return"script[async]"+t}function xy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+sn(a.href)+'"]');if(l)return n.instance=l,bt(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),bt(l),Ft(l,"style",h),mu(l,a.precedence,t),n.instance=l;case"stylesheet":h=jr(a.href);var d=t.querySelector(lo(h));if(d)return n.state.loading|=4,n.instance=d,bt(d),d;l=vy(a),(h=Mn.get(h))&&vf(l,h),d=(t.ownerDocument||t).createElement("link"),bt(d);var y=d;return y._p=new Promise(function(b,D){y.onload=b,y.onerror=D}),Ft(d,"link",l),n.state.loading|=4,mu(d,a.precedence,t),n.instance=d;case"script":return d=Or(a.src),(h=t.querySelector(oo(d)))?(n.instance=h,bt(h),h):(l=a,(h=Mn.get(d))&&(l=A({},a),xf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),bt(h),Ft(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,mu(l,a.precedence,t));return n.instance}function mu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,y=0;y<l.length;y++){var b=l[y];if(b.dataset.precedence===n)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function vf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function xf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var gu=null;function by(t,n,a){if(gu===null){var l=new Map,h=gu=new Map;h.set(a,l)}else h=gu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[rs]||d[xt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(n)||"";y=t+y;var b=l.get(y);b?b.push(d):l.set(y,[d])}}return l}function Ey(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function TE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ty(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function SE(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=jr(l.href),d=n.querySelector(lo(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=pu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=d,bt(d);return}d=n.ownerDocument||n,l=vy(l),(h=Mn.get(h))&&vf(l,h),d=d.createElement("link"),bt(d);var y=d;y._p=new Promise(function(b,D){y.onload=b,y.onerror=D}),Ft(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=pu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var bf=0;function AE(t,n){return t.stylesheets&&t.count===0&&_u(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&_u(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+n);0<t.imgBytes&&bf===0&&(bf=62500*aE());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&_u(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>bf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function pu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_u(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var yu=null;function _u(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,yu=new Map,n.forEach(wE,t),yu=null,pu.call(t))}function wE(t,n){if(!(n.state.loading&4)){var a=yu.get(t);if(a)var l=a.get(null);else{a=new Map,yu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var y=h[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}h=n.instance,y=h.getAttribute("data-precedence"),d=a.get(y)||l,d===l&&a.set(null,h),a.set(y,h),this.count++,l=pu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var co={$$typeof:V,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function NE(t,n,a,l,h,d,y,b,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=is(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=is(0),this.hiddenUpdates=is(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Sy(t,n,a,l,h,d,y,b,D,H,$,W){return t=new NE(t,n,a,y,D,H,$,W,b),n=1,d===!0&&(n|=24),d=gn(3,null,null,n),t.current=d,d.stateNode=t,n=Wh(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:n},sd(d),t}function Ay(t){return t?(t=dr,t):dr}function wy(t,n,a,l,h,d){h=Ay(h),l.context===null?l.context=h:l.pendingContext=h,l=bi(n),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ei(t,l,n),a!==null&&(un(a,t,n),Bl(a,t,n))}function Ny(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Ef(t,n){Ny(t,n),(t=t.alternate)&&Ny(t,n)}function Ry(t){if(t.tag===13||t.tag===31){var n=va(t,67108864);n!==null&&un(n,t,67108864),Ef(t,67108864)}}function Cy(t){if(t.tag===13||t.tag===31){var n=xn();n=la(n);var a=va(t,n);a!==null&&un(a,t,n),Ef(t,n)}}var vu=!0;function RE(t,n,a,l){var h=X.T;X.T=null;var d=le.p;try{le.p=2,Tf(t,n,a,l)}finally{le.p=d,X.T=h}}function CE(t,n,a,l){var h=X.T;X.T=null;var d=le.p;try{le.p=8,Tf(t,n,a,l)}finally{le.p=d,X.T=h}}function Tf(t,n,a,l){if(vu){var h=Sf(l);if(h===null)cf(t,n,l,xu,a),ky(t,l);else if(kE(h,t,n,a,l))l.stopPropagation();else if(ky(t,l),n&4&&-1<IE.indexOf(t)){for(;h!==null;){var d=En(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=ns(d.pendingLanes);if(y!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;y;){var D=1<<31-ft(y);b.entanglements[1]|=D,y&=~D}bs(d),(Qe&6)===0&&(nu=en()+500,so(0))}}break;case 31:case 13:b=va(d,2),b!==null&&un(b,d,2),iu(),Ef(d,2)}if(d=Sf(l),d===null&&cf(t,n,l,xu,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else cf(t,n,l,null,a)}}function Sf(t){return t=Tn(t),Af(t)}var xu=null;function Af(t){if(xu=null,t=ls(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=f(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return xu=t,null}function Iy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sa()){case dl:return 2;case fl:return 8;case ri:case Ih:return 32;case Jo:return 268435456;default:return 32}default:return 32}}var wf=!1,Mi=null,ji=null,Oi=null,uo=new Map,ho=new Map,Vi=[],IE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ky(t,n){switch(t){case"focusin":case"focusout":Mi=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":uo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ho.delete(n.pointerId)}}function fo(t,n,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=En(n),n!==null&&Ry(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function kE(t,n,a,l,h){switch(n){case"focusin":return Mi=fo(Mi,t,n,a,l,h),!0;case"dragenter":return ji=fo(ji,t,n,a,l,h),!0;case"mouseover":return Oi=fo(Oi,t,n,a,l,h),!0;case"pointerover":var d=h.pointerId;return uo.set(d,fo(uo.get(d)||null,t,n,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,ho.set(d,fo(ho.get(d)||null,t,n,a,l,h)),!0}return!1}function Dy(t){var n=ls(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){t.blockedOn=n,zn(t.priority,function(){Cy(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,zn(t.priority,function(){Cy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Sf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Al=l,a.target.dispatchEvent(l),Al=null}else return n=En(a),n!==null&&Ry(n),t.blockedOn=a,!1;n.shift()}return!0}function My(t,n,a){bu(t)&&a.delete(n)}function DE(){wf=!1,Mi!==null&&bu(Mi)&&(Mi=null),ji!==null&&bu(ji)&&(ji=null),Oi!==null&&bu(Oi)&&(Oi=null),uo.forEach(My),ho.forEach(My)}function Eu(t,n){t.blockedOn===n&&(t.blockedOn=null,wf||(wf=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,DE)))}var Tu=null;function jy(t){Tu!==t&&(Tu=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Tu===t&&(Tu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Af(l||a)===null)continue;break}var d=En(a);d!==null&&(t.splice(n,3),n-=3,Td(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Vr(t){function n(D){return Eu(D,t)}Mi!==null&&Eu(Mi,t),ji!==null&&Eu(ji,t),Oi!==null&&Eu(Oi,t),uo.forEach(n),ho.forEach(n);for(var a=0;a<Vi.length;a++){var l=Vi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Vi.length&&(a=Vi[0],a.blockedOn===null);)Dy(a),a.blockedOn===null&&Vi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],y=h[jt]||null;if(typeof d=="function")y||jy(a);else if(y){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,y=d[jt]||null)b=y.formAction;else if(Af(h)!==null)continue}else b=y.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),jy(a)}}}function Oy(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Nf(t){this._internalRoot=t}Su.prototype.render=Nf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=xn();wy(a,l,t,n,null,null)},Su.prototype.unmount=Nf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;wy(t.current,2,null,t,null,null),iu(),n[as]=null}};function Su(t){this._internalRoot=t}Su.prototype.unstable_scheduleHydration=function(t){if(t){var n=ic();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Vi.length&&n!==0&&n<Vi[a].priority;a++);Vi.splice(a,0,t),a===0&&Dy(t)}};var Vy=e.version;if(Vy!=="19.2.1")throw Error(r(527,Vy,"19.2.1"));le.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var ME={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Au.isDisabled&&Au.supportsFiber)try{Un=Au.inject(ME),Pt=Au}catch{}}return go.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",h=Hp,d=Fp,y=Gp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=Sy(t,1,!1,null,null,a,l,null,h,d,y,Oy),t[as]=n.current,of(t),new Nf(n)},go.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,h="",d=Hp,y=Fp,b=Gp,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),n=Sy(t,1,!0,n,a??null,l,h,D,d,y,b,Oy),n.context=Ay(null),a=n.current,l=xn(),l=la(l),h=bi(l),h.callback=null,Ei(a,h,l),a=l,n.current.lanes=a,aa(n,a),bs(n),t[as]=n.current,of(t),new Su(n)},go.version="19.2.1",go}var Yy;function HE(){if(Yy)return If.exports;Yy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),If.exports=qE(),If.exports}var FE=HE();const GE=()=>{};var Qy={};const Av=function(i){const e=[];let s=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[s++]=o:o<2048?(e[s++]=o>>6|192,e[s++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[s++]=o>>18|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128,e[s++]=o&63|128):(e[s++]=o>>12|224,e[s++]=o>>6&63|128,e[s++]=o&63|128)}return e},YE=function(i){const e=[];let s=0,r=0;for(;s<i.length;){const o=i[s++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[s++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[s++],f=i[s++],p=i[s++],_=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const u=i[s++],f=i[s++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},wv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,p=f?i[o+1]:0,_=o+2<i.length,v=_?i[o+2]:0,T=u>>2,A=(u&3)<<4|p>>4;let C=(p&15)<<2|v>>6,z=v&63;_||(z=64,f||(C=64)),r.push(s[T],s[A],s[C],s[z])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Av(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):YE(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const u=s[i.charAt(o++)],p=o<i.length?s[i.charAt(o)]:0;++o;const v=o<i.length?s[i.charAt(o)]:64;++o;const A=o<i.length?s[i.charAt(o)]:64;if(++o,u==null||p==null||v==null||A==null)throw new QE;const C=u<<2|p>>4;if(r.push(C),v!==64){const z=p<<4&240|v>>2;if(r.push(z),A!==64){const F=v<<6&192|A;r.push(F)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class QE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KE=function(i){const e=Av(i);return wv.encodeByteArray(e,!0)},qu=function(i){return KE(i).replace(/\./g,"")},Nv=function(i){try{return wv.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function XE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $E=()=>XE().__FIREBASE_DEFAULTS__,ZE=()=>{if(typeof process>"u"||typeof Qy>"u")return;const i=Qy.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},JE=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Nv(i[1]);return e&&JSON.parse(e)},ch=()=>{try{return GE()||$E()||ZE()||JE()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Rv=i=>ch()?.emulatorHosts?.[i],WE=i=>{const e=Rv(i);if(!e)return;const s=e.lastIndexOf(":");if(s<=0||s+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(s+1),10);return e[0]==="["?[e.substring(1,s-1),r]:[e.substring(0,s),r]},Cv=()=>ch()?.config,Iv=i=>ch()?.[`_${i}`];class eT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,r))}}}function tl(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kv(i){return(await fetch(i,{credentials:"include"})).ok}function tT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[qu(JSON.stringify(s)),qu(JSON.stringify(f)),""].join(".")}const xo={};function nT(){const i={prod:[],emulator:[]};for(const e of Object.keys(xo))xo[e]?i.emulator.push(e):i.prod.push(e);return i}function sT(i){let e=document.getElementById(i),s=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),s=!0),{created:s,element:e}}let Ky=!1;function Dv(i,e){if(typeof window>"u"||typeof document>"u"||!tl(window.location.host)||xo[i]===e||xo[i]||Ky)return;xo[i]=e;function s(C){return`__firebase__banner__${C}`}const r="__firebase__banner",u=nT().prod.length>0;function f(){const C=document.getElementById(r);C&&C.remove()}function p(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function _(C,z){C.setAttribute("width","24"),C.setAttribute("id",z),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function v(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{Ky=!0,f()},C}function T(C,z){C.setAttribute("id",z),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function A(){const C=sT(r),z=s("text"),F=document.getElementById(z)||document.createElement("span"),Y=s("learnmore"),P=document.getElementById(Y)||document.createElement("a"),se=s("preprendIcon"),L=document.getElementById(se)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const V=C.element;p(V),T(P,Y);const ie=v();_(L,se),V.append(L,F,P,ie),document.body.appendChild(V)}u?(F.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function aT(){const i=ch()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lT(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function oT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cT(){const i=Wt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function uT(){return!aT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hT(){try{return typeof indexedDB=="object"}catch{return!1}}function dT(){return new Promise((i,e)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),s||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{s=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(s){e(s)}})}const fT="FirebaseError";class ii extends Error{constructor(e,s,r){super(s),this.code=e,this.customData=r,this.name=fT,Object.setPrototypeOf(this,ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bo.prototype.create)}}class Bo{constructor(e,s,r){this.service=e,this.serviceName=s,this.errors=r}create(e,...s){const r=s[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?mT(u,r):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new ii(o,p,r)}}function mT(i,e){return i.replace(gT,(s,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const gT=/\{\$([^}]+)}/g;function pT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Ua(i,e){if(i===e)return!0;const s=Object.keys(i),r=Object.keys(e);for(const o of s){if(!r.includes(o))return!1;const u=i[o],f=e[o];if(Xy(u)&&Xy(f)){if(!Ua(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!s.includes(o))return!1;return!0}function Xy(i){return i!==null&&typeof i=="object"}function qo(i){const e=[];for(const[s,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yT(i,e){const s=new _T(i,e);return s.subscribe.bind(s)}class _T{constructor(e,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(s=>{s.next(e)})}error(e){this.forEachObserver(s=>{s.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,s,r){let o;if(e===void 0&&s===void 0&&r===void 0)throw new Error("Missing Observer.");vT(e,["next","error","complete"])?o=e:o={next:e,error:s,complete:r},o.next===void 0&&(o.next=jf),o.error===void 0&&(o.error=jf),o.complete===void 0&&(o.complete=jf);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,e)}sendOne(e,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{s(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vT(i,e){if(typeof i!="object"||i===null)return!1;for(const s of e)if(s in i&&typeof i[s]=="function")return!0;return!1}function jf(){}function Vn(i){return i&&i._delegate?i._delegate:i}class Pa{constructor(e,s,r){this.name=e,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Da="[DEFAULT]";class xT{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const r=new eT;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:s});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){const s=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ET(e))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Da){return this.instances.has(e)}getOptions(e=Da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&f.resolve(o)}return o}onInit(e,s){const r=this.normalizeInstanceIdentifier(s),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,s){const r=this.onInitCallbacks.get(s);if(r)for(const o of r)try{o(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bT(e),options:s}),this.instances.set(e,r),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Da){return this.component?this.component.multipleInstances?e:Da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bT(i){return i===Da?void 0:i}function ET(i){return i.instantiationMode==="EAGER"}class TT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new xT(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const ST={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},AT=Ve.INFO,wT={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},NT=(i,e,...s)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=wT[e];if(o)console[o](`[${r}]  ${i.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bm{constructor(e){this.name=e,this._logLevel=AT,this._logHandler=NT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ST[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const RT=(i,e)=>e.some(s=>i instanceof s);let $y,Zy;function CT(){return $y||($y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IT(){return Zy||(Zy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mv=new WeakMap,Kf=new WeakMap,jv=new WeakMap,Of=new WeakMap,Em=new WeakMap;function kT(i){const e=new Promise((s,r)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{s(Fi(i.result)),o()},f=()=>{r(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(s=>{s instanceof IDBCursor&&Mv.set(s,i)}).catch(()=>{}),Em.set(e,i),e}function DT(i){if(Kf.has(i))return;const e=new Promise((s,r)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{s(),o()},f=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Kf.set(i,e)}let Xf={get(i,e,s){if(i instanceof IDBTransaction){if(e==="done")return Kf.get(i);if(e==="objectStoreNames")return i.objectStoreNames||jv.get(i);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Fi(i[e])},set(i,e,s){return i[e]=s,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function MT(i){Xf=i(Xf)}function jT(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const r=i.call(Vf(this),e,...s);return jv.set(r,e.sort?e.sort():[e]),Fi(r)}:IT().includes(i)?function(...e){return i.apply(Vf(this),e),Fi(Mv.get(this))}:function(...e){return Fi(i.apply(Vf(this),e))}}function OT(i){return typeof i=="function"?jT(i):(i instanceof IDBTransaction&&DT(i),RT(i,CT())?new Proxy(i,Xf):i)}function Fi(i){if(i instanceof IDBRequest)return kT(i);if(Of.has(i))return Of.get(i);const e=OT(i);return e!==i&&(Of.set(i,e),Em.set(e,i)),e}const Vf=i=>Em.get(i);function VT(i,e,{blocked:s,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),p=Fi(f);return r&&f.addEventListener("upgradeneeded",_=>{r(Fi(f.result),_.oldVersion,_.newVersion,Fi(f.transaction),_)}),s&&f.addEventListener("blocked",_=>s(_.oldVersion,_.newVersion,_)),p.then(_=>{u&&_.addEventListener("close",()=>u()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const LT=["get","getKey","getAll","getAllKeys","count"],UT=["put","add","delete","clear"],Lf=new Map;function Jy(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Lf.get(e))return Lf.get(e);const s=e.replace(/FromIndex$/,""),r=e!==s,o=UT.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(o||LT.includes(s)))return;const u=async function(f,...p){const _=this.transaction(f,o?"readwrite":"readonly");let v=_.store;return r&&(v=v.index(p.shift())),(await Promise.all([v[s](...p),o&&_.done]))[0]};return Lf.set(e,u),u}MT(i=>({...i,get:(e,s,r)=>Jy(e,s)||i.get(e,s,r),has:(e,s)=>!!Jy(e,s)||i.has(e,s)}));class PT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(zT(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function zT(i){return i.getComponent()?.type==="VERSION"}const $f="@firebase/app",Wy="0.14.6";const ei=new bm("@firebase/app"),BT="@firebase/app-compat",qT="@firebase/analytics-compat",HT="@firebase/analytics",FT="@firebase/app-check-compat",GT="@firebase/app-check",YT="@firebase/auth",QT="@firebase/auth-compat",KT="@firebase/database",XT="@firebase/data-connect",$T="@firebase/database-compat",ZT="@firebase/functions",JT="@firebase/functions-compat",WT="@firebase/installations",e2="@firebase/installations-compat",t2="@firebase/messaging",n2="@firebase/messaging-compat",s2="@firebase/performance",i2="@firebase/performance-compat",a2="@firebase/remote-config",r2="@firebase/remote-config-compat",l2="@firebase/storage",o2="@firebase/storage-compat",c2="@firebase/firestore",u2="@firebase/ai",h2="@firebase/firestore-compat",d2="firebase",f2="12.6.0";const Zf="[DEFAULT]",m2={[$f]:"fire-core",[BT]:"fire-core-compat",[HT]:"fire-analytics",[qT]:"fire-analytics-compat",[GT]:"fire-app-check",[FT]:"fire-app-check-compat",[YT]:"fire-auth",[QT]:"fire-auth-compat",[KT]:"fire-rtdb",[XT]:"fire-data-connect",[$T]:"fire-rtdb-compat",[ZT]:"fire-fn",[JT]:"fire-fn-compat",[WT]:"fire-iid",[e2]:"fire-iid-compat",[t2]:"fire-fcm",[n2]:"fire-fcm-compat",[s2]:"fire-perf",[i2]:"fire-perf-compat",[a2]:"fire-rc",[r2]:"fire-rc-compat",[l2]:"fire-gcs",[o2]:"fire-gcs-compat",[c2]:"fire-fst",[h2]:"fire-fst-compat",[u2]:"fire-vertex","fire-js":"fire-js",[d2]:"fire-js-all"};const Hu=new Map,g2=new Map,Jf=new Map;function e_(i,e){try{i.container.addComponent(e)}catch(s){ei.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,s)}}function Gr(i){const e=i.name;if(Jf.has(e))return ei.debug(`There were multiple attempts to register component ${e}.`),!1;Jf.set(e,i);for(const s of Hu.values())e_(s,i);for(const s of g2.values())e_(s,i);return!0}function Tm(i,e){const s=i.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),i.container.getProvider(e)}function $n(i){return i==null?!1:i.settings!==void 0}const p2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gi=new Bo("app","Firebase",p2);class y2{constructor(e,s,r){this._isDeleted=!1,this._options={...e},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}}const nl=f2;function Ov(i,e={}){let s=i;typeof e!="object"&&(e={name:e});const r={name:Zf,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Gi.create("bad-app-name",{appName:String(o)});if(s||(s=Cv()),!s)throw Gi.create("no-options");const u=Hu.get(o);if(u){if(Ua(s,u.options)&&Ua(r,u.config))return u;throw Gi.create("duplicate-app",{appName:o})}const f=new TT(o);for(const _ of Jf.values())f.addComponent(_);const p=new y2(s,r,f);return Hu.set(o,p),p}function Vv(i=Zf){const e=Hu.get(i);if(!e&&i===Zf&&Cv())return Ov();if(!e)throw Gi.create("no-app",{appName:i});return e}function Yi(i,e,s){let r=m2[i]??i;s&&(r+=`-${s}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ei.warn(f.join(" "));return}Gr(new Pa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const _2="firebase-heartbeat-database",v2=1,Ro="firebase-heartbeat-store";let Uf=null;function Lv(){return Uf||(Uf=VT(_2,v2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Ro)}catch(s){console.warn(s)}}}}).catch(i=>{throw Gi.create("idb-open",{originalErrorMessage:i.message})})),Uf}async function x2(i){try{const s=(await Lv()).transaction(Ro),r=await s.objectStore(Ro).get(Uv(i));return await s.done,r}catch(e){if(e instanceof ii)ei.warn(e.message);else{const s=Gi.create("idb-get",{originalErrorMessage:e?.message});ei.warn(s.message)}}}async function t_(i,e){try{const r=(await Lv()).transaction(Ro,"readwrite");await r.objectStore(Ro).put(e,Uv(i)),await r.done}catch(s){if(s instanceof ii)ei.warn(s.message);else{const r=Gi.create("idb-set",{originalErrorMessage:s?.message});ei.warn(r.message)}}}function Uv(i){return`${i.name}!${i.options.appId}`}const b2=1024,E2=30;class T2{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new A2(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=n_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>E2){const o=w2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ei.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=n_(),{heartbeatsToSend:s,unsentEntries:r}=S2(this._heartbeatsCache.heartbeats),o=qu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ei.warn(e),""}}}function n_(){return new Date().toISOString().substring(0,10)}function S2(i,e=b2){const s=[];let r=i.slice();for(const o of i){const u=s.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),s_(s)>e){u.dates.pop();break}}else if(s.push({agent:o.agent,dates:[o.date]}),s_(s)>e){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class A2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hT()?dT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await x2(this.app);return s?.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return t_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return t_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function s_(i){return qu(JSON.stringify({version:2,heartbeats:i})).length}function w2(i){if(i.length===0)return-1;let e=0,s=i[0].date;for(let r=1;r<i.length;r++)i[r].date<s&&(s=i[r].date,e=r);return e}function N2(i){Gr(new Pa("platform-logger",e=>new PT(e),"PRIVATE")),Gr(new Pa("heartbeat",e=>new T2(e),"PRIVATE")),Yi($f,Wy,i),Yi($f,Wy,"esm2020"),Yi("fire-js","")}N2("");function Pv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const R2=Pv,zv=new Bo("auth","Firebase",Pv());const Fu=new bm("@firebase/auth");function C2(i,...e){Fu.logLevel<=Ve.WARN&&Fu.warn(`Auth (${nl}): ${i}`,...e)}function Du(i,...e){Fu.logLevel<=Ve.ERROR&&Fu.error(`Auth (${nl}): ${i}`,...e)}function Rs(i,...e){throw Am(i,...e)}function Wn(i,...e){return Am(i,...e)}function Sm(i,e,s){const r={...R2(),[e]:s};return new Bo("auth","Firebase",r).create(e,{appName:i.name})}function Oa(i){return Sm(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function I2(i,e,s){const r=s;if(!(e instanceof r))throw r.name!==e.constructor.name&&Rs(i,"argument-error"),Sm(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Am(i,...e){if(typeof i!="string"){const s=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(s,...r)}return zv.create(i,...e)}function xe(i,e,...s){if(!i)throw Am(e,...s)}function Zs(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Du(e),new Error(e)}function ti(i,e){i||Zs(e)}function Wf(){return typeof self<"u"&&self.location?.href||""}function k2(){return i_()==="http:"||i_()==="https:"}function i_(){return typeof self<"u"&&self.location?.protocol||null}function D2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(k2()||lT()||"connection"in navigator)?navigator.onLine:!0}function M2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Ho{constructor(e,s){this.shortDelay=e,this.longDelay=s,ti(s>e,"Short delay should be less than long delay!"),this.isMobile=iT()||oT()}get(){return D2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wm(i,e){ti(i.emulator,"Emulator should always be set here");const{url:s}=i.emulator;return e?`${s}${e.startsWith("/")?e.slice(1):e}`:s}class Bv{static initialize(e,s,r){this.fetchImpl=e,s&&(this.headersImpl=s),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const j2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const O2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],V2=new Ho(3e4,6e4);function Nm(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function sl(i,e,s,r,o={}){return qv(i,o,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const p=qo({key:i.config.apiKey,...f}).slice(1),_=await i._getAdditionalHeaders();_["Content-Type"]="application/json",i.languageCode&&(_["X-Firebase-Locale"]=i.languageCode);const v={method:e,headers:_,...u};return rT()||(v.referrerPolicy="no-referrer"),i.emulatorConfig&&tl(i.emulatorConfig.host)&&(v.credentials="include"),Bv.fetch()(await Hv(i,i.config.apiHost,s,p),v)})}async function qv(i,e,s){i._canInitEmulator=!1;const r={...j2,...e};try{const o=new U2(i),u=await Promise.race([s(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw wu(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[_,v]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw wu(i,"credential-already-in-use",f);if(_==="EMAIL_EXISTS")throw wu(i,"email-already-in-use",f);if(_==="USER_DISABLED")throw wu(i,"user-disabled",f);const T=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Sm(i,T,v);Rs(i,T)}}catch(o){if(o instanceof ii)throw o;Rs(i,"network-request-failed",{message:String(o)})}}async function L2(i,e,s,r,o={}){const u=await sl(i,e,s,r,o);return"mfaPendingCredential"in u&&Rs(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function Hv(i,e,s,r){const o=`${e}${s}?${r}`,u=i,f=u.config.emulator?wm(i.config,o):`${i.config.apiScheme}://${o}`;return O2.includes(s)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class U2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((s,r)=>{this.timer=setTimeout(()=>r(Wn(this.auth,"network-request-failed")),V2.get())})}}function wu(i,e,s){const r={appName:i.name};s.email&&(r.email=s.email),s.phoneNumber&&(r.phoneNumber=s.phoneNumber);const o=Wn(i,e,r);return o.customData._tokenResponse=s,o}async function P2(i,e){return sl(i,"POST","/v1/accounts:delete",e)}async function Gu(i,e){return sl(i,"POST","/v1/accounts:lookup",e)}function bo(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function z2(i,e=!1){const s=Vn(i),r=await s.getIdToken(e),o=Rm(r);xe(o&&o.exp&&o.auth_time&&o.iat,s.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:r,authTime:bo(Pf(o.auth_time)),issuedAtTime:bo(Pf(o.iat)),expirationTime:bo(Pf(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Pf(i){return Number(i)*1e3}function Rm(i){const[e,s,r]=i.split(".");if(e===void 0||s===void 0||r===void 0)return Du("JWT malformed, contained fewer than 3 sections"),null;try{const o=Nv(s);return o?JSON.parse(o):(Du("Failed to decode base64 JWT payload"),null)}catch(o){return Du("Caught error parsing JWT payload as JSON",o?.toString()),null}}function a_(i){const e=Rm(i);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Co(i,e,s=!1){if(s)return e;try{return await e}catch(r){throw r instanceof ii&&B2(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function B2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class q2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const s=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class em{constructor(e,s){this.createdAt=e,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=bo(this.lastLoginAt),this.creationTime=bo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yu(i){const e=i.auth,s=await i.getIdToken(),r=await Co(i,Gu(e,{idToken:s}));xe(r?.users.length,e,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?Fv(o.providerUserInfo):[],f=F2(i.providerData,u),p=i.isAnonymous,_=!(i.email&&o.passwordHash)&&!f?.length,v=p?_:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new em(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(i,T)}async function H2(i){const e=Vn(i);await Yu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function F2(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function Fv(i){return i.map(({providerId:e,...s})=>({providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}))}async function G2(i,e){const s=await qv(i,{},async()=>{const r=qo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await Hv(i,o,"/v1/token",`key=${u}`),p=await i._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:r};return i.emulatorConfig&&tl(i.emulatorConfig.host)&&(_.credentials="include"),Bv.fetch()(f,_)});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function Y2(i,e){return sl(i,"POST","/v2/accounts:revokeToken",Nm(i,e))}class Br{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const s="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):a_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,s)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const s=a_(e);this.updateTokensAndExpiration(e,null,s)}async getToken(e,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,s){const{accessToken:r,refreshToken:o,expiresIn:u}=await G2(e,s);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,s,r){this.refreshToken=s||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,s){const{refreshToken:r,accessToken:o,expirationTime:u}=s,f=new Br;return r&&(xe(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(xe(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(xe(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Br,this.toJSON())}_performRefresh(){return Zs("not implemented")}}function Ui(i,e){xe(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Zn{constructor({uid:e,auth:s,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new q2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new em(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const s=await Co(this,this.stsTokenManager.getToken(this.auth,e));return xe(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(e){return z2(this,e)}reload(){return H2(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(s=>({...s})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const s=new Zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return s.metadata._copy(this.metadata),s}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,s=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),s&&await Yu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(Oa(this.auth));const e=await this.getIdToken();return await Co(this,P2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,s){const r=s.displayName??void 0,o=s.email??void 0,u=s.phoneNumber??void 0,f=s.photoURL??void 0,p=s.tenantId??void 0,_=s._redirectEventId??void 0,v=s.createdAt??void 0,T=s.lastLoginAt??void 0,{uid:A,emailVerified:C,isAnonymous:z,providerData:F,stsTokenManager:Y}=s;xe(A&&Y,e,"internal-error");const P=Br.fromJSON(this.name,Y);xe(typeof A=="string",e,"internal-error"),Ui(r,e.name),Ui(o,e.name),xe(typeof C=="boolean",e,"internal-error"),xe(typeof z=="boolean",e,"internal-error"),Ui(u,e.name),Ui(f,e.name),Ui(p,e.name),Ui(_,e.name),Ui(v,e.name),Ui(T,e.name);const se=new Zn({uid:A,auth:e,email:o,emailVerified:C,displayName:r,isAnonymous:z,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:P,createdAt:v,lastLoginAt:T});return F&&Array.isArray(F)&&(se.providerData=F.map(L=>({...L}))),_&&(se._redirectEventId=_),se}static async _fromIdTokenResponse(e,s,r=!1){const o=new Br;o.updateFromServerResponse(s);const u=new Zn({uid:s.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Yu(u),u}static async _fromGetAccountInfoResponse(e,s,r){const o=s.users[0];xe(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Fv(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,p=new Br;p.updateFromIdToken(r);const _=new Zn({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new em(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(_,v),_}}const r_=new Map;function Js(i){ti(i instanceof Function,"Expected a class definition");let e=r_.get(i);return e?(ti(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,r_.set(i,e),e)}class Gv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,s){this.storage[e]=s}async _get(e){const s=this.storage[e];return s===void 0?null:s}async _remove(e){delete this.storage[e]}_addListener(e,s){}_removeListener(e,s){}}Gv.type="NONE";const l_=Gv;function Mu(i,e,s){return`firebase:${i}:${e}:${s}`}class qr{constructor(e,s,r){this.persistence=e,this.auth=s,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Mu(this.userKey,o.apiKey,u),this.fullPersistenceKey=Mu("persistence",o.apiKey,u),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const s=await Gu(this.auth,{idToken:e}).catch(()=>{});return s?Zn._fromGetAccountInfoResponse(this.auth,s,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,s,r="authUser"){if(!s.length)return new qr(Js(l_),e,r);const o=(await Promise.all(s.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let u=o[0]||Js(l_);const f=Mu(r,e.config.apiKey,e.name);let p=null;for(const v of s)try{const T=await v._get(f);if(T){let A;if(typeof T=="string"){const C=await Gu(e,{idToken:T}).catch(()=>{});if(!C)break;A=await Zn._fromGetAccountInfoResponse(e,C,T)}else A=Zn._fromJSON(e,T);v!==u&&(p=A),u=v;break}}catch{}const _=o.filter(v=>v._shouldAllowMigration);return!u._shouldAllowMigration||!_.length?new qr(u,e,r):(u=_[0],p&&await u._set(f,p.toJSON()),await Promise.all(s.map(async v=>{if(v!==u)try{await v._remove(f)}catch{}})),new qr(u,e,r))}}function o_(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Xv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Yv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zv(e))return"Blackberry";if(Jv(e))return"Webos";if(Qv(e))return"Safari";if((e.includes("chrome/")||Kv(e))&&!e.includes("edge/"))return"Chrome";if($v(e))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(s);if(r?.length===2)return r[1]}return"Other"}function Yv(i=Wt()){return/firefox\//i.test(i)}function Qv(i=Wt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Kv(i=Wt()){return/crios\//i.test(i)}function Xv(i=Wt()){return/iemobile/i.test(i)}function $v(i=Wt()){return/android/i.test(i)}function Zv(i=Wt()){return/blackberry/i.test(i)}function Jv(i=Wt()){return/webos/i.test(i)}function Cm(i=Wt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function Q2(i=Wt()){return Cm(i)&&!!window.navigator?.standalone}function K2(){return cT()&&document.documentMode===10}function Wv(i=Wt()){return Cm(i)||$v(i)||Jv(i)||Zv(i)||/windows phone/i.test(i)||Xv(i)}function e1(i,e=[]){let s;switch(i){case"Browser":s=o_(Wt());break;case"Worker":s=`${o_(Wt())}-${i}`;break;default:s=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${s}/JsCore/${nl}/${r}`}class X2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,s){const r=u=>new Promise((f,p)=>{try{const _=e(u);f(_)}catch(_){p(_)}});r.onAbort=s,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const s=[];try{for(const r of this.queue)await r(e),r.onAbort&&s.push(r.onAbort)}catch(r){s.reverse();for(const o of s)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function $2(i,e={}){return sl(i,"GET","/v2/passwordPolicy",Nm(i,e))}const Z2=6;class J2{constructor(e){const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=s.minPasswordLength??Z2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=s.meetsMinPasswordLength??!0),s.isValid&&(s.isValid=s.meetsMaxPasswordLength??!0),s.isValid&&(s.isValid=s.containsLowercaseLetter??!0),s.isValid&&(s.isValid=s.containsUppercaseLetter??!0),s.isValid&&(s.isValid=s.containsNumericCharacter??!0),s.isValid&&(s.isValid=s.containsNonAlphanumericCharacter??!0),s}validatePasswordLengthOptions(e,s){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(s.meetsMinPasswordLength=e.length>=r),o&&(s.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(s,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,s,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class W2{constructor(e,s,r,o){this.app=e,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c_(this),this.idTokenSubscription=new c_(this),this.beforeStateQueue=new X2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,s){return s&&(this._popupRedirectResolver=Js(s)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qr.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const s=await Gu(this,{idToken:e}),r=await Zn._fromGetAccountInfoResponse(this,s,e);await this.directlySetCurrentUser(r)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if($n(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let r=s,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===f)&&p?.user&&(r=p.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(e){try{await Yu(e)}catch(s){if(s?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=M2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($n(this.app))return Promise.reject(Oa(this));const s=e?Vn(e):null;return s&&xe(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(e,s=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(Oa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $n(this.app)?Promise.reject(Oa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Js(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $2(this),s=new J2(e);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bo("auth","Firebase",e())}onAuthStateChanged(e,s,r){return this.registerStateListener(this.authStateSubscription,e,s,r)}beforeAuthStateChanged(e,s){return this.beforeStateQueue.pushCallback(e,s)}onIdTokenChanged(e,s,r){return this.registerStateListener(this.idTokenSubscription,e,s,r)}authStateReady(){return new Promise((e,s)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},s)}})}async revokeAccessToken(e){if(this.currentUser){const s=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:s};this.tenantId!=null&&(r.tenantId=this.tenantId),await Y2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,s){const r=await this.getOrInitRedirectPersistenceManager(s);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const s=e&&Js(e)||this._popupRedirectResolver;xe(s,this,"argument-error"),this.redirectPersistenceManager=await qr.create(this,[Js(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,s,r,o){if(this._deleted)return()=>{};const u=typeof s=="function"?s:s.next.bind(s);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof s=="function"){const _=e.addObserver(s,r,o);return()=>{f=!0,_()}}else{const _=e.addObserver(s);return()=>{f=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=e1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();s&&(e["X-Firebase-Client"]=s);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&C2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function uh(i){return Vn(i)}class c_{constructor(e){this.auth=e,this.observer=null,this.addObserver=yT(s=>this.observer=s)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Im={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eS(i){Im=i}function tS(i){return Im.loadJS(i)}function nS(){return Im.gapiScript}function sS(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function iS(i,e){const s=Tm(i,"auth");if(s.isInitialized()){const o=s.getImmediate(),u=s.getOptions();if(Ua(u,e??{}))return o;Rs(o,"already-initialized")}return s.initialize({options:e})}function aS(i,e){const s=e?.persistence||[],r=(Array.isArray(s)?s:[s]).map(Js);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e?.popupRedirectResolver)}function rS(i,e,s){const r=uh(i);xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=t1(e),{host:f,port:p}=lS(e),_=p===null?"":`:${p}`,v={url:`${u}//${f}${_}/`},T=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){xe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),xe(Ua(v,r.config.emulator)&&Ua(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=v,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,tl(f)?(kv(`${u}//${f}${_}`),Dv("Auth",!0)):oS()}function t1(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function lS(i){const e=t1(i),s=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!s)return{host:"",port:null};const r=s[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:u_(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:u_(f)}}}function u_(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function oS(){function i(){const e=document.createElement("p"),s=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class n1{constructor(e,s){this.providerId=e,this.signInMethod=s}toJSON(){return Zs("not implemented")}_getIdTokenResponse(e){return Zs("not implemented")}_linkToIdToken(e,s){return Zs("not implemented")}_getReauthenticationResolver(e){return Zs("not implemented")}}async function Hr(i,e){return L2(i,"POST","/v1/accounts:signInWithIdp",Nm(i,e))}const cS="http://localhost";class za extends n1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const s=new za(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(s.idToken=e.idToken),e.accessToken&&(s.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(s.nonce=e.nonce),e.pendingToken&&(s.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(s.accessToken=e.oauthToken,s.secret=e.oauthTokenSecret):Rs("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=s;if(!r||!o)return null;const f=new za(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const s=this.buildRequest();return Hr(e,s)}_linkToIdToken(e,s){const r=this.buildRequest();return r.idToken=s,Hr(e,r)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,Hr(e,s)}buildRequest(){const e={requestUri:cS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),e.postBody=qo(s)}return e}}class km{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Fo extends km{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Pi extends Fo{constructor(){super("facebook.com")}static credential(e){return za._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pi.credential(e.oauthAccessToken)}catch{return null}}}Pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pi.PROVIDER_ID="facebook.com";class $s extends Fo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,s){return za._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:s})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:r}=e;if(!s&&!r)return null;try{return $s.credential(s,r)}catch{return null}}}$s.GOOGLE_SIGN_IN_METHOD="google.com";$s.PROVIDER_ID="google.com";class zi extends Fo{constructor(){super("github.com")}static credential(e){return za._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.GITHUB_SIGN_IN_METHOD="github.com";zi.PROVIDER_ID="github.com";class Bi extends Fo{constructor(){super("twitter.com")}static credential(e,s){return za._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:s})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:s,oauthTokenSecret:r}=e;if(!s||!r)return null;try{return Bi.credential(s,r)}catch{return null}}}Bi.TWITTER_SIGN_IN_METHOD="twitter.com";Bi.PROVIDER_ID="twitter.com";class Yr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,s,r,o=!1){const u=await Zn._fromIdTokenResponse(e,r,o),f=h_(r);return new Yr({user:u,providerId:f,_tokenResponse:r,operationType:s})}static async _forOperation(e,s,r){await e._updateTokensIfNecessary(r,!0);const o=h_(r);return new Yr({user:e,providerId:o,_tokenResponse:r,operationType:s})}}function h_(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Qu extends ii{constructor(e,s,r,o){super(s.code,s.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Qu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:s.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,s,r,o){return new Qu(e,s,r,o)}}function s1(i,e,s,r){return(e==="reauthenticate"?s._getReauthenticationResolver(i):s._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Qu._fromErrorAndOperation(i,u,e,r):u})}async function uS(i,e,s=!1){const r=await Co(i,e._linkToIdToken(i.auth,await i.getIdToken()),s);return Yr._forOperation(i,"link",r)}async function hS(i,e,s=!1){const{auth:r}=i;if($n(r.app))return Promise.reject(Oa(r));const o="reauthenticate";try{const u=await Co(i,s1(r,o,e,i),s);xe(u.idToken,r,"internal-error");const f=Rm(u.idToken);xe(f,r,"internal-error");const{sub:p}=f;return xe(i.uid===p,r,"user-mismatch"),Yr._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Rs(r,"user-mismatch"),u}}async function dS(i,e,s=!1){if($n(i.app))return Promise.reject(Oa(i));const r="signIn",o=await s1(i,r,e),u=await Yr._fromIdTokenResponse(i,r,o);return s||await i._updateCurrentUser(u.user),u}function fS(i,e,s,r){return Vn(i).onIdTokenChanged(e,s,r)}function mS(i,e,s){return Vn(i).beforeAuthStateChanged(e,s)}function gS(i,e,s,r){return Vn(i).onAuthStateChanged(e,s,r)}function pS(i){return Vn(i).signOut()}const Ku="__sak";class i1{constructor(e,s){this.storageRetriever=e,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(Ku,"1"),this.storage.removeItem(Ku),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,s){return this.storage.setItem(e,JSON.stringify(s)),Promise.resolve()}_get(e){const s=this.storage.getItem(e);return Promise.resolve(s?JSON.parse(s):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const yS=1e3,_S=10;class a1 extends i1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,s)=>this.onStorageEvent(e,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Wv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const s of Object.keys(this.listeners)){const r=this.storage.getItem(s),o=this.localCache[s];r!==o&&e(s,o,r)}}onStorageEvent(e,s=!1){if(!e.key){this.forAllChangedKeys((f,p,_)=>{this.notifyListeners(f,_)});return}const r=e.key;s?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!s&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);K2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,_S):o()}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,s,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:s,newValue:r}),!0)})},yS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,s){await super._set(e,s),this.localCache[e]=JSON.stringify(s)}async _get(e){const s=await super._get(e);return this.localCache[e]=JSON.stringify(s),s}async _remove(e){await super._remove(e),delete this.localCache[e]}}a1.type="LOCAL";const vS=a1;class r1 extends i1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,s){}_removeListener(e,s){}}r1.type="SESSION";const l1=r1;function xS(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(s){return{fulfilled:!1,reason:s}}}))}class hh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const s=this.receivers.find(o=>o.isListeningto(e));if(s)return s;const r=new hh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const s=e,{eventId:r,eventType:o,data:u}=s.data,f=this.handlersMap[o];if(!f?.size)return;s.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(f).map(async v=>v(s.origin,u)),_=await xS(p);s.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:_})}_subscribe(e,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(s)}_unsubscribe(e,s){this.handlersMap[e]&&s&&this.handlersMap[e].delete(s),(!s||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hh.receivers=[];function Dm(i="",e=10){let s="";for(let r=0;r<e;r++)s+=Math.floor(Math.random()*10);return i+s}class bS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,s,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,_)=>{const v=Dm("",20);o.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(A){const C=A;if(C.data.eventId===v)switch(C.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(C.data.response);break;default:clearTimeout(T),clearTimeout(u),_(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:v,data:s},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ts(){return window}function ES(i){Ts().location.href=i}function o1(){return typeof Ts().WorkerGlobalScope<"u"&&typeof Ts().importScripts=="function"}async function TS(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SS(){return navigator?.serviceWorker?.controller||null}function AS(){return o1()?self:null}const c1="firebaseLocalStorageDb",wS=1,Xu="firebaseLocalStorage",u1="fbase_key";class Go{constructor(e){this.request=e}toPromise(){return new Promise((e,s)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function dh(i,e){return i.transaction([Xu],e?"readwrite":"readonly").objectStore(Xu)}function NS(){const i=indexedDB.deleteDatabase(c1);return new Go(i).toPromise()}function tm(){const i=indexedDB.open(c1,wS);return new Promise((e,s)=>{i.addEventListener("error",()=>{s(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(Xu,{keyPath:u1})}catch(o){s(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(Xu)?e(r):(r.close(),await NS(),e(await tm()))})})}async function d_(i,e,s){const r=dh(i,!0).put({[u1]:e,value:s});return new Go(r).toPromise()}async function RS(i,e){const s=dh(i,!1).get(e),r=await new Go(s).toPromise();return r===void 0?null:r.value}function f_(i,e){const s=dh(i,!0).delete(e);return new Go(s).toPromise()}const CS=800,IS=3;class h1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tm(),this.db)}async _withRetries(e){let s=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(s++>IS)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return o1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hh._getInstance(AS()),this.receiver._subscribe("keyChanged",async(e,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(e,s)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await TS(),!this.activeServiceWorker)return;this.sender=new bS(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tm();return await d_(e,Ku,"1"),await f_(e,Ku),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,s){return this._withPendingWrite(async()=>(await this._withRetries(r=>d_(r,e,s)),this.localCache[e]=s,this.notifyServiceWorker(e)))}async _get(e){const s=await this._withRetries(r=>RS(r,e));return this.localCache[e]=s,s}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(s=>f_(s,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=dh(o,!1).getAll();return new Go(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const s=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),s.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),s.push(o));return s}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}h1.type="LOCAL";const kS=h1;new Ho(3e4,6e4);function d1(i,e){return e?Js(e):(xe(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Mm extends n1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hr(e,this._buildIdpRequest())}_linkToIdToken(e,s){return Hr(e,this._buildIdpRequest(s))}_getReauthenticationResolver(e){return Hr(e,this._buildIdpRequest())}_buildIdpRequest(e){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(s.idToken=e),s}}function DS(i){return dS(i.auth,new Mm(i),i.bypassAuthState)}function MS(i){const{auth:e,user:s}=i;return xe(s,e,"internal-error"),hS(s,new Mm(i),i.bypassAuthState)}async function jS(i){const{auth:e,user:s}=i;return xe(s,e,"internal-error"),uS(s,new Mm(i),i.bypassAuthState)}class f1{constructor(e,s,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(e,s)=>{this.pendingPromise={resolve:e,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:s,sessionId:r,postBody:o,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const _={auth:this.auth,requestUri:s,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DS;case"linkViaPopup":case"linkViaRedirect":return jS;case"reauthViaPopup":case"reauthViaRedirect":return MS;default:Rs(this.auth,"internal-error")}}resolve(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const OS=new Ho(2e3,1e4);async function VS(i,e,s){if($n(i.app))return Promise.reject(Wn(i,"operation-not-supported-in-this-environment"));const r=uh(i);I2(i,e,km);const o=d1(r,s);return new Ma(r,"signInViaPopup",e,o).executeNotNull()}class Ma extends f1{constructor(e,s,r,o,u){super(e,s,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Ma.currentPopupAction&&Ma.currentPopupAction.cancel(),Ma.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){ti(this.filter.length===1,"Popup operations only handle one event");const e=Dm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(Wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ma.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OS.get())};e()}}Ma.currentPopupAction=null;const LS="pendingRedirect",ju=new Map;class US extends f1{constructor(e,s,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,r),this.eventId=null}async execute(){let e=ju.get(this.auth._key());if(!e){try{const r=await PS(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(s){e=()=>Promise.reject(s)}ju.set(this.auth._key(),e)}return this.bypassAuthState||ju.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const s=await this.auth._redirectUserForId(e.eventId);if(s)return this.user=s,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PS(i,e){const s=qS(e),r=BS(i);if(!await r._isAvailable())return!1;const o=await r._get(s)==="true";return await r._remove(s),o}function zS(i,e){ju.set(i._key(),e)}function BS(i){return Js(i._redirectPersistence)}function qS(i){return Mu(LS,i.config.apiKey,i.name)}async function HS(i,e,s=!1){if($n(i.app))return Promise.reject(Oa(i));const r=uh(i),o=d1(r,e),f=await new US(r,o,s).execute();return f&&!s&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}const FS=600*1e3;class GS{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let s=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(s=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YS(e)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=e,s=!0)),s}sendToConsumer(e,s){if(e.error&&!m1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";s.onError(Wn(this.auth,r))}else s.onAuthEvent(e)}isEventForConsumer(e,s){const r=s.eventId===null||!!e.eventId&&e.eventId===s.eventId;return s.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FS&&this.cachedEventUids.clear(),this.cachedEventUids.has(m_(e))}saveEventToCache(e){this.cachedEventUids.add(m_(e)),this.lastProcessedEventTime=Date.now()}}function m_(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function m1({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function YS(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return m1(i);default:return!1}}async function QS(i,e={}){return sl(i,"GET","/v1/projects",e)}const KS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XS=/^https?/;async function $S(i){if(i.config.emulator)return;const{authorizedDomains:e}=await QS(i);for(const s of e)try{if(ZS(s))return}catch{}Rs(i,"unauthorized-domain")}function ZS(i){const e=Wf(),{protocol:s,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&r===""?s==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):s==="chrome-extension:"&&f.hostname===r}if(!XS.test(s))return!1;if(KS.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const JS=new Ho(3e4,6e4);function g_(){const i=Ts().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let s=0;s<i.CP.length;s++)i.CP[s]=null}}function WS(i){return new Promise((e,s)=>{function r(){g_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{g_(),s(Wn(i,"network-request-failed"))},timeout:JS.get()})}if(Ts().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ts().gapi?.load)r();else{const o=sS("iframefcb");return Ts()[o]=()=>{gapi.load?r():s(Wn(i,"network-request-failed"))},tS(`${nS()}?onload=${o}`).catch(u=>s(u))}}).catch(e=>{throw Ou=null,e})}let Ou=null;function eA(i){return Ou=Ou||WS(i),Ou}const tA=new Ho(5e3,15e3),nA="__/auth/iframe",sA="emulator/auth/iframe",iA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rA(i){const e=i.config;xe(e.authDomain,i,"auth-domain-config-required");const s=e.emulator?wm(e,sA):`https://${i.config.authDomain}/${nA}`,r={apiKey:e.apiKey,appName:i.name,v:nl},o=aA.get(i.config.apiHost);o&&(r.eid=o);const u=i._getFrameworks();return u.length&&(r.fw=u.join(",")),`${s}?${qo(r).slice(1)}`}async function lA(i){const e=await eA(i),s=Ts().gapi;return xe(s,i,"internal-error"),e.open({where:document.body,url:rA(i),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iA,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=Wn(i,"network-request-failed"),p=Ts().setTimeout(()=>{u(f)},tA.get());function _(){Ts().clearTimeout(p),o(r)}r.ping(_).then(_,()=>{u(f)})}))}const oA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cA=500,uA=600,hA="_blank",dA="http://localhost";class p_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fA(i,e,s,r=cA,o=uA){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const _={...oA,width:r.toString(),height:o.toString(),top:u,left:f},v=Wt().toLowerCase();s&&(p=Kv(v)?hA:s),Yv(v)&&(e=e||dA,_.scrollbars="yes");const T=Object.entries(_).reduce((C,[z,F])=>`${C}${z}=${F},`,"");if(Q2(v)&&p!=="_self")return mA(e||"",p),new p_(null);const A=window.open(e||"",p,T);xe(A,i,"popup-blocked");try{A.focus()}catch{}return new p_(A)}function mA(i,e){const s=document.createElement("a");s.href=i,s.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(r)}const gA="__/auth/handler",pA="emulator/auth/handler",yA=encodeURIComponent("fac");async function y_(i,e,s,r,o,u){xe(i.config.authDomain,i,"auth-domain-config-required"),xe(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:s,redirectUrl:r,v:nl,eventId:o};if(e instanceof km){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",pT(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,A]of Object.entries({}))f[T]=A}if(e instanceof Fo){const T=e.getScopes().filter(A=>A!=="");T.length>0&&(f.scopes=T.join(","))}i.tenantId&&(f.tid=i.tenantId);const p=f;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const _=await i._getAppCheckToken(),v=_?`#${yA}=${encodeURIComponent(_)}`:"";return`${_A(i)}?${qo(p).slice(1)}${v}`}function _A({config:i}){return i.emulator?wm(i,pA):`https://${i.authDomain}/${gA}`}const zf="webStorageSupport";class vA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=l1,this._completeRedirectFn=HS,this._overrideRedirectResult=zS}async _openPopup(e,s,r,o){ti(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await y_(e,s,r,Wf(),o);return fA(e,u,Dm())}async _openRedirect(e,s,r,o){await this._originValidation(e);const u=await y_(e,s,r,Wf(),o);return ES(u),new Promise(()=>{})}_initialize(e){const s=e._key();if(this.eventManagers[s]){const{manager:o,promise:u}=this.eventManagers[s];return o?Promise.resolve(o):(ti(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[s]={promise:r},r.catch(()=>{delete this.eventManagers[s]}),r}async initAndGetManager(e){const s=await lA(e),r=new GS(e);return s.register("authEvent",o=>(xe(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=s,r}_isIframeWebStorageSupported(e,s){this.iframes[e._key()].send(zf,{type:zf},o=>{const u=o?.[0]?.[zf];u!==void 0&&s(!!u),Rs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=$S(e)),this.originValidationPromises[s]}get _shouldInitProactively(){return Wv()||Qv()||Cm()}}const xA=vA;var __="@firebase/auth",v_="1.11.1";class bA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const s=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,s),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const s=this.internalListeners.get(e);s&&(this.internalListeners.delete(e),s(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function EA(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TA(i){Gr(new Pa("auth",(e,{options:s})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=r.options;xe(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:f,authDomain:p,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:e1(i)},v=new W2(r,o,u,_);return aS(v,s),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,s,r)=>{e.getProvider("auth-internal").initialize()})),Gr(new Pa("auth-internal",e=>{const s=uh(e.getProvider("auth").getImmediate());return(r=>new bA(r))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yi(__,v_,EA(i)),Yi(__,v_,"esm2020")}const SA=300,AA=Iv("authIdTokenMaxAge")||SA;let x_=null;const wA=i=>async e=>{const s=e&&await e.getIdTokenResult(),r=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(r&&r>AA)return;const o=s?.token;x_!==o&&(x_=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function NA(i=Vv()){const e=Tm(i,"auth");if(e.isInitialized())return e.getImmediate();const s=iS(i,{popupRedirectResolver:xA,persistence:[kS,vS,l1]}),r=Iv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=wA(u.toString());mS(s,f,()=>f(s.currentUser)),fS(s,p=>f(p))}}const o=Rv("auth");return o&&rS(s,`http://${o}`),s}function RA(){return document.getElementsByTagName("head")?.[0]??document}eS({loadJS(i){return new Promise((e,s)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=o=>{const u=Wn("internal-error");u.customData=o,s(u)},r.type="text/javascript",r.charset="UTF-8",RA().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TA("Browser");var CA="firebase",IA="12.6.0";Yi(CA,IA,"app");var b_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qi,g1;(function(){var i;function e(I,E){function w(){}w.prototype=E.prototype,I.F=E.prototype,I.prototype=new w,I.prototype.constructor=I,I.D=function(k,N,M){for(var R=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)R[Me-2]=arguments[Me];return E.prototype[N].apply(k,R)}}function s(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,s),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,E,w){w||(w=0);const k=Array(16);if(typeof E=="string")for(var N=0;N<16;++N)k[N]=E.charCodeAt(w++)|E.charCodeAt(w++)<<8|E.charCodeAt(w++)<<16|E.charCodeAt(w++)<<24;else for(N=0;N<16;++N)k[N]=E[w++]|E[w++]<<8|E[w++]<<16|E[w++]<<24;E=I.g[0],w=I.g[1],N=I.g[2];let M=I.g[3],R;R=E+(M^w&(N^M))+k[0]+3614090360&4294967295,E=w+(R<<7&4294967295|R>>>25),R=M+(N^E&(w^N))+k[1]+3905402710&4294967295,M=E+(R<<12&4294967295|R>>>20),R=N+(w^M&(E^w))+k[2]+606105819&4294967295,N=M+(R<<17&4294967295|R>>>15),R=w+(E^N&(M^E))+k[3]+3250441966&4294967295,w=N+(R<<22&4294967295|R>>>10),R=E+(M^w&(N^M))+k[4]+4118548399&4294967295,E=w+(R<<7&4294967295|R>>>25),R=M+(N^E&(w^N))+k[5]+1200080426&4294967295,M=E+(R<<12&4294967295|R>>>20),R=N+(w^M&(E^w))+k[6]+2821735955&4294967295,N=M+(R<<17&4294967295|R>>>15),R=w+(E^N&(M^E))+k[7]+4249261313&4294967295,w=N+(R<<22&4294967295|R>>>10),R=E+(M^w&(N^M))+k[8]+1770035416&4294967295,E=w+(R<<7&4294967295|R>>>25),R=M+(N^E&(w^N))+k[9]+2336552879&4294967295,M=E+(R<<12&4294967295|R>>>20),R=N+(w^M&(E^w))+k[10]+4294925233&4294967295,N=M+(R<<17&4294967295|R>>>15),R=w+(E^N&(M^E))+k[11]+2304563134&4294967295,w=N+(R<<22&4294967295|R>>>10),R=E+(M^w&(N^M))+k[12]+1804603682&4294967295,E=w+(R<<7&4294967295|R>>>25),R=M+(N^E&(w^N))+k[13]+4254626195&4294967295,M=E+(R<<12&4294967295|R>>>20),R=N+(w^M&(E^w))+k[14]+2792965006&4294967295,N=M+(R<<17&4294967295|R>>>15),R=w+(E^N&(M^E))+k[15]+1236535329&4294967295,w=N+(R<<22&4294967295|R>>>10),R=E+(N^M&(w^N))+k[1]+4129170786&4294967295,E=w+(R<<5&4294967295|R>>>27),R=M+(w^N&(E^w))+k[6]+3225465664&4294967295,M=E+(R<<9&4294967295|R>>>23),R=N+(E^w&(M^E))+k[11]+643717713&4294967295,N=M+(R<<14&4294967295|R>>>18),R=w+(M^E&(N^M))+k[0]+3921069994&4294967295,w=N+(R<<20&4294967295|R>>>12),R=E+(N^M&(w^N))+k[5]+3593408605&4294967295,E=w+(R<<5&4294967295|R>>>27),R=M+(w^N&(E^w))+k[10]+38016083&4294967295,M=E+(R<<9&4294967295|R>>>23),R=N+(E^w&(M^E))+k[15]+3634488961&4294967295,N=M+(R<<14&4294967295|R>>>18),R=w+(M^E&(N^M))+k[4]+3889429448&4294967295,w=N+(R<<20&4294967295|R>>>12),R=E+(N^M&(w^N))+k[9]+568446438&4294967295,E=w+(R<<5&4294967295|R>>>27),R=M+(w^N&(E^w))+k[14]+3275163606&4294967295,M=E+(R<<9&4294967295|R>>>23),R=N+(E^w&(M^E))+k[3]+4107603335&4294967295,N=M+(R<<14&4294967295|R>>>18),R=w+(M^E&(N^M))+k[8]+1163531501&4294967295,w=N+(R<<20&4294967295|R>>>12),R=E+(N^M&(w^N))+k[13]+2850285829&4294967295,E=w+(R<<5&4294967295|R>>>27),R=M+(w^N&(E^w))+k[2]+4243563512&4294967295,M=E+(R<<9&4294967295|R>>>23),R=N+(E^w&(M^E))+k[7]+1735328473&4294967295,N=M+(R<<14&4294967295|R>>>18),R=w+(M^E&(N^M))+k[12]+2368359562&4294967295,w=N+(R<<20&4294967295|R>>>12),R=E+(w^N^M)+k[5]+4294588738&4294967295,E=w+(R<<4&4294967295|R>>>28),R=M+(E^w^N)+k[8]+2272392833&4294967295,M=E+(R<<11&4294967295|R>>>21),R=N+(M^E^w)+k[11]+1839030562&4294967295,N=M+(R<<16&4294967295|R>>>16),R=w+(N^M^E)+k[14]+4259657740&4294967295,w=N+(R<<23&4294967295|R>>>9),R=E+(w^N^M)+k[1]+2763975236&4294967295,E=w+(R<<4&4294967295|R>>>28),R=M+(E^w^N)+k[4]+1272893353&4294967295,M=E+(R<<11&4294967295|R>>>21),R=N+(M^E^w)+k[7]+4139469664&4294967295,N=M+(R<<16&4294967295|R>>>16),R=w+(N^M^E)+k[10]+3200236656&4294967295,w=N+(R<<23&4294967295|R>>>9),R=E+(w^N^M)+k[13]+681279174&4294967295,E=w+(R<<4&4294967295|R>>>28),R=M+(E^w^N)+k[0]+3936430074&4294967295,M=E+(R<<11&4294967295|R>>>21),R=N+(M^E^w)+k[3]+3572445317&4294967295,N=M+(R<<16&4294967295|R>>>16),R=w+(N^M^E)+k[6]+76029189&4294967295,w=N+(R<<23&4294967295|R>>>9),R=E+(w^N^M)+k[9]+3654602809&4294967295,E=w+(R<<4&4294967295|R>>>28),R=M+(E^w^N)+k[12]+3873151461&4294967295,M=E+(R<<11&4294967295|R>>>21),R=N+(M^E^w)+k[15]+530742520&4294967295,N=M+(R<<16&4294967295|R>>>16),R=w+(N^M^E)+k[2]+3299628645&4294967295,w=N+(R<<23&4294967295|R>>>9),R=E+(N^(w|~M))+k[0]+4096336452&4294967295,E=w+(R<<6&4294967295|R>>>26),R=M+(w^(E|~N))+k[7]+1126891415&4294967295,M=E+(R<<10&4294967295|R>>>22),R=N+(E^(M|~w))+k[14]+2878612391&4294967295,N=M+(R<<15&4294967295|R>>>17),R=w+(M^(N|~E))+k[5]+4237533241&4294967295,w=N+(R<<21&4294967295|R>>>11),R=E+(N^(w|~M))+k[12]+1700485571&4294967295,E=w+(R<<6&4294967295|R>>>26),R=M+(w^(E|~N))+k[3]+2399980690&4294967295,M=E+(R<<10&4294967295|R>>>22),R=N+(E^(M|~w))+k[10]+4293915773&4294967295,N=M+(R<<15&4294967295|R>>>17),R=w+(M^(N|~E))+k[1]+2240044497&4294967295,w=N+(R<<21&4294967295|R>>>11),R=E+(N^(w|~M))+k[8]+1873313359&4294967295,E=w+(R<<6&4294967295|R>>>26),R=M+(w^(E|~N))+k[15]+4264355552&4294967295,M=E+(R<<10&4294967295|R>>>22),R=N+(E^(M|~w))+k[6]+2734768916&4294967295,N=M+(R<<15&4294967295|R>>>17),R=w+(M^(N|~E))+k[13]+1309151649&4294967295,w=N+(R<<21&4294967295|R>>>11),R=E+(N^(w|~M))+k[4]+4149444226&4294967295,E=w+(R<<6&4294967295|R>>>26),R=M+(w^(E|~N))+k[11]+3174756917&4294967295,M=E+(R<<10&4294967295|R>>>22),R=N+(E^(M|~w))+k[2]+718787259&4294967295,N=M+(R<<15&4294967295|R>>>17),R=w+(M^(N|~E))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+E&4294967295,I.g[1]=I.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+M&4294967295}r.prototype.v=function(I,E){E===void 0&&(E=I.length);const w=E-this.blockSize,k=this.C;let N=this.h,M=0;for(;M<E;){if(N==0)for(;M<=w;)o(this,I,M),M+=this.blockSize;if(typeof I=="string"){for(;M<E;)if(k[N++]=I.charCodeAt(M++),N==this.blockSize){o(this,k),N=0;break}}else for(;M<E;)if(k[N++]=I[M++],N==this.blockSize){o(this,k),N=0;break}}this.h=N,this.o+=E},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var E=1;E<I.length-8;++E)I[E]=0;E=this.o*8;for(var w=I.length-8;w<I.length;++w)I[w]=E&255,E/=256;for(this.v(I),I=Array(16),E=0,w=0;w<4;++w)for(let k=0;k<32;k+=8)I[E++]=this.g[w]>>>k&255;return I};function u(I,E){var w=p;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=E(I)}function f(I,E){this.h=E;const w=[];let k=!0;for(let N=I.length-1;N>=0;N--){const M=I[N]|0;k&&M==E||(w[N]=M,k=!1)}this.g=w}var p={};function _(I){return-128<=I&&I<128?u(I,function(E){return new f([E|0],E<0?-1:0)}):new f([I|0],I<0?-1:0)}function v(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return P(v(-I));const E=[];let w=1;for(let k=0;I>=w;k++)E[k]=I/w|0,w*=4294967296;return new f(E,0)}function T(I,E){if(I.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(I.charAt(0)=="-")return P(T(I.substring(1),E));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=v(Math.pow(E,8));let k=A;for(let M=0;M<I.length;M+=8){var N=Math.min(8,I.length-M);const R=parseInt(I.substring(M,M+N),E);N<8?(N=v(Math.pow(E,N)),k=k.j(N).add(v(R))):(k=k.j(w),k=k.add(v(R)))}return k}var A=_(0),C=_(1),z=_(16777216);i=f.prototype,i.m=function(){if(Y(this))return-P(this).m();let I=0,E=1;for(let w=0;w<this.g.length;w++){const k=this.i(w);I+=(k>=0?k:4294967296+k)*E,E*=4294967296}return I},i.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(F(this))return"0";if(Y(this))return"-"+P(this).toString(I);const E=v(Math.pow(I,6));var w=this;let k="";for(;;){const N=ie(w,E).g;w=se(w,N.j(E));let M=((w.g.length>0?w.g[0]:w.h)>>>0).toString(I);if(w=N,F(w))return M+k;for(;M.length<6;)M="0"+M;k=M+k}},i.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function F(I){if(I.h!=0)return!1;for(let E=0;E<I.g.length;E++)if(I.g[E]!=0)return!1;return!0}function Y(I){return I.h==-1}i.l=function(I){return I=se(this,I),Y(I)?-1:F(I)?0:1};function P(I){const E=I.g.length,w=[];for(let k=0;k<E;k++)w[k]=~I.g[k];return new f(w,~I.h).add(C)}i.abs=function(){return Y(this)?P(this):this},i.add=function(I){const E=Math.max(this.g.length,I.g.length),w=[];let k=0;for(let N=0;N<=E;N++){let M=k+(this.i(N)&65535)+(I.i(N)&65535),R=(M>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);k=R>>>16,M&=65535,R&=65535,w[N]=R<<16|M}return new f(w,w[w.length-1]&-2147483648?-1:0)};function se(I,E){return I.add(P(E))}i.j=function(I){if(F(this)||F(I))return A;if(Y(this))return Y(I)?P(this).j(P(I)):P(P(this).j(I));if(Y(I))return P(this.j(P(I)));if(this.l(z)<0&&I.l(z)<0)return v(this.m()*I.m());const E=this.g.length+I.g.length,w=[];for(var k=0;k<2*E;k++)w[k]=0;for(k=0;k<this.g.length;k++)for(let N=0;N<I.g.length;N++){const M=this.i(k)>>>16,R=this.i(k)&65535,Me=I.i(N)>>>16,ze=I.i(N)&65535;w[2*k+2*N]+=R*ze,L(w,2*k+2*N),w[2*k+2*N+1]+=M*ze,L(w,2*k+2*N+1),w[2*k+2*N+1]+=R*Me,L(w,2*k+2*N+1),w[2*k+2*N+2]+=M*Me,L(w,2*k+2*N+2)}for(I=0;I<E;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=E;I<2*E;I++)w[I]=0;return new f(w,0)};function L(I,E){for(;(I[E]&65535)!=I[E];)I[E+1]+=I[E]>>>16,I[E]&=65535,E++}function V(I,E){this.g=I,this.h=E}function ie(I,E){if(F(E))throw Error("division by zero");if(F(I))return new V(A,A);if(Y(I))return E=ie(P(I),E),new V(P(E.g),P(E.h));if(Y(E))return E=ie(I,P(E)),new V(P(E.g),E.h);if(I.g.length>30){if(Y(I)||Y(E))throw Error("slowDivide_ only works with positive integers.");for(var w=C,k=E;k.l(I)<=0;)w=ce(w),k=ce(k);var N=ae(w,1),M=ae(k,1);for(k=ae(k,2),w=ae(w,2);!F(k);){var R=M.add(k);R.l(I)<=0&&(N=N.add(w),M=R),k=ae(k,1),w=ae(w,1)}return E=se(I,N.j(E)),new V(N,E)}for(N=A;I.l(E)>=0;){for(w=Math.max(1,Math.floor(I.m()/E.m())),k=Math.ceil(Math.log(w)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),M=v(w),R=M.j(E);Y(R)||R.l(I)>0;)w-=k,M=v(w),R=M.j(E);F(M)&&(M=C),N=N.add(M),I=se(I,R)}return new V(N,I)}i.B=function(I){return ie(this,I).h},i.and=function(I){const E=Math.max(this.g.length,I.g.length),w=[];for(let k=0;k<E;k++)w[k]=this.i(k)&I.i(k);return new f(w,this.h&I.h)},i.or=function(I){const E=Math.max(this.g.length,I.g.length),w=[];for(let k=0;k<E;k++)w[k]=this.i(k)|I.i(k);return new f(w,this.h|I.h)},i.xor=function(I){const E=Math.max(this.g.length,I.g.length),w=[];for(let k=0;k<E;k++)w[k]=this.i(k)^I.i(k);return new f(w,this.h^I.h)};function ce(I){const E=I.g.length+1,w=[];for(let k=0;k<E;k++)w[k]=I.i(k)<<1|I.i(k-1)>>>31;return new f(w,I.h)}function ae(I,E){const w=E>>5;E%=32;const k=I.g.length-w,N=[];for(let M=0;M<k;M++)N[M]=E>0?I.i(M+w)>>>E|I.i(M+w+1)<<32-E:I.i(M+w);return new f(N,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,g1=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=v,f.fromString=T,Qi=f}).apply(typeof b_<"u"?b_:typeof self<"u"?self:typeof window<"u"?window:{});var Nu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var p1,po,y1,Vu,nm,_1,v1,x1;(function(){var i,e=Object.defineProperty;function s(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nu=="object"&&Nu];for(var g=0;g<c.length;++g){var x=c[g];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=s(this);function o(c,g){if(g)e:{var x=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in x))break e;x=x[B]}c=c[c.length-1],S=x[c],g=g(S),g!=S&&g!=null&&e(x,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var x=[],S;for(S in g)Object.prototype.hasOwnProperty.call(g,S)&&x.push([S,g[S]]);return x}});var u=u||{},f=this||self;function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function _(c,g,x){return c.call.apply(c.bind,arguments)}function v(c,g,x){return v=_,v.apply(null,arguments)}function T(c,g){var x=Array.prototype.slice.call(arguments,1);return function(){var S=x.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function A(c,g){function x(){}x.prototype=g.prototype,c.Z=g.prototype,c.prototype=new x,c.prototype.constructor=c,c.Ob=function(S,B,Q){for(var re=Array(arguments.length-2),we=2;we<arguments.length;we++)re[we-2]=arguments[we];return g.prototype[B].apply(S,re)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function z(c){const g=c.length;if(g>0){const x=Array(g);for(let S=0;S<g;S++)x[S]=c[S];return x}return[]}function F(c,g){for(let S=1;S<arguments.length;S++){const B=arguments[S];var x=typeof B;if(x=x!="object"?x:B?Array.isArray(B)?"array":x:"null",x=="array"||x=="object"&&typeof B.length=="number"){x=c.length||0;const Q=B.length||0;c.length=x+Q;for(let re=0;re<Q;re++)c[x+re]=B[re]}else c.push(B)}}class Y{constructor(g,x){this.i=g,this.j=x,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function P(c){f.setTimeout(()=>{throw c},0)}function se(){var c=I;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class L{constructor(){this.h=this.g=null}add(g,x){const S=V.get();S.set(g,x),this.h?this.h.next=S:this.g=S,this.h=S}}var V=new Y(()=>new ie,c=>c.reset());class ie{constructor(){this.next=this.g=this.h=null}set(g,x){this.h=g,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,ae=!1,I=new L,E=()=>{const c=Promise.resolve(void 0);ce=()=>{c.then(w)}};function w(){for(var c;c=se();){try{c.h.call(c.g)}catch(x){P(x)}var g=V;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}ae=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const x=()=>{};f.addEventListener("test",x,g),f.removeEventListener("test",x,g)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function Me(c,g){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}A(Me,N),Me.prototype.init=function(c,g){const x=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(x=="mouseover"?g=c.fromElement:x=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Me.Z.h.call(this)},Me.prototype.h=function(){Me.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ze="closure_listenable_"+(Math.random()*1e6|0),X=0;function le(c,g,x,S,B){this.listener=c,this.proxy=null,this.src=g,this.type=x,this.capture=!!S,this.ha=B,this.key=++X,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ie(c,g,x){for(const S in c)g.call(x,c[S],S,c)}function He(c,g){for(const x in c)g.call(void 0,c[x],x,c)}function O(c){const g={};for(const x in c)g[x]=c[x];return g}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,g){let x,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(x in S)c[x]=S[x];for(let Q=0;Q<ee.length;Q++)x=ee[Q],Object.prototype.hasOwnProperty.call(S,x)&&(c[x]=S[x])}}function he(c){this.src=c,this.g={},this.h=0}he.prototype.add=function(c,g,x,S,B){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const re=Re(c,g,S,B);return re>-1?(g=c[re],x||(g.fa=!1)):(g=new le(g,this.src,Q,!!S,B),g.fa=x,c.push(g)),g};function be(c,g){const x=g.type;if(x in c.g){var S=c.g[x],B=Array.prototype.indexOf.call(S,g,void 0),Q;(Q=B>=0)&&Array.prototype.splice.call(S,B,1),Q&&(me(g),c.g[x].length==0&&(delete c.g[x],c.h--))}}function Re(c,g,x,S){for(let B=0;B<c.length;++B){const Q=c[B];if(!Q.da&&Q.listener==g&&Q.capture==!!x&&Q.ha==S)return B}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Ct={};function rt(c,g,x,S,B){if(Array.isArray(g)){for(let Q=0;Q<g.length;Q++)rt(c,g[Q],x,S,B);return null}return x=hl(x),c&&c[ze]?c.J(g,x,p(S)?!!S.capture:!1,B):ta(c,g,x,!1,S,B)}function ta(c,g,x,S,B,Q){if(!g)throw Error("Invalid event type");const re=p(B)?!!B.capture:!!B;let we=na(c);if(we||(c[Be]=we=new he(c)),x=we.add(g,x,S,re,Q),x.proxy)return x;if(S=Qa(),x.proxy=S,S.src=c,S.listener=x,c.addEventListener)M||(B=re),B===void 0&&(B=!1),c.addEventListener(g.toString(),S,B);else if(c.attachEvent)c.attachEvent(es(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Qa(){function c(x){return g.call(c.src,c.listener,x)}const g=cl;return c}function Ka(c,g,x,S,B){if(Array.isArray(g))for(var Q=0;Q<g.length;Q++)Ka(c,g[Q],x,S,B);else S=p(S)?!!S.capture:!!S,x=hl(x),c&&c[ze]?(c=c.i,Q=String(g).toString(),Q in c.g&&(g=c.g[Q],x=Re(g,x,S,B),x>-1&&(me(g[x]),Array.prototype.splice.call(g,x,1),g.length==0&&(delete c.g[Q],c.h--)))):c&&(c=na(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Re(g,x,S,B)),(x=c>-1?g[c]:null)&&Xa(x))}function Xa(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ze])be(g.i,c);else{var x=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(x,S,c.capture):g.detachEvent?g.detachEvent(es(x),S):g.addListener&&g.removeListener&&g.removeListener(S),(x=na(g))?(be(x,c),x.h==0&&(x.src=null,g[Be]=null)):me(c)}}}function es(c){return c in Ct?Ct[c]:Ct[c]="on"+c}function cl(c,g){if(c.da)c=!0;else{g=new Me(g,this);const x=c.listener,S=c.ha||c.src;c.fa&&Xa(c),c=x.call(S,g)}return c}function na(c){return c=c[Be],c instanceof he?c:null}var ul="__closure_events_fn_"+(Math.random()*1e9>>>0);function hl(c){return typeof c=="function"?c:(c[ul]||(c[ul]=function(g){return c.handleEvent(g)}),c[ul])}function _t(){k.call(this),this.i=new he(this),this.M=this,this.G=null}A(_t,k),_t.prototype[ze]=!0,_t.prototype.removeEventListener=function(c,g,x,S){Ka(this,c,g,x,S)};function It(c,g){var x,S=c.G;if(S)for(x=[];S;S=S.G)x.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new N(g,c);else if(g instanceof N)g.target=g.target||c;else{var B=g;g=new N(S,c),oe(g,B)}B=!0;let Q,re;if(x)for(re=x.length-1;re>=0;re--)Q=g.g=x[re],B=ai(Q,S,!0,g)&&B;if(Q=g.g=c,B=ai(Q,S,!0,g)&&B,B=ai(Q,S,!1,g)&&B,x)for(re=0;re<x.length;re++)Q=g.g=x[re],B=ai(Q,S,!1,g)&&B}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const x=c.g[g];for(let S=0;S<x.length;S++)me(x[S]);delete c.g[g],c.h--}}this.G=null},_t.prototype.J=function(c,g,x,S){return this.i.add(String(c),g,!1,x,S)},_t.prototype.K=function(c,g,x,S){return this.i.add(String(c),g,!0,x,S)};function ai(c,g,x,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let B=!0;for(let Q=0;Q<g.length;++Q){const re=g[Q];if(re&&!re.da&&re.capture==x){const we=re.listener,mt=re.ha||re.src;re.fa&&be(c.i,re),B=we.call(mt,S)!==!1&&B}}return B&&!S.defaultPrevented}function Ch(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=v(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function Zo(c){c.g=Ch(()=>{c.g=null,c.i&&(c.i=!1,Zo(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class en extends k{constructor(g,x){super(),this.m=g,this.l=x,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Zo(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sa(c){k.call(this),this.h=c,this.g={}}A(sa,k);var dl=[];function fl(c){Ie(c.g,function(g,x){this.g.hasOwnProperty(x)&&Xa(g)},c),c.g={}}sa.prototype.N=function(){sa.Z.N.call(this),fl(this)},sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ri=f.JSON.stringify,Ih=f.JSON.parse,Jo=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Wo(){}function ec(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pt(){N.call(this,"d")}A(Pt,N);function bn(){N.call(this,"c")}A(bn,N);var ft={},tc=null;function $a(){return tc=tc||new _t}ft.Ia="serverreachability";function nc(c){N.call(this,ft.Ia,c)}A(nc,N);function ts(c){const g=$a();It(g,new nc(g))}ft.STAT_EVENT="statevent";function ia(c,g){N.call(this,ft.STAT_EVENT,c),this.stat=g}A(ia,N);function vt(c){const g=$a();It(g,new ia(g,c))}ft.Ja="timingevent";function ns(c,g){N.call(this,ft.Ja,c),this.size=g}A(ns,N);function ss(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function kh(c,g,x,S,B,Q){c.info(function(){if(c.g)if(Q){var re="",we=Q.split("&");for(let Ye=0;Ye<we.length;Ye++){var mt=we[Ye].split("=");if(mt.length>1){const lt=mt[0];mt=mt[1];const An=lt.split("_");re=An.length>=2&&An[1]=="type"?re+(lt+"="+mt+"&"):re+(lt+"=redacted&")}}}else re=null;else re=Q;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+g+`
`+x+`
`+re})}function sc(c,g,x,S,B,Q,re){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+g+`
`+x+`
`+Q+" "+re})}function is(c,g,x,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Dh(c,x)+(S?" "+S:"")})}function aa(c,g){c.info(function(){return"TIMEOUT: "+g})}Pn.prototype.info=function(){};function Dh(c,g){if(!c.g)return g;if(!g)return null;try{const Q=JSON.parse(g);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var x=Q[c];if(!(x.length<2)){var S=x[1];if(Array.isArray(S)&&!(S.length<1)){var B=S[0];if(B!="noop"&&B!="stop"&&B!="close")for(let re=1;re<S.length;re++)S[re]=""}}}}return ri(Q)}catch{return g}}var ra={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ml={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gl;function la(){}A(la,Wo),la.prototype.g=function(){return new XMLHttpRequest},gl=new la;function ks(c){return encodeURIComponent(String(c))}function ic(c){var g=1;c=c.split(":");const x=[];for(;g>0&&c.length;)x.push(c.shift()),g--;return c.length&&x.push(c.join(":")),x}function zn(c,g,x,S){this.j=c,this.i=g,this.l=x,this.S=S||1,this.V=new sa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var xt={},jt={};function as(c,g,x){c.M=1,c.A=oa(Et(g)),c.u=x,c.R=!0,Za(c,null)}function Za(c,g){c.F=Date.now(),rs(c),c.B=Et(c.A);var x=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),tr(x.i,"t",S),c.C=0,x=c.j.L,c.h=new Bn,c.g=vc(c.j,x?g:null,!c.u),c.P>0&&(c.O=new en(v(c.Y,c,c.g),c.P)),g=c.V,x=c.g,S=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(dl[0]=B.toString()),B=dl);for(let Q=0;Q<B.length;Q++){const re=rt(x,B[Q],S||g.handleEvent,!1,g.h||g);if(!re)break;g.g[re.key]=re}g=c.J?O(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),ts(),kh(c.i,c.v,c.B,c.l,c.S,c.u)}zn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Fn(c)==3?g.j():this.Y(c)},zn.prototype.Y=function(c){try{if(c==this.g)e:{const we=Fn(this.g),mt=this.g.ya(),Ye=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||zt(this.g)))){this.K||we!=4||mt==7||(mt==8||Ye<=0?ts(3):ts(2)),ls(this);var g=this.g.ca();this.X=g;var x=Mh(this);if(this.o=g==200,sc(this.i,this.v,this.B,this.l,this.S,we,g),this.o){if(this.U&&!this.L){t:{if(this.g){var S,B=this.g;if((S=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(S)){var Q=S;break t}}Q=null}if(c=Q)is(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,os(this,c);else{this.o=!1,this.m=3,vt(12),dn(this),En(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<x.length;)if(lt=rc(this,x),lt==jt){we==4&&(this.m=4,vt(14),c=!1),is(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==xt){this.m=4,vt(15),is(this.i,this.l,x,"[Invalid Chunk]"),c=!1;break}else is(this.i,this.l,lt,null),os(this,lt);if(ac(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||x.length!=0||this.h.h||(this.m=1,vt(16),c=!1),this.o=this.o&&c,!c)is(this.i,this.l,x,"[Invalid Chunked Response]"),dn(this),En(this);else if(x.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Il(re),re.P=!0,vt(11))}}else is(this.i,this.l,x,null),os(this,x);we==4&&dn(this),this.o&&!this.K&&(we==4?gc(this.j,this):(this.o=!1,rs(this)))}else Ms(this.g),g==400&&x.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),dn(this),En(this)}}}catch{}finally{}};function Mh(c){if(!ac(c))return c.g.la();const g=zt(c.g);if(g==="")return"";let x="";const S=g.length,B=Fn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return dn(c),En(c),"";c.h.i=new f.TextDecoder}for(let Q=0;Q<S;Q++)c.h.h=!0,x+=c.h.i.decode(g[Q],{stream:!(B&&Q==S-1)});return g.length=0,c.h.g+=x,c.C=0,c.h.g}function ac(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function rc(c,g){var x=c.C,S=g.indexOf(`
`,x);return S==-1?jt:(x=Number(g.substring(x,S)),isNaN(x)?xt:(S+=1,S+x>g.length?jt:(g=g.slice(S,S+x),c.C=S+x,g)))}zn.prototype.cancel=function(){this.K=!0,dn(this)};function rs(c){c.T=Date.now()+c.H,Ja(c,c.H)}function Ja(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ss(v(c.aa,c),g)}function ls(c){c.D&&(f.clearTimeout(c.D),c.D=null)}zn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(aa(this.i,this.B),this.M!=2&&(ts(),vt(17)),dn(this),this.m=2,En(this)):Ja(this,this.T-c)};function En(c){c.j.I==0||c.K||gc(c.j,c)}function dn(c){ls(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,fl(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function os(c,g){try{var x=c.j;if(x.I!=0&&(x.g==c||us(x.h,c))){if(!c.L&&us(x.h,c)&&x.I==3){try{var S=x.Ba.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<c.F)rr(x),mi(x);else break e;ga(x),vt(18)}}else x.xa=B[1],0<x.xa-x.K&&B[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=ss(v(x.Va,x),6e3));cs(x.h)<=1&&x.ta&&(x.ta=void 0)}else ps(x,11)}else if((c.L||x.g==c)&&rr(x),!R(g))for(B=x.Ba.g.parse(g),g=0;g<B.length;g++){let Ye=B[g];const lt=Ye[0];if(!(lt<=x.K))if(x.K=lt,Ye=Ye[1],x.I==2)if(Ye[0]=="c"){x.M=Ye[1],x.ba=Ye[2];const An=Ye[3];An!=null&&(x.ka=An,x.j.info("VER="+x.ka));const ys=Ye[4];ys!=null&&(x.za=ys,x.j.info("SVER="+x.za));const Gn=Ye[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(S=1.5*Gn,x.O=S,x.j.info("backChannelRequestTimeoutMs_="+S)),S=x;const Yn=c.g;if(Yn){const pa=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pa){var Q=S.h;Q.g||pa.indexOf("spdy")==-1&&pa.indexOf("quic")==-1&&pa.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(_l(Q,Q.h),Q.h=null))}if(S.G){const lr=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;lr&&(S.wa=lr,Xe(S.J,S.G,lr))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-c.F,x.j.info("Handshake RTT: "+x.T+"ms")),S=x;var re=c;if(S.na=_c(S,S.L?S.ba:null,S.W),re.L){vl(S.h,re);var we=re,mt=S.O;mt&&(we.H=mt),we.D&&(ls(we),rs(we)),S.g=re}else fc(S);x.i.length>0&&gs(x)}else Ye[0]!="stop"&&Ye[0]!="close"||ps(x,7);else x.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?ps(x,7):Rl(x):Ye[0]!="noop"&&x.l&&x.l.qa(Ye),x.A=0)}}ts(4)}catch{}}var bt=class{constructor(c,g){this.g=c,this.map=g}};function pl(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function cs(c){return c.h?1:c.g?c.g.size:0}function us(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function _l(c,g){c.g?c.g.add(g):c.h=g}function vl(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}pl.prototype.cancel=function(){if(this.i=xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function xl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const x of c.g.values())g=g.concat(x.G);return g}return z(c.i)}var lc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wa(c,g){if(c){c=c.split("&");for(let x=0;x<c.length;x++){const S=c[x].indexOf("=");let B,Q=null;S>=0?(B=c[x].substring(0,S),Q=c[x].substring(S+1)):B=c[x],g(B,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function fn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof fn?(this.l=c.l,Ot(this,c.j),this.o=c.o,this.g=c.g,li(this,c.u),this.h=c.h,bl(this,hc(c.i)),this.m=c.m):c&&(g=String(c).match(lc))?(this.l=!1,Ot(this,g[1]||"",!0),this.o=hs(g[2]||""),this.g=hs(g[3]||"",!0),li(this,g[4]),this.h=hs(g[5]||"",!0),bl(this,g[6]||"",!0),this.m=hs(g[7]||"")):(this.l=!1,this.i=new ci(null,this.l))}fn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(ca(g,er,!0),":");var x=this.g;return(x||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ca(g,er,!0),"@"),c.push(ks(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&c.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&c.push("/"),c.push(ca(x,x.charAt(0)=="/"?El:oc,!0))),(x=this.i.toString())&&c.push("?",x),(x=this.m)&&c.push("#",ca(x,cc)),c.join("")},fn.prototype.resolve=function(c){const g=Et(this);let x=!!c.j;x?Ot(g,c.j):x=!!c.o,x?g.o=c.o:x=!!c.g,x?g.g=c.g:x=c.u!=null;var S=c.h;if(x)li(g,c.u);else if(x=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var B=g.h.lastIndexOf("/");B!=-1&&(S=g.h.slice(0,B+1)+S)}if(B=S,B==".."||B==".")S="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){S=B.lastIndexOf("/",0)==0,B=B.split("/");const Q=[];for(let re=0;re<B.length;){const we=B[re++];we=="."?S&&re==B.length&&Q.push(""):we==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),S&&re==B.length&&Q.push("")):(Q.push(we),S=!0)}S=Q.join("/")}else S=B}return x?g.h=S:x=c.i.toString()!=="",x?bl(g,hc(c.i)):x=!!c.m,x&&(g.m=c.m),g};function Et(c){return new fn(c)}function Ot(c,g,x){c.j=x?hs(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function li(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function bl(c,g,x){g instanceof ci?(c.i=g,nr(c.i,c.l)):(x||(g=ca(g,oi)),c.i=new ci(g,c.l))}function Xe(c,g,x){c.i.set(g,x)}function oa(c){return Xe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function hs(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ca(c,g,x){return typeof c=="string"?(c=encodeURI(c).replace(g,sn),x&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var er=/[#\/\?@]/g,oc=/[#\?:]/g,El=/[#\?]/g,oi=/[#\?@]/g,cc=/#/g;function ci(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function an(c){c.g||(c.g=new Map,c.h=0,c.i&&Wa(c.i,function(g,x){c.add(decodeURIComponent(g.replace(/\+/g," ")),x)}))}i=ci.prototype,i.add=function(c,g){an(this),this.i=null,c=ui(this,c);let x=this.g.get(c);return x||this.g.set(c,x=[]),x.push(g),this.h+=1,this};function uc(c,g){an(c),g=ui(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Tl(c,g){return an(c),g=ui(c,g),c.g.has(g)}i.forEach=function(c,g){an(this),this.g.forEach(function(x,S){x.forEach(function(B){c.call(g,B,S,this)},this)},this)};function Sl(c,g){an(c);let x=[];if(typeof g=="string")Tl(c,g)&&(x=x.concat(c.g.get(ui(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)x=x.concat(c[g]);return x}i.set=function(c,g){return an(this),this.i=null,c=ui(this,c),Tl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},i.get=function(c,g){return c?(c=Sl(this,c),c.length>0?String(c[0]):g):g};function tr(c,g,x){uc(c,g),x.length>0&&(c.i=null,c.g.set(ui(c,g),z(x)),c.h+=x.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let S=0;S<g.length;S++){var x=g[S];const B=ks(x);x=Sl(this,x);for(let Q=0;Q<x.length;Q++){let re=B;x[Q]!==""&&(re+="="+ks(x[Q])),c.push(re)}}return this.i=c.join("&")};function hc(c){const g=new ci;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function ui(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function nr(c,g){g&&!c.j&&(an(c),c.i=null,c.g.forEach(function(x,S){const B=S.toLowerCase();S!=B&&(uc(this,S),tr(this,B,x))},c)),c.j=g}function qn(c,g){const x=new Pn;if(f.Image){const S=new Image;S.onload=T(Tn,x,"TestLoadImage: loaded",!0,g,S),S.onerror=T(Tn,x,"TestLoadImage: error",!1,g,S),S.onabort=T(Tn,x,"TestLoadImage: abort",!1,g,S),S.ontimeout=T(Tn,x,"TestLoadImage: timeout",!1,g,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function Al(c,g){const x=new Pn,S=new AbortController,B=setTimeout(()=>{S.abort(),Tn(x,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(Q=>{clearTimeout(B),Q.ok?Tn(x,"TestPingServer: ok",!0,g):Tn(x,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(B),Tn(x,"TestPingServer: error",!1,g)})}function Tn(c,g,x,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(x)}catch{}}function hi(){this.g=new Jo}function ds(c){this.i=c.Sb||null,this.h=c.ab||!1}A(ds,Wo),ds.prototype.g=function(){return new ua(this.i,this.h)};function ua(c,g){_t.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(ua,_t),i=ua.prototype,i.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Hn(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,di(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sr(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function sr(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?di(this):Hn(this),this.readyState==3&&sr(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,di(this))},i.Na=function(c){this.g&&(this.response=c,di(this))},i.ga=function(){this.g&&di(this)};function di(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Hn(c)}i.setRequestHeader=function(c,g){this.A.append(c,g)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var x=g.next();!x.done;)x=x.value,c.push(x[0]+": "+x[1]),x=g.next();return c.join(`\r
`)};function Hn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ua.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Sn(c){let g="";return Ie(c,function(x,S){g+=S,g+=":",g+=x,g+=`\r
`}),g}function ha(c,g,x){e:{for(S in x){var S=!1;break e}S=!0}S||(x=Sn(x),typeof c=="string"?x!=null&&ks(x):Xe(c,g,x))}function Je(c){_t.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Je,_t);var fs=/^https?$/i,wl=["POST","PUT"];i=Je.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,g,x,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gl.g(),this.g.onreadystatechange=C(v(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Q){da(this,Q);return}if(c=x||"",x=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)x.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())x.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(x.keys()).find(Q=>Q.toLowerCase()=="content-type"),B=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(wl,g,void 0)>=0)||S||B||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,re]of x)this.g.setRequestHeader(Q,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){da(this,Q)}};function da(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Nl(c),Ds(c)}function Nl(c){c.A||(c.A=!0,It(c,"complete"),It(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,It(this,"complete"),It(this,"abort"),Ds(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ds(this,!0)),Je.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?fa(this):this.Xa())},i.Xa=function(){fa(this)};function fa(c){if(c.h&&typeof u<"u"){if(c.v&&Fn(c)==4)setTimeout(c.Ca.bind(c),0);else if(It(c,"readystatechange"),Fn(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var x;if(!(x=g)){var S;if(S=Q===0){let re=String(c.D).match(lc)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),S=!fs.test(re?re.toLowerCase():"")}x=S}if(x)It(c,"complete"),It(c,"success");else{c.o=6;try{var B=Fn(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",Nl(c)}}finally{Ds(c)}}}}function Ds(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const x=c.g;c.g=null,g||It(c,"ready");try{x.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Ih(g)}};function zt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ms(c){const g={};c=(c.g&&Fn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(R(c[S]))continue;var x=ic(c[S]);const B=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const Q=g[B]||[];g[B]=Q,Q.push(x)}He(g,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ms(c,g,x){return x&&x.internalChannelParams&&x.internalChannelParams[c]||g}function fi(c){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ms("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ms("baseRetryDelayMs",5e3,c),this.Za=ms("retryDelaySeedMs",1e4,c),this.Ta=ms("forwardChannelMaxRetries",2,c),this.va=ms("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new pl(c&&c.concurrentRequestLimit),this.Ba=new hi,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=fi.prototype,i.ka=8,i.I=1,i.connect=function(c,g,x,S){vt(0),this.W=c,this.H=g||{},x&&S!==void 0&&(this.H.OSID=x,this.H.OAID=S),this.F=this.X,this.J=_c(this,null,this.W),gs(this)};function Rl(c){if(ir(c),c.I==3){var g=c.V++,x=Et(c.J);if(Xe(x,"SID",c.M),Xe(x,"RID",g),Xe(x,"TYPE","terminate"),ma(c,x),g=new zn(c,c.j,g),g.M=2,g.A=oa(Et(x)),x=!1,f.navigator&&f.navigator.sendBeacon)try{x=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!x&&f.Image&&(new Image().src=g.A,x=!0),x||(g.g=vc(g.j,null),g.g.ea(g.A)),g.F=Date.now(),rs(g)}yc(c)}function mi(c){c.g&&(Il(c),c.g.cancel(),c.g=null)}function ir(c){mi(c),c.v&&(f.clearTimeout(c.v),c.v=null),rr(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function gs(c){if(!yl(c.h)&&!c.m){c.m=!0;var g=c.Ea;ce||E(),ae||(ce(),ae=!0),I.add(g,c),c.D=0}}function ar(c,g){return cs(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ss(v(c.Ea,c,g),pc(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new zn(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=O(Q),oe(Q,this.U)):Q=this.U),this.u!==null||this.R||(B.J=Q,Q=null),this.S)e:{for(var g=0,x=0;x<this.i.length;x++){t:{var S=this.i[x];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,g>4096){g=x;break e}if(g===4096||x===this.i.length-1){g=x+1;break e}}g=1e3}else g=1e3;g=dc(this,B,g),x=Et(this.J),Xe(x,"RID",c),Xe(x,"CVER",22),this.G&&Xe(x,"X-HTTP-Session-Id",this.G),ma(this,x),Q&&(this.R?g="headers="+ks(Sn(Q))+"&"+g:this.u&&ha(x,this.u,Q)),_l(this.h,B),this.Ra&&Xe(x,"TYPE","init"),this.S?(Xe(x,"$req",g),Xe(x,"SID","null"),B.U=!0,as(B,x,null)):as(B,x,g),this.I=2}}else this.I==3&&(c?Cl(this,c):this.i.length==0||yl(this.h)||Cl(this))};function Cl(c,g){var x;g?x=g.l:x=c.V++;const S=Et(c.J);Xe(S,"SID",c.M),Xe(S,"RID",x),Xe(S,"AID",c.K),ma(c,S),c.u&&c.o&&ha(S,c.u,c.o),x=new zn(c,c.j,x,c.D+1),c.u===null&&(x.J=c.o),g&&(c.i=g.G.concat(c.i)),g=dc(c,x,1e3),x.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),_l(c.h,x),as(x,S,g)}function ma(c,g){c.H&&Ie(c.H,function(x,S){Xe(g,S,x)}),c.l&&Ie({},function(x,S){Xe(g,S,x)})}function dc(c,g,x){x=Math.min(c.i.length,x);const S=c.l?v(c.l.Ka,c.l,c):null;e:{var B=c.i;let we=-1;for(;;){const mt=["count="+x];we==-1?x>0?(we=B[0].g,mt.push("ofs="+we)):we=0:mt.push("ofs="+we);let Ye=!0;for(let lt=0;lt<x;lt++){var Q=B[lt].g;const An=B[lt].map;if(Q-=we,Q<0)we=Math.max(0,B[lt].g-100),Ye=!1;else try{Q="req"+Q+"_"||"";try{var re=An instanceof Map?An:Object.entries(An);for(const[ys,Gn]of re){let Yn=Gn;p(Gn)&&(Yn=ri(Gn)),mt.push(Q+ys+"="+encodeURIComponent(Yn))}}catch(ys){throw mt.push(Q+"type="+encodeURIComponent("_badmap")),ys}}catch{S&&S(An)}}if(Ye){re=mt.join("&");break e}}re=void 0}return c=c.i.splice(0,x),g.G=c,re}function fc(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;ce||E(),ae||(ce(),ae=!0),I.add(g,c),c.A=0}}function ga(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ss(v(c.Da,c),pc(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,mc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ss(v(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),mi(this),mc(this))};function Il(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function mc(c){c.g=new zn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=Et(c.na);Xe(g,"RID","rpc"),Xe(g,"SID",c.M),Xe(g,"AID",c.K),Xe(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Xe(g,"TO",c.ia),Xe(g,"TYPE","xmlhttp"),ma(c,g),c.u&&c.o&&ha(g,c.u,c.o),c.O&&(c.g.H=c.O);var x=c.g;c=c.ba,x.M=1,x.A=oa(Et(g)),x.u=null,x.R=!0,Za(x,c)}i.Va=function(){this.C!=null&&(this.C=null,mi(this),ga(this),vt(19))};function rr(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function gc(c,g){var x=null;if(c.g==g){rr(c),Il(c),c.g=null;var S=2}else if(us(c.h,g))x=g.G,vl(c.h,g),S=1;else return;if(c.I!=0){if(g.o)if(S==1){x=g.u?g.u.length:0,g=Date.now()-g.F;var B=c.D;S=$a(),It(S,new ns(S,x)),gs(c)}else fc(c);else if(B=g.m,B==3||B==0&&g.X>0||!(S==1&&ar(c,g)||S==2&&ga(c)))switch(x&&x.length>0&&(g=c.h,g.i=g.i.concat(x)),B){case 1:ps(c,5);break;case 4:ps(c,10);break;case 3:ps(c,6);break;default:ps(c,2)}}}function pc(c,g){let x=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(x*=2),x*g}function ps(c,g){if(c.j.info("Error code "+g),g==2){var x=v(c.bb,c),S=c.Ua;const B=!S;S=new fn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ot(S,"https"),oa(S),B?qn(S.toString(),x):Al(S.toString(),x)}else vt(2);c.I=0,c.l&&c.l.pa(g),yc(c),ir(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function yc(c){if(c.I=0,c.ja=[],c.l){const g=xl(c.h);(g.length!=0||c.i.length!=0)&&(F(c.ja,g),F(c.ja,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.oa()}}function _c(c,g,x){var S=x instanceof fn?Et(x):new fn(x);if(S.g!="")g&&(S.g=g+"."+S.g),li(S,S.u);else{var B=f.location;S=B.protocol,g=g?g+"."+B.hostname:B.hostname,B=+B.port;const Q=new fn(null);S&&Ot(Q,S),g&&(Q.g=g),B&&li(Q,B),x&&(Q.h=x),S=Q}return x=c.G,g=c.wa,x&&g&&Xe(S,x,g),Xe(S,"VER",c.ka),ma(c,S),S}function vc(c,g,x){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new Je(new ds({ab:x})):new Je(c.ma),g.Fa(c.L),g}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function xc(){}i=xc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function gi(){}gi.prototype.g=function(c,g){return new tn(c,g)};function tn(c,g){_t.call(this),this.g=new fi(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!R(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!R(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new js(this)}A(tn,_t),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Rl(this.g)},tn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var x={};x.__data__=c,c=x}else this.v&&(x={},x.__data__=ri(c),c=x);g.i.push(new bt(g.Ya++,c)),g.I==3&&gs(g)},tn.prototype.N=function(){this.g.l=null,delete this.j,Rl(this.g),delete this.g,tn.Z.N.call(this)};function bc(c){Pt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const x in g){c=x;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}A(bc,Pt);function Ec(){bn.call(this),this.status=1}A(Ec,bn);function js(c){this.g=c}A(js,xc),js.prototype.ra=function(){It(this.g,"a")},js.prototype.qa=function(c){It(this.g,new bc(c))},js.prototype.pa=function(c){It(this.g,new Ec)},js.prototype.oa=function(){It(this.g,"b")},gi.prototype.createWebChannel=gi.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,x1=function(){return new gi},v1=function(){return $a()},_1=ft,nm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ra.NO_ERROR=0,ra.TIMEOUT=8,ra.HTTP_ERROR=6,Vu=ra,ml.COMPLETE="complete",y1=ml,ec.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",_t.prototype.listen=_t.prototype.J,po=ec,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,p1=Je}).apply(typeof Nu<"u"?Nu:typeof self<"u"?self:typeof window<"u"?window:{});const E_="@firebase/firestore",T_="4.9.2";let Zt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let il="12.3.0";const Ba=new bm("@firebase/firestore");function Lr(){return Ba.logLevel}function ue(i,...e){if(Ba.logLevel<=Ve.DEBUG){const s=e.map(jm);Ba.debug(`Firestore (${il}): ${i}`,...s)}}function ni(i,...e){if(Ba.logLevel<=Ve.ERROR){const s=e.map(jm);Ba.error(`Firestore (${il}): ${i}`,...s)}}function Qr(i,...e){if(Ba.logLevel<=Ve.WARN){const s=e.map(jm);Ba.warn(`Firestore (${il}): ${i}`,...s)}}function jm(i){if(typeof i=="string")return i;try{return(function(s){return JSON.stringify(s)})(i)}catch{return i}}function ve(i,e,s){let r="Unexpected state";typeof e=="string"?r=e:s=e,b1(i,r,s)}function b1(i,e,s){let r=`FIRESTORE (${il}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(s!==void 0)try{r+=" CONTEXT: "+JSON.stringify(s)}catch{r+=" CONTEXT: "+s}throw ni(r),new Error(r)}function Ke(i,e,s,r){let o="Unexpected state";typeof s=="string"?o=s:r=s,i||b1(e,o,r)}function Ae(i,e){return i}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends ii{constructor(e,s){super(e,s),this.code=e,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ki{constructor(){this.promise=new Promise(((e,s)=>{this.resolve=e,this.reject=s}))}}class E1{constructor(e,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,s){e.enqueueRetryable((()=>s(Zt.UNAUTHENTICATED)))}shutdown(){}}class DA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,s){this.changeListener=s,e.enqueueRetryable((()=>s(this.token.user)))}shutdown(){this.changeListener=null}}class MA{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,s){Ke(this.o===void 0,42304);let r=this.i;const o=_=>this.i!==r?(r=this.i,s(_)):Promise.resolve();let u=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ki,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const _=u;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},p=_=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ki)}}),0),f()}getToken(){const e=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then((r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string",31837,{l:r}),new E1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class jA{constructor(e,s,r){this.P=e,this.T=s,this.I=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class OA{constructor(e,s,r){this.P=e,this.T=s,this.I=r}getToken(){return Promise.resolve(new jA(this.P,this.T,this.I))}start(e,s){e.enqueueRetryable((()=>s(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class S_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VA{constructor(e,s){this.V=s,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,s){Ke(this.o===void 0,3512);const r=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?s(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new S_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((s=>s?(Ke(typeof s.token=="string",44558,{tokenResult:s}),this.m=s.token,new S_(s.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function LA(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(s);else for(let r=0;r<i;r++)s[r]=Math.floor(256*Math.random());return s}class Om{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=LA(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<s&&(r+=e.charAt(o[u]%62))}return r}}function Le(i,e){return i<e?-1:i>e?1:0}function sm(i,e){const s=Math.min(i.length,e.length);for(let r=0;r<s;r++){const o=i.charAt(r),u=e.charAt(r);if(o!==u)return Bf(o)===Bf(u)?Le(o,u):Bf(o)?1:-1}return Le(i.length,e.length)}const UA=55296,PA=57343;function Bf(i){const e=i.charCodeAt(0);return e>=UA&&e<=PA}function Kr(i,e,s){return i.length===e.length&&i.every(((r,o)=>s(r,e[o])))}const A_="__name__";class Es{constructor(e,s,r){s===void 0?s=0:s>e.length&&ve(637,{offset:s,range:e.length}),r===void 0?r=e.length-s:r>e.length-s&&ve(1746,{length:r,range:e.length-s}),this.segments=e,this.offset=s,this.len=r}get length(){return this.len}isEqual(e){return Es.comparator(this,e)===0}child(e){const s=this.segments.slice(this.offset,this.limit());return e instanceof Es?e.forEach((r=>{s.push(r)})):s.push(e),this.construct(s)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}forEach(e){for(let s=this.offset,r=this.limit();s<r;s++)e(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,s){const r=Math.min(e.length,s.length);for(let o=0;o<r;o++){const u=Es.compareSegments(e.get(o),s.get(o));if(u!==0)return u}return Le(e.length,s.length)}static compareSegments(e,s){const r=Es.isNumericId(e),o=Es.isNumericId(s);return r&&!o?-1:!r&&o?1:r&&o?Es.extractNumericId(e).compare(Es.extractNumericId(s)):sm(e,s)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qi.fromString(e.substring(4,e.length-2))}}class ct extends Es{construct(e,s,r){return new ct(e,s,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const s=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);s.push(...r.split("/").filter((o=>o.length>0)))}return new ct(s)}static emptyPath(){return new ct([])}}const zA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Es{construct(e,s,r){return new Qt(e,s,r)}static isValidIdentifier(e){return zA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===A_}static keyField(){return new Qt([A_])}static fromServerFormat(e){const s=[];let r="",o=0;const u=()=>{if(r.length===0)throw new ge(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(r),r=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ge(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ge(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(r+=p,o++):(u(),o++)}if(u(),f)throw new ge(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(s)}static emptyPath(){return new Qt([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(ct.fromString(e))}static fromName(e){return new ye(ct.fromString(e).popFirst(5))}static empty(){return new ye(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,s){return ct.comparator(e.path,s.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new ct(e.slice()))}}function BA(i,e,s){if(!s)throw new ge(ne.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function qA(i,e,s,r){if(e===!0&&r===!0)throw new ge(ne.INVALID_ARGUMENT,`${i} and ${s} cannot be used together.`)}function w_(i){if(!ye.isDocumentKey(i))throw new ge(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function T1(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Vm(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ve(12329,{type:typeof i})}function Io(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ge(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=Vm(i);throw new ge(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${s}`)}}return i}function Rt(i,e){const s={typeString:i};return e&&(s.value=e),s}function Yo(i,e){if(!T1(i))throw new ge(ne.INVALID_ARGUMENT,"JSON must be an object");let s;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){s=`JSON missing required field: '${r}'`;break}const f=i[r];if(o&&typeof f!==o){s=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){s=`Expected '${r}' field to equal '${u.value}'`;break}}if(s)throw new ge(ne.INVALID_ARGUMENT,s);return!0}const N_=-62135596800,R_=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const s=Math.floor(e/1e3),r=Math.floor((e-1e3*s)*R_);return new at(s,r)}constructor(e,s){if(this.seconds=e,this.nanoseconds=s,s<0)throw new ge(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new ge(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(e<N_)throw new ge(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/R_}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Yo(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-N_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Rt("string",at._jsonSchemaVersion),seconds:Rt("number"),nanoseconds:Rt("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new at(0,0))}static max(){return new Te(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ko=-1;function HA(i,e){const s=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(r===1e9?new at(s+1,0):new at(s,r));return new Xi(o,ye.empty(),e)}function FA(i){return new Xi(i.readTime,i.key,ko)}class Xi{constructor(e,s,r){this.readTime=e,this.documentKey=s,this.largestBatchId=r}static min(){return new Xi(Te.min(),ye.empty(),ko)}static max(){return new Xi(Te.max(),ye.empty(),ko)}}function GA(i,e){let s=i.readTime.compareTo(e.readTime);return s!==0?s:(s=ye.comparator(i.documentKey,e.documentKey),s!==0?s:Le(i.largestBatchId,e.largestBatchId))}const YA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function al(i){if(i.code!==ne.FAILED_PRECONDITION||i.message!==YA)throw i;ue("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)}),(s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)}))}catch(e){return this.next(void 0,e)}next(e,s){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(e,this.result):new te(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(s,u).next(r,o)}}))}toPromise(){return new Promise(((e,s)=>{this.next(e,s)}))}wrapUserFunction(e){try{const s=e();return s instanceof te?s:te.resolve(s)}catch(s){return te.reject(s)}}wrapSuccess(e,s){return e?this.wrapUserFunction((()=>e(s))):te.resolve(s)}wrapFailure(e,s){return e?this.wrapUserFunction((()=>e(s))):te.reject(s)}static resolve(e){return new te(((s,r)=>{s(e)}))}static reject(e){return new te(((s,r)=>{r(e)}))}static waitFor(e){return new te(((s,r)=>{let o=0,u=0,f=!1;e.forEach((p=>{++o,p.next((()=>{++u,f&&u===o&&s()}),(_=>r(_)))})),f=!0,u===o&&s()}))}static or(e){let s=te.resolve(!1);for(const r of e)s=s.next((o=>o?te.resolve(o):r()));return s}static forEach(e,s){const r=[];return e.forEach(((o,u)=>{r.push(s.call(this,o,u))})),this.waitFor(r)}static mapArray(e,s){return new te(((r,o)=>{const u=e.length,f=new Array(u);let p=0;for(let _=0;_<u;_++){const v=_;s(e[v]).next((T=>{f[v]=T,++p,p===u&&r(f)}),(T=>o(T)))}}))}static doWhile(e,s){return new te(((r,o)=>{const u=()=>{e()===!0?s().next((()=>{u()}),o):r()};u()}))}}function KA(i){const e=i.match(/Android ([\d.]+)/i),s=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(s)}function rl(i){return i.name==="IndexedDbTransactionError"}class fh{constructor(e,s){this.previousValue=e,s&&(s.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>s.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}fh.ce=-1;const Lm=-1;function mh(i){return i==null}function $u(i){return i===0&&1/i==-1/0}function XA(i){return typeof i=="number"&&Number.isInteger(i)&&!$u(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const S1="";function $A(i){let e="";for(let s=0;s<i.length;s++)e.length>0&&(e=C_(e)),e=ZA(i.get(s),e);return C_(e)}function ZA(i,e){let s=e;const r=i.length;for(let o=0;o<r;o++){const u=i.charAt(o);switch(u){case"\0":s+="";break;case S1:s+="";break;default:s+=u}}return s}function C_(i){return i+S1+""}function I_(i){let e=0;for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&e++;return e}function Ha(i,e){for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&e(s,i[s])}function A1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ut{constructor(e,s){this.comparator=e,this.root=s||Yt.EMPTY}insert(e,s){return new ut(this.comparator,this.root.insert(e,s,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return s.value;r<0?s=s.left:r>0&&(s=s.right)}return null}indexOf(e){let s=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return s+r.left.size;o<0?r=r.left:(s+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((s,r)=>(e(s,r),!1)))}toString(){const e=[];return this.inorderTraversal(((s,r)=>(e.push(`${s}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ru(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ru(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ru(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ru(this.root,e,this.comparator,!0)}}class Ru{constructor(e,s,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=s?r(e.key,s):1,s&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const s={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,s,r,o,u){this.key=e,this.value=s,this.color=r??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,s,r,o,u){return new Yt(e??this.key,s??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,s,r),null):u===0?o.copy(null,s,null,null,null):o.copy(null,null,null,null,o.right.insert(e,s,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,s){let r,o=this;if(s(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,s),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),s(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,s))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,s,r,o,u){return this}insert(e,s,r){return new Yt(e,s)}remove(e,s){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((s,r)=>(e(s),!1)))}forEachInRange(e,s){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;s(o.key)}}forEachWhile(e,s){let r;for(r=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const s=this.data.getIteratorFrom(e);return s.hasNext()?s.getNext().key:null}getIterator(){return new k_(this.data.getIterator())}getIteratorFrom(e){return new k_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let s=this;return s.size<e.size&&(s=e,e=this),e.forEach((r=>{s=s.add(r)})),s}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const s=this.data.getIterator(),r=e.data.getIterator();for(;s.hasNext();){const o=s.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((s=>{e.push(s)})),e}toString(){const e=[];return this.forEach((s=>e.push(s))),"SortedSet("+e.toString()+")"}copy(e){const s=new Mt(this.comparator);return s.data=e,s}}class k_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Jn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Jn([])}unionWith(e){let s=new Mt(Qt.comparator);for(const r of this.fields)s=s.add(r);for(const r of e)s=s.add(r);return new Jn(s.toArray())}covers(e){for(const s of this.fields)if(s.isPrefixOf(e))return!0;return!1}isEqual(e){return Kr(this.fields,e.fields,((s,r)=>s.isEqual(r)))}}class w1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const s=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new w1("Invalid base64 string: "+u):u}})(e);return new Kt(s)}static fromUint8Array(e){const s=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Kt(s)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(s){return btoa(s)})(this.binaryString)}toUint8Array(){return(function(s){const r=new Uint8Array(s.length);for(let o=0;o<s.length;o++)r[o]=s.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const JA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $i(i){if(Ke(!!i,39018),typeof i=="string"){let e=0;const s=JA.exec(i);if(Ke(!!s,46558,{timestamp:i}),s[1]){let o=s[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(i.seconds),nanos:yt(i.nanos)}}function yt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Zi(i){return typeof i=="string"?Kt.fromBase64String(i):Kt.fromUint8Array(i)}const N1="server_timestamp",R1="__type__",C1="__previous_value__",I1="__local_write_time__";function Um(i){return(i?.mapValue?.fields||{})[R1]?.stringValue===N1}function gh(i){const e=i.mapValue.fields[C1];return Um(e)?gh(e):e}function Do(i){const e=$i(i.mapValue.fields[I1].timestampValue);return new at(e.seconds,e.nanos)}class WA{constructor(e,s,r,o,u,f,p,_,v,T){this.databaseId=e,this.appId=s,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=T}}const Zu="(default)";class Mo{constructor(e,s){this.projectId=e,this.database=s||Zu}static empty(){return new Mo("","")}get isDefaultDatabase(){return this.database===Zu}isEqual(e){return e instanceof Mo&&e.projectId===this.projectId&&e.database===this.database}}const k1="__type__",ew="__max__",Cu={mapValue:{}},D1="__vector__",Ju="value";function Ji(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Um(i)?4:nw(i)?9007199254740991:tw(i)?10:11:ve(28295,{value:i})}function Cs(i,e){if(i===e)return!0;const s=Ji(i);if(s!==Ji(e))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Do(i).isEqual(Do(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=$i(o.timestampValue),p=$i(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Zi(o.bytesValue).isEqual(Zi(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=yt(o.doubleValue),p=yt(u.doubleValue);return f===p?$u(f)===$u(p):isNaN(f)&&isNaN(p)}return!1})(i,e);case 9:return Kr(i.arrayValue.values||[],e.arrayValue.values||[],Cs);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(I_(f)!==I_(p))return!1;for(const _ in f)if(f.hasOwnProperty(_)&&(p[_]===void 0||!Cs(f[_],p[_])))return!1;return!0})(i,e);default:return ve(52216,{left:i})}}function jo(i,e){return(i.values||[]).find((s=>Cs(s,e)))!==void 0}function Xr(i,e){if(i===e)return 0;const s=Ji(i),r=Ji(e);if(s!==r)return Le(s,r);switch(s){case 0:case 9007199254740991:return 0;case 1:return Le(i.booleanValue,e.booleanValue);case 2:return(function(u,f){const p=yt(u.integerValue||u.doubleValue),_=yt(f.integerValue||f.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(i,e);case 3:return D_(i.timestampValue,e.timestampValue);case 4:return D_(Do(i),Do(e));case 5:return sm(i.stringValue,e.stringValue);case 6:return(function(u,f){const p=Zi(u),_=Zi(f);return p.compareTo(_)})(i.bytesValue,e.bytesValue);case 7:return(function(u,f){const p=u.split("/"),_=f.split("/");for(let v=0;v<p.length&&v<_.length;v++){const T=Le(p[v],_[v]);if(T!==0)return T}return Le(p.length,_.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,f){const p=Le(yt(u.latitude),yt(f.latitude));return p!==0?p:Le(yt(u.longitude),yt(f.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return M_(i.arrayValue,e.arrayValue);case 10:return(function(u,f){const p=u.fields||{},_=f.fields||{},v=p[Ju]?.arrayValue,T=_[Ju]?.arrayValue,A=Le(v?.values?.length||0,T?.values?.length||0);return A!==0?A:M_(v,T)})(i.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Cu.mapValue&&f===Cu.mapValue)return 0;if(u===Cu.mapValue)return 1;if(f===Cu.mapValue)return-1;const p=u.fields||{},_=Object.keys(p),v=f.fields||{},T=Object.keys(v);_.sort(),T.sort();for(let A=0;A<_.length&&A<T.length;++A){const C=sm(_[A],T[A]);if(C!==0)return C;const z=Xr(p[_[A]],v[T[A]]);if(z!==0)return z}return Le(_.length,T.length)})(i.mapValue,e.mapValue);default:throw ve(23264,{he:s})}}function D_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Le(i,e);const s=$i(i),r=$i(e),o=Le(s.seconds,r.seconds);return o!==0?o:Le(s.nanos,r.nanos)}function M_(i,e){const s=i.values||[],r=e.values||[];for(let o=0;o<s.length&&o<r.length;++o){const u=Xr(s[o],r[o]);if(u)return u}return Le(s.length,r.length)}function $r(i){return im(i)}function im(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(s){const r=$i(s);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(s){return Zi(s).toBase64()})(i.bytesValue):"referenceValue"in i?(function(s){return ye.fromName(s).toString()})(i.referenceValue):"geoPointValue"in i?(function(s){return`geo(${s.latitude},${s.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(s){let r="[",o=!0;for(const u of s.values||[])o?o=!1:r+=",",r+=im(u);return r+"]"})(i.arrayValue):"mapValue"in i?(function(s){const r=Object.keys(s.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${im(s.fields[f])}`;return o+"}"})(i.mapValue):ve(61005,{value:i})}function Lu(i){switch(Ji(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gh(i);return e?16+Lu(e):16;case 5:return 2*i.stringValue.length;case 6:return Zi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Lu(u)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return Ha(r.fields,((u,f)=>{o+=u.length+Lu(f)})),o})(i.mapValue);default:throw ve(13486,{value:i})}}function am(i){return!!i&&"integerValue"in i}function Pm(i){return!!i&&"arrayValue"in i}function j_(i){return!!i&&"nullValue"in i}function O_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Uu(i){return!!i&&"mapValue"in i}function tw(i){return(i?.mapValue?.fields||{})[k1]?.stringValue===D1}function Eo(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Ha(i.mapValue.fields,((s,r)=>e.mapValue.fields[s]=Eo(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let s=0;s<(i.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=Eo(i.arrayValue.values[s]);return e}return{...i}}function nw(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===ew}class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let s=this.value;for(let r=0;r<e.length-1;++r)if(s=(s.mapValue.fields||{})[e.get(r)],!Uu(s))return null;return s=(s.mapValue.fields||{})[e.lastSegment()],s||null}}set(e,s){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eo(s)}setAll(e){let s=Qt.emptyPath(),r={},o=[];e.forEach(((f,p)=>{if(!s.isImmediateParentOf(p)){const _=this.getFieldsMap(s);this.applyChanges(_,r,o),r={},o=[],s=p.popLast()}f?r[p.lastSegment()]=Eo(f):o.push(p.lastSegment())}));const u=this.getFieldsMap(s);this.applyChanges(u,r,o)}delete(e){const s=this.field(e.popLast());Uu(s)&&s.mapValue.fields&&delete s.mapValue.fields[e.lastSegment()]}isEqual(e){return Cs(this.value,e.value)}getFieldsMap(e){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=s.mapValue.fields[e.get(r)];Uu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},s.mapValue.fields[e.get(r)]=o),s=o}return s.mapValue.fields}applyChanges(e,s,r){Ha(s,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new jn(Eo(this.value))}}function M1(i){const e=[];return Ha(i.fields,((s,r)=>{const o=new Qt([s]);if(Uu(r)){const u=M1(r.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Jn(e)}class Jt{constructor(e,s,r,o,u,f,p){this.key=e,this.documentType=s,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new Jt(e,0,Te.min(),Te.min(),Te.min(),jn.empty(),0)}static newFoundDocument(e,s,r,o){return new Jt(e,1,s,Te.min(),r,o,0)}static newNoDocument(e,s){return new Jt(e,2,s,Te.min(),Te.min(),jn.empty(),0)}static newUnknownDocument(e,s){return new Jt(e,3,s,Te.min(),Te.min(),jn.empty(),2)}convertToFoundDocument(e,s){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wu{constructor(e,s){this.position=e,this.inclusive=s}}function V_(i,e,s){let r=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?r=ye.comparator(ye.fromName(f.referenceValue),s.key):r=Xr(f,s.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function L_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let s=0;s<i.position.length;s++)if(!Cs(i.position[s],e.position[s]))return!1;return!0}class eh{constructor(e,s="asc"){this.field=e,this.dir=s}}function sw(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class j1{}class Dt extends j1{constructor(e,s,r){super(),this.field=e,this.op=s,this.value=r}static create(e,s,r){return e.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(e,s,r):new aw(e,s,r):s==="array-contains"?new ow(e,r):s==="in"?new cw(e,r):s==="not-in"?new uw(e,r):s==="array-contains-any"?new hw(e,r):new Dt(e,s,r)}static createKeyFieldInFilter(e,s,r){return s==="in"?new rw(e,r):new lw(e,r)}matches(e){const s=e.data.field(this.field);return this.op==="!="?s!==null&&s.nullValue===void 0&&this.matchesComparison(Xr(s,this.value)):s!==null&&Ji(this.value)===Ji(s)&&this.matchesComparison(Xr(s,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Is extends j1{constructor(e,s){super(),this.filters=e,this.op=s,this.Pe=null}static create(e,s){return new Is(e,s)}matches(e){return O1(this)?this.filters.find((s=>!s.matches(e)))===void 0:this.filters.find((s=>s.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,s)=>e.concat(s.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function O1(i){return i.op==="and"}function V1(i){return iw(i)&&O1(i)}function iw(i){for(const e of i.filters)if(e instanceof Is)return!1;return!0}function rm(i){if(i instanceof Dt)return i.field.canonicalString()+i.op.toString()+$r(i.value);if(V1(i))return i.filters.map((e=>rm(e))).join(",");{const e=i.filters.map((s=>rm(s))).join(",");return`${i.op}(${e})`}}function L1(i,e){return i instanceof Dt?(function(r,o){return o instanceof Dt&&r.op===o.op&&r.field.isEqual(o.field)&&Cs(r.value,o.value)})(i,e):i instanceof Is?(function(r,o){return o instanceof Is&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,p)=>u&&L1(f,o.filters[p])),!0):!1})(i,e):void ve(19439)}function U1(i){return i instanceof Dt?(function(s){return`${s.field.canonicalString()} ${s.op} ${$r(s.value)}`})(i):i instanceof Is?(function(s){return s.op.toString()+" {"+s.getFilters().map(U1).join(" ,")+"}"})(i):"Filter"}class aw extends Dt{constructor(e,s,r){super(e,s,r),this.key=ye.fromName(r.referenceValue)}matches(e){const s=ye.comparator(e.key,this.key);return this.matchesComparison(s)}}class rw extends Dt{constructor(e,s){super(e,"in",s),this.keys=P1("in",s)}matches(e){return this.keys.some((s=>s.isEqual(e.key)))}}class lw extends Dt{constructor(e,s){super(e,"not-in",s),this.keys=P1("not-in",s)}matches(e){return!this.keys.some((s=>s.isEqual(e.key)))}}function P1(i,e){return(e.arrayValue?.values||[]).map((s=>ye.fromName(s.referenceValue)))}class ow extends Dt{constructor(e,s){super(e,"array-contains",s)}matches(e){const s=e.data.field(this.field);return Pm(s)&&jo(s.arrayValue,this.value)}}class cw extends Dt{constructor(e,s){super(e,"in",s)}matches(e){const s=e.data.field(this.field);return s!==null&&jo(this.value.arrayValue,s)}}class uw extends Dt{constructor(e,s){super(e,"not-in",s)}matches(e){if(jo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=e.data.field(this.field);return s!==null&&s.nullValue===void 0&&!jo(this.value.arrayValue,s)}}class hw extends Dt{constructor(e,s){super(e,"array-contains-any",s)}matches(e){const s=e.data.field(this.field);return!(!Pm(s)||!s.arrayValue.values)&&s.arrayValue.values.some((r=>jo(this.value.arrayValue,r)))}}class dw{constructor(e,s=null,r=[],o=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=s,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function U_(i,e=null,s=[],r=[],o=null,u=null,f=null){return new dw(i,e,s,r,o,u,f)}function zm(i){const e=Ae(i);if(e.Te===null){let s=e.path.canonicalString();e.collectionGroup!==null&&(s+="|cg:"+e.collectionGroup),s+="|f:",s+=e.filters.map((r=>rm(r))).join(","),s+="|ob:",s+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),mh(e.limit)||(s+="|l:",s+=e.limit),e.startAt&&(s+="|lb:",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((r=>$r(r))).join(",")),e.endAt&&(s+="|ub:",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((r=>$r(r))).join(",")),e.Te=s}return e.Te}function Bm(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<i.orderBy.length;s++)if(!sw(i.orderBy[s],e.orderBy[s]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let s=0;s<i.filters.length;s++)if(!L1(i.filters[s],e.filters[s]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!L_(i.startAt,e.startAt)&&L_(i.endAt,e.endAt)}function lm(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class ph{constructor(e,s=null,r=[],o=[],u=null,f="F",p=null,_=null){this.path=e,this.collectionGroup=s,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fw(i,e,s,r,o,u,f,p){return new ph(i,e,s,r,o,u,f,p)}function qm(i){return new ph(i)}function P_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function mw(i){return i.collectionGroup!==null}function To(i){const e=Ae(i);if(e.Ie===null){e.Ie=[];const s=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),s.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Mt(Qt.comparator);return f.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(e).forEach((u=>{s.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new eh(u,r))})),s.has(Qt.keyField().canonicalString())||e.Ie.push(new eh(Qt.keyField(),r))}return e.Ie}function Ss(i){const e=Ae(i);return e.Ee||(e.Ee=gw(e,To(i))),e.Ee}function gw(i,e){if(i.limitType==="F")return U_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new eh(o.field,u)}));const s=i.endAt?new Wu(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new Wu(i.startAt.position,i.startAt.inclusive):null;return U_(i.path,i.collectionGroup,e,i.filters,i.limit,s,r)}}function om(i,e,s){return new ph(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,s,i.startAt,i.endAt)}function yh(i,e){return Bm(Ss(i),Ss(e))&&i.limitType===e.limitType}function z1(i){return`${zm(Ss(i))}|lt:${i.limitType}`}function Ur(i){return`Query(target=${(function(s){let r=s.path.canonicalString();return s.collectionGroup!==null&&(r+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(r+=`, filters: [${s.filters.map((o=>U1(o))).join(", ")}]`),mh(s.limit)||(r+=", limit: "+s.limit),s.orderBy.length>0&&(r+=`, orderBy: [${s.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),s.startAt&&(r+=", startAt: ",r+=s.startAt.inclusive?"b:":"a:",r+=s.startAt.position.map((o=>$r(o))).join(",")),s.endAt&&(r+=", endAt: ",r+=s.endAt.inclusive?"a:":"b:",r+=s.endAt.position.map((o=>$r(o))).join(",")),`Target(${r})`})(Ss(i))}; limitType=${i.limitType})`}function _h(i,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):ye.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(i,e)&&(function(r,o){for(const u of To(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(r,o){return!(r.startAt&&!(function(f,p,_){const v=V_(f,p,_);return f.inclusive?v<=0:v<0})(r.startAt,To(r),o)||r.endAt&&!(function(f,p,_){const v=V_(f,p,_);return f.inclusive?v>=0:v>0})(r.endAt,To(r),o))})(i,e)}function pw(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function B1(i){return(e,s)=>{let r=!1;for(const o of To(i)){const u=yw(o,e,s);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function yw(i,e,s){const r=i.field.isKeyField()?ye.comparator(e.key,s.key):(function(u,f,p){const _=f.data.field(u),v=p.data.field(u);return _!==null&&v!==null?Xr(_,v):ve(42886)})(i.field,e,s);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return ve(19790,{direction:i.dir})}}class Fa{constructor(e,s){this.mapKeyFn=e,this.equalsFn=s,this.inner={},this.innerSize=0}get(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,s){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,s]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,s]);o.push([e,s]),this.innerSize++}delete(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[s]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ha(this.inner,((s,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return A1(this.inner)}size(){return this.innerSize}}const _w=new ut(ye.comparator);function si(){return _w}const q1=new ut(ye.comparator);function yo(...i){let e=q1;for(const s of i)e=e.insert(s.key,s);return e}function H1(i){let e=q1;return i.forEach(((s,r)=>e=e.insert(s,r.overlayedDocument))),e}function ja(){return So()}function F1(){return So()}function So(){return new Fa((i=>i.toString()),((i,e)=>i.isEqual(e)))}const vw=new ut(ye.comparator),xw=new Mt(ye.comparator);function Ue(...i){let e=xw;for(const s of i)e=e.add(s);return e}const bw=new Mt(Le);function Ew(){return bw}function Hm(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$u(e)?"-0":e}}function G1(i){return{integerValue:""+i}}function Tw(i,e){return XA(e)?G1(e):Hm(i,e)}class vh{constructor(){this._=void 0}}function Sw(i,e,s){return i instanceof th?(function(o,u){const f={fields:{[R1]:{stringValue:N1},[I1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Um(u)&&(u=gh(u)),u&&(f.fields[C1]=u),{mapValue:f}})(s,e):i instanceof Oo?Q1(i,e):i instanceof Vo?K1(i,e):(function(o,u){const f=Y1(o,u),p=z_(f)+z_(o.Ae);return am(f)&&am(o.Ae)?G1(p):Hm(o.serializer,p)})(i,e)}function Aw(i,e,s){return i instanceof Oo?Q1(i,e):i instanceof Vo?K1(i,e):s}function Y1(i,e){return i instanceof nh?(function(r){return am(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class th extends vh{}class Oo extends vh{constructor(e){super(),this.elements=e}}function Q1(i,e){const s=X1(e);for(const r of i.elements)s.some((o=>Cs(o,r)))||s.push(r);return{arrayValue:{values:s}}}class Vo extends vh{constructor(e){super(),this.elements=e}}function K1(i,e){let s=X1(e);for(const r of i.elements)s=s.filter((o=>!Cs(o,r)));return{arrayValue:{values:s}}}class nh extends vh{constructor(e,s){super(),this.serializer=e,this.Ae=s}}function z_(i){return yt(i.integerValue||i.doubleValue)}function X1(i){return Pm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function ww(i,e){return i.field.isEqual(e.field)&&(function(r,o){return r instanceof Oo&&o instanceof Oo||r instanceof Vo&&o instanceof Vo?Kr(r.elements,o.elements,Cs):r instanceof nh&&o instanceof nh?Cs(r.Ae,o.Ae):r instanceof th&&o instanceof th})(i.transform,e.transform)}class Nw{constructor(e,s){this.version=e,this.transformResults=s}}class Ws{constructor(e,s){this.updateTime=e,this.exists=s}static none(){return new Ws}static exists(e){return new Ws(void 0,e)}static updateTime(e){return new Ws(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pu(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class xh{}function $1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new J1(i.key,Ws.none()):new Qo(i.key,i.data,Ws.none());{const s=i.data,r=jn.empty();let o=new Mt(Qt.comparator);for(let u of e.fields)if(!o.has(u)){let f=s.field(u);f===null&&u.length>1&&(u=u.popLast(),f=s.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new Ga(i.key,r,new Jn(o.toArray()),Ws.none())}}function Rw(i,e,s){i instanceof Qo?(function(o,u,f){const p=o.value.clone(),_=q_(o.fieldTransforms,u,f.transformResults);p.setAll(_),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(i,e,s):i instanceof Ga?(function(o,u,f){if(!Pu(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=q_(o.fieldTransforms,u,f.transformResults),_=u.data;_.setAll(Z1(o)),_.setAll(p),u.convertToFoundDocument(f.version,_).setHasCommittedMutations()})(i,e,s):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,s)}function Ao(i,e,s,r){return i instanceof Qo?(function(u,f,p,_){if(!Pu(u.precondition,f))return p;const v=u.value.clone(),T=H_(u.fieldTransforms,_,f);return v.setAll(T),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),null})(i,e,s,r):i instanceof Ga?(function(u,f,p,_){if(!Pu(u.precondition,f))return p;const v=H_(u.fieldTransforms,_,f),T=f.data;return T.setAll(Z1(u)),T.setAll(v),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(i,e,s,r):(function(u,f,p){return Pu(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(i,e,s)}function Cw(i,e){let s=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),u=Y1(r.transform,o||null);u!=null&&(s===null&&(s=jn.empty()),s.set(r.field,u))}return s||null}function B_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Kr(r,o,((u,f)=>ww(u,f)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Qo extends xh{constructor(e,s,r,o=[]){super(),this.key=e,this.value=s,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ga extends xh{constructor(e,s,r,o,u=[]){super(),this.key=e,this.data=s,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Z1(i){const e=new Map;return i.fieldMask.fields.forEach((s=>{if(!s.isEmpty()){const r=i.data.field(s);e.set(s,r)}})),e}function q_(i,e,s){const r=new Map;Ke(i.length===s.length,32656,{Re:s.length,Ve:i.length});for(let o=0;o<s.length;o++){const u=i[o],f=u.transform,p=e.data.field(u.field);r.set(u.field,Aw(f,p,s[o]))}return r}function H_(i,e,s){const r=new Map;for(const o of i){const u=o.transform,f=s.data.field(o.field);r.set(o.field,Sw(u,f,e))}return r}class J1 extends xh{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Iw extends xh{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kw{constructor(e,s,r,o){this.batchId=e,this.localWriteTime=s,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,s){const r=s.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Rw(u,e,r[o])}}applyToLocalView(e,s){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(s=Ao(r,e,s,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(s=Ao(r,e,s,this.localWriteTime));return s}applyToLocalDocumentSet(e,s){const r=F1();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=s.has(o.key)?null:p;const _=$1(f,p);_!==null&&r.set(o.key,_),f.isValidDocument()||f.convertToNoDocument(Te.min())})),r}keys(){return this.mutations.reduce(((e,s)=>e.add(s.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&Kr(this.mutations,e.mutations,((s,r)=>B_(s,r)))&&Kr(this.baseMutations,e.baseMutations,((s,r)=>B_(s,r)))}}class Fm{constructor(e,s,r,o){this.batch=e,this.commitVersion=s,this.mutationResults=r,this.docVersions=o}static from(e,s,r){Ke(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return vw})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new Fm(e,s,r,o)}}class Dw{constructor(e,s){this.largestBatchId=e,this.mutation=s}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Mw{constructor(e,s){this.count=e,this.unchangedNames=s}}var Nt,qe;function jw(i){switch(i){case ne.OK:return ve(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return ve(15467,{code:i})}}function W1(i){if(i===void 0)return ni("GRPC error has no .code"),ne.UNKNOWN;switch(i){case Nt.OK:return ne.OK;case Nt.CANCELLED:return ne.CANCELLED;case Nt.UNKNOWN:return ne.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return ne.INTERNAL;case Nt.UNAVAILABLE:return ne.UNAVAILABLE;case Nt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Nt.NOT_FOUND:return ne.NOT_FOUND;case Nt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Nt.ABORTED:return ne.ABORTED;case Nt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Nt.DATA_LOSS:return ne.DATA_LOSS;default:return ve(39323,{code:i})}}(qe=Nt||(Nt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function Ow(){return new TextEncoder}const Vw=new Qi([4294967295,4294967295],0);function F_(i){const e=Ow().encode(i),s=new g1;return s.update(e),new Uint8Array(s.digest())}function G_(i){const e=new DataView(i.buffer),s=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Qi([s,r],0),new Qi([o,u],0)]}class Gm{constructor(e,s,r){if(this.bitmap=e,this.padding=s,this.hashCount=r,s<0||s>=8)throw new _o(`Invalid padding: ${s}`);if(r<0)throw new _o(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _o(`Invalid hash count: ${r}`);if(e.length===0&&s!==0)throw new _o(`Invalid padding when bitmap length is 0: ${s}`);this.ge=8*e.length-s,this.pe=Qi.fromNumber(this.ge)}ye(e,s,r){let o=e.add(s.multiply(Qi.fromNumber(r)));return o.compare(Vw)===1&&(o=new Qi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const s=F_(e),[r,o]=G_(s);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(e,s,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Gm(u,o,s);return r.forEach((p=>f.insert(p))),f}insert(e){if(this.ge===0)return;const s=F_(e),[r,o]=G_(s);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.Se(f)}}Se(e){const s=Math.floor(e/8),r=e%8;this.bitmap[s]|=1<<r}}class _o extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bh{constructor(e,s,r,o,u){this.snapshotVersion=e,this.targetChanges=s,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,s,r){const o=new Map;return o.set(e,Ko.createSynthesizedTargetChangeForCurrentChange(e,s,r)),new bh(Te.min(),o,new ut(Le),si(),Ue())}}class Ko{constructor(e,s,r,o,u){this.resumeToken=e,this.current=s,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,s,r){return new Ko(r,s,Ue(),Ue(),Ue())}}class zu{constructor(e,s,r,o){this.be=e,this.removedTargetIds=s,this.key=r,this.De=o}}class ex{constructor(e,s){this.targetId=e,this.Ce=s}}class tx{constructor(e,s,r=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=s,this.resumeToken=r,this.cause=o}}class Y_{constructor(){this.ve=0,this.Fe=Q_(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),s=Ue(),r=Ue();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:s=s.add(o);break;case 1:r=r.add(o);break;default:ve(38017,{changeType:u})}})),new Ko(this.Me,this.xe,e,s,r)}qe(){this.Oe=!1,this.Fe=Q_()}Qe(e,s){this.Oe=!0,this.Fe=this.Fe.insert(e,s)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Lw{constructor(e){this.Ge=e,this.ze=new Map,this.je=si(),this.Je=Iu(),this.He=Iu(),this.Ye=new ut(Le)}Ze(e){for(const s of e.be)e.De&&e.De.isFoundDocument()?this.Xe(s,e.De):this.et(s,e.key,e.De);for(const s of e.removedTargetIds)this.et(s,e.key,e.De)}tt(e){this.forEachTarget(e,(s=>{const r=this.nt(s);switch(e.state){case 0:this.rt(s)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(s);break;case 3:this.rt(s)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(s)&&(this.it(s),r.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,s){e.targetIds.length>0?e.targetIds.forEach(s):this.ze.forEach(((r,o)=>{this.rt(o)&&s(o)}))}st(e){const s=e.targetId,r=e.Ce.count,o=this.ot(s);if(o){const u=o.target;if(lm(u))if(r===0){const f=new ye(u.path);this.et(s,f,Jt.newNoDocument(f,Te.min()))}else Ke(r===1,20013,{expectedCount:r});else{const f=this._t(s);if(f!==r){const p=this.ut(e),_=p?this.ct(p,e,f):1;if(_!==0){this.it(s);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(s,v)}}}}}ut(e){const s=e.Ce.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=s;let f,p;try{f=Zi(r).toUint8Array()}catch(_){if(_ instanceof w1)return Qr("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Gm(f,o,u)}catch(_){return Qr(_ instanceof _o?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,s,r){return s.Ce.count===r-this.Pt(e,s.targetId)?0:2}Pt(e,s){const r=this.Ge.getRemoteKeysForTarget(s);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(s,u,null),o++)})),o}Tt(e){const s=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&lm(p.target)){const _=new ye(p.target.path);this.It(_).has(f)||this.Et(f,_)||this.et(f,_,Jt.newNoDocument(_,e))}u.Be&&(s.set(f,u.ke()),u.qe())}}));let r=Ue();this.He.forEach(((u,f)=>{let p=!0;f.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new bh(e,s,this.Ye,this.je,r);return this.je=si(),this.Je=Iu(),this.He=Iu(),this.Ye=new ut(Le),o}Xe(e,s){if(!this.rt(e))return;const r=this.Et(e,s.key)?2:0;this.nt(e).Qe(s.key,r),this.je=this.je.insert(s.key,s),this.Je=this.Je.insert(s.key,this.It(s.key).add(e)),this.He=this.He.insert(s.key,this.dt(s.key).add(e))}et(e,s,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,s)?o.Qe(s,1):o.$e(s),this.He=this.He.insert(s,this.dt(s).delete(e)),this.He=this.He.insert(s,this.dt(s).add(e)),r&&(this.je=this.je.insert(s,r))}removeTarget(e){this.ze.delete(e)}_t(e){const s=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+s.addedDocuments.size-s.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let s=this.ze.get(e);return s||(s=new Y_,this.ze.set(e,s)),s}dt(e){let s=this.He.get(e);return s||(s=new Mt(Le),this.He=this.He.insert(e,s)),s}It(e){let s=this.Je.get(e);return s||(s=new Mt(Le),this.Je=this.Je.insert(e,s)),s}rt(e){const s=this.ot(e)!==null;return s||ue("WatchChangeAggregator","Detected inactive target",e),s}ot(e){const s=this.ze.get(e);return s&&s.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Y_),this.Ge.getRemoteKeysForTarget(e).forEach((s=>{this.et(e,s,null)}))}Et(e,s){return this.Ge.getRemoteKeysForTarget(e).has(s)}}function Iu(){return new ut(ye.comparator)}function Q_(){return new ut(ye.comparator)}const Uw={asc:"ASCENDING",desc:"DESCENDING"},Pw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zw={and:"AND",or:"OR"};class Bw{constructor(e,s){this.databaseId=e,this.useProto3Json=s}}function cm(i,e){return i.useProto3Json||mh(e)?e:{value:e}}function sh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nx(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function qw(i,e){return sh(i,e.toTimestamp())}function As(i){return Ke(!!i,49232),Te.fromTimestamp((function(s){const r=$i(s);return new at(r.seconds,r.nanos)})(i))}function Ym(i,e){return um(i,e).canonicalString()}function um(i,e){const s=(function(o){return new ct(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?s:s.child(e)}function sx(i){const e=ct.fromString(i);return Ke(ox(e),10190,{key:e.toString()}),e}function hm(i,e){return Ym(i.databaseId,e.path)}function qf(i,e){const s=sx(e);if(s.get(1)!==i.databaseId.projectId)throw new ge(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+i.databaseId.projectId);if(s.get(3)!==i.databaseId.database)throw new ge(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+i.databaseId.database);return new ye(ax(s))}function ix(i,e){return Ym(i.databaseId,e)}function Hw(i){const e=sx(i);return e.length===4?ct.emptyPath():ax(e)}function dm(i){return new ct(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function ax(i){return Ke(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function K_(i,e,s){return{name:hm(i,e),fields:s.value.mapValue.fields}}function Fw(i,e){let s;if("targetChange"in e){e.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ve(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(v,T){return v.useProto3Json?(Ke(T===void 0||typeof T=="string",58123),Kt.fromBase64String(T||"")):(Ke(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Kt.fromUint8Array(T||new Uint8Array))})(i,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&(function(v){const T=v.code===void 0?ne.UNKNOWN:W1(v.code);return new ge(T,v.message||"")})(f);s=new tx(r,o,u,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=qf(i,r.document.name),u=As(r.document.updateTime),f=r.document.createTime?As(r.document.createTime):Te.min(),p=new jn({mapValue:{fields:r.document.fields}}),_=Jt.newFoundDocument(o,u,f,p),v=r.targetIds||[],T=r.removedTargetIds||[];s=new zu(v,T,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=qf(i,r.document),u=r.readTime?As(r.readTime):Te.min(),f=Jt.newNoDocument(o,u),p=r.removedTargetIds||[];s=new zu([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=qf(i,r.document),u=r.removedTargetIds||[];s=new zu([],u,o,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new Mw(o,u),p=r.targetId;s=new ex(p,f)}}return s}function Gw(i,e){let s;if(e instanceof Qo)s={update:K_(i,e.key,e.value)};else if(e instanceof J1)s={delete:hm(i,e.key)};else if(e instanceof Ga)s={update:K_(i,e.key,e.data),updateMask:eN(e.fieldMask)};else{if(!(e instanceof Iw))return ve(16599,{Vt:e.type});s={verify:hm(i,e.key)}}return e.fieldTransforms.length>0&&(s.updateTransforms=e.fieldTransforms.map((r=>(function(u,f){const p=f.transform;if(p instanceof th)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Oo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Vo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof nh)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw ve(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(s.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:qw(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve(27497)})(i,e.precondition)),s}function Yw(i,e){return i&&i.length>0?(Ke(e!==void 0,14353),i.map((s=>(function(o,u){let f=o.updateTime?As(o.updateTime):As(u);return f.isEqual(Te.min())&&(f=As(u)),new Nw(f,o.transformResults||[])})(s,e)))):[]}function Qw(i,e){return{documents:[ix(i,e.path)]}}function Kw(i,e){const s={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,s.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),s.structuredQuery.from=[{collectionId:r.lastSegment()}]),s.parent=ix(i,o);const u=(function(v){if(v.length!==0)return lx(Is.create(v,"and"))})(e.filters);u&&(s.structuredQuery.where=u);const f=(function(v){if(v.length!==0)return v.map((T=>(function(C){return{field:Pr(C.field),direction:Zw(C.dir)}})(T)))})(e.orderBy);f&&(s.structuredQuery.orderBy=f);const p=cm(i,e.limit);return p!==null&&(s.structuredQuery.limit=p),e.startAt&&(s.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(s.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:s,parent:o}}function Xw(i){let e=Hw(i.parent);const s=i.structuredQuery,r=s.from?s.from.length:0;let o=null;if(r>0){Ke(r===1,65062);const T=s.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];s.where&&(u=(function(A){const C=rx(A);return C instanceof Is&&V1(C)?C.getFilters():[C]})(s.where));let f=[];s.orderBy&&(f=(function(A){return A.map((C=>(function(F){return new eh(zr(F.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(C)))})(s.orderBy));let p=null;s.limit&&(p=(function(A){let C;return C=typeof A=="object"?A.value:A,mh(C)?null:C})(s.limit));let _=null;s.startAt&&(_=(function(A){const C=!!A.before,z=A.values||[];return new Wu(z,C)})(s.startAt));let v=null;return s.endAt&&(v=(function(A){const C=!A.before,z=A.values||[];return new Wu(z,C)})(s.endAt)),fw(e,o,f,u,p,"F",_,v)}function $w(i,e){const s=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return s==null?null:{"goog-listen-tags":s}}function rx(i){return i.unaryFilter!==void 0?(function(s){switch(s.unaryFilter.op){case"IS_NAN":const r=zr(s.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=zr(s.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=zr(s.unaryFilter.field);return Dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=zr(s.unaryFilter.field);return Dt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(i):i.fieldFilter!==void 0?(function(s){return Dt.create(zr(s.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(s.fieldFilter.op),s.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(s){return Is.create(s.compositeFilter.filters.map((r=>rx(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(s.compositeFilter.op))})(i):ve(30097,{filter:i})}function Zw(i){return Uw[i]}function Jw(i){return Pw[i]}function Ww(i){return zw[i]}function Pr(i){return{fieldPath:i.canonicalString()}}function zr(i){return Qt.fromServerFormat(i.fieldPath)}function lx(i){return i instanceof Dt?(function(s){if(s.op==="=="){if(O_(s.value))return{unaryFilter:{field:Pr(s.field),op:"IS_NAN"}};if(j_(s.value))return{unaryFilter:{field:Pr(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(O_(s.value))return{unaryFilter:{field:Pr(s.field),op:"IS_NOT_NAN"}};if(j_(s.value))return{unaryFilter:{field:Pr(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pr(s.field),op:Jw(s.op),value:s.value}}})(i):i instanceof Is?(function(s){const r=s.getFilters().map((o=>lx(o)));return r.length===1?r[0]:{compositeFilter:{op:Ww(s.op),filters:r}}})(i):ve(54877,{filter:i})}function eN(i){const e=[];return i.fields.forEach((s=>e.push(s.canonicalString()))),{fieldPaths:e}}function ox(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class Hi{constructor(e,s,r,o,u=Te.min(),f=Te.min(),p=Kt.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=s,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new Hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,s){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class tN{constructor(e){this.yt=e}}function nN(i){const e=Xw({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?om(e,e.limit,"L"):e}class sN{constructor(){this.Cn=new iN}addToCollectionParentIndex(e,s){return this.Cn.add(s),te.resolve()}getCollectionParents(e,s){return te.resolve(this.Cn.getEntries(s))}addFieldIndex(e,s){return te.resolve()}deleteFieldIndex(e,s){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,s){return te.resolve()}getDocumentsMatchingTarget(e,s){return te.resolve(null)}getIndexType(e,s){return te.resolve(0)}getFieldIndexes(e,s){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,s){return te.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,s){return te.resolve(Xi.min())}updateCollectionGroup(e,s,r){return te.resolve()}updateIndexEntries(e,s){return te.resolve()}}class iN{constructor(){this.index={}}add(e){const s=e.lastSegment(),r=e.popLast(),o=this.index[s]||new Mt(ct.comparator),u=!o.has(r);return this.index[s]=o.add(r),u}has(e){const s=e.lastSegment(),r=e.popLast(),o=this.index[s];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Mt(ct.comparator)).toArray()}}const X_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cx=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,s,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=r}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(cx,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class Zr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Zr(0)}static cr(){return new Zr(-1)}}const $_="LruGarbageCollector",aN=1048576;function Z_([i,e],[s,r]){const o=Le(i,s);return o===0?Le(e,r):o}class rN{constructor(e){this.Ir=e,this.buffer=new Mt(Z_),this.Er=0}dr(){return++this.Er}Ar(e){const s=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(s);else{const r=this.buffer.last();Z_(s,r)<0&&(this.buffer=this.buffer.delete(r).add(s))}}get maxValue(){return this.buffer.last()[0]}}class lN{constructor(e,s,r){this.garbageCollector=e,this.asyncQueue=s,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue($_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(s){rl(s)?ue($_,"Ignoring IndexedDB error during garbage collection: ",s):await al(s)}await this.Vr(3e5)}))}}class oN{constructor(e,s){this.mr=e,this.params=s}calculateTargetCount(e,s){return this.mr.gr(e).next((r=>Math.floor(s/100*r)))}nthSequenceNumber(e,s){if(s===0)return te.resolve(fh.ce);const r=new rN(s);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,s,r){return this.mr.removeTargets(e,s,r)}removeOrphanedDocuments(e,s){return this.mr.removeOrphanedDocuments(e,s)}collect(e,s){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(X_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),X_):this.yr(e,s)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,s){let r,o,u,f,p,_,v;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(r=A,p=Date.now(),this.removeTargets(e,r,s)))).next((A=>(u=A,_=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(v=Date.now(),Lr()<=Ve.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(_-p)+`ms
	Removed ${A} documents in `+(v-_)+`ms
Total Duration: ${v-T}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A}))))}}function cN(i,e){return new oN(i,e)}class uN{constructor(){this.changes=new Fa((e=>e.toString()),((e,s)=>e.isEqual(s))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,s){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(s))}getEntry(e,s){this.assertNotApplied();const r=this.changes.get(s);return r!==void 0?te.resolve(r):this.getFromCache(e,s)}getEntries(e,s){return this.getAllFromCache(e,s)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hN{constructor(e,s){this.overlayedDocument=e,this.mutatedFields=s}}class dN{constructor(e,s,r,o){this.remoteDocumentCache=e,this.mutationQueue=s,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,s){let r=null;return this.documentOverlayCache.getOverlay(e,s).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,s)))).next((o=>(r!==null&&Ao(r.mutation,o,Jn.empty(),at.now()),o)))}getDocuments(e,s){return this.remoteDocumentCache.getEntries(e,s).next((r=>this.getLocalViewOfDocuments(e,r,Ue()).next((()=>r))))}getLocalViewOfDocuments(e,s,r=Ue()){const o=ja();return this.populateOverlays(e,o,s).next((()=>this.computeViews(e,s,o,r).next((u=>{let f=yo();return u.forEach(((p,_)=>{f=f.insert(p,_.overlayedDocument)})),f}))))}getOverlayedDocuments(e,s){const r=ja();return this.populateOverlays(e,r,s).next((()=>this.computeViews(e,s,r,Ue())))}populateOverlays(e,s,r){const o=[];return r.forEach((u=>{s.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,p)=>{s.set(f,p)}))}))}computeViews(e,s,r,o){let u=si();const f=So(),p=(function(){return So()})();return s.forEach(((_,v)=>{const T=r.get(v.key);o.has(v.key)&&(T===void 0||T.mutation instanceof Ga)?u=u.insert(v.key,v):T!==void 0?(f.set(v.key,T.mutation.getFieldMask()),Ao(T.mutation,v,T.mutation.getFieldMask(),at.now())):f.set(v.key,Jn.empty())})),this.recalculateAndSaveOverlays(e,u).next((_=>(_.forEach(((v,T)=>f.set(v,T))),s.forEach(((v,T)=>p.set(v,new hN(T,f.get(v)??null)))),p)))}recalculateAndSaveOverlays(e,s){const r=So();let o=new ut(((f,p)=>f-p)),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,s).next((f=>{for(const p of f)p.keys().forEach((_=>{const v=s.get(_);if(v===null)return;let T=r.get(_)||Jn.empty();T=p.applyToLocalView(v,T),r.set(_,T);const A=(o.get(p.batchId)||Ue()).add(_);o=o.insert(p.batchId,A)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,T=_.value,A=F1();T.forEach((C=>{if(!u.has(C)){const z=$1(s.get(C),r.get(C));z!==null&&A.set(C,z),u=u.add(C)}})),f.push(this.documentOverlayCache.saveOverlays(e,v,A))}return te.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,s){return this.remoteDocumentCache.getEntries(e,s).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,s,r,o){return(function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(s)?this.getDocumentsMatchingDocumentQuery(e,s.path):mw(s)?this.getDocumentsMatchingCollectionGroupQuery(e,s,r,o):this.getDocumentsMatchingCollectionQuery(e,s,r,o)}getNextDocuments(e,s,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,s,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,s,r.largestBatchId,o-u.size):te.resolve(ja());let p=ko,_=u;return f.next((v=>te.forEach(v,((T,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),u.get(T)?te.resolve():this.remoteDocumentCache.getEntry(e,T).next((C=>{_=_.insert(T,C)}))))).next((()=>this.populateOverlays(e,v,u))).next((()=>this.computeViews(e,_,v,Ue()))).next((T=>({batchId:p,changes:H1(T)})))))}))}getDocumentsMatchingDocumentQuery(e,s){return this.getDocument(e,new ye(s)).next((r=>{let o=yo();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,s,r,o){const u=s.collectionGroup;let f=yo();return this.indexManager.getCollectionParents(e,u).next((p=>te.forEach(p,(_=>{const v=(function(A,C){return new ph(C,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(s,_.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,r,o).next((T=>{T.forEach(((A,C)=>{f=f.insert(A,C)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,s,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,s.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,s,r,u,o)))).next((f=>{u.forEach(((_,v)=>{const T=v.getKey();f.get(T)===null&&(f=f.insert(T,Jt.newInvalidDocument(T)))}));let p=yo();return f.forEach(((_,v)=>{const T=u.get(_);T!==void 0&&Ao(T.mutation,v,Jn.empty(),at.now()),_h(s,v)&&(p=p.insert(_,v))})),p}))}}class fN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,s){return te.resolve(this.Lr.get(s))}saveBundleMetadata(e,s){return this.Lr.set(s.id,(function(o){return{id:o.id,version:o.version,createTime:As(o.createTime)}})(s)),te.resolve()}getNamedQuery(e,s){return te.resolve(this.kr.get(s))}saveNamedQuery(e,s){return this.kr.set(s.name,(function(o){return{name:o.name,query:nN(o.bundledQuery),readTime:As(o.readTime)}})(s)),te.resolve()}}class mN{constructor(){this.overlays=new ut(ye.comparator),this.qr=new Map}getOverlay(e,s){return te.resolve(this.overlays.get(s))}getOverlays(e,s){const r=ja();return te.forEach(s,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,s,r){return r.forEach(((o,u)=>{this.St(e,s,u)})),te.resolve()}removeOverlaysForBatchId(e,s,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),te.resolve()}getOverlaysForCollection(e,s,r){const o=ja(),u=s.length+1,f=new ye(s.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!s.isPrefixOf(v.path))break;v.path.length===u&&_.largestBatchId>r&&o.set(_.getKey(),_)}return te.resolve(o)}getOverlaysForCollectionGroup(e,s,r,o){let u=new ut(((v,T)=>v-T));const f=this.overlays.getIterator();for(;f.hasNext();){const v=f.getNext().value;if(v.getKey().getCollectionGroup()===s&&v.largestBatchId>r){let T=u.get(v.largestBatchId);T===null&&(T=ja(),u=u.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const p=ja(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,T)=>p.set(v,T))),!(p.size()>=o)););return te.resolve(p)}St(e,s,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new Dw(s,r));let u=this.qr.get(s);u===void 0&&(u=Ue(),this.qr.set(s,u)),this.qr.set(s,u.add(r.key))}}class gN{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,s){return this.sessionToken=s,te.resolve()}}class Qm{constructor(){this.Qr=new Mt(Lt.$r),this.Ur=new Mt(Lt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,s){const r=new Lt(e,s);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,s){e.forEach((r=>this.addReference(r,s)))}removeReference(e,s){this.Gr(new Lt(e,s))}zr(e,s){e.forEach((r=>this.removeReference(r,s)))}jr(e){const s=new ye(new ct([])),r=new Lt(s,e),o=new Lt(s,e+1),u=[];return this.Ur.forEachInRange([r,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const s=new ye(new ct([])),r=new Lt(s,e),o=new Lt(s,e+1);let u=Ue();return this.Ur.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const s=new Lt(e,0),r=this.Qr.firstAfterOrEqual(s);return r!==null&&e.isEqual(r.key)}}class Lt{constructor(e,s){this.key=e,this.Yr=s}static $r(e,s){return ye.comparator(e.key,s.key)||Le(e.Yr,s.Yr)}static Kr(e,s){return Le(e.Yr,s.Yr)||ye.comparator(e.key,s.key)}}class pN{constructor(e,s){this.indexManager=e,this.referenceDelegate=s,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(Lt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,s,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new kw(u,s,r,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new Lt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,s){return te.resolve(this.Xr(s))}getNextMutationBatchAfterBatchId(e,s){const r=s+1,o=this.ei(r),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Lm:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,s){const r=new Lt(s,0),o=new Lt(s,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(f=>{const p=this.Xr(f.Yr);u.push(p)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,s){let r=new Mt(Le);return s.forEach((o=>{const u=new Lt(o,0),f=new Lt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(p=>{r=r.add(p.Yr)}))})),te.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,s){const r=s.path,o=r.length+1;let u=r;ye.isDocumentKey(u)||(u=u.child(""));const f=new Lt(new ye(u),0);let p=new Mt(Le);return this.Zr.forEachWhile((_=>{const v=_.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(p=p.add(_.Yr)),!0)}),f),te.resolve(this.ti(p))}ti(e){const s=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&s.push(o)})),s}removeMutationBatch(e,s){Ke(this.ni(s.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return te.forEach(s.mutations,(o=>{const u=new Lt(o.key,s.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,s){const r=new Lt(s,0),o=this.Zr.firstAfterOrEqual(r);return te.resolve(s.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,s){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const s=this.ei(e);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}class yN{constructor(e){this.ri=e,this.docs=(function(){return new ut(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,s){const r=s.key,o=this.docs.get(r),u=o?o.size:0,f=this.ri(s);return this.docs=this.docs.insert(r,{document:s.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const s=this.docs.get(e);s&&(this.docs=this.docs.remove(e),this.size-=s.size)}getEntry(e,s){const r=this.docs.get(s);return te.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(s))}getEntries(e,s){let r=si();return s.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Jt.newInvalidDocument(o))})),te.resolve(r)}getDocumentsMatchingQuery(e,s,r,o){let u=si();const f=s.path,p=new ye(f.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:T}}=_.getNext();if(!f.isPrefixOf(v.path))break;v.path.length>f.length+1||GA(FA(T),r)<=0||(o.has(T.key)||_h(s,T))&&(u=u.insert(T.key,T.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,s,r,o){ve(9500)}ii(e,s){return te.forEach(this.docs,(r=>s(r)))}newChangeBuffer(e){return new _N(this)}getSize(e){return te.resolve(this.size)}}class _N extends uN{constructor(e){super(),this.Nr=e}applyChanges(e){const s=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?s.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),te.waitFor(s)}getFromCache(e,s){return this.Nr.getEntry(e,s)}getAllFromCache(e,s){return this.Nr.getEntries(e,s)}}class vN{constructor(e){this.persistence=e,this.si=new Fa((s=>zm(s)),Bm),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new Qm,this.targetCount=0,this.ai=Zr.ur()}forEachTarget(e,s){return this.si.forEach(((r,o)=>s(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,s,r){return r&&(this.lastRemoteSnapshotVersion=r),s>this.oi&&(this.oi=s),te.resolve()}Pr(e){this.si.set(e.target,e);const s=e.targetId;s>this.highestTargetId&&(this.ai=new Zr(s),this.highestTargetId=s),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,s){return this.Pr(s),this.targetCount+=1,te.resolve()}updateTargetData(e,s){return this.Pr(s),te.resolve()}removeTargetData(e,s){return this.si.delete(s.target),this._i.jr(s.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,s,r){let o=0;const u=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=s&&r.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,s){const r=this.si.get(s)||null;return te.resolve(r)}addMatchingKeys(e,s,r){return this._i.Wr(s,r),te.resolve()}removeMatchingKeys(e,s,r){this._i.zr(s,r);const o=this.persistence.referenceDelegate,u=[];return o&&s.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,s){return this._i.jr(s),te.resolve()}getMatchingKeysForTargetId(e,s){const r=this._i.Hr(s);return te.resolve(r)}containsKey(e,s){return te.resolve(this._i.containsKey(s))}}class ux{constructor(e,s){this.ui={},this.overlays={},this.ci=new fh(0),this.li=!1,this.li=!0,this.hi=new gN,this.referenceDelegate=e(this),this.Pi=new vN(this),this.indexManager=new sN,this.remoteDocumentCache=(function(o){return new yN(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new tN(s),this.Ii=new fN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let s=this.overlays[e.toKey()];return s||(s=new mN,this.overlays[e.toKey()]=s),s}getMutationQueue(e,s){let r=this.ui[e.toKey()];return r||(r=new pN(s,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,s,r){ue("MemoryPersistence","Starting transaction:",e);const o=new xN(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,s){return te.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,s))))}}class xN extends QA{constructor(e){super(),this.currentSequenceNumber=e}}class Km{constructor(e){this.persistence=e,this.Ri=new Qm,this.Vi=null}static mi(e){return new Km(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,s,r){return this.Ri.addReference(r,s),this.fi.delete(r.toString()),te.resolve()}removeReference(e,s,r){return this.Ri.removeReference(r,s),this.fi.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,s){return this.fi.add(s.toString()),te.resolve()}removeTarget(e,s){this.Ri.jr(s.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,s.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,s)))}Ei(){this.Vi=new Set}di(e){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(r=>{const o=ye.fromPath(r);return this.gi(e,o).next((u=>{u||s.removeEntry(o,Te.min())}))})).next((()=>(this.Vi=null,s.apply(e))))}updateLimboDocument(e,s){return this.gi(e,s).next((r=>{r?this.fi.delete(s.toString()):this.fi.add(s.toString())}))}Ti(e){return 0}gi(e,s){return te.or([()=>te.resolve(this.Ri.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(e,s),()=>this.persistence.Ai(e,s)])}}class ih{constructor(e,s){this.persistence=e,this.pi=new Fa((r=>$A(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=cN(this,s)}static mi(e,s){return new ih(e,s)}Ei(){}di(e){return te.resolve()}forEachTarget(e,s){return this.persistence.getTargetCache().forEachTarget(e,s)}gr(e){const s=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>s.next((o=>r+o))))}wr(e){let s=0;return this.pr(e,(r=>{s++})).next((()=>s))}pr(e,s){return te.forEach(this.pi,((r,o)=>this.br(e,r,o).next((u=>u?te.resolve():s(o)))))}removeTargets(e,s,r){return this.persistence.getTargetCache().removeTargets(e,s,r)}removeOrphanedDocuments(e,s){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,s).next((p=>{p||(r++,u.removeEntry(f,Te.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeTarget(e,s){const r=s.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,s,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,s,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}Ti(e){let s=e.key.toString().length;return e.isFoundDocument()&&(s+=Lu(e.data.value)),s}br(e,s,r){return te.or([()=>this.persistence.Ai(e,s),()=>this.persistence.getTargetCache().containsKey(e,s),()=>{const o=this.pi.get(s);return te.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Xm{constructor(e,s,r,o){this.targetId=e,this.fromCache=s,this.Es=r,this.ds=o}static As(e,s){let r=Ue(),o=Ue();for(const u of s.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Xm(e,s.fromCache,r,o)}}class bN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class EN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return uT()?8:KA(Wt())>0?6:4})()}initialize(e,s){this.ps=e,this.indexManager=s,this.Rs=!0}getDocumentsMatchingQuery(e,s,r,o){const u={result:null};return this.ys(e,s).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,s,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new bN;return this.Ss(e,s,f).next((p=>{if(u.result=p,this.Vs)return this.bs(e,s,f,p.size)}))})).next((()=>u.result))}bs(e,s,r,o){return r.documentReadCount<this.fs?(Lr()<=Ve.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Ur(s),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(Lr()<=Ve.DEBUG&&ue("QueryEngine","Query:",Ur(s),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Lr()<=Ve.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Ur(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ss(s))):te.resolve())}ys(e,s){if(P_(s))return te.resolve(null);let r=Ss(s);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(s.limit!==null&&o===1&&(s=om(s,null,"F"),r=Ss(s)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const f=Ue(...u);return this.ps.getDocuments(e,f).next((p=>this.indexManager.getMinOffset(e,r).next((_=>{const v=this.Ds(s,p);return this.Cs(s,v,f,_.readTime)?this.ys(e,om(s,null,"F")):this.vs(e,v,s,_)}))))})))))}ws(e,s,r,o){return P_(s)||o.isEqual(Te.min())?te.resolve(null):this.ps.getDocuments(e,r).next((u=>{const f=this.Ds(s,u);return this.Cs(s,f,r,o)?te.resolve(null):(Lr()<=Ve.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ur(s)),this.vs(e,f,s,HA(o,ko)).next((p=>p)))}))}Ds(e,s){let r=new Mt(B1(e));return s.forEach(((o,u)=>{_h(e,u)&&(r=r.add(u))})),r}Cs(e,s,r,o){if(e.limit===null)return!1;if(r.size!==s.size)return!0;const u=e.limitType==="F"?s.last():s.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,s,r){return Lr()<=Ve.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Ur(s)),this.ps.getDocumentsMatchingQuery(e,s,Xi.min(),r)}vs(e,s,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((u=>(s.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const $m="LocalStore",TN=3e8;class SN{constructor(e,s,r,o){this.persistence=e,this.Fs=s,this.serializer=o,this.Ms=new ut(Le),this.xs=new Fa((u=>zm(u)),Bm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(s=>e.collect(s,this.Ms)))}}function AN(i,e,s,r){return new SN(i,e,s,r)}async function hx(i,e){const s=Ae(i);return await s.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return s.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,s.Bs(e),s.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],p=[];let _=Ue();for(const v of o){f.push(v.batchId);for(const T of v.mutations)_=_.add(T.key)}for(const v of u){p.push(v.batchId);for(const T of v.mutations)_=_.add(T.key)}return s.localDocuments.getDocuments(r,_).next((v=>({Ls:v,removedBatchIds:f,addedBatchIds:p})))}))}))}function wN(i,e){const s=Ae(i);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=s.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,v,T){const A=v.batch,C=A.keys();let z=te.resolve();return C.forEach((F=>{z=z.next((()=>T.getEntry(_,F))).next((Y=>{const P=v.docVersions.get(F);Ke(P!==null,48541),Y.version.compareTo(P)<0&&(A.applyToRemoteDocument(Y,v),Y.isValidDocument()&&(Y.setReadTime(v.commitVersion),T.addEntry(Y)))}))})),z.next((()=>p.mutationQueue.removeMutationBatch(_,A)))})(s,r,e,u).next((()=>u.apply(r))).next((()=>s.mutationQueue.performConsistencyCheck(r))).next((()=>s.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let _=Ue();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(_=_.add(p.batch.mutations[v].key));return _})(e)))).next((()=>s.localDocuments.getDocuments(r,o)))}))}function dx(i){const e=Ae(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(s=>e.Pi.getLastRemoteSnapshotVersion(s)))}function NN(i,e){const s=Ae(i),r=e.snapshotVersion;let o=s.Ms;return s.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=s.Ns.newChangeBuffer({trackRemovals:!0});o=s.Ms;const p=[];e.targetChanges.forEach(((T,A)=>{const C=o.get(A);if(!C)return;p.push(s.Pi.removeMatchingKeys(u,T.removedDocuments,A).next((()=>s.Pi.addMatchingKeys(u,T.addedDocuments,A))));let z=C.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?z=z.withResumeToken(Kt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):T.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(T.resumeToken,r)),o=o.insert(A,z),(function(Y,P,se){return Y.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=TN?!0:se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0})(C,z,T)&&p.push(s.Pi.updateTargetData(u,z))}));let _=si(),v=Ue();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(s.persistence.referenceDelegate.updateLimboDocument(u,T))})),p.push(RN(u,f,e.documentUpdates).next((T=>{_=T.ks,v=T.qs}))),!r.isEqual(Te.min())){const T=s.Pi.getLastRemoteSnapshotVersion(u).next((A=>s.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(T)}return te.waitFor(p).next((()=>f.apply(u))).next((()=>s.localDocuments.getLocalViewOfDocuments(u,_,v))).next((()=>_))})).then((u=>(s.Ms=o,u)))}function RN(i,e,s){let r=Ue(),o=Ue();return s.forEach((u=>r=r.add(u))),e.getEntries(i,r).next((u=>{let f=si();return s.forEach(((p,_)=>{const v=u.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),_.isNoDocument()&&_.version.isEqual(Te.min())?(e.removeEntry(p,_.readTime),f=f.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),f=f.insert(p,_)):ue($m,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)})),{ks:f,qs:o}}))}function CN(i,e){const s=Ae(i);return s.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Lm),s.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function IN(i,e){const s=Ae(i);return s.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return s.Pi.getTargetData(r,e).next((u=>u?(o=u,te.resolve(o)):s.Pi.allocateTargetId(r).next((f=>(o=new Hi(e,f,"TargetPurposeListen",r.currentSequenceNumber),s.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=s.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(s.Ms=s.Ms.insert(r.targetId,r),s.xs.set(e,r.targetId)),r}))}async function fm(i,e,s){const r=Ae(i),o=r.Ms.get(e),u=s?"readwrite":"readwrite-primary";try{s||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!rl(f))throw f;ue($m,`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function J_(i,e,s){const r=Ae(i);let o=Te.min(),u=Ue();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(_,v,T){const A=Ae(_),C=A.xs.get(T);return C!==void 0?te.resolve(A.Ms.get(C)):A.Pi.getTargetData(v,T)})(r,f,Ss(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,p.targetId).next((_=>{u=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,e,s?o:Te.min(),s?u:Ue()))).next((p=>(kN(r,pw(e),p),{documents:p,Qs:u})))))}function kN(i,e,s){let r=i.Os.get(e)||Te.min();s.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),i.Os.set(e,r)}class W_{constructor(){this.activeTargetIds=Ew()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DN{constructor(){this.Mo=new W_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,s,r){}addLocalQueryTarget(e,s=!0){return s&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,s,r){this.xo[e]=s}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new W_,Promise.resolve()}handleUserChange(e,s,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class MN{Oo(e){}shutdown(){}}const ev="ConnectivityMonitor";class tv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(ev,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(ev,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ku=null;function mm(){return ku===null?ku=(function(){return 268435456+Math.round(2147483648*Math.random())})():ku++,"0x"+ku.toString(16)}const Hf="RestConnection",jN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ON{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const s=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=s+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Zu?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,s,r,o,u){const f=mm(),p=this.zo(e,s.toUriEncodedString());ue(Hf,`Sending RPC '${e}' ${f}:`,p,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,u);const{host:v}=new URL(p),T=tl(v);return this.Jo(e,p,_,r,T).then((A=>(ue(Hf,`Received RPC '${e}' ${f}: `,A),A)),(A=>{throw Qr(Hf,`RPC '${e}' ${f} failed with error: `,A,"url: ",p,"request:",r),A}))}Ho(e,s,r,o,u,f){return this.Go(e,s,r,o,u)}jo(e,s,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+il})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}zo(e,s){const r=jN[e];return`${this.Uo}/v1/${s}:${r}`}terminate(){}}class VN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const $t="WebChannelConnection";class LN extends ON{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,s,r,o,u){const f=mm();return new Promise(((p,_)=>{const v=new p1;v.setWithCredentials(!0),v.listenOnce(y1.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Vu.NO_ERROR:const A=v.getResponseJson();ue($t,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),p(A);break;case Vu.TIMEOUT:ue($t,`RPC '${e}' ${f} timed out`),_(new ge(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Vu.HTTP_ERROR:const C=v.getStatus();if(ue($t,`RPC '${e}' ${f} failed with status:`,C,"response text:",v.getResponseText()),C>0){let z=v.getResponseJson();Array.isArray(z)&&(z=z[0]);const F=z?.error;if(F&&F.status&&F.message){const Y=(function(se){const L=se.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(L)>=0?L:ne.UNKNOWN})(F.status);_(new ge(Y,F.message))}else _(new ge(ne.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new ge(ne.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:f,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ue($t,`RPC '${e}' ${f} completed.`)}}));const T=JSON.stringify(o);ue($t,`RPC '${e}' ${f} sending request:`,o),v.send(s,"POST",T,r,15)}))}T_(e,s,r){const o=mm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=x1(),p=v1(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,s,r),_.encodeInitMessageHeaders=!0;const T=u.join("");ue($t,`Creating RPC '${e}' stream ${o}: ${T}`,_);const A=f.createWebChannel(T,_);this.I_(A);let C=!1,z=!1;const F=new VN({Yo:P=>{z?ue($t,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(C||(ue($t,`Opening RPC '${e}' stream ${o} transport.`),A.open(),C=!0),ue($t,`RPC '${e}' stream ${o} sending:`,P),A.send(P))},Zo:()=>A.close()}),Y=(P,se,L)=>{P.listen(se,(V=>{try{L(V)}catch(ie){setTimeout((()=>{throw ie}),0)}}))};return Y(A,po.EventType.OPEN,(()=>{z||(ue($t,`RPC '${e}' stream ${o} transport opened.`),F.o_())})),Y(A,po.EventType.CLOSE,(()=>{z||(z=!0,ue($t,`RPC '${e}' stream ${o} transport closed`),F.a_(),this.E_(A))})),Y(A,po.EventType.ERROR,(P=>{z||(z=!0,Qr($t,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),F.a_(new ge(ne.UNAVAILABLE,"The operation could not be completed")))})),Y(A,po.EventType.MESSAGE,(P=>{if(!z){const se=P.data[0];Ke(!!se,16349);const L=se,V=L?.error||L[0]?.error;if(V){ue($t,`RPC '${e}' stream ${o} received error:`,V);const ie=V.status;let ce=(function(E){const w=Nt[E];if(w!==void 0)return W1(w)})(ie),ae=V.message;ce===void 0&&(ce=ne.INTERNAL,ae="Unknown error status: "+ie+" with message "+V.message),z=!0,F.a_(new ge(ce,ae)),A.close()}else ue($t,`RPC '${e}' stream ${o} received:`,se),F.u_(se)}})),Y(p,_1.STAT_EVENT,(P=>{P.stat===nm.PROXY?ue($t,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===nm.NOPROXY&&ue($t,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((s=>s===e))}}function Ff(){return typeof document<"u"?document:null}function Eh(i){return new Bw(i,!0)}class fx{constructor(e,s,r=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=s,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const s=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,s-r);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${s} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const nv="PersistentStream";class mx{constructor(e,s,r,o,u,f,p,_){this.Mi=e,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fx(e,s)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,s){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():s&&s.code===ne.RESOURCE_EXHAUSTED?(ni(s.toString()),ni("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):s&&s.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(s)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),s=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===s&&this.G_(r,o)}),(r=>{e((()=>{const o=new ge(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,s){const r=this.W_(this.D_);this.stream=this.j_(e,s),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(nv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return s=>{this.Mi.enqueueAndForget((()=>this.D_===e?s():(ue(nv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class UN extends mx{constructor(e,s,r,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,r,o,f),this.serializer=u}j_(e,s){return this.connection.T_("Listen",e,s)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const s=Fw(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Te.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Te.min():f.readTime?As(f.readTime):Te.min()})(e);return this.listener.H_(s,r)}Y_(e){const s={};s.database=dm(this.serializer),s.addTarget=(function(u,f){let p;const _=f.target;if(p=lm(_)?{documents:Qw(u,_)}:{query:Kw(u,_).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=nx(u,f.resumeToken);const v=cm(u,f.expectedCount);v!==null&&(p.expectedCount=v)}else if(f.snapshotVersion.compareTo(Te.min())>0){p.readTime=sh(u,f.snapshotVersion.toTimestamp());const v=cm(u,f.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,e);const r=$w(this.serializer,e);r&&(s.labels=r),this.q_(s)}Z_(e){const s={};s.database=dm(this.serializer),s.removeTarget=e,this.q_(s)}}class PN extends mx{constructor(e,s,r,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,r,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,s){return this.connection.T_("Write",e,s)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const s=Yw(e.writeResults,e.commitTime),r=As(e.commitTime);return this.listener.na(r,s)}ra(){const e={};e.database=dm(this.serializer),this.q_(e)}ea(e){const s={streamToken:this.lastStreamToken,writes:e.map((r=>Gw(this.serializer,r)))};this.q_(s)}}class zN{}class BN extends zN{constructor(e,s,r,o){super(),this.authCredentials=e,this.appCheckCredentials=s,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ge(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,s,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,um(s,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(ne.UNKNOWN,u.toString())}))}Ho(e,s,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(e,um(s,r),o,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ge(ne.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class qN{constructor(e,s){this.asyncQueue=e,this.onlineStateHandler=s,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const s=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ni(s),this.aa=!1):ue("OnlineStateTracker",s)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const qa="RemoteStore";class HN{constructor(e,s,r,o,u){this.localStore=e,this.datastore=s,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{Ya(this)&&(ue(qa,"Restarting streams for network reachability change."),await(async function(_){const v=Ae(_);v.Ea.add(4),await Xo(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Th(v)})(this))}))})),this.Ra=new qN(r,o)}}async function Th(i){if(Ya(i))for(const e of i.da)await e(!0)}async function Xo(i){for(const e of i.da)await e(!1)}function gx(i,e){const s=Ae(i);s.Ia.has(e.targetId)||(s.Ia.set(e.targetId,e),eg(s)?Wm(s):ll(s).O_()&&Jm(s,e))}function Zm(i,e){const s=Ae(i),r=ll(s);s.Ia.delete(e),r.O_()&&px(s,e),s.Ia.size===0&&(r.O_()?r.L_():Ya(s)&&s.Ra.set("Unknown"))}function Jm(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const s=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(s)}ll(i).Y_(e)}function px(i,e){i.Va.Ue(e),ll(i).Z_(e)}function Wm(i){i.Va=new Lw({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),ll(i).start(),i.Ra.ua()}function eg(i){return Ya(i)&&!ll(i).x_()&&i.Ia.size>0}function Ya(i){return Ae(i).Ea.size===0}function yx(i){i.Va=void 0}async function FN(i){i.Ra.set("Online")}async function GN(i){i.Ia.forEach(((e,s)=>{Jm(i,e)}))}async function YN(i,e){yx(i),eg(i)?(i.Ra.ha(e),Wm(i)):i.Ra.set("Unknown")}async function QN(i,e,s){if(i.Ra.set("Online"),e instanceof tx&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))})(i,e)}catch(r){ue(qa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ah(i,r)}else if(e instanceof zu?i.Va.Ze(e):e instanceof ex?i.Va.st(e):i.Va.tt(e),!s.isEqual(Te.min()))try{const r=await dx(i.localStore);s.compareTo(r)>=0&&await(function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const T=u.Ia.get(v);T&&u.Ia.set(v,T.withResumeToken(_.resumeToken,f))}})),p.targetMismatches.forEach(((_,v)=>{const T=u.Ia.get(_);if(!T)return;u.Ia.set(_,T.withResumeToken(Kt.EMPTY_BYTE_STRING,T.snapshotVersion)),px(u,_);const A=new Hi(T.target,_,v,T.sequenceNumber);Jm(u,A)})),u.remoteSyncer.applyRemoteEvent(p)})(i,s)}catch(r){ue(qa,"Failed to raise snapshot:",r),await ah(i,r)}}async function ah(i,e,s){if(!rl(e))throw e;i.Ea.add(1),await Xo(i),i.Ra.set("Offline"),s||(s=()=>dx(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ue(qa,"Retrying IndexedDB access"),await s(),i.Ea.delete(1),await Th(i)}))}function _x(i,e){return e().catch((s=>ah(i,s,e)))}async function Sh(i){const e=Ae(i),s=Wi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Lm;for(;KN(e);)try{const o=await CN(e.localStore,r);if(o===null){e.Ta.length===0&&s.L_();break}r=o.batchId,XN(e,o)}catch(o){await ah(e,o)}vx(e)&&xx(e)}function KN(i){return Ya(i)&&i.Ta.length<10}function XN(i,e){i.Ta.push(e);const s=Wi(i);s.O_()&&s.X_&&s.ea(e.mutations)}function vx(i){return Ya(i)&&!Wi(i).x_()&&i.Ta.length>0}function xx(i){Wi(i).start()}async function $N(i){Wi(i).ra()}async function ZN(i){const e=Wi(i);for(const s of i.Ta)e.ea(s.mutations)}async function JN(i,e,s){const r=i.Ta.shift(),o=Fm.from(r,e,s);await _x(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Sh(i)}async function WN(i,e){e&&Wi(i).X_&&await(async function(r,o){if((function(f){return jw(f)&&f!==ne.ABORTED})(o.code)){const u=r.Ta.shift();Wi(r).B_(),await _x(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Sh(r)}})(i,e),vx(i)&&xx(i)}async function sv(i,e){const s=Ae(i);s.asyncQueue.verifyOperationInProgress(),ue(qa,"RemoteStore received new credentials");const r=Ya(s);s.Ea.add(3),await Xo(s),r&&s.Ra.set("Unknown"),await s.remoteSyncer.handleCredentialChange(e),s.Ea.delete(3),await Th(s)}async function e4(i,e){const s=Ae(i);e?(s.Ea.delete(2),await Th(s)):e||(s.Ea.add(2),await Xo(s),s.Ra.set("Unknown"))}function ll(i){return i.ma||(i.ma=(function(s,r,o){const u=Ae(s);return u.sa(),new UN(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:FN.bind(null,i),t_:GN.bind(null,i),r_:YN.bind(null,i),H_:QN.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),eg(i)?Wm(i):i.Ra.set("Unknown")):(await i.ma.stop(),yx(i))}))),i.ma}function Wi(i){return i.fa||(i.fa=(function(s,r,o){const u=Ae(s);return u.sa(),new PN(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:$N.bind(null,i),r_:WN.bind(null,i),ta:ZN.bind(null,i),na:JN.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Sh(i)):(await i.fa.stop(),i.Ta.length>0&&(ue(qa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class tg{constructor(e,s,r,o,u){this.asyncQueue=e,this.timerId=s,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,s,r,o,u){const f=Date.now()+r,p=new tg(e,s,f,o,u);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ng(i,e){if(ni("AsyncQueue",`${e}: ${i}`),rl(i))return new ge(ne.UNAVAILABLE,`${e}: ${i}`);throw i}class Fr{static emptySet(e){return new Fr(e.comparator)}constructor(e){this.comparator=e?(s,r)=>e(s,r)||ye.comparator(s.key,r.key):(s,r)=>ye.comparator(s.key,r.key),this.keyedMap=yo(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const s=this.keyedMap.get(e);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((s,r)=>(e(s),!1)))}add(e){const s=this.delete(e.key);return s.copy(s.keyedMap.insert(e.key,e),s.sortedSet.insert(e,null))}delete(e){const s=this.get(e);return s?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(s)):this}isEqual(e){if(!(e instanceof Fr)||this.size!==e.size)return!1;const s=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;s.hasNext();){const o=s.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((s=>{e.push(s.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,s){const r=new Fr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=s,r}}class iv{constructor(){this.ga=new ut(ye.comparator)}track(e){const s=e.doc.key,r=this.ga.get(s);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(s,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(s,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(s,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(s):e.type===1&&r.type===2?this.ga=this.ga.insert(s,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(s,e)}ya(){const e=[];return this.ga.inorderTraversal(((s,r)=>{e.push(r)})),e}}class Jr{constructor(e,s,r,o,u,f,p,_,v){this.query=e,this.docs=s,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,s,r,o,u){const f=[];return s.forEach((p=>{f.push({type:0,doc:p})})),new Jr(e,s,Fr.emptySet(s),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const s=this.docChanges,r=e.docChanges;if(s.length!==r.length)return!1;for(let o=0;o<s.length;o++)if(s[o].type!==r[o].type||!s[o].doc.isEqual(r[o].doc))return!1;return!0}}class t4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class n4{constructor(){this.queries=av(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(s,r){const o=Ae(s),u=o.queries;o.queries=av(),u.forEach(((f,p)=>{for(const _ of p.Sa)_.onError(r)}))})(this,new ge(ne.ABORTED,"Firestore shutting down"))}}function av(){return new Fa((i=>z1(i)),yh)}async function s4(i,e){const s=Ae(i);let r=3;const o=e.query;let u=s.queries.get(o);u?!u.ba()&&e.Da()&&(r=2):(u=new t4,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await s.onListen(o,!0);break;case 1:u.wa=await s.onListen(o,!1);break;case 2:await s.onFirstRemoteStoreListen(o)}}catch(f){const p=ng(f,`Initialization of query '${Ur(e.query)}' failed`);return void e.onError(p)}s.queries.set(o,u),u.Sa.push(e),e.va(s.onlineState),u.wa&&e.Fa(u.wa)&&sg(s)}async function i4(i,e){const s=Ae(i),r=e.query;let o=3;const u=s.queries.get(r);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return s.queries.delete(r),s.onUnlisten(r,!0);case 1:return s.queries.delete(r),s.onUnlisten(r,!1);case 2:return s.onLastRemoteStoreUnlisten(r);default:return}}function a4(i,e){const s=Ae(i);let r=!1;for(const o of e){const u=o.query,f=s.queries.get(u);if(f){for(const p of f.Sa)p.Fa(o)&&(r=!0);f.wa=o}}r&&sg(s)}function r4(i,e,s){const r=Ae(i),o=r.queries.get(e);if(o)for(const u of o.Sa)u.onError(s);r.queries.delete(e)}function sg(i){i.Ca.forEach((e=>{e.next()}))}var gm,rv;(rv=gm||(gm={})).Ma="default",rv.Cache="cache";class l4{constructor(e,s,r){this.query=e,this.xa=s,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Jr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let s=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),s=!0):this.La(e,this.onlineState)&&(this.ka(e),s=!0),this.Na=e,s}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let s=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),s=!0),s}La(e,s){if(!e.fromCache||!this.Da())return!0;const r=s!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||s==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const s=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}ka(e){e=Jr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==gm.Cache}}class bx{constructor(e){this.key=e}}class Ex{constructor(e){this.key=e}}class o4{constructor(e,s){this.query=e,this.Ya=s,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=B1(e),this.tu=new Fr(this.eu)}get nu(){return this.Ya}ru(e,s){const r=s?s.iu:new iv,o=s?s.tu:this.tu;let u=s?s.mutatedKeys:this.mutatedKeys,f=o,p=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,A)=>{const C=o.get(T),z=_h(this.query,A)?A:null,F=!!C&&this.mutatedKeys.has(C.key),Y=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let P=!1;C&&z?C.data.isEqual(z.data)?F!==Y&&(r.track({type:3,doc:z}),P=!0):this.su(C,z)||(r.track({type:2,doc:z}),P=!0,(_&&this.eu(z,_)>0||v&&this.eu(z,v)<0)&&(p=!0)):!C&&z?(r.track({type:0,doc:z}),P=!0):C&&!z&&(r.track({type:1,doc:C}),P=!0,(_||v)&&(p=!0)),P&&(z?(f=f.add(z),u=Y?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:f,iu:r,Cs:p,mutatedKeys:u}}su(e,s){return e.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(e,s,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((T,A)=>(function(z,F){const Y=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:P})}};return Y(z)-Y(F)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(r),o=o??!1;const p=s&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,v=_!==this.Za;return this.Za=_,f.length!==0||v?{snapshot:new Jr(this.query,e.tu,u,f,e.mutatedKeys,_===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new iv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((s=>this.Ya=this.Ya.add(s))),e.modifiedDocuments.forEach((s=>{})),e.removedDocuments.forEach((s=>this.Ya=this.Ya.delete(s))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const s=[];return e.forEach((r=>{this.Xa.has(r)||s.push(new Ex(r))})),this.Xa.forEach((r=>{e.has(r)||s.push(new bx(r))})),s}cu(e){this.Ya=e.Qs,this.Xa=Ue();const s=this.ru(e.documents);return this.applyChanges(s,!0)}lu(){return Jr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ig="SyncEngine";class c4{constructor(e,s,r){this.query=e,this.targetId=s,this.view=r}}class u4{constructor(e){this.key=e,this.hu=!1}}class h4{constructor(e,s,r,o,u,f){this.localStore=e,this.remoteStore=s,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Fa((p=>z1(p)),yh),this.Iu=new Map,this.Eu=new Set,this.du=new ut(ye.comparator),this.Au=new Map,this.Ru=new Qm,this.Vu={},this.mu=new Map,this.fu=Zr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function d4(i,e,s=!0){const r=Rx(i);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Tx(r,e,s,!0),o}async function f4(i,e){const s=Rx(i);await Tx(s,e,!0,!1)}async function Tx(i,e,s,r){const o=await IN(i.localStore,Ss(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,s);let p;return r&&(p=await m4(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&s&&gx(i.remoteStore,o),p}async function m4(i,e,s,r,o){i.pu=(A,C,z)=>(async function(Y,P,se,L){let V=P.view.ru(se);V.Cs&&(V=await J_(Y.localStore,P.query,!1).then((({documents:I})=>P.view.ru(I,V))));const ie=L&&L.targetChanges.get(P.targetId),ce=L&&L.targetMismatches.get(P.targetId)!=null,ae=P.view.applyChanges(V,Y.isPrimaryClient,ie,ce);return ov(Y,P.targetId,ae.au),ae.snapshot})(i,A,C,z);const u=await J_(i.localStore,e,!0),f=new o4(e,u.Qs),p=f.ru(u.documents),_=Ko.createSynthesizedTargetChangeForCurrentChange(s,r&&i.onlineState!=="Offline",o),v=f.applyChanges(p,i.isPrimaryClient,_);ov(i,s,v.au);const T=new c4(e,s,f);return i.Tu.set(e,T),i.Iu.has(s)?i.Iu.get(s).push(e):i.Iu.set(s,[e]),v.snapshot}async function g4(i,e,s){const r=Ae(i),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!yh(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await fm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),s&&Zm(r.remoteStore,o.targetId),pm(r,o.targetId)})).catch(al)):(pm(r,o.targetId),await fm(r.localStore,o.targetId,!0))}async function p4(i,e){const s=Ae(i),r=s.Tu.get(e),o=s.Iu.get(r.targetId);s.isPrimaryClient&&o.length===1&&(s.sharedClientState.removeLocalQueryTarget(r.targetId),Zm(s.remoteStore,r.targetId))}async function y4(i,e,s){const r=S4(i);try{const o=await(function(f,p){const _=Ae(f),v=at.now(),T=p.reduce(((z,F)=>z.add(F.key)),Ue());let A,C;return _.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let F=si(),Y=Ue();return _.Ns.getEntries(z,T).next((P=>{F=P,F.forEach(((se,L)=>{L.isValidDocument()||(Y=Y.add(se))}))})).next((()=>_.localDocuments.getOverlayedDocuments(z,F))).next((P=>{A=P;const se=[];for(const L of p){const V=Cw(L,A.get(L.key).overlayedDocument);V!=null&&se.push(new Ga(L.key,V,M1(V.value.mapValue),Ws.exists(!0)))}return _.mutationQueue.addMutationBatch(z,v,se,p)})).next((P=>{C=P;const se=P.applyToLocalDocumentSet(A,Y);return _.documentOverlayCache.saveOverlays(z,P.batchId,se)}))})).then((()=>({batchId:C.batchId,changes:H1(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(f,p,_){let v=f.Vu[f.currentUser.toKey()];v||(v=new ut(Le)),v=v.insert(p,_),f.Vu[f.currentUser.toKey()]=v})(r,o.batchId,s),await $o(r,o.changes),await Sh(r.remoteStore)}catch(o){const u=ng(o,"Failed to persist write");s.reject(u)}}async function Sx(i,e){const s=Ae(i);try{const r=await NN(s.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=s.Au.get(u);f&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ke(f.hu,14607):o.removedDocuments.size>0&&(Ke(f.hu,42227),f.hu=!1))})),await $o(s,r,e)}catch(r){await al(r)}}function lv(i,e,s){const r=Ae(i);if(r.isPrimaryClient&&s===0||!r.isPrimaryClient&&s===1){const o=[];r.Tu.forEach(((u,f)=>{const p=f.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const _=Ae(f);_.onlineState=p;let v=!1;_.queries.forEach(((T,A)=>{for(const C of A.Sa)C.va(p)&&(v=!0)})),v&&sg(_)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _4(i,e,s){const r=Ae(i);r.sharedClientState.updateQueryState(e,"rejected",s);const o=r.Au.get(e),u=o&&o.key;if(u){let f=new ut(ye.comparator);f=f.insert(u,Jt.newNoDocument(u,Te.min()));const p=Ue().add(u),_=new bh(Te.min(),new Map,new ut(Le),f,p);await Sx(r,_),r.du=r.du.remove(u),r.Au.delete(e),ag(r)}else await fm(r.localStore,e,!1).then((()=>pm(r,e,s))).catch(al)}async function v4(i,e){const s=Ae(i),r=e.batch.batchId;try{const o=await wN(s.localStore,e);wx(s,r,null),Ax(s,r),s.sharedClientState.updateMutationState(r,"acknowledged"),await $o(s,o)}catch(o){await al(o)}}async function x4(i,e,s){const r=Ae(i);try{const o=await(function(f,p){const _=Ae(f);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let T;return _.mutationQueue.lookupMutationBatch(v,p).next((A=>(Ke(A!==null,37113),T=A.keys(),_.mutationQueue.removeMutationBatch(v,A)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,T,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,T))).next((()=>_.localDocuments.getDocuments(v,T)))}))})(r.localStore,e);wx(r,e,s),Ax(r,e),r.sharedClientState.updateMutationState(e,"rejected",s),await $o(r,o)}catch(o){await al(o)}}function Ax(i,e){(i.mu.get(e)||[]).forEach((s=>{s.resolve()})),i.mu.delete(e)}function wx(i,e,s){const r=Ae(i);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(s?u.reject(s):u.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function pm(i,e,s=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),s&&i.Pu.yu(r,s);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((r=>{i.Ru.containsKey(r)||Nx(i,r)}))}function Nx(i,e){i.Eu.delete(e.path.canonicalString());const s=i.du.get(e);s!==null&&(Zm(i.remoteStore,s),i.du=i.du.remove(e),i.Au.delete(s),ag(i))}function ov(i,e,s){for(const r of s)r instanceof bx?(i.Ru.addReference(r.key,e),b4(i,r)):r instanceof Ex?(ue(ig,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||Nx(i,r.key)):ve(19791,{wu:r})}function b4(i,e){const s=e.key,r=s.path.canonicalString();i.du.get(s)||i.Eu.has(r)||(ue(ig,"New document in limbo: "+s),i.Eu.add(r),ag(i))}function ag(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const s=new ye(ct.fromString(e)),r=i.fu.next();i.Au.set(r,new u4(s)),i.du=i.du.insert(s,r),gx(i.remoteStore,new Hi(Ss(qm(s.path)),r,"TargetPurposeLimboResolution",fh.ce))}}async function $o(i,e,s){const r=Ae(i),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{f.push(r.pu(_,e,s).then((v=>{if((v||s)&&r.isPrimaryClient){const T=v?!v.fromCache:s?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(v){o.push(v);const T=Xm.As(_.targetId,v);u.push(T)}})))})),await Promise.all(f),r.Pu.H_(o),await(async function(_,v){const T=Ae(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>te.forEach(v,(C=>te.forEach(C.Es,(z=>T.persistence.referenceDelegate.addReference(A,C.targetId,z))).next((()=>te.forEach(C.ds,(z=>T.persistence.referenceDelegate.removeReference(A,C.targetId,z)))))))))}catch(A){if(!rl(A))throw A;ue($m,"Failed to update sequence numbers: "+A)}for(const A of v){const C=A.targetId;if(!A.fromCache){const z=T.Ms.get(C),F=z.snapshotVersion,Y=z.withLastLimboFreeSnapshotVersion(F);T.Ms=T.Ms.insert(C,Y)}}})(r.localStore,u))}async function E4(i,e){const s=Ae(i);if(!s.currentUser.isEqual(e)){ue(ig,"User change. New user:",e.toKey());const r=await hx(s.localStore,e);s.currentUser=e,(function(u,f){u.mu.forEach((p=>{p.forEach((_=>{_.reject(new ge(ne.CANCELLED,f))}))})),u.mu.clear()})(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await $o(s,r.Ls)}}function T4(i,e){const s=Ae(i),r=s.Au.get(e);if(r&&r.hu)return Ue().add(r.key);{let o=Ue();const u=s.Iu.get(e);if(!u)return o;for(const f of u){const p=s.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function Rx(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=T4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_4.bind(null,e),e.Pu.H_=a4.bind(null,e.eventManager),e.Pu.yu=r4.bind(null,e.eventManager),e}function S4(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=v4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x4.bind(null,e),e}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Eh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,s){return null}Mu(e,s){return null}vu(e){return AN(this.persistence,new EN,e.initialUser,this.serializer)}Cu(e){return new ux(Km.mi,this.serializer)}Du(e){return new DN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class A4 extends rh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,s){Ke(this.persistence.referenceDelegate instanceof ih,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new lN(r,e.asyncQueue,s)}Cu(e){const s=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new ux((r=>ih.mi(r,s)),this.serializer)}}class ym{async initialize(e,s){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=E4.bind(null,this.syncEngine),await e4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new n4})()}createDatastore(e){const s=Eh(e.databaseInfo.databaseId),r=(function(u){return new LN(u)})(e.databaseInfo);return(function(u,f,p,_){return new BN(u,f,p,_)})(e.authCredentials,e.appCheckCredentials,r,s)}createRemoteStore(e){return(function(r,o,u,f,p){return new HN(r,o,u,f,p)})(this.localStore,this.datastore,e.asyncQueue,(s=>lv(this.syncEngine,s,0)),(function(){return tv.v()?new tv:new MN})())}createSyncEngine(e,s){return(function(o,u,f,p,_,v,T){const A=new h4(o,u,f,p,_,v);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,s)}async terminate(){await(async function(s){const r=Ae(s);ue(qa,"RemoteStore shutting down."),r.Ea.add(5),await Xo(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ym.provider={build:()=>new ym};class w4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ni("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,s){setTimeout((()=>{this.muted||e(s)}),0)}}const ea="FirestoreClient";class N4{constructor(e,s,r,o,u){this.authCredentials=e,this.appCheckCredentials=s,this.asyncQueue=r,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=Om.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{ue(ea,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(ue(ea,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(s){const r=ng(s,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Gf(i,e){i.asyncQueue.verifyOperationInProgress(),ue(ea,"Initializing OfflineComponentProvider");const s=i.configuration;await e.initialize(s);let r=s.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await hx(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function cv(i,e){i.asyncQueue.verifyOperationInProgress();const s=await R4(i);ue(ea,"Initializing OnlineComponentProvider"),await e.initialize(s,i.configuration),i.setCredentialChangeListener((r=>sv(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>sv(e.remoteStore,o))),i._onlineComponents=e}async function R4(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(ea,"Using user provided OfflineComponentProvider");try{await Gf(i,i._uninitializedComponentsProvider._offline)}catch(e){const s=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(s))throw s;Qr("Error using user provided cache. Falling back to memory cache: "+s),await Gf(i,new rh)}}else ue(ea,"Using default OfflineComponentProvider"),await Gf(i,new A4(void 0));return i._offlineComponents}async function Cx(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(ea,"Using user provided OnlineComponentProvider"),await cv(i,i._uninitializedComponentsProvider._online)):(ue(ea,"Using default OnlineComponentProvider"),await cv(i,new ym))),i._onlineComponents}function C4(i){return Cx(i).then((e=>e.syncEngine))}async function I4(i){const e=await Cx(i),s=e.eventManager;return s.onListen=d4.bind(null,e.syncEngine),s.onUnlisten=g4.bind(null,e.syncEngine),s.onFirstRemoteStoreListen=f4.bind(null,e.syncEngine),s.onLastRemoteStoreUnlisten=p4.bind(null,e.syncEngine),s}function k4(i,e,s={}){const r=new Ki;return i.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,_,v){const T=new w4({next:C=>{T.Nu(),f.enqueueAndForget((()=>i4(u,A)));const z=C.docs.has(p);!z&&C.fromCache?v.reject(new ge(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&C.fromCache&&_&&_.source==="server"?v.reject(new ge(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(C)},error:C=>v.reject(C)}),A=new l4(qm(p.path),T,{includeMetadataChanges:!0,qa:!0});return s4(u,A)})(await I4(i),i.asyncQueue,e,s,r))),r.promise}function Ix(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const uv=new Map;const kx="firestore.googleapis.com",hv=!0;class dv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kx,this.ssl=hv}else this.host=e.host,this.ssl=e.ssl??hv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aN)throw new ge(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ix(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rg{constructor(e,s,r,o){this._authCredentials=e,this._appCheckCredentials=s,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new kA;switch(r.type){case"firstParty":return new OA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(s){const r=uv.get(s);r&&(ue("ComponentProvider","Removing Datastore"),uv.delete(s),r.terminate())})(this),Promise.resolve()}}function D4(i,e,s,r={}){i=Io(i,rg);const o=tl(e),u=i._getSettings(),f={...u,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${s}`;o&&(kv(`https://${p}`),Dv("Firestore",!0)),u.host!==kx&&u.host!==p&&Qr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...u,host:p,ssl:o,emulatorOptions:r};if(!Ua(_,f)&&(i._setSettings(_),r.mockUserToken)){let v,T;if(typeof r.mockUserToken=="string")v=r.mockUserToken,T=Zt.MOCK_USER;else{v=tT(r.mockUserToken,i._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new ge(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Zt(A)}i._authCredentials=new DA(new E1(v,T))}}class lg{constructor(e,s,r){this.converter=s,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new lg(this.firestore,e,this._query)}}class Ut{constructor(e,s,r){this.converter=s,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,s,r){if(Yo(s,Ut._jsonSchema))return new Ut(e,r||null,new ye(ct.fromString(s.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:Rt("string",Ut._jsonSchemaVersion),referencePath:Rt("string")};class Lo extends lg{constructor(e,s,r){super(e,s,qm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new ye(e))}withConverter(e){return new Lo(this.firestore,e,this._path)}}function fv(i,e,...s){if(i=Vn(i),arguments.length===1&&(e=Om.newId()),BA("doc","path",e),i instanceof rg){const r=ct.fromString(e,...s);return w_(r),new Ut(i,null,new ye(r))}{if(!(i instanceof Ut||i instanceof Lo))throw new ge(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(ct.fromString(e,...s));return w_(r),new Ut(i.firestore,i instanceof Lo?i.converter:null,new ye(r))}}const mv="AsyncQueue";class gv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fx(this,"async_queue_retry"),this._c=()=>{const r=Ff();r&&ue(mv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const s=Ff();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const s=Ff();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const s=new Ki;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(s.resolve,s.reject),s.promise))).then((()=>s.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!rl(e))throw e;ue(mv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const s=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ni("INTERNAL UNHANDLED ERROR: ",pv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=s,s}enqueueAfterDelay(e,s,r){this.uc(),this.oc.indexOf(e)>-1&&(s=0);const o=tg.createAndSchedule(this,e,s,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:pv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const s of this.tc)if(s.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((s,r)=>s.targetTimeMs-r.targetTimeMs));for(const s of this.tc)if(s.skipDelay(),e!=="all"&&s.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const s=this.tc.indexOf(e);this.tc.splice(s,1)}}function pv(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class og extends rg{constructor(e,s,r,o){super(e,s,r,o),this.type="firestore",this._queue=new gv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gv(e),this._firestoreClient=void 0,await e}}}function M4(i,e){const s=typeof i=="object"?i:Vv(),r=typeof i=="string"?i:Zu,o=Tm(s,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=WE("firestore");u&&D4(o,...u)}return o}function Dx(i){if(i._terminated)throw new ge(ne.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||j4(i),i._firestoreClient}function j4(i){const e=i._freezeSettings(),s=(function(o,u,f,p){return new WA(o,u,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Ix(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new N4(i._authCredentials,i._appCheckCredentials,i._queue,s,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(Kt.fromBase64String(e))}catch(s){throw new ge(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(e){return new On(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Yo(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:Rt("string",On._jsonSchemaVersion),bytes:Rt("string")};class cg{constructor(...e){for(let s=0;s<e.length;++s)if(e[s].length===0)throw new ge(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Mx{constructor(e){this._methodName=e}}class ws{constructor(e,s){if(!isFinite(e)||e<-90||e>90)throw new ge(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(s)||s<-180||s>180)throw new ge(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=e,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ws._jsonSchemaVersion}}static fromJSON(e){if(Yo(e,ws._jsonSchema))return new ws(e.latitude,e.longitude)}}ws._jsonSchemaVersion="firestore/geoPoint/1.0",ws._jsonSchema={type:Rt("string",ws._jsonSchemaVersion),latitude:Rt("number"),longitude:Rt("number")};class Ns{constructor(e){this._values=(e||[]).map((s=>s))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ns._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Yo(e,Ns._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((s=>typeof s=="number")))return new Ns(e.vectorValues);throw new ge(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ns._jsonSchemaVersion="firestore/vectorValue/1.0",Ns._jsonSchema={type:Rt("string",Ns._jsonSchemaVersion),vectorValues:Rt("object")};const O4=/^__.*__$/;class V4{constructor(e,s,r){this.data=e,this.fieldMask=s,this.fieldTransforms=r}toMutation(e,s){return this.fieldMask!==null?new Ga(e,this.data,this.fieldMask,s,this.fieldTransforms):new Qo(e,this.data,s,this.fieldTransforms)}}function jx(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:i})}}class ug{constructor(e,s,r,o,u,f){this.settings=e,this.databaseId=s,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ug({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const s=this.path?.child(e),r=this.Vc({path:s,fc:!1});return r.gc(e),r}yc(e){const s=this.path?.child(e),r=this.Vc({path:s,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return lh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((s=>e.isPrefixOf(s)))!==void 0||this.fieldTransforms.find((s=>e.isPrefixOf(s.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(jx(this.Ac)&&O4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class L4{constructor(e,s,r){this.databaseId=e,this.ignoreUndefinedProperties=s,this.serializer=r||Eh(e)}Cc(e,s,r,o=!1){return new ug({Ac:e,methodName:s,Dc:r,path:Qt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function U4(i){const e=i._freezeSettings(),s=Eh(i._databaseId);return new L4(i._databaseId,!!e.ignoreUndefinedProperties,s)}function P4(i,e,s,r,o,u={}){const f=i.Cc(u.merge||u.mergeFields?2:0,e,s,o);Ux("Data must be an object, but it was:",f,r);const p=Vx(r,f);let _,v;if(u.merge)_=new Jn(f.fieldMask),v=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const A of u.mergeFields){const C=z4(e,A,s);if(!f.contains(C))throw new ge(ne.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);q4(T,C)||T.push(C)}_=new Jn(T),v=f.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,v=f.fieldTransforms;return new V4(new jn(p),_,v)}function Ox(i,e){if(Lx(i=Vn(i)))return Ux("Unsupported field value:",e,i),Vx(i,e);if(i instanceof Mx)return(function(r,o){if(!jx(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const p of r){let _=Ox(p,o.wc(f));_==null&&(_={nullValue:"NULL_VALUE"}),u.push(_),f++}return{arrayValue:{values:u}}})(i,e)}return(function(r,o){if((r=Vn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Tw(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=at.fromDate(r);return{timestampValue:sh(o.serializer,u)}}if(r instanceof at){const u=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sh(o.serializer,u)}}if(r instanceof ws)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof On)return{bytesValue:nx(o.serializer,r._byteString)};if(r instanceof Ut){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ym(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Ns)return(function(f,p){return{mapValue:{fields:{[k1]:{stringValue:D1},[Ju]:{arrayValue:{values:f.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return Hm(p.serializer,v)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Vm(r)}`)})(i,e)}function Vx(i,e){const s={};return A1(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ha(i,((r,o)=>{const u=Ox(o,e.mc(r));u!=null&&(s[r]=u)})),{mapValue:{fields:s}}}function Lx(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof at||i instanceof ws||i instanceof On||i instanceof Ut||i instanceof Mx||i instanceof Ns)}function Ux(i,e,s){if(!Lx(s)||!T1(s)){const r=Vm(s);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function z4(i,e,s){if((e=Vn(e))instanceof cg)return e._internalPath;if(typeof e=="string")return Px(i,e);throw lh("Field path arguments must be of type string or ",i,!1,void 0,s)}const B4=new RegExp("[~\\*/\\[\\]]");function Px(i,e,s){if(e.search(B4)>=0)throw lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,s);try{return new cg(...e.split("."))._internalPath}catch{throw lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,s)}}function lh(i,e,s,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;s&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(u||f)&&(_+=" (found",u&&(_+=` in field ${r}`),f&&(_+=` in document ${o}`),_+=")"),new ge(ne.INVALID_ARGUMENT,p+i+_)}function q4(i,e){return i.some((s=>s.isEqual(e)))}class zx{constructor(e,s,r,o,u){this._firestore=e,this._userDataWriter=s,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new H4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const s=this._document.data.field(Bx("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s)}}}class H4 extends zx{data(){return super.data()}}function Bx(i,e){return typeof e=="string"?Px(i,e):e instanceof cg?e._internalPath:e._delegate._internalPath}class F4{convertValue(e,s="none"){switch(Ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,s);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,s);case 11:return this.convertObject(e.mapValue,s);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,s){return this.convertObjectMap(e.fields,s)}convertObjectMap(e,s="none"){const r={};return Ha(e,((o,u)=>{r[o]=this.convertValue(u,s)})),r}convertVectorValue(e){const s=e.fields?.[Ju].arrayValue?.values?.map((r=>yt(r.doubleValue)));return new Ns(s)}convertGeoPoint(e){return new ws(yt(e.latitude),yt(e.longitude))}convertArray(e,s){return(e.values||[]).map((r=>this.convertValue(r,s)))}convertServerTimestamp(e,s){switch(s){case"previous":const r=gh(e);return r==null?null:this.convertValue(r,s);case"estimate":return this.convertTimestamp(Do(e));default:return null}}convertTimestamp(e){const s=$i(e);return new at(s.seconds,s.nanos)}convertDocumentKey(e,s){const r=ct.fromString(e);Ke(ox(r),9688,{name:e});const o=new Mo(r.get(1),r.get(3)),u=new ye(r.popFirst(5));return o.isEqual(s)||ni(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),u}}function G4(i,e,s){let r;return r=i?i.toFirestore(e):e,r}class vo{constructor(e,s){this.hasPendingWrites=e,this.fromCache=s}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Va extends zx{constructor(e,s,r,o,u,f){super(e,s,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const s=new Bu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,s={}){if(this._document){const r=this._document.data.field(Bx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,s.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,s={};return s.type=Va._jsonSchemaVersion,s.bundle="",s.bundleSource="DocumentSnapshot",s.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?s:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),s.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),s)}}Va._jsonSchemaVersion="firestore/documentSnapshot/1.0",Va._jsonSchema={type:Rt("string",Va._jsonSchemaVersion),bundleSource:Rt("string","DocumentSnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class Bu extends Va{data(e={}){return super.data(e)}}class wo{constructor(e,s,r,o){this._firestore=e,this._userDataWriter=s,this._snapshot=o,this.metadata=new vo(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((s=>e.push(s))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,s){this._snapshot.docs.forEach((r=>{e.call(s,new Bu(this._firestore,this._userDataWriter,r.key,r,new vo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const s=!!e.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new ge(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const _=new Bu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new vo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const _=new Bu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new vo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,T=-1;return p.type!==0&&(v=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),T=f.indexOf(p.doc.key)),{type:Y4(p.type),doc:_,oldIndex:v,newIndex:T}}))}})(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Om.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const s=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(s.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Y4(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:i})}}function Q4(i){i=Io(i,Ut);const e=Io(i.firestore,og);return k4(Dx(e),i._key).then((s=>Z4(e,i,s)))}wo._jsonSchemaVersion="firestore/querySnapshot/1.0",wo._jsonSchema={type:Rt("string",wo._jsonSchemaVersion),bundleSource:Rt("string","QuerySnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class K4 extends F4{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,s)}}function X4(i,e,s){i=Io(i,Ut);const r=Io(i.firestore,og),o=G4(i.converter,e);return $4(r,[P4(U4(r),"setDoc",i._key,o,i.converter!==null,s).toMutation(i._key,Ws.none())])}function $4(i,e){return(function(r,o){const u=new Ki;return r.asyncQueue.enqueueAndForget((async()=>y4(await C4(r),o,u))),u.promise})(Dx(i),e)}function Z4(i,e,s){const r=s.docs.get(e._key),o=new K4(i);return new Va(i,o,e._key,r,new vo(s.hasPendingWrites,s.fromCache),e.converter)}(function(e,s=!0){(function(o){il=o})(nl),Gr(new Pa("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),p=new og(new MA(r.getProvider("auth-internal")),new VA(f,r.getProvider("app-check-internal")),(function(v,T){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ge(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mo(v.options.projectId,T)})(f,o),f);return u={useFetchStreams:s,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Yi(E_,T_,e),Yi(E_,T_,"esm2020")})();const J4={apiKey:"AIzaSyDqUKh24SoZ4tjV_dePHsnUNNKznsmjjYs",authDomain:"plan-my-life-36cef.firebaseapp.com",projectId:"plan-my-life-36cef",storageBucket:"plan-my-life-36cef.firebasestorage.app",messagingSenderId:"302156951876",appId:"1:302156951876:web:4bc6b51d3bd8377a92e711",measurementId:"G-4LSZY3NCXE"},qx=Ov(J4),Yf=NA(qx),W4=new $s,yv=M4(qx),Hx=J.createContext(null);function eR({children:i}){const[e,s]=J.useState(null),[r,o]=J.useState(!0);J.useEffect(()=>{const p=gS(Yf,_=>{s(_),o(!1)});return()=>p()},[]);const u=async()=>{try{await VS(Yf,W4)}catch(p){throw console.error("Google  :",p),p}},f=async()=>{try{await pS(Yf)}catch(p){throw console.error(" :",p),p}};return m.jsx(Hx.Provider,{value:{user:e,loading:r,signInWithGoogle:u,logout:f},children:i})}function Ah(){const i=J.useContext(Hx);if(!i)throw new Error("useAuth must be used within an AuthProvider");return i}const Fx="finance-timeline-data",tR=()=>{const i=localStorage.getItem(Fx),e=new Date;if(i)try{const s=JSON.parse(i);return{transactions:s.transactions||[],loans:s.loans||[],events:s.events||[],currentYear:s.currentYear||e.getFullYear(),currentMonth:s.currentMonth||e.getMonth()+1}}catch{return{transactions:[],loans:[],events:[],currentYear:e.getFullYear(),currentMonth:e.getMonth()+1}}return{transactions:[],loans:[],events:[],currentYear:e.getFullYear(),currentMonth:e.getMonth()+1}};function nR(i,e,s){const r=e/100/12;return r===0?i/s:i*r*Math.pow(1+r,s)/(Math.pow(1+r,s)-1)}function sR(i,e,s){const r=new Date(i.startDate),o=r.getFullYear(),u=r.getMonth()+1;if(e<o||e===o&&s<u)return null;const f=(e-o)*12+(s-u)+1;if(f>i.termMonths)return null;const p=i.interestRate/100/12;let _=0,v=0,T=i.principal;if(i.repaymentType==="equal_principal_interest"){const C=nR(i.principal,i.interestRate,i.termMonths);for(let z=1;z<f;z++){const F=T*p,Y=C-F;T-=Y}v=T*p,_=C-v,T-=_}else if(i.repaymentType==="equal_principal"){const C=i.principal/i.termMonths;T=i.principal-C*(f-1),v=T*p,_=C,T-=_}else i.repaymentType==="bullet"&&(v=i.principal*p,_=f===i.termMonths?i.principal:0,T=f===i.termMonths?0:i.principal);const A=`${e}-${String(s).padStart(2,"0")}-${String(i.paymentDay).padStart(2,"0")}`;return{loanId:i.id,loanName:i.name,date:A,monthNumber:f,principal:Math.round(_),interest:Math.round(v),totalPayment:Math.round(_+v),remainingPrincipal:Math.max(0,Math.round(T))}}function iR(i){const[e,s]=J.useState(tR),[r,o]=J.useState(!1),[u,f]=J.useState(null);J.useEffect(()=>{localStorage.setItem(Fx,JSON.stringify(e))},[e]),J.useEffect(()=>{if(!i)return;(async()=>{try{o(!0);const w=fv(yv,"users",i),k=await Q4(w);if(k.exists()){const N=k.data();s({transactions:N.transactions||[],loans:N.loans||[],events:N.events||[],currentYear:e.currentYear,currentMonth:e.currentMonth}),f(new Date)}}catch(w){console.error("Firestore  :",w)}finally{o(!1)}})()},[i]);const p=J.useCallback(async()=>{if(i)try{o(!0);const E=fv(yv,"users",i);await X4(E,{transactions:e.transactions,loans:e.loans,events:e.events,updatedAt:new Date().toISOString()}),f(new Date)}catch(E){throw console.error("Firestore  :",E),E}finally{o(!1)}},[i,e.transactions,e.loans,e.events]);J.useEffect(()=>{if(!i)return;const E=setTimeout(()=>{p()},2e3);return()=>clearTimeout(E)},[i,e.transactions,e.loans,e.events,p]);const _=J.useCallback(E=>{s(w=>({...w,transactions:[...w.transactions,E]}))},[]),v=J.useCallback((E,w)=>{s(k=>({...k,transactions:k.transactions.map(N=>N.id===E?{...N,...w}:N)}))},[]),T=J.useCallback(E=>{s(w=>({...w,transactions:w.transactions.filter(k=>k.id!==E)}))},[]),A=J.useCallback(E=>{s(w=>({...w,loans:[...w.loans,E]}))},[]),C=J.useCallback((E,w)=>{s(k=>({...k,loans:k.loans.map(N=>N.id===E?{...N,...w}:N)}))},[]),z=J.useCallback(E=>{s(w=>({...w,loans:w.loans.filter(k=>k.id!==E)}))},[]),F=J.useCallback((E,w)=>e.loans.map(k=>sR(k,E,w)).filter(k=>k!==null),[e.loans]),Y=J.useCallback(E=>{s(w=>({...w,events:[...w.events,E]}))},[]),P=J.useCallback((E,w)=>{s(k=>({...k,events:k.events.map(N=>N.id===E?{...N,...w}:N)}))},[]),se=J.useCallback(E=>{s(w=>({...w,events:w.events.filter(k=>k.id!==E)}))},[]),L=J.useCallback((E,w)=>e.events.filter(k=>{const N=new Date(k.date);return N.getFullYear()===E&&N.getMonth()+1===w}).sort((k,N)=>k.date.localeCompare(N.date)),[e.events]),V=J.useCallback((E,w)=>{s(k=>({...k,currentYear:E,currentMonth:w}))},[]),ie=J.useCallback((E,w)=>{const k=[],N=`${E}-${String(w).padStart(2,"0")}`;return e.transactions.forEach(M=>{const R=new Date(M.date),Me=R.getFullYear(),ze=R.getMonth()+1,X=R.getDate();if(M.recurrence==="once")Me===E&&ze===w&&k.push(M);else if(M.recurrence==="monthly"){const le=new Date(M.date),me=new Date(E,w-1,X),Ie=M.recurrenceEndDate?new Date(M.recurrenceEndDate):null;if(me>=le&&(!Ie||me<=Ie)){const He=`${N}-${String(X).padStart(2,"0")}`;k.push({...M,date:He})}}else if(M.recurrence==="yearly"&&ze===w){const le=new Date(M.date),me=new Date(E,w-1,X),Ie=M.recurrenceEndDate?new Date(M.recurrenceEndDate):null;if(me>=le&&(!Ie||me<=Ie)){const He=`${E}-${String(w).padStart(2,"0")}-${String(X).padStart(2,"0")}`;k.push({...M,date:He})}}}),k.sort((M,R)=>M.date.localeCompare(R.date))},[e.transactions]),ce=J.useCallback((E,w)=>{const k=ie(E,w),N=F(E,w),M=k.filter(ze=>ze.type==="income").reduce((ze,X)=>ze+X.amount,0),R=k.filter(ze=>ze.type==="expense").reduce((ze,X)=>ze+X.amount,0),Me=N.reduce((ze,X)=>ze+X.interest,0);return{year:E,month:w,totalIncome:M,totalExpense:R+Me,balance:M-R-Me}},[ie,F]),ae=J.useCallback((E,w,k)=>{const N=[];let M=E,R=w;for(let Me=0;Me<k;Me++)N.push(ce(M,R)),R++,R>12&&(R=1,M++);return N},[ce]),I=J.useCallback((E,w)=>{let k=0;for(let N=2020;N<=E;N++){const M=N===E?w:12;for(let R=1;R<=M;R++){const Me=ce(N,R);k+=Me.balance}}return k},[ce]);return{...e,isSyncing:r,lastSyncTime:u,saveToFirestore:p,addTransaction:_,updateTransaction:v,deleteTransaction:T,addLoan:A,updateLoan:C,deleteLoan:z,getLoanPaymentsForMonth:F,addEvent:Y,updateEvent:P,deleteEvent:se,getEventsForMonth:L,setCurrentDate:V,getTransactionsForMonth:ie,getMonthSummary:ce,getMultiMonthSummaries:ae,getCumulativeBalance:I}}const Gx=J.createContext(null);function aR({children:i}){const{user:e}=Ah(),s=iR(e?.uid);return m.jsx(Gx.Provider,{value:s,children:i})}function Ln(){const i=J.useContext(Gx);if(!i)throw new Error("useApp must be used within AppProvider");return i}const rR=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lR=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,r)=>r?r.toUpperCase():s.toLowerCase()),_v=i=>{const e=lR(i);return e.charAt(0).toUpperCase()+e.slice(1)},Yx=(...i)=>i.filter((e,s,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===s).join(" ").trim(),oR=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var cR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const uR=J.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:f,...p},_)=>J.createElement("svg",{ref:_,...cR,width:e,height:e,stroke:i,strokeWidth:r?Number(s)*24/Number(e):s,className:Yx("lucide",o),...!u&&!oR(p)&&{"aria-hidden":"true"},...p},[...f.map(([v,T])=>J.createElement(v,T)),...Array.isArray(u)?u:[u]]));const Ee=(i,e)=>{const s=J.forwardRef(({className:r,...o},u)=>J.createElement(uR,{ref:u,iconNode:e,className:Yx(`lucide-${rR(_v(i))}`,`lucide-${i}`,r),...o}));return s.displayName=_v(i),s};const hR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],dR=Ee("calendar-days",hR);const fR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ol=Ee("calendar",fR);const mR=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],gR=Ee("car",mR);const pR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Qx=Ee("chevron-down",pR);const yR=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Kx=Ee("chevron-up",yR);const _R=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],hg=Ee("circle-question-mark",_R);const vR=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],xR=Ee("clock",vR);const bR=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],_m=Ee("cloud-off",bR);const ER=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],dg=Ee("cloud",ER);const TR=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Xx=Ee("compass",TR);const SR=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],AR=Ee("download",SR);const wR=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],NR=Ee("ellipsis",wR);const RR=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],Uo=Ee("flag",RR);const CR=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],IR=Ee("gift",CR);const kR=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],DR=Ee("graduation-cap",kR);const MR=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],jR=Ee("heart",MR);const OR=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],$x=Ee("house",OR);const VR=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],Po=Ee("landmark",VR);const LR=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Zx=Ee("layout-dashboard",LR);const UR=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],PR=Ee("log-out",UR);const zR=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],BR=Ee("menu",zR);const qR=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],fg=Ee("pen",qR);const HR=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],FR=Ee("percent",HR);const GR=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],YR=Ee("piggy-bank",GR);const QR=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],KR=Ee("plane",QR);const XR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mg=Ee("plus",XR);const $R=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Jx=Ee("receipt",$R);const ZR=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],No=Ee("refresh-cw",ZR);const JR=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Wx=Ee("repeat",JR);const WR=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],eb=Ee("search",WR);const eC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],tb=Ee("settings",eC);const tC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],nC=Ee("shield",tC);const sC=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],iC=Ee("shopping-bag",sC);const aC=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],rC=Ee("smartphone",aC);const lC=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Wr=Ee("star",lC);const oC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],cC=Ee("target",oC);const uC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],el=Ee("trash-2",uC);const hC=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],wh=Ee("trending-down",hC);const dC=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Nh=Ee("trending-up",dC);const fC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],mC=Ee("triangle-alert",fC);const gC=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],pC=Ee("upload",gC);const yC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],_C=Ee("user",yC);const vC=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],xC=Ee("utensils",vC);const bC=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],nb=Ee("wallet",bC);const EC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Rh=Ee("x",EC);const TC=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],SC=Ee("zap",TC),AC=[{label:"",items:[{id:"timeline",icon:ol,label:""},{id:"summary",icon:Zx,label:""}]},{label:"",items:[{id:"transactions",icon:Jx,label:"/"},{id:"events",icon:Uo,label:""},{id:"loans",icon:Po,label:" "}]},{label:"",items:[{id:"settings",icon:tb,label:""},{id:"help",icon:hg,label:""}]}];function wC({activeTab:i,onTabChange:e,isOpen:s,onClose:r}){const o=u=>{e(u),r()};return m.jsxs(m.Fragment,{children:[s&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:r}),m.jsxs("aside",{className:`fixed left-0 top-0 h-screen w-64 bg-dark-900/95 backdrop-blur-xl border-r border-dark-800 flex flex-col z-50 transition-transform duration-300 lg:translate-x-0 ${s?"translate-x-0":"-translate-x-full"}`,children:[m.jsx("div",{className:"p-4 lg:p-6 border-b border-dark-800",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center",children:m.jsx(Xx,{className:"w-5 h-5 text-white"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-lg font-bold text-dark-100",children:""}),m.jsx("p",{className:"text-xs text-dark-500",children:"Plan My Life"})]})]}),m.jsx("button",{onClick:r,className:"lg:hidden p-2 text-dark-400 hover:text-dark-100",children:m.jsx(Rh,{className:"w-5 h-5"})})]})}),m.jsx("nav",{className:"flex-1 p-3 lg:p-4 overflow-y-auto",children:AC.map((u,f)=>m.jsxs("div",{className:f>0?"mt-4 pt-4 border-t border-dark-800":"",children:[m.jsx("p",{className:"px-4 mb-2 text-[10px] lg:text-xs font-semibold text-dark-500 uppercase tracking-wider",children:u.label}),m.jsx("div",{className:"space-y-1",children:u.items.map(p=>{const _=p.icon,v=i===p.id;return m.jsxs("button",{onClick:()=>o(p.id),className:`w-full flex items-center gap-3 px-4 py-2.5 lg:py-3 rounded-xl transition-all duration-200 ${v?"bg-violet-500/10 text-violet-400 border border-violet-500/20":"text-dark-400 hover:text-dark-100 hover:bg-dark-800/50"}`,children:[m.jsx(_,{className:"w-5 h-5"}),m.jsx("span",{className:"font-medium text-sm lg:text-base",children:p.label})]},p.id)})})]},u.label))}),m.jsx("div",{className:"p-3 lg:p-4 border-t border-dark-800 hidden lg:block",children:m.jsxs("div",{className:"card !p-4 bg-gradient-to-br from-violet-500/10 to-purple-500/10 border-violet-500/20",children:[m.jsx("p",{className:"text-sm text-dark-300 mb-2",children:"  "}),m.jsx("p",{className:"text-xs text-dark-500",children:"Made by "})]})})]})]})}function NC({title:i,onTodayClick:e,showTodayButton:s,onMenuClick:r}){return m.jsxs("header",{className:"sticky top-0 z-30 h-14 lg:h-16 bg-dark-900/95 backdrop-blur-sm border-b border-dark-800 flex items-center px-4 lg:px-6",children:[m.jsx("button",{onClick:r,className:"lg:hidden p-2 -ml-2 mr-2 text-dark-400 hover:text-dark-100",children:m.jsx(BR,{className:"w-6 h-6"})}),m.jsxs("div",{className:"flex items-center gap-2 lg:gap-3 flex-1",children:[m.jsx("h2",{className:"text-lg lg:text-xl font-semibold text-dark-100 truncate",children:i}),s&&e&&m.jsxs("button",{onClick:e,className:"btn bg-blue-500/20 text-blue-400 border border-blue-500/40 hover:bg-blue-500/30 text-xs lg:text-sm py-1 lg:py-1.5 px-2 lg:px-3",children:[m.jsx($x,{className:"w-3 h-3 lg:w-4 lg:h-4"}),m.jsx("span",{className:"hidden sm:inline",children:""})]})]})]})}function RC({onContinueOffline:i}){const{signInWithGoogle:e}=Ah(),[s,r]=J.useState(!1),[o,u]=J.useState(null),f=async()=>{try{r(!0),u(null),await e()}catch(p){u(" .  ."),console.error(p)}finally{r(!1)}};return m.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center p-4",children:m.jsxs("div",{className:"w-full max-w-md",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center mx-auto mb-4",children:m.jsx(Xx,{className:"w-10 h-10 text-white"})}),m.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-dark-100 mb-2",children:""}),m.jsx("p",{className:"text-dark-400",children:"  "})]}),m.jsxs("div",{className:"card !p-6 space-y-4",children:[m.jsx("h2",{className:"text-lg font-semibold text-dark-100 text-center mb-2",children:""}),m.jsxs("button",{onClick:f,disabled:s,className:"w-full btn bg-white hover:bg-gray-100 text-gray-800 py-3 disabled:opacity-50",children:[s?m.jsx(No,{className:"w-5 h-5 animate-spin"}):m.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[m.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),m.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),m.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),m.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),m.jsx("span",{children:s?" ...":"Google  "})]}),m.jsxs("div",{className:"flex items-center gap-2 p-3 bg-emerald-500/10 rounded-lg border border-emerald-500/20",children:[m.jsx(dg,{className:"w-4 h-4 text-emerald-400 flex-shrink-0"}),m.jsx("p",{className:"text-xs text-emerald-400",children:"     "})]}),o&&m.jsx("p",{className:"text-sm text-rose-400 text-center",children:o}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"flex-1 h-px bg-dark-700"}),m.jsx("span",{className:"text-xs text-dark-500",children:""}),m.jsx("div",{className:"flex-1 h-px bg-dark-700"})]}),m.jsxs("button",{onClick:i,disabled:s,className:"w-full btn btn-secondary py-3 disabled:opacity-50",children:[m.jsx(_m,{className:"w-5 h-5"}),m.jsx("span",{children:"  "})]}),m.jsxs("div",{className:"flex items-center gap-2 p-3 bg-dark-800/50 rounded-lg",children:[m.jsx(_m,{className:"w-4 h-4 text-dark-400 flex-shrink-0"}),m.jsx("p",{className:"text-xs text-dark-400",children:"   "})]})]}),m.jsx("p",{className:"text-center text-xs text-dark-500 mt-6",children:"Made by "})]})})}const oh={salary:"",bonus:"",other_income:" ",rent:"/",insurance:"",subscription:"",utilities:"",transport:"",food:"",shopping:"",travel:"",education:"",medical:"",other_expense:" "},vv=["salary","bonus","other_income"],xv=["rent","insurance","subscription","utilities","transport","food","shopping","travel","education","medical","other_expense"],zo={once:"",monthly:"",yearly:""},vm={equal_principal_interest:"",equal_principal:"",bullet:""},CC={equal_principal_interest:"  (+) ",equal_principal:"   +    ",bullet:"  ,    "},qi={housing:"",contract:"",career:"",family:"",education:"",other:""},La={red:"bg-red-500",orange:"bg-orange-500",yellow:"bg-yellow-500",green:"bg-green-500",blue:"bg-blue-500",purple:"bg-purple-500",pink:"bg-pink-500"},IC={red:"text-red-400",orange:"text-orange-400",yellow:"text-yellow-400",green:"text-green-400",blue:"text-blue-400",purple:"text-purple-400",pink:"text-pink-400"},gg={red:"bg-red-500/10 border-red-500/30 hover:bg-red-500/20",orange:"bg-orange-500/10 border-orange-500/30 hover:bg-orange-500/20",yellow:"bg-yellow-500/10 border-yellow-500/30 hover:bg-yellow-500/20",green:"bg-green-500/10 border-green-500/30 hover:bg-green-500/20",blue:"bg-blue-500/10 border-blue-500/30 hover:bg-blue-500/20",purple:"bg-purple-500/10 border-purple-500/30 hover:bg-purple-500/20",pink:"bg-pink-500/10 border-pink-500/30 hover:bg-pink-500/20"},kC={red:"bg-red-500/20",orange:"bg-orange-500/20",yellow:"bg-yellow-500/20",green:"bg-green-500/20",blue:"bg-blue-500/20",purple:"bg-purple-500/20",pink:"bg-pink-500/20"},DC={red:"bg-red-500/20 text-red-400",orange:"bg-orange-500/20 text-orange-400",yellow:"bg-yellow-500/20 text-yellow-400",green:"bg-green-500/20 text-green-400",blue:"bg-blue-500/20 text-blue-400",purple:"bg-purple-500/20 text-purple-400",pink:"bg-pink-500/20 text-pink-400"},MC={salary:m.jsx(nb,{className:"w-4 h-4"}),bonus:m.jsx(IR,{className:"w-4 h-4"}),other_income:m.jsx(YR,{className:"w-4 h-4"}),rent:m.jsx($x,{className:"w-4 h-4"}),insurance:m.jsx(nC,{className:"w-4 h-4"}),subscription:m.jsx(No,{className:"w-4 h-4"}),utilities:m.jsx(SC,{className:"w-4 h-4"}),transport:m.jsx(gR,{className:"w-4 h-4"}),food:m.jsx(xC,{className:"w-4 h-4"}),shopping:m.jsx(iC,{className:"w-4 h-4"}),travel:m.jsx(KR,{className:"w-4 h-4"}),education:m.jsx(DR,{className:"w-4 h-4"}),medical:m.jsx(jR,{className:"w-4 h-4"}),other_expense:m.jsx(NR,{className:"w-4 h-4"})};function jC({year:i,month:e,onEdit:s,onEditEvent:r}){const{getTransactionsForMonth:o,getMonthSummary:u,deleteTransaction:f,getLoanPaymentsForMonth:p,getEventsForMonth:_,deleteEvent:v}=Ln(),T=J.useMemo(()=>o(i,e),[o,i,e]),A=J.useMemo(()=>p(i,e),[p,i,e]),C=J.useMemo(()=>_(i,e),[_,i,e]),z=J.useMemo(()=>u(i,e),[u,i,e]),F=J.useMemo(()=>A.reduce((L,V)=>L+V.totalPayment,0),[A]),Y=L=>new Intl.NumberFormat("ko-KR").format(L),P=L=>new Date(L).getDate(),se=J.useMemo(()=>[...T.map(V=>({type:"transaction",data:V})),...A.map(V=>({type:"loan",data:V})),...C.map(V=>({type:"event",data:V}))].sort((V,ie)=>{const ce=V.data.date,ae=ie.data.date;return ce.localeCompare(ae)}),[T,A,C]);return m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"sticky top-14 lg:top-16 z-10 bg-dark-950/95 backdrop-blur-sm py-3 lg:py-4 border-b border-dark-800",children:m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[m.jsxs("h2",{className:"text-lg lg:text-xl font-bold text-dark-100",children:[i," ",e,""]}),m.jsxs("div",{className:"flex items-center gap-2 lg:gap-4 text-xs lg:text-sm flex-wrap",children:[m.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[m.jsx(Nh,{className:"w-3 h-3 lg:w-4 lg:h-4 text-emerald-400"}),m.jsxs("span",{className:"font-semibold text-emerald-400",children:["+",Y(z.totalIncome)]})]}),m.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[m.jsx(wh,{className:"w-3 h-3 lg:w-4 lg:h-4 text-rose-400"}),m.jsxs("span",{className:"font-semibold text-rose-400",children:["-",Y(z.totalExpense)]})]}),F>0&&m.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[m.jsx(Po,{className:"w-3 h-3 lg:w-4 lg:h-4 text-blue-400"}),m.jsx("span",{className:"font-semibold text-blue-400",children:Y(F)})]}),m.jsxs("div",{className:`font-bold ${z.balance>=0?"text-emerald-400":"text-rose-400"}`,children:["= ",z.balance>=0?"+":"",Y(z.balance)]})]})]})}),m.jsx("div",{className:"py-3 lg:py-4 space-y-2",children:se.length===0?m.jsx("div",{className:"text-center py-6 lg:py-8 text-dark-500 text-sm",children:"    "}):se.map(L=>{if(L.type==="transaction"){const V=L.data;return m.jsxs("div",{className:"group flex items-center gap-2 lg:gap-4 p-3 lg:p-4 bg-dark-900/50 hover:bg-dark-800/50 rounded-xl border border-dark-800/50 hover:border-dark-700 transition-all cursor-pointer",onClick:()=>s(V),children:[m.jsxs("div",{className:"w-10 lg:w-12 text-center flex-shrink-0",children:[m.jsx("span",{className:"text-xl lg:text-2xl font-bold text-dark-300",children:P(V.date)}),m.jsx("span",{className:"text-[10px] lg:text-xs text-dark-500 block",children:""})]}),m.jsx("div",{className:`w-1 h-10 lg:h-12 rounded-full flex-shrink-0 ${V.type==="income"?"bg-emerald-500":"bg-rose-500"}`}),m.jsx("div",{className:`hidden sm:flex w-10 h-10 rounded-xl items-center justify-center flex-shrink-0 ${V.type==="income"?"bg-emerald-500/20 text-emerald-400":"bg-rose-500/20 text-rose-400"}`,children:MC[V.category]}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-1.5 lg:gap-2",children:[m.jsx("h3",{className:"font-medium text-dark-100 truncate text-sm lg:text-base",children:V.title}),V.recurrence!=="once"&&m.jsxs("span",{className:"hidden sm:flex items-center gap-1 px-1.5 lg:px-2 py-0.5 bg-dark-700 rounded-full text-[10px] lg:text-xs text-dark-300 flex-shrink-0",children:[m.jsx(Wx,{className:"w-3 h-3"}),zo[V.recurrence]]})]}),m.jsxs("p",{className:"text-xs lg:text-sm text-dark-500 truncate",children:[oh[V.category],V.recurrence!=="once"&&m.jsxs("span",{className:"sm:hidden",children:["  ",zo[V.recurrence]]})]})]}),m.jsxs("div",{className:`text-right font-semibold text-sm lg:text-base flex-shrink-0 ${V.type==="income"?"text-emerald-400":"text-rose-400"}`,children:[V.type==="income"?"+":"-",Y(V.amount)]}),m.jsx("button",{onClick:ie=>{ie.stopPropagation(),confirm("  ?")&&f(V.id)},className:"opacity-0 group-hover:opacity-100 p-1.5 lg:p-2 text-dark-500 hover:text-rose-400 transition-all flex-shrink-0",children:m.jsx(el,{className:"w-4 h-4"})})]},`t-${V.id}-${V.date}`)}else if(L.type==="loan"){const V=L.data;return m.jsxs("div",{className:"flex items-center gap-2 lg:gap-4 p-3 lg:p-4 bg-blue-500/5 rounded-xl border border-blue-500/20",children:[m.jsxs("div",{className:"w-10 lg:w-12 text-center flex-shrink-0",children:[m.jsx("span",{className:"text-xl lg:text-2xl font-bold text-dark-300",children:P(V.date)}),m.jsx("span",{className:"text-[10px] lg:text-xs text-dark-500 block",children:""})]}),m.jsx("div",{className:"w-1 h-10 lg:h-12 rounded-full bg-blue-500 flex-shrink-0"}),m.jsx("div",{className:"hidden sm:flex w-10 h-10 rounded-xl items-center justify-center bg-blue-500/20 text-blue-400 flex-shrink-0",children:m.jsx(Po,{className:"w-4 h-4"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-1.5 lg:gap-2",children:[m.jsx("h3",{className:"font-medium text-dark-100 truncate text-sm lg:text-base",children:V.loanName}),m.jsxs("span",{className:"px-1.5 lg:px-2 py-0.5 bg-blue-500/20 rounded-full text-[10px] lg:text-xs text-blue-400 flex-shrink-0",children:[V.monthNumber,""]})]}),m.jsxs("p",{className:"text-xs lg:text-sm text-dark-500 truncate",children:[m.jsxs("span",{className:"hidden sm:inline",children:[" ",Y(V.principal)," +  ",Y(V.interest)]}),m.jsxs("span",{className:"sm:hidden",children:[" ",Y(V.interest)]})]})]}),m.jsxs("div",{className:"text-right flex-shrink-0",children:[m.jsx("p",{className:"font-semibold text-blue-400 text-sm lg:text-base",children:Y(V.totalPayment)}),m.jsxs("p",{className:"text-[10px] lg:text-xs text-rose-400",children:["-",Y(V.interest)]})]})]},`l-${V.loanId}-${V.date}`)}else{const V=L.data;return m.jsxs("div",{className:`group flex items-center gap-2 lg:gap-4 p-3 lg:p-4 rounded-xl border transition-all cursor-pointer ${gg[V.color]}`,onClick:()=>r?.(V),children:[m.jsxs("div",{className:"w-10 lg:w-12 text-center flex-shrink-0",children:[m.jsx("span",{className:"text-xl lg:text-2xl font-bold text-dark-300",children:P(V.date)}),m.jsx("span",{className:"text-[10px] lg:text-xs text-dark-500 block",children:""})]}),m.jsx("div",{className:`w-1 h-10 lg:h-12 rounded-full flex-shrink-0 ${La[V.color]}`}),m.jsx("div",{className:`hidden sm:flex w-10 h-10 rounded-xl items-center justify-center flex-shrink-0 ${kC[V.color]}`,children:V.isImportant?m.jsx(Wr,{className:"w-4 h-4 text-amber-400 fill-amber-400"}):m.jsx(ol,{className:`w-4 h-4 ${IC[V.color]}`})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-1.5 lg:gap-2",children:[m.jsx("h3",{className:"font-medium text-dark-100 truncate text-sm lg:text-base",children:V.title}),V.isImportant&&m.jsx(Wr,{className:"w-3.5 h-3.5 text-amber-400 fill-amber-400 sm:hidden flex-shrink-0"}),m.jsx("span",{className:`hidden sm:inline px-2 py-0.5 rounded-full text-xs ${DC[V.color]}`,children:qi[V.category]}),V.isImportant&&m.jsx("span",{className:"hidden sm:inline px-2 py-0.5 bg-amber-500/20 rounded-full text-xs text-amber-400",children:""})]}),m.jsxs("p",{className:"text-xs lg:text-sm text-dark-500 truncate",children:[m.jsx("span",{className:"sm:hidden",children:qi[V.category]}),V.description&&m.jsx("span",{className:"hidden sm:inline",children:V.description})]})]}),m.jsx("button",{onClick:ie=>{ie.stopPropagation(),confirm("  ?")&&v(V.id)},className:"opacity-0 group-hover:opacity-100 p-1.5 lg:p-2 text-dark-500 hover:text-rose-400 transition-all flex-shrink-0",children:m.jsx(el,{className:"w-4 h-4"})})]},`e-${V.id}`)}})})]})}function OC({year:i,onEdit:e,onEditEvent:s}){const{getMultiMonthSummaries:r,getTransactionsForMonth:o,getEventsForMonth:u,events:f}=Ln(),[p,_]=J.useState(null),v=J.useMemo(()=>r(i,1,12),[r,i]),T=J.useMemo(()=>v.reduce((P,se)=>({income:P.income+se.totalIncome,expense:P.expense+se.totalExpense,balance:P.balance+se.balance}),{income:0,expense:0,balance:0}),[v]),A=J.useMemo(()=>f.filter(P=>new Date(P.date).getFullYear()===i),[f,i]),C=P=>f.filter(se=>{const L=new Date(se.date);return L.getFullYear()===i&&L.getMonth()+1===P}).length,z=P=>new Intl.NumberFormat("ko-KR").format(P),F=P=>P>=1e8?`${(P/1e8).toFixed(1)}`:P>=1e4?`${(P/1e4).toFixed(0)}`:z(P),Y=P=>{_(p===P?null:P)};return m.jsxs("div",{className:"card !p-3 lg:!p-6",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-4 lg:mb-6 pb-3 lg:pb-4 border-b border-dark-800",children:[m.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[m.jsxs("h2",{className:"text-xl lg:text-2xl font-bold text-dark-100",children:[i,""]}),A.length>0&&m.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-purple-500/20 rounded-full text-[10px] lg:text-xs text-purple-400",children:[m.jsx(Uo,{className:"w-3 h-3"}),A.length]})]}),m.jsxs("div",{className:"flex items-center gap-2 lg:gap-6 text-xs lg:text-sm flex-wrap",children:[m.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[m.jsx(Nh,{className:"w-3 h-3 lg:w-4 lg:h-4 text-emerald-400"}),m.jsxs("span",{className:"font-semibold text-emerald-400",children:["+",F(T.income)]})]}),m.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[m.jsx(wh,{className:"w-3 h-3 lg:w-4 lg:h-4 text-rose-400"}),m.jsxs("span",{className:"font-semibold text-rose-400",children:["-",F(T.expense)]})]}),m.jsxs("div",{className:`font-bold text-sm lg:text-lg ${T.balance>=0?"text-emerald-400":"text-rose-400"}`,children:["= ",T.balance>=0?"+":"",F(T.balance)]})]})]}),m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 lg:gap-3",children:v.map(P=>{const se=p===P.month,L=se?o(i,P.month):[],V=se?u(i,P.month):[],ie=C(P.month),ce=P.totalIncome>0||P.totalExpense>0||ie>0;return m.jsxs("div",{className:`rounded-xl border transition-all ${ce?"bg-dark-800/50 border-dark-700 hover:border-dark-600":"bg-dark-900/30 border-dark-800/50"}`,children:[m.jsxs("button",{onClick:()=>ce&&Y(P.month),className:`w-full p-2.5 lg:p-4 text-left ${ce?"cursor-pointer":"cursor-default"}`,disabled:!ce,children:[m.jsxs("div",{className:"flex items-center justify-between mb-1.5 lg:mb-2",children:[m.jsxs("div",{className:"flex items-center gap-1.5 lg:gap-2",children:[m.jsxs("span",{className:"text-sm lg:text-lg font-semibold text-dark-100",children:[P.month,""]}),ie>0&&m.jsxs("span",{className:"flex items-center gap-0.5 px-1 lg:px-1.5 py-0.5 bg-purple-500/20 rounded text-[10px] lg:text-xs text-purple-400",children:[m.jsx(Uo,{className:"w-2 h-2 lg:w-2.5 lg:h-2.5"}),ie]})]}),ce&&(se?m.jsx(Kx,{className:"w-3.5 h-3.5 lg:w-4 lg:h-4 text-dark-400"}):m.jsx(Qx,{className:"w-3.5 h-3.5 lg:w-4 lg:h-4 text-dark-400"}))]}),P.totalIncome>0||P.totalExpense>0?m.jsxs("div",{className:"space-y-0.5 lg:space-y-1",children:[m.jsxs("div",{className:"flex justify-between text-xs lg:text-sm",children:[m.jsx("span",{className:"text-dark-500",children:""}),m.jsxs("span",{className:"text-emerald-400",children:["+",F(P.totalIncome)]})]}),m.jsxs("div",{className:"flex justify-between text-xs lg:text-sm",children:[m.jsx("span",{className:"text-dark-500",children:""}),m.jsxs("span",{className:"text-rose-400",children:["-",F(P.totalExpense)]})]}),m.jsxs("div",{className:"flex justify-between text-xs lg:text-sm font-medium pt-1 border-t border-dark-700",children:[m.jsx("span",{className:"text-dark-400",children:""}),m.jsxs("span",{className:P.balance>=0?"text-emerald-400":"text-rose-400",children:[P.balance>=0?"+":"",F(P.balance)]})]})]}):ie>0?m.jsx("p",{className:"text-xs lg:text-sm text-purple-400",children:" "}):m.jsx("p",{className:"text-xs lg:text-sm text-dark-600",children:" "})]}),se&&(L.length>0||V.length>0)&&m.jsxs("div",{className:"border-t border-dark-700 p-2 lg:p-3 space-y-1.5 lg:space-y-2 max-h-48 lg:max-h-60 overflow-y-auto",children:[V.map(ae=>m.jsxs("button",{onClick:()=>s?.(ae),className:`w-full flex items-center justify-between p-1.5 lg:p-2 rounded-lg transition-colors text-left ${gg[ae.color]}`,children:[m.jsxs("div",{className:"flex items-center gap-1.5 lg:gap-2 min-w-0",children:[ae.isImportant?m.jsx(Wr,{className:"w-3 h-3 text-amber-400 fill-amber-400 flex-shrink-0"}):m.jsx("div",{className:`w-1.5 h-1.5 rounded-full flex-shrink-0 ${La[ae.color]}`}),m.jsx("span",{className:"text-xs lg:text-sm text-dark-200 truncate",children:ae.title})]}),m.jsxs("span",{className:"text-[10px] lg:text-xs text-dark-500 flex-shrink-0 ml-1",children:[new Date(ae.date).getDate(),""]})]},`e-${ae.id}`)),L.map(ae=>m.jsxs("button",{onClick:()=>e(ae),className:"w-full flex items-center justify-between p-1.5 lg:p-2 rounded-lg bg-dark-900/50 hover:bg-dark-700/50 transition-colors text-left",children:[m.jsxs("div",{className:"flex items-center gap-1.5 lg:gap-2 min-w-0",children:[m.jsx("div",{className:`w-1.5 h-1.5 rounded-full flex-shrink-0 ${ae.type==="income"?"bg-emerald-500":"bg-rose-500"}`}),m.jsx("span",{className:"text-xs lg:text-sm text-dark-200 truncate",children:ae.title})]}),m.jsxs("span",{className:`text-xs lg:text-sm font-medium whitespace-nowrap ml-1 ${ae.type==="income"?"text-emerald-400":"text-rose-400"}`,children:[ae.type==="income"?"+":"-",F(ae.amount)]})]},`${ae.id}-${ae.date}`))]})]},P.month)})}),m.jsxs("div",{className:"mt-4 lg:mt-6 pt-3 lg:pt-4 border-t border-dark-800",children:[m.jsx("h4",{className:"text-xs lg:text-sm font-medium text-dark-400 mb-2 lg:mb-3",children:" "}),m.jsx("div",{className:"flex items-end gap-0.5 lg:gap-1 h-16 lg:h-24",children:v.map(P=>{const se=Math.max(...v.map(ie=>Math.max(ie.totalIncome,ie.totalExpense))),L=se>0?P.totalIncome/se*100:0,V=se>0?P.totalExpense/se*100:0;return m.jsxs("div",{className:"flex-1 flex flex-col items-center gap-0.5 lg:gap-1",children:[m.jsxs("div",{className:"w-full flex gap-0.5 items-end h-12 lg:h-20",children:[m.jsx("div",{className:"flex-1 bg-emerald-500/60 rounded-t transition-all",style:{height:`${L}%`,minHeight:P.totalIncome>0?"2px":"0"}}),m.jsx("div",{className:"flex-1 bg-rose-500/60 rounded-t transition-all",style:{height:`${V}%`,minHeight:P.totalExpense>0?"2px":"0"}})]}),m.jsx("span",{className:"text-[10px] lg:text-xs text-dark-500",children:P.month})]},P.month)})}),m.jsxs("div",{className:"flex justify-center gap-3 lg:gap-4 mt-2",children:[m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("div",{className:"w-2.5 h-2.5 lg:w-3 lg:h-3 rounded bg-emerald-500/60"}),m.jsx("span",{className:"text-[10px] lg:text-xs text-dark-500",children:""})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("div",{className:"w-2.5 h-2.5 lg:w-3 lg:h-3 rounded bg-rose-500/60"}),m.jsx("span",{className:"text-[10px] lg:text-xs text-dark-500",children:""})]})]})]})]})}const Gt=[];for(let i=0;i<256;++i)Gt.push((i+256).toString(16).slice(1));function VC(i,e=0){return(Gt[i[e+0]]+Gt[i[e+1]]+Gt[i[e+2]]+Gt[i[e+3]]+"-"+Gt[i[e+4]]+Gt[i[e+5]]+"-"+Gt[i[e+6]]+Gt[i[e+7]]+"-"+Gt[i[e+8]]+Gt[i[e+9]]+"-"+Gt[i[e+10]]+Gt[i[e+11]]+Gt[i[e+12]]+Gt[i[e+13]]+Gt[i[e+14]]+Gt[i[e+15]]).toLowerCase()}let Qf;const LC=new Uint8Array(16);function UC(){if(!Qf){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Qf=crypto.getRandomValues.bind(crypto)}return Qf(LC)}const PC=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),bv={randomUUID:PC};function zC(i,e,s){i=i||{};const r=i.random??i.rng?.()??UC();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,VC(r)}function pg(i,e,s){return bv.randomUUID&&!i?bv.randomUUID():zC(i)}function sb({transaction:i,onClose:e}){const{addTransaction:s,updateTransaction:r,currentYear:o,currentMonth:u}=Ln(),[f,p]=J.useState("expense"),[_,v]=J.useState(""),[T,A]=J.useState(""),[C,z]=J.useState("other_expense"),[F,Y]=J.useState(""),[P,se]=J.useState("once"),[L,V]=J.useState(""),[ie,ce]=J.useState("");J.useEffect(()=>{i?(p(i.type),v(i.title),A(String(i.amount)),z(i.category),Y(i.date),se(i.recurrence),V(i.recurrenceEndDate||""),ce(i.memo||"")):Y(`${o}-${String(u).padStart(2,"0")}-01`)},[i,o,u]),J.useEffect(()=>{f==="income"&&!vv.includes(C)?z("salary"):f==="expense"&&!xv.includes(C)&&z("other_expense")},[f,C]);const ae=E=>{if(E.preventDefault(),!_.trim()||!T||!F)return;const w={id:i?.id||pg(),title:_.trim(),amount:Number(T),type:f,category:C,date:F,recurrence:P,recurrenceEndDate:L||void 0,memo:ie.trim()||void 0,createdAt:i?.createdAt||new Date().toISOString()};i?r(i.id,w):s(w),e()},I=f==="income"?vv:xv;return m.jsx("div",{className:"fixed inset-0 bg-dark-950/80 backdrop-blur-sm flex items-end sm:items-center justify-center z-50 p-0 sm:p-4",children:m.jsxs("div",{className:"card w-full sm:max-w-lg max-h-[85vh] sm:max-h-[90vh] overflow-y-auto rounded-b-none sm:rounded-b-2xl",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:[m.jsx("h3",{className:"text-lg lg:text-xl font-bold text-dark-100",children:i?" ":"  "}),m.jsx("button",{onClick:e,className:"btn btn-ghost p-2",children:m.jsx(Rh,{className:"w-5 h-5"})})]}),m.jsxs("form",{onSubmit:ae,className:"space-y-3 lg:space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),m.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[m.jsx("button",{type:"button",onClick:()=>p("income"),className:`py-2.5 lg:py-3 rounded-xl font-medium text-sm lg:text-base transition-all ${f==="income"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/40":"bg-dark-800 text-dark-400 border border-dark-700 hover:border-dark-600"}`,children:""}),m.jsx("button",{type:"button",onClick:()=>p("expense"),className:`py-2.5 lg:py-3 rounded-xl font-medium text-sm lg:text-base transition-all ${f==="expense"?"bg-rose-500/20 text-rose-400 border border-rose-500/40":"bg-dark-800 text-dark-400 border border-dark-700 hover:border-dark-600"}`,children:""})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:" *"}),m.jsx("input",{type:"text",value:_,onChange:E=>v(E.target.value),placeholder:": ,  ",className:"input text-sm lg:text-base",autoFocus:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:" *"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"number",value:T,onChange:E=>A(E.target.value),placeholder:"0",className:"input pr-12 text-sm lg:text-base",min:"0"}),m.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-dark-400 text-sm",children:""})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 lg:gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),m.jsx("select",{value:C,onChange:E=>z(E.target.value),className:"input text-sm lg:text-base",children:I.map(E=>m.jsx("option",{value:E,children:oh[E]},E))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:" *"}),m.jsx("input",{type:"date",value:F,onChange:E=>Y(E.target.value),className:"input text-sm lg:text-base"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),m.jsx("select",{value:P,onChange:E=>se(E.target.value),className:"input text-sm lg:text-base",children:Object.keys(zo).map(E=>m.jsx("option",{value:E,children:zo[E]},E))})]}),P!=="once"&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:"  ()"}),m.jsx("input",{type:"date",value:L,onChange:E=>V(E.target.value),className:"input text-sm lg:text-base"}),m.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mt-1",children:"  "})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),m.jsx("textarea",{value:ie,onChange:E=>ce(E.target.value),placeholder:"  ()",className:"input min-h-[60px] lg:min-h-[80px] resize-none text-sm lg:text-base"})]}),m.jsxs("div",{className:"flex gap-2 lg:gap-3 pt-3 lg:pt-4",children:[m.jsx("button",{type:"button",onClick:e,className:"btn btn-secondary flex-1 text-sm lg:text-base",children:""}),m.jsx("button",{type:"submit",className:`btn flex-1 text-white text-sm lg:text-base ${f==="income"?"bg-emerald-500 hover:bg-emerald-600":"bg-rose-500 hover:bg-rose-600"}`,children:i?"":""})]})]})]})})}const BC=["housing","contract","career","family","education","other"],qC=["red","orange","yellow","green","blue","purple","pink"];function ib({event:i,onClose:e}){const{addEvent:s,updateEvent:r,currentYear:o,currentMonth:u}=Ln(),[f,p]=J.useState(""),[_,v]=J.useState("other"),[T,A]=J.useState(""),[C,z]=J.useState(""),[F,Y]=J.useState(!1),[P,se]=J.useState("blue");J.useEffect(()=>{i?(p(i.title),v(i.category),A(i.date),z(i.description||""),Y(i.isImportant),se(i.color)):A(`${o}-${String(u).padStart(2,"0")}-01`)},[i,o,u]);const L=V=>{if(V.preventDefault(),!f.trim()||!T)return;const ie={id:i?.id||pg(),title:f.trim(),category:_,date:T,description:C.trim()||void 0,isImportant:F,color:P,createdAt:i?.createdAt||new Date().toISOString()};i?r(i.id,ie):s(ie),e()};return m.jsx("div",{className:"fixed inset-0 bg-dark-950/80 backdrop-blur-sm flex items-end sm:items-center justify-center z-50 p-0 sm:p-4",children:m.jsxs("div",{className:"card w-full sm:max-w-lg max-h-[85vh] sm:max-h-[90vh] overflow-y-auto rounded-b-none sm:rounded-b-2xl",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:[m.jsx("h3",{className:"text-lg lg:text-xl font-bold text-dark-100",children:i?" ":"  "}),m.jsx("button",{onClick:e,className:"btn btn-ghost p-2",children:m.jsx(Rh,{className:"w-5 h-5"})})]}),m.jsxs("form",{onSubmit:L,className:"space-y-3 lg:space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:"  *"}),m.jsx("input",{type:"text",value:f,onChange:V=>p(V.target.value),placeholder:":  , ,  ",className:"input text-sm lg:text-base",autoFocus:!0})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 lg:gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),m.jsx("select",{value:_,onChange:V=>v(V.target.value),className:"input text-sm lg:text-base",children:BC.map(V=>m.jsx("option",{value:V,children:qi[V]},V))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:" *"}),m.jsx("input",{type:"date",value:T,onChange:V=>A(V.target.value),className:"input text-sm lg:text-base"})]})]}),m.jsxs("div",{className:"flex items-end gap-4",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),m.jsx("div",{className:"flex gap-1.5 lg:gap-2",children:qC.map(V=>m.jsx("button",{type:"button",onClick:()=>se(V),className:`w-6 h-6 lg:w-8 lg:h-8 rounded-full ${La[V]} transition-all ${P===V?"ring-2 ring-offset-2 ring-offset-dark-900 ring-white scale-110":"hover:scale-105"}`},V))})]}),m.jsxs("label",{className:"flex items-center gap-2 cursor-pointer pb-0.5",children:[m.jsx("button",{type:"button",onClick:()=>Y(!F),className:`p-1.5 lg:p-2 rounded-lg transition-all ${F?"bg-amber-500/20 text-amber-400":"bg-dark-800 text-dark-500 hover:text-dark-300"}`,children:m.jsx(Wr,{className:`w-4 h-4 lg:w-5 lg:h-5 ${F?"fill-current":""}`})}),m.jsx("span",{className:"text-xs lg:text-sm text-dark-300",children:""})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),m.jsx("textarea",{value:C,onChange:V=>z(V.target.value),placeholder:"  ()",className:"input min-h-[60px] lg:min-h-[80px] resize-none text-sm lg:text-base"})]}),m.jsxs("div",{className:"flex gap-2 lg:gap-3 pt-3 lg:pt-4",children:[m.jsx("button",{type:"button",onClick:e,className:"btn btn-secondary flex-1 text-sm lg:text-base",children:""}),m.jsx("button",{type:"submit",className:`btn flex-1 text-white text-sm lg:text-base ${La[P]} hover:opacity-90`,children:i?"":""})]})]})]})})}function Ev(){const{currentYear:i,currentMonth:e}=Ln(),[s,r]=J.useState("month"),[o,u]=J.useState(null),[f,p]=J.useState(null),[_,v]=J.useState(6),[T,A]=J.useState(3),C=J.useRef(null),z=L=>{u(L)},F=L=>{p(L)},Y=J.useCallback(L=>{L[0].isIntersecting&&(s==="month"?v(ie=>ie+6):A(ie=>ie+2))},[s]);J.useEffect(()=>{const L={root:null,rootMargin:"100px",threshold:0},V=new IntersectionObserver(Y,L);return C.current&&V.observe(C.current),()=>V.disconnect()},[Y]),J.useEffect(()=>{v(6),A(3)},[s]),J.useEffect(()=>{v(6),A(3),window.scrollTo({top:0,behavior:"smooth"})},[i,e]);const P=()=>{const L=[];let V=i,ie=e;for(let ce=0;ce<_;ce++)L.push({year:V,month:ie}),ie++,ie>12&&(ie=1,V++);return L},se=()=>{const L=[];for(let V=0;V<T;V++)L.push(i+V);return L};return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 mb-4",children:[m.jsxs("button",{onClick:()=>r("month"),className:`btn text-xs sm:text-sm py-1.5 px-2 sm:py-2 sm:px-3 ${s==="month"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/40":"btn-secondary"}`,children:[m.jsx(ol,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),m.jsx("span",{className:"hidden sm:inline",children:" "}),m.jsx("span",{className:"sm:hidden",children:""})]}),m.jsxs("button",{onClick:()=>r("year"),className:`btn text-xs sm:text-sm py-1.5 px-2 sm:py-2 sm:px-3 ${s==="year"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/40":"btn-secondary"}`,children:[m.jsx(dR,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),m.jsx("span",{className:"hidden sm:inline",children:" "}),m.jsx("span",{className:"sm:hidden",children:""})]})]}),m.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[s==="month"?P().map(({year:L,month:V})=>m.jsx(jC,{year:L,month:V,onEdit:z,onEditEvent:F},`${L}-${V}`)):se().map(L=>m.jsx(OC,{year:L,onEdit:z,onEditEvent:F},L)),m.jsx("div",{ref:C,className:"flex justify-center py-8",children:m.jsx("div",{className:"text-dark-500 text-sm",children:"  ..."})})]}),o&&m.jsx(sb,{transaction:o,onClose:()=>u(null)}),f&&m.jsx(ib,{event:f,onClose:()=>p(null)})]})}function HC(){const{transactions:i,deleteTransaction:e}=Ln(),[s,r]=J.useState(!1),[o,u]=J.useState(null),[f,p]=J.useState("all"),[_,v]=J.useState(""),T=J.useMemo(()=>i.filter(L=>{if(f!=="all"&&L.type!==f)return!1;if(_){const V=_.toLowerCase();return L.title.toLowerCase().includes(V)||oh[L.category].toLowerCase().includes(V)||L.memo&&L.memo.toLowerCase().includes(V)}return!0}).sort((L,V)=>V.createdAt.localeCompare(L.createdAt)),[i,f,_]),A=J.useMemo(()=>{const L=i.filter(ie=>ie.type==="income").reduce((ie,ce)=>ce.recurrence==="monthly"?ie+ce.amount*12:ie+ce.amount,0),V=i.filter(ie=>ie.type==="expense").reduce((ie,ce)=>ce.recurrence==="monthly"?ie+ce.amount*12:ie+ce.amount,0);return{income:L,expense:V,balance:L-V}},[i]),C=L=>new Intl.NumberFormat("ko-KR").format(L),z=L=>{const V=new Date(L);return`${V.getFullYear()}.${String(V.getMonth()+1).padStart(2,"0")}.${String(V.getDate()).padStart(2,"0")}`},F=L=>{u(L),r(!0)},Y=()=>{u(null),r(!0)},P=()=>{r(!1),u(null)},se=(L,V)=>{confirm(`"${V}"  ?`)&&e(L)};return m.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-3 gap-2 lg:gap-4",children:[m.jsxs("div",{className:"card !p-3 lg:!p-6",children:[m.jsx("p",{className:"text-dark-400 text-xs lg:text-sm mb-1",children:""}),m.jsxs("p",{className:"text-sm lg:text-2xl font-bold text-emerald-400 truncate",children:["+",C(A.income)]})]}),m.jsxs("div",{className:"card !p-3 lg:!p-6",children:[m.jsx("p",{className:"text-dark-400 text-xs lg:text-sm mb-1",children:""}),m.jsxs("p",{className:"text-sm lg:text-2xl font-bold text-rose-400 truncate",children:["-",C(A.expense)]})]}),m.jsxs("div",{className:"card !p-3 lg:!p-6",children:[m.jsx("p",{className:"text-dark-400 text-xs lg:text-sm mb-1",children:""}),m.jsxs("p",{className:`text-sm lg:text-2xl font-bold truncate ${A.balance>=0?"text-emerald-400":"text-rose-400"}`,children:[A.balance>=0?"+":"",C(A.balance)]})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("div",{className:"relative flex-1",children:[m.jsx(eb,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-dark-500"}),m.jsx("input",{type:"text",value:_,onChange:L=>v(L.target.value),placeholder:"...",className:"input pl-10 w-full text-sm"})]}),m.jsxs("button",{onClick:Y,className:"btn bg-emerald-500 hover:bg-emerald-600 text-white whitespace-nowrap",children:[m.jsx(mg,{className:"w-4 h-4"}),m.jsx("span",{className:"hidden sm:inline",children:""})]})]}),m.jsxs("div",{className:"flex items-center gap-1 bg-dark-800 rounded-lg p-1 w-fit",children:[m.jsx("button",{onClick:()=>p("all"),className:`px-3 py-1.5 rounded-md text-xs lg:text-sm transition-colors ${f==="all"?"bg-dark-700 text-dark-100":"text-dark-400 hover:text-dark-200"}`,children:""}),m.jsx("button",{onClick:()=>p("income"),className:`px-3 py-1.5 rounded-md text-xs lg:text-sm transition-colors ${f==="income"?"bg-emerald-500/20 text-emerald-400":"text-dark-400 hover:text-dark-200"}`,children:""}),m.jsx("button",{onClick:()=>p("expense"),className:`px-3 py-1.5 rounded-md text-xs lg:text-sm transition-colors ${f==="expense"?"bg-rose-500/20 text-rose-400":"text-dark-400 hover:text-dark-200"}`,children:""})]})]}),m.jsx("div",{className:"card !p-0 overflow-hidden",children:T.length===0?m.jsx("div",{className:"text-center py-8 lg:py-12 text-dark-500 text-sm",children:_||f!=="all"?"  ":"  "}):m.jsx("div",{className:"divide-y divide-dark-800",children:T.map(L=>m.jsxs("div",{className:"flex items-start lg:items-center gap-3 p-3 lg:p-4 hover:bg-dark-800/50 transition-colors",children:[m.jsx("div",{className:`w-1 h-10 lg:h-12 rounded-full flex-shrink-0 ${L.type==="income"?"bg-emerald-500":"bg-rose-500"}`}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-0.5 lg:mb-1",children:[m.jsx("h3",{className:"font-medium text-dark-100 truncate text-sm lg:text-base",children:L.title}),L.recurrence!=="once"&&m.jsx("span",{className:"px-1.5 lg:px-2 py-0.5 bg-dark-700 rounded-full text-[10px] lg:text-xs text-dark-300 flex-shrink-0",children:zo[L.recurrence]})]}),m.jsxs("div",{className:"flex items-center gap-1 lg:gap-2 text-xs lg:text-sm text-dark-500 flex-wrap",children:[m.jsx("span",{children:oh[L.category]}),m.jsx("span",{className:"hidden sm:inline",children:""}),m.jsx("span",{className:"hidden sm:inline",children:z(L.date)})]})]}),m.jsxs("div",{className:`text-right font-semibold text-sm lg:text-base flex-shrink-0 ${L.type==="income"?"text-emerald-400":"text-rose-400"}`,children:[L.type==="income"?"+":"-",C(L.amount)]}),m.jsxs("div",{className:"flex items-center gap-0.5 flex-shrink-0",children:[m.jsx("button",{onClick:()=>F(L),className:"p-1.5 lg:p-2 text-dark-500 hover:text-dark-200 transition-colors",title:"",children:m.jsx(fg,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>se(L.id,L.title),className:"p-1.5 lg:p-2 text-dark-500 hover:text-rose-400 transition-colors",title:"",children:m.jsx(el,{className:"w-4 h-4"})})]})]},L.id))})}),m.jsxs("div",{className:"text-center text-sm text-dark-500",children:[" ",T.length," ",f!=="all"&&` (${f==="income"?"":""})`]}),s&&m.jsx(sb,{transaction:o,onClose:P})]})}function FC(){const{events:i,deleteEvent:e}=Ln(),[s,r]=J.useState(!1),[o,u]=J.useState(null),[f,p]=J.useState("all"),[_,v]=J.useState(""),T=J.useMemo(()=>i.filter(L=>{if(f!=="all"&&L.category!==f)return!1;if(_){const V=_.toLowerCase();return L.title.toLowerCase().includes(V)||qi[L.category].toLowerCase().includes(V)||L.description&&L.description.toLowerCase().includes(V)}return!0}).sort((L,V)=>L.date.localeCompare(V.date)),[i,f,_]),A=J.useMemo(()=>{const L={};let V=0;return i.forEach(ie=>{L[ie.category]=(L[ie.category]||0)+1,ie.isImportant&&V++}),{categoryCounts:L,importantCount:V,total:i.length}},[i]),C=L=>{const V=new Date(L);return`${V.getFullYear()}.${String(V.getMonth()+1).padStart(2,"0")}.${String(V.getDate()).padStart(2,"0")}`},z=L=>{u(L),r(!0)},F=()=>{u(null),r(!0)},Y=()=>{r(!1),u(null)},P=(L,V)=>{confirm(`"${V}"  ?`)&&e(L)},se=["housing","contract","career","family","education","other"];return m.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-2 lg:gap-4",children:[m.jsxs("div",{className:"card !p-3 lg:!p-6",children:[m.jsx("p",{className:"text-dark-400 text-xs lg:text-sm mb-1",children:""}),m.jsxs("p",{className:"text-xl lg:text-2xl font-bold text-dark-100",children:[A.total,""]})]}),m.jsxs("div",{className:"card !p-3 lg:!p-6",children:[m.jsx("p",{className:"text-dark-400 text-xs lg:text-sm mb-1",children:""}),m.jsxs("p",{className:"text-xl lg:text-2xl font-bold text-amber-400",children:[A.importantCount,""]})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("div",{className:"relative flex-1",children:[m.jsx(eb,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-dark-500"}),m.jsx("input",{type:"text",value:_,onChange:L=>v(L.target.value),placeholder:"...",className:"input pl-10 w-full text-sm"})]}),m.jsxs("button",{onClick:F,className:"btn bg-purple-500 hover:bg-purple-600 text-white whitespace-nowrap",children:[m.jsx(mg,{className:"w-4 h-4"}),m.jsx("span",{className:"hidden sm:inline",children:""})]})]}),m.jsxs("select",{value:f,onChange:L=>p(L.target.value),className:"input py-2 text-sm w-full sm:w-auto",children:[m.jsx("option",{value:"all",children:" "}),se.map(L=>m.jsx("option",{value:L,children:qi[L]},L))]})]}),m.jsx("div",{className:"card !p-0 overflow-hidden",children:T.length===0?m.jsx("div",{className:"text-center py-8 lg:py-12 text-dark-500 text-sm",children:_||f!=="all"?"  ":"  .  !"}):m.jsx("div",{className:"divide-y divide-dark-800",children:T.map(L=>m.jsxs("div",{className:`flex items-start lg:items-center gap-3 p-3 lg:p-4 hover:bg-dark-800/50 transition-colors ${gg[L.color]}`,children:[m.jsx("div",{className:`w-1 h-10 lg:h-12 rounded-full flex-shrink-0 ${La[L.color]}`}),m.jsx("div",{className:`hidden sm:flex w-10 h-10 rounded-xl items-center justify-center flex-shrink-0 ${La[L.color]}/20`,children:L.isImportant?m.jsx(Wr,{className:"w-5 h-5 text-amber-400 fill-amber-400"}):m.jsx(ol,{className:"w-5 h-5 text-dark-300"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-1.5 lg:gap-2 mb-0.5 lg:mb-1 flex-wrap",children:[m.jsx("h3",{className:"font-medium text-dark-100 truncate text-sm lg:text-base",children:L.title}),L.isImportant&&m.jsx(Wr,{className:"w-3.5 h-3.5 text-amber-400 fill-amber-400 sm:hidden flex-shrink-0"}),m.jsx("span",{className:`hidden sm:inline px-2 py-0.5 rounded-full text-xs ${La[L.color]}/20 text-dark-300`,children:qi[L.category]}),L.isImportant&&m.jsx("span",{className:"hidden sm:inline px-2 py-0.5 bg-amber-500/20 rounded-full text-xs text-amber-400",children:""})]}),m.jsxs("div",{className:"flex items-center gap-1 lg:gap-2 text-xs lg:text-sm text-dark-500 flex-wrap",children:[m.jsx("span",{children:C(L.date)}),m.jsxs("span",{className:"sm:hidden",children:[" ",qi[L.category]]}),L.description&&m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"hidden sm:inline",children:""}),m.jsx("span",{className:"hidden sm:inline truncate max-w-[300px]",children:L.description})]})]})]}),m.jsxs("div",{className:"flex items-center gap-0.5 flex-shrink-0",children:[m.jsx("button",{onClick:()=>z(L),className:"p-1.5 lg:p-2 text-dark-500 hover:text-dark-200 transition-colors",title:"",children:m.jsx(fg,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>P(L.id,L.title),className:"p-1.5 lg:p-2 text-dark-500 hover:text-rose-400 transition-colors",title:"",children:m.jsx(el,{className:"w-4 h-4"})})]})]},L.id))})}),m.jsxs("div",{className:"text-center text-sm text-dark-500",children:[" ",T.length," ",f!=="all"&&` (${qi[f]})`]}),s&&m.jsx(ib,{event:o,onClose:Y})]})}const Tv=["equal_principal_interest","equal_principal","bullet"];function GC({loan:i,onClose:e}){const{addLoan:s,updateLoan:r}=Ln(),[o,u]=J.useState(""),[f,p]=J.useState(""),[_,v]=J.useState(""),[T,A]=J.useState("equal_principal_interest"),[C,z]=J.useState(""),[F,Y]=J.useState(""),[P,se]=J.useState(""),[L,V]=J.useState("25"),[ie,ce]=J.useState(""),[ae,I]=J.useState(!1);J.useEffect(()=>{if(i)u(i.name),p(String(i.principal)),v(String(i.interestRate)),A(i.repaymentType),Y(String(Math.floor(i.termMonths/12))),z(String(i.termMonths%12)),se(i.startDate),V(String(i.paymentDay)),ce(i.memo||"");else{const N=new Date;se(`${N.getFullYear()}-${String(N.getMonth()+1).padStart(2,"0")}-01`)}},[i]);const E=N=>{if(N.preventDefault(),!o.trim()||!f||!_||!P)return;const M=(parseInt(F)||0)*12+(parseInt(C)||0);if(M<=0)return;const R={id:i?.id||pg(),name:o.trim(),principal:Number(f),interestRate:Number(_),repaymentType:T,termMonths:M,startDate:P,paymentDay:parseInt(L)||25,memo:ie.trim()||void 0,createdAt:i?.createdAt||new Date().toISOString()};i?r(i.id,R):s(R),e()},k=(()=>{const N=Number(f),M=Number(_)/100/12,R=(parseInt(F)||0)*12+(parseInt(C)||0);if(!N||!R)return null;if(T==="equal_principal_interest")return Math.round(M===0?N/R:N*M*Math.pow(1+M,R)/(Math.pow(1+M,R)-1));if(T==="equal_principal"){const Me=N/R,ze=N*M;return Math.round(Me+ze)}else return Math.round(N*M)})();return m.jsx("div",{className:"fixed inset-0 bg-dark-950/80 backdrop-blur-sm flex items-end sm:items-center justify-center z-50 p-0 sm:p-4",children:m.jsxs("div",{className:"card w-full sm:max-w-lg max-h-[85vh] sm:max-h-[90vh] overflow-y-auto rounded-b-none sm:rounded-b-2xl",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:[m.jsx("h3",{className:"text-lg lg:text-xl font-bold text-dark-100",children:i?" ":"  "}),m.jsx("button",{onClick:e,className:"btn btn-ghost p-2",children:m.jsx(Rh,{className:"w-5 h-5"})})]}),m.jsxs("form",{onSubmit:E,className:"space-y-3 lg:space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:" *"}),m.jsx("input",{type:"text",value:o,onChange:N=>u(N.target.value),placeholder:": , ",className:"input text-sm lg:text-base",autoFocus:!0})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 lg:gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:"  *"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"number",value:f,onChange:N=>p(N.target.value),placeholder:"0",className:"input pr-10 text-sm lg:text-base",min:"0"}),m.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-dark-400 text-xs lg:text-sm",children:""})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:" *"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"number",value:_,onChange:N=>v(N.target.value),placeholder:"0.0",className:"input pr-10 text-sm lg:text-base",min:"0",step:"0.01"}),m.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-dark-400 text-xs lg:text-sm",children:"%"})]})]})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1.5 lg:mb-2",children:[m.jsx("label",{className:"text-xs lg:text-sm font-medium text-dark-300",children:" "}),m.jsx("button",{type:"button",onClick:()=>I(!ae),className:"text-dark-500 hover:text-dark-300",children:m.jsx(hg,{className:"w-3.5 h-3.5 lg:w-4 lg:h-4"})})]}),ae&&m.jsx("div",{className:"mb-2 lg:mb-3 p-2 lg:p-3 bg-dark-800/50 rounded-lg text-xs lg:text-sm space-y-1.5 lg:space-y-2",children:Tv.map(N=>m.jsxs("div",{children:[m.jsx("span",{className:"text-dark-200 font-medium",children:vm[N]}),m.jsx("p",{className:"text-dark-400 text-[10px] lg:text-xs",children:CC[N]})]},N))}),m.jsx("select",{value:T,onChange:N=>A(N.target.value),className:"input text-sm lg:text-base",children:Tv.map(N=>m.jsx("option",{value:N,children:vm[N]},N))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:"  *"}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 lg:gap-3",children:[m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"number",value:F,onChange:N=>Y(N.target.value),placeholder:"0",className:"input pr-10 text-sm lg:text-base",min:"0"}),m.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-dark-400 text-xs lg:text-sm",children:""})]}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"number",value:C,onChange:N=>z(N.target.value),placeholder:"0",className:"input pr-10 text-sm lg:text-base",min:"0",max:"11"}),m.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-dark-400 text-xs lg:text-sm",children:""})]})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 lg:gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:"  *"}),m.jsx("input",{type:"date",value:P,onChange:N=>se(N.target.value),className:"input text-sm lg:text-base"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:" "}),m.jsx("select",{value:L,onChange:N=>V(N.target.value),className:"input text-sm lg:text-base",children:Array.from({length:28},(N,M)=>M+1).map(N=>m.jsxs("option",{value:N,children:[N,""]},N))})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),m.jsx("textarea",{value:ie,onChange:N=>ce(N.target.value),placeholder:"  ()",className:"input min-h-[50px] lg:min-h-[60px] resize-none text-sm lg:text-base"})]}),k&&m.jsxs("div",{className:"p-3 lg:p-4 bg-blue-500/10 border border-blue-500/20 rounded-xl",children:[m.jsx("p",{className:"text-xs lg:text-sm text-dark-400 mb-1",children:"  "}),m.jsxs("p",{className:"text-lg lg:text-xl font-bold text-blue-400",children:[new Intl.NumberFormat("ko-KR").format(k),""]}),T==="equal_principal"&&m.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mt-1",children:"*    (  )"}),T==="bullet"&&m.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mt-1",children:"*  (   )"})]}),m.jsxs("div",{className:"flex gap-2 lg:gap-3 pt-3 lg:pt-4",children:[m.jsx("button",{type:"button",onClick:e,className:"btn btn-secondary flex-1 text-sm lg:text-base",children:""}),m.jsx("button",{type:"submit",className:"btn bg-blue-500 hover:bg-blue-600 text-white flex-1 text-sm lg:text-base",children:i?"":""})]})]})]})})}function YC(){const{loans:i,deleteLoan:e,getLoanPaymentsForMonth:s,currentYear:r,currentMonth:o}=Ln(),[u,f]=J.useState(!1),[p,_]=J.useState(null),v=Y=>{_(Y),f(!0)},T=()=>{f(!1),_(null)},A=(Y,P)=>{confirm(`"${P}"  ?`)&&e(Y)},C=Y=>new Intl.NumberFormat("ko-KR").format(Y),z=J.useMemo(()=>s(r,o),[s,r,o]),F=J.useMemo(()=>{const Y=i.reduce((ie,ce)=>ie+ce.principal,0),P=z,se=P.reduce((ie,ce)=>ie+ce.totalPayment,0),L=P.reduce((ie,ce)=>ie+ce.interest,0),V=P.reduce((ie,ce)=>ie+ce.remainingPrincipal,0);return{totalPrincipal:Y,totalMonthlyPayment:se,totalInterest:L,totalRemainingPrincipal:V}},[i,z]);return m.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 lg:gap-4",children:[m.jsxs("div",{className:"card !p-3 lg:!p-6",children:[m.jsx("p",{className:"text-xs lg:text-sm text-dark-400 mb-1",children:"  "}),m.jsx("p",{className:"text-sm lg:text-2xl font-bold text-dark-100 truncate",children:C(F.totalPrincipal)})]}),m.jsxs("div",{className:"card !p-3 lg:!p-6",children:[m.jsx("p",{className:"text-xs lg:text-sm text-dark-400 mb-1",children:"  "}),m.jsx("p",{className:"text-sm lg:text-2xl font-bold text-blue-400 truncate",children:C(F.totalMonthlyPayment)})]}),m.jsxs("div",{className:"card !p-3 lg:!p-6",children:[m.jsx("p",{className:"text-xs lg:text-sm text-dark-400 mb-1",children:"  "}),m.jsx("p",{className:"text-sm lg:text-2xl font-bold text-rose-400 truncate",children:C(F.totalInterest)})]}),m.jsxs("div",{className:"card !p-3 lg:!p-6",children:[m.jsx("p",{className:"text-xs lg:text-sm text-dark-400 mb-1",children:" "}),m.jsx("p",{className:"text-sm lg:text-2xl font-bold text-amber-400 truncate",children:C(F.totalRemainingPrincipal)})]})]}),m.jsxs("div",{className:"card !p-3 lg:!p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-3 lg:mb-4",children:[m.jsx("h3",{className:"text-base lg:text-lg font-semibold text-dark-100",children:" "}),m.jsxs("button",{onClick:()=>f(!0),className:"btn bg-blue-500 hover:bg-blue-600 text-white text-xs lg:text-sm py-1.5 px-2 lg:py-2 lg:px-3",children:[m.jsx(mg,{className:"w-4 h-4"}),m.jsx("span",{className:"hidden sm:inline",children:" "}),m.jsx("span",{className:"sm:hidden",children:""})]})]}),i.length===0?m.jsxs("div",{className:"flex flex-col items-center justify-center py-8 lg:py-12 text-dark-500",children:[m.jsx(Po,{className:"w-12 h-12 lg:w-16 lg:h-16 mb-3 lg:mb-4 opacity-50"}),m.jsx("p",{className:"text-sm lg:text-lg mb-2",children:"  "}),m.jsx("p",{className:"text-xs lg:text-sm mb-4 text-center px-4",children:"      "}),m.jsx("button",{onClick:()=>f(!0),className:"btn bg-blue-500 hover:bg-blue-600 text-white text-sm",children:"  "})]}):m.jsx("div",{className:"space-y-3 lg:space-y-4",children:i.map(Y=>{const P=z.find(V=>V.loanId===Y.id),se=new Date(Y.startDate),L=new Date(se);return L.setMonth(L.getMonth()+Y.termMonths),m.jsxs("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl border border-dark-700 hover:border-dark-600 transition-all",children:[m.jsxs("div",{className:"flex items-start justify-between mb-2 lg:mb-3",children:[m.jsxs("div",{className:"min-w-0 flex-1",children:[m.jsx("h4",{className:"text-sm lg:text-lg font-semibold text-dark-100 truncate",children:Y.name}),m.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:vm[Y.repaymentType]})]}),m.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[m.jsx("button",{onClick:()=>v(Y),className:"p-1.5 lg:p-2 text-dark-400 hover:text-dark-100 transition-colors",children:m.jsx(fg,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>A(Y.id,Y.name),className:"p-1.5 lg:p-2 text-dark-400 hover:text-rose-400 transition-colors",children:m.jsx(el,{className:"w-4 h-4"})})]})]}),m.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 lg:gap-4 mb-3 lg:mb-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mb-0.5 lg:mb-1",children:" "}),m.jsx("p",{className:"text-xs lg:text-base font-medium text-dark-200 truncate",children:C(Y.principal)})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mb-0.5 lg:mb-1",children:""}),m.jsxs("p",{className:"text-xs lg:text-base font-medium text-dark-200 flex items-center gap-1",children:[m.jsx(FR,{className:"w-3 h-3 hidden lg:inline"}),Y.interestRate,"%"]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mb-0.5 lg:mb-1",children:" "}),m.jsxs("p",{className:"text-xs lg:text-base font-medium text-dark-200 flex items-center gap-1",children:[m.jsx(xR,{className:"w-3 h-3 hidden lg:inline"}),Math.floor(Y.termMonths/12)," ",Y.termMonths%12,""]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mb-0.5 lg:mb-1",children:"~"}),m.jsxs("p",{className:"text-xs lg:text-base font-medium text-dark-200 flex items-center gap-1",children:[m.jsx(ol,{className:"w-3 h-3 hidden lg:inline"}),m.jsxs("span",{className:"truncate",children:[se.getFullYear(),".",se.getMonth()+1," ~ ",L.getFullYear(),".",L.getMonth()+1]})]})]})]}),P&&m.jsxs("div",{className:"p-2 lg:p-3 bg-dark-900/50 rounded-lg",children:[m.jsxs("p",{className:"text-[10px] lg:text-xs text-dark-500 mb-1.5 lg:mb-2",children:[r," ",o,"  (",P.monthNumber,")"]}),m.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 lg:gap-4 text-xs lg:text-sm",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-dark-500 text-[10px] lg:text-xs",children:""}),m.jsx("p",{className:"font-medium text-dark-300 truncate",children:C(P.principal)})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-dark-500 text-[10px] lg:text-xs",children:""}),m.jsx("p",{className:"font-medium text-rose-400 truncate",children:C(P.interest)})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-dark-500 text-[10px] lg:text-xs",children:" "}),m.jsx("p",{className:"font-medium text-blue-400 truncate",children:C(P.totalPayment)})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-dark-500 text-[10px] lg:text-xs",children:" "}),m.jsx("p",{className:"font-medium text-amber-400 truncate",children:C(P.remainingPrincipal)})]})]})]}),Y.memo&&m.jsx("p",{className:"mt-2 lg:mt-3 text-xs lg:text-sm text-dark-500",children:Y.memo})]},Y.id)})})]}),u&&m.jsx(GC,{loan:p,onClose:T})]})}function QC(){const{currentYear:i,currentMonth:e,getMultiMonthSummaries:s,transactions:r,events:o}=Ln(),u=J.useMemo(()=>{const F=[5,10,15,20,25,30],Y=[];return F.forEach(P=>{const se=P*12;let L=0,V=0,ie=i,ce=e;for(let ae=0;ae<se;ae++){const I=s(ie,ce,1)[0];I&&(L+=I.totalExpense,V+=I.totalIncome),ce++,ce>12&&(ce=1,ie++)}Y.push({years:P,totalExpense:L,totalIncome:V,balance:V-L})}),Y},[i,e,s]),[f,p]=J.useState(3),_=J.useRef(null),v=J.useCallback(F=>{F[0].isIntersecting&&p(P=>P+2)},[]);J.useEffect(()=>{const F={root:null,rootMargin:"100px",threshold:0},Y=new IntersectionObserver(v,F);return _.current&&Y.observe(_.current),()=>Y.disconnect()},[v]);const T=()=>{const F=[];for(let Y=0;Y<f;Y++)F.push(i+Y);return F},A=F=>new Intl.NumberFormat("ko-KR").format(F),C={salary:"",bonus:"",other_income:" ",rent:"/",insurance:"",subscription:"",utilities:"",transport:"",food:"",shopping:"",travel:"",education:"",medical:"",other_expense:" "},z=F=>F>=1e8?`${(F/1e8).toFixed(1)}`:F>=1e7?`${(F/1e7).toFixed(1)}`:F>=1e4?`${Math.round(F/1e4)}`:A(F);return m.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[m.jsxs("div",{className:"card !p-4 lg:!p-6",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-500/20 flex items-center justify-center",children:m.jsx(cC,{className:"w-5 h-5 text-violet-400"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-base lg:text-lg font-bold text-dark-100",children:"  "}),m.jsxs("p",{className:"text-xs lg:text-sm text-dark-400",children:[i," ",e,"  "]})]})]}),m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-2 lg:gap-3",children:u.map(F=>m.jsx("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl border border-dark-700",children:m.jsxs("div",{className:"text-center",children:[m.jsxs("p",{className:"text-xs lg:text-sm text-violet-400 font-medium mb-1",children:[F.years," "]}),m.jsxs("p",{className:"text-[10px] lg:text-xs text-dark-500 mb-2",children:["~",i+F.years,""]}),m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] text-dark-500",children:" "}),m.jsx("p",{className:"text-sm lg:text-base font-bold text-rose-400",children:z(F.totalExpense)})]}),m.jsxs("div",{className:"border-t border-dark-700 pt-1",children:[m.jsx("p",{className:"text-[10px] text-dark-500",children:" "}),m.jsx("p",{className:"text-xs lg:text-sm font-medium text-emerald-400",children:z(F.totalIncome)})]}),m.jsxs("div",{className:"border-t border-dark-700 pt-1",children:[m.jsx("p",{className:"text-[10px] text-dark-500",children:""}),m.jsxs("p",{className:`text-xs lg:text-sm font-medium ${F.balance>=0?"text-blue-400":"text-rose-400"}`,children:[F.balance>=0?"+":"",z(F.balance)]})]})]})]})},F.years))}),m.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mt-3 text-center",children:"*         "})]}),T().map(F=>m.jsx(KC,{year:F,getMultiMonthSummaries:s,transactions:r,events:o,formatAmount:A,categoryLabels:C},F)),m.jsx("div",{ref:_,className:"flex justify-center py-8",children:m.jsx("div",{className:"text-dark-500 text-sm",children:"  ..."})})]})}function KC({year:i,getMultiMonthSummaries:e,transactions:s,events:r,formatAmount:o,categoryLabels:u}){const f=J.useMemo(()=>e(i,1,12),[e,i]),p=J.useMemo(()=>f.reduce((A,C)=>({income:A.income+C.totalIncome,expense:A.expense+C.totalExpense,balance:A.balance+C.balance}),{income:0,expense:0,balance:0}),[f]),_=J.useMemo(()=>r.filter(A=>new Date(A.date).getFullYear()===i).length,[r,i]),v=J.useMemo(()=>{const A={};return s.filter(C=>C.type==="expense").forEach(C=>{let z=C.amount;C.recurrence==="monthly"&&(z*=12),A[C.category]=(A[C.category]||0)+z}),Object.entries(A).sort((C,z)=>z[1]-C[1]).slice(0,5)},[s]),T=p.income>0||p.expense>0||_>0;return m.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[m.jsxs("div",{className:"flex items-center gap-2 lg:gap-3 pb-2 border-b border-dark-800",children:[m.jsxs("h2",{className:"text-xl lg:text-2xl font-bold text-dark-100",children:[i," "]}),_>0&&m.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-purple-500/20 rounded-full text-[10px] lg:text-xs text-purple-400",children:[m.jsx(Uo,{className:"w-3 h-3"}),_]})]}),T?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid grid-cols-3 gap-2 lg:gap-4",children:[m.jsxs("div",{className:"card !p-3 lg:!p-6",children:[m.jsxs("div",{className:"flex items-center gap-2 lg:gap-3 mb-2 lg:mb-3",children:[m.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 rounded-xl bg-emerald-500/20 flex items-center justify-center flex-shrink-0",children:m.jsx(Nh,{className:"w-4 h-4 lg:w-5 lg:h-5 text-emerald-400"})}),m.jsx("span",{className:"text-dark-400 text-xs lg:text-base hidden sm:inline",children:"  "}),m.jsx("span",{className:"text-dark-400 text-xs sm:hidden",children:""})]}),m.jsxs("p",{className:"text-sm lg:text-2xl font-bold text-emerald-400 truncate",children:["+",o(p.income)]})]}),m.jsxs("div",{className:"card !p-3 lg:!p-6",children:[m.jsxs("div",{className:"flex items-center gap-2 lg:gap-3 mb-2 lg:mb-3",children:[m.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 rounded-xl bg-rose-500/20 flex items-center justify-center flex-shrink-0",children:m.jsx(wh,{className:"w-4 h-4 lg:w-5 lg:h-5 text-rose-400"})}),m.jsx("span",{className:"text-dark-400 text-xs lg:text-base hidden sm:inline",children:"  "}),m.jsx("span",{className:"text-dark-400 text-xs sm:hidden",children:""})]}),m.jsxs("p",{className:"text-sm lg:text-2xl font-bold text-rose-400 truncate",children:["-",o(p.expense)]})]}),m.jsxs("div",{className:"card !p-3 lg:!p-6",children:[m.jsxs("div",{className:"flex items-center gap-2 lg:gap-3 mb-2 lg:mb-3",children:[m.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 rounded-xl bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:m.jsx(nb,{className:"w-4 h-4 lg:w-5 lg:h-5 text-blue-400"})}),m.jsx("span",{className:"text-dark-400 text-xs lg:text-base hidden sm:inline",children:" "}),m.jsx("span",{className:"text-dark-400 text-xs sm:hidden",children:""})]}),m.jsxs("p",{className:`text-sm lg:text-2xl font-bold truncate ${p.balance>=0?"text-emerald-400":"text-rose-400"}`,children:[p.balance>=0?"+":"",o(p.balance)]})]})]}),m.jsxs("div",{className:"card !p-3 lg:!p-6",children:[m.jsx("h3",{className:"text-base lg:text-lg font-semibold text-dark-100 mb-3 lg:mb-4",children:" "}),m.jsx("div",{className:"space-y-2 lg:space-y-3",children:f.map(A=>{const C=Math.max(...f.map(Y=>Math.max(Y.totalIncome,Y.totalExpense))),z=C>0?A.totalIncome/C*100:0,F=C>0?A.totalExpense/C*100:0;return m.jsxs("div",{className:"flex items-center gap-2 lg:gap-4",children:[m.jsxs("div",{className:"w-8 lg:w-12 text-xs lg:text-sm font-medium text-dark-300",children:[A.month,""]}),m.jsxs("div",{className:"flex-1 space-y-1",children:[m.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[m.jsx("div",{className:"h-3 lg:h-4 bg-emerald-500/60 rounded",style:{width:`${z}%`,minWidth:A.totalIncome>0?"4px":"0"}}),m.jsxs("span",{className:"text-[10px] lg:text-xs text-emerald-400 min-w-[50px] lg:min-w-[80px]",children:["+",o(A.totalIncome)]})]}),m.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[m.jsx("div",{className:"h-3 lg:h-4 bg-rose-500/60 rounded",style:{width:`${F}%`,minWidth:A.totalExpense>0?"4px":"0"}}),m.jsxs("span",{className:"text-[10px] lg:text-xs text-rose-400 min-w-[50px] lg:min-w-[80px]",children:["-",o(A.totalExpense)]})]})]}),m.jsxs("div",{className:`w-16 lg:w-24 text-right text-[10px] lg:text-sm font-medium ${A.balance>=0?"text-emerald-400":"text-rose-400"}`,children:[A.balance>=0?"+":"",o(A.balance)]})]},A.month)})})]}),v.length>0&&m.jsxs("div",{className:"card !p-3 lg:!p-6",children:[m.jsx("h3",{className:"text-base lg:text-lg font-semibold text-dark-100 mb-3 lg:mb-4",children:"  "}),m.jsx("div",{className:"space-y-2 lg:space-y-3",children:v.map(([A,C],z)=>{const F=v[0][1],Y=C/F*100;return m.jsxs("div",{className:"flex items-center gap-2 lg:gap-4",children:[m.jsx("div",{className:"w-5 lg:w-6 text-xs lg:text-sm font-medium text-dark-500",children:z+1}),m.jsx("div",{className:"w-16 lg:w-24 text-xs lg:text-sm text-dark-200 truncate",children:u[A]||A}),m.jsx("div",{className:"flex-1",children:m.jsx("div",{className:"h-5 lg:h-6 bg-rose-500/40 rounded flex items-center px-2",style:{width:`${Y}%`,minWidth:"50px"},children:m.jsx("span",{className:"text-[10px] lg:text-xs text-rose-200 whitespace-nowrap",children:o(C)})})})]},A)})})]})]}):m.jsx("div",{className:"card text-center py-8 lg:py-12",children:m.jsx("p",{className:"text-dark-500 text-sm lg:text-base",children:"    "})})]})}function XC(){const{transactions:i,loans:e,events:s,isSyncing:r,lastSyncTime:o,saveToFirestore:u}=Ln(),{user:f,loading:p,signInWithGoogle:_,logout:v}=Ah(),[T,A]=J.useState(!1),[C,z]=J.useState(null),F=async()=>{try{z(null),await _()}catch(ae){z(" .  ."),console.error(ae)}},Y=async()=>{try{await v()}catch(ae){console.error(ae)}},P=async()=>{try{await u(),alert(" !")}catch(ae){alert(" ."),console.error(ae)}},se=()=>{const ae={transactions:i,loans:e,events:s,exportedAt:new Date().toISOString()},I=new Blob([JSON.stringify(ae,null,2)],{type:"application/json"}),E=URL.createObjectURL(I),w=document.createElement("a");w.href=E,w.download=`finance-backup-${new Date().toISOString().split("T")[0]}.json`,w.click(),URL.revokeObjectURL(E)},L=()=>{const ae=document.createElement("input");ae.type="file",ae.accept=".json",ae.onchange=I=>{const E=I.target.files?.[0];if(!E)return;const w=new FileReader;w.onload=k=>{try{const N=JSON.parse(k.target?.result);if(N.transactions){const M=new Date;localStorage.setItem("finance-timeline-data",JSON.stringify({transactions:N.transactions,currentYear:M.getFullYear(),currentMonth:M.getMonth()+1})),window.location.reload()}}catch{alert("  .")}},w.readAsText(E)},ae.click()},V=()=>{localStorage.removeItem("finance-timeline-data"),window.location.reload()},ie={totalTransactions:i.length,incomeCount:i.filter(ae=>ae.type==="income").length,expenseCount:i.filter(ae=>ae.type==="expense").length,recurringCount:i.filter(ae=>ae.recurrence!=="once").length,loansCount:e.length,eventsCount:s.length},ce=ae=>`${ae.getHours().toString().padStart(2,"0")}:${ae.getMinutes().toString().padStart(2,"0")}`;return m.jsxs("div",{className:"max-w-2xl space-y-4 lg:space-y-6",children:[m.jsxs("div",{className:"card !p-4 lg:!p-6",children:[m.jsx("h3",{className:"text-base lg:text-lg font-semibold text-dark-100 mb-3 lg:mb-4",children:" "}),p?m.jsx("div",{className:"flex items-center justify-center py-8",children:m.jsx(No,{className:"w-6 h-6 text-dark-400 animate-spin"})}):f?m.jsxs("div",{className:"space-y-3 lg:space-y-4",children:[m.jsxs("div",{className:"flex items-center gap-3 lg:gap-4 p-3 lg:p-4 bg-dark-800/50 rounded-xl",children:[f.photoURL?m.jsx("img",{src:f.photoURL,alt:"",className:"w-10 h-10 lg:w-12 lg:h-12 rounded-full"}):m.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-full bg-violet-500/20 flex items-center justify-center",children:m.jsx(_C,{className:"w-5 h-5 lg:w-6 lg:h-6 text-violet-400"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"font-medium text-dark-100 text-sm lg:text-base truncate",children:f.displayName}),m.jsx("p",{className:"text-xs lg:text-sm text-dark-400 truncate",children:f.email})]}),m.jsxs("button",{onClick:Y,className:"btn btn-secondary text-xs lg:text-sm py-1.5 lg:py-2 px-2 lg:px-3",children:[m.jsx(PR,{className:"w-4 h-4"}),m.jsx("span",{className:"hidden sm:inline",children:""})]})]}),m.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 bg-emerald-500/10 rounded-xl border border-emerald-500/20",children:[m.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[r?m.jsx(No,{className:"w-4 h-4 lg:w-5 lg:h-5 text-emerald-400 animate-spin"}):m.jsx(dg,{className:"w-4 h-4 lg:w-5 lg:h-5 text-emerald-400"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm lg:text-base font-medium text-emerald-400",children:r?" ...":" "}),o&&m.jsxs("p",{className:"text-xs text-dark-400",children:[" : ",ce(o)]})]})]}),m.jsxs("button",{onClick:P,disabled:r,className:"btn bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30 text-xs lg:text-sm py-1.5 lg:py-2 px-2 lg:px-3",children:[m.jsx(No,{className:`w-4 h-4 ${r?"animate-spin":""}`}),m.jsx("span",{className:"hidden sm:inline",children:" "})]})]})]}):m.jsxs("div",{className:"space-y-3 lg:space-y-4",children:[m.jsxs("div",{className:"flex items-center gap-3 p-3 lg:p-4 bg-dark-800/50 rounded-xl",children:[m.jsx(_m,{className:"w-5 h-5 text-dark-400"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"text-sm lg:text-base font-medium text-dark-200",children:" "}),m.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:"Google        "})]})]}),C&&m.jsx("p",{className:"text-sm text-rose-400 px-1",children:C}),m.jsxs("button",{onClick:F,className:"w-full btn bg-white hover:bg-gray-100 text-gray-800 py-2.5 lg:py-3",children:[m.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[m.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),m.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),m.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),m.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google  "]})]})]}),m.jsxs("div",{className:"card !p-4 lg:!p-6",children:[m.jsx("h3",{className:"text-base lg:text-lg font-semibold text-dark-100 mb-3 lg:mb-4",children:" "}),m.jsxs("div",{className:"space-y-3 lg:space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 bg-dark-800/50 rounded-xl gap-3",children:[m.jsxs("div",{className:"min-w-0",children:[m.jsx("h4",{className:"font-medium text-dark-100 text-sm lg:text-base",children:" "}),m.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:"  JSON  "})]}),m.jsxs("button",{onClick:se,className:"btn btn-secondary text-xs lg:text-sm py-1.5 lg:py-2 px-2 lg:px-3 flex-shrink-0",children:[m.jsx(AR,{className:"w-4 h-4"}),m.jsx("span",{className:"hidden sm:inline",children:""})]})]}),m.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 bg-dark-800/50 rounded-xl gap-3",children:[m.jsxs("div",{className:"min-w-0",children:[m.jsx("h4",{className:"font-medium text-dark-100 text-sm lg:text-base",children:" "}),m.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:"   "})]}),m.jsxs("button",{onClick:L,className:"btn btn-secondary text-xs lg:text-sm py-1.5 lg:py-2 px-2 lg:px-3 flex-shrink-0",children:[m.jsx(pC,{className:"w-4 h-4"}),m.jsx("span",{className:"hidden sm:inline",children:""})]})]}),m.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 bg-dark-800/50 rounded-xl border border-rose-500/20 gap-3",children:[m.jsxs("div",{className:"min-w-0",children:[m.jsx("h4",{className:"font-medium text-dark-100 text-sm lg:text-base",children:" "}),m.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:"  "})]}),m.jsxs("button",{onClick:()=>A(!0),className:"btn bg-rose-500/20 text-rose-400 hover:bg-rose-500/30 text-xs lg:text-sm py-1.5 lg:py-2 px-2 lg:px-3 flex-shrink-0",children:[m.jsx(el,{className:"w-4 h-4"}),m.jsx("span",{className:"hidden sm:inline",children:""})]})]})]})]}),m.jsxs("div",{className:"card !p-4 lg:!p-6",children:[m.jsx("h3",{className:"text-base lg:text-lg font-semibold text-dark-100 mb-3 lg:mb-4",children:""}),m.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-2 lg:gap-4",children:[m.jsxs("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl",children:[m.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:" "}),m.jsxs("p",{className:"text-lg lg:text-2xl font-bold text-dark-100",children:[ie.totalTransactions,""]})]}),m.jsxs("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl",children:[m.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:" "}),m.jsxs("p",{className:"text-lg lg:text-2xl font-bold text-emerald-400",children:[ie.incomeCount,""]})]}),m.jsxs("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl",children:[m.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:" "}),m.jsxs("p",{className:"text-lg lg:text-2xl font-bold text-rose-400",children:[ie.expenseCount,""]})]}),m.jsxs("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl",children:[m.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:" "}),m.jsxs("p",{className:"text-lg lg:text-2xl font-bold text-blue-400",children:[ie.recurringCount,""]})]}),m.jsxs("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl",children:[m.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:""}),m.jsxs("p",{className:"text-lg lg:text-2xl font-bold text-amber-400",children:[ie.loansCount,""]})]}),m.jsxs("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl",children:[m.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:""}),m.jsxs("p",{className:"text-lg lg:text-2xl font-bold text-purple-400",children:[ie.eventsCount,""]})]})]})]}),T&&m.jsx("div",{className:"fixed inset-0 bg-dark-950/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"card w-full max-w-md text-center",children:[m.jsx("div",{className:"w-16 h-16 rounded-full bg-rose-500/20 flex items-center justify-center mx-auto mb-4",children:m.jsx(mC,{className:"w-8 h-8 text-rose-400"})}),m.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:" ?"}),m.jsxs("p",{className:"text-dark-400 mb-6",children:["    .",m.jsx("br",{}),"    ."]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:()=>A(!1),className:"btn btn-secondary flex-1",children:""}),m.jsx("button",{onClick:V,className:"btn bg-rose-500 hover:bg-rose-600 text-white flex-1",children:""})]})]})})]})}const $C=[{id:"timeline",icon:m.jsx(ol,{className:"w-5 h-5"}),title:"",description:"/ , ,       .",details:[{subtitle:" ",content:"  , ,       .     ,  ,  ."},{subtitle:" ",content:"12      .        ,        ."},{subtitle:" ",content:' ""        .'},{subtitle:" /",content:"     ,      ."}]},{id:"transactions",icon:m.jsx(Jx,{className:"w-5 h-5"}),title:"/",description:"     .",details:[{subtitle:" ",content:', ,        .    ""  "" .'},{subtitle:" ",content:" (, ,  )      ."},{subtitle:" ",content:'" ", "", ""    .       .'},{subtitle:"",content:" , ,  ,  , , , , ,       ."}]},{id:"events",icon:m.jsx(Uo,{className:"w-5 h-5"}),title:"",description:"     .",details:[{subtitle:" ",content:"(,  ), (, ), (, ), (, ), (, )    ."},{subtitle:" ",content:"      .     ."},{subtitle:" ",content:"7        ."},{subtitle:" ",content:" ,  ,         ."}]},{id:"loans",icon:m.jsx(Po,{className:"w-5 h-5"}),title:" ",description:"       .",details:[{subtitle:" ",content:` :     (+)
 :  ,   
 :  ,    `},{subtitle:" ",content:"    .          ."},{subtitle:" ",content:"        ."},{subtitle:"  ",content:"               ."}]},{id:"summary",icon:m.jsx(Zx,{className:"w-5 h-5"}),title:"",description:"     .",details:[{subtitle:" ",content:"   ,  ,     ."},{subtitle:" ",content:"            ."},{subtitle:" ",content:"    TOP 5   ."},{subtitle:"",content:"       ."}]},{id:"settings",icon:m.jsx(tb,{className:"w-5 h-5"}),title:"",description:" ,      .",details:[{subtitle:"Google  ",content:"Google         .    ."},{subtitle:" ",content:"  JSON     .    ."},{subtitle:" ",content:"  JSON     ."},{subtitle:" ",content:"     .      ."}]}],ZC=[{icon:m.jsx(Wx,{className:"w-4 h-4"}),title:"  ",content:", ,           ."},{icon:m.jsx(Nh,{className:"w-4 h-4"}),title:"  ",content:"         ."},{icon:m.jsx(wh,{className:"w-4 h-4"}),title:"  ",content:", ,            ."},{icon:m.jsx(dg,{className:"w-4 h-4"}),title:" ",content:"Google         ."},{icon:m.jsx(rC,{className:"w-4 h-4"}),title:"  ",content:'   "  "     .'}];function JC(){const[i,e]=J.useState("timeline"),s=r=>{e(i===r?null:r)};return m.jsxs("div",{className:"max-w-2xl space-y-4 lg:space-y-6",children:[m.jsxs("div",{className:"card !p-4 lg:!p-6",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-500/20 flex items-center justify-center",children:m.jsx(hg,{className:"w-5 h-5 text-violet-400"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-lg font-bold text-dark-100",children:"  "}),m.jsx("p",{className:"text-sm text-dark-400",children:"   "})]})]}),m.jsx("p",{className:"text-sm text-dark-300 leading-relaxed",children:" , , ,              ."})]}),m.jsxs("div",{className:"card !p-0 overflow-hidden",children:[m.jsx("h3",{className:"text-base lg:text-lg font-semibold text-dark-100 p-4 lg:p-6 pb-2 lg:pb-3",children:" "}),m.jsx("div",{className:"divide-y divide-dark-800",children:$C.map(r=>m.jsxs("div",{children:[m.jsxs("button",{onClick:()=>s(r.id),className:"w-full flex items-center gap-3 p-4 lg:p-5 hover:bg-dark-800/50 transition-colors text-left",children:[m.jsx("div",{className:"w-10 h-10 rounded-xl bg-dark-800 flex items-center justify-center text-dark-300 flex-shrink-0",children:r.icon}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h4",{className:"font-medium text-dark-100 text-sm lg:text-base",children:r.title}),m.jsx("p",{className:"text-xs lg:text-sm text-dark-400 truncate",children:r.description})]}),i===r.id?m.jsx(Kx,{className:"w-5 h-5 text-dark-400 flex-shrink-0"}):m.jsx(Qx,{className:"w-5 h-5 text-dark-400 flex-shrink-0"})]}),i===r.id&&m.jsx("div",{className:"px-4 lg:px-5 pb-4 lg:pb-5 space-y-3",children:r.details.map((o,u)=>m.jsxs("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl",children:[m.jsx("h5",{className:"font-medium text-violet-400 text-sm mb-1.5",children:o.subtitle}),m.jsx("p",{className:"text-xs lg:text-sm text-dark-300 whitespace-pre-line leading-relaxed",children:o.content})]},u))})]},r.id))})]}),m.jsxs("div",{className:"card !p-4 lg:!p-6",children:[m.jsx("h3",{className:"text-base lg:text-lg font-semibold text-dark-100 mb-3 lg:mb-4",children:"  "}),m.jsx("div",{className:"space-y-2 lg:space-y-3",children:ZC.map((r,o)=>m.jsxs("div",{className:"flex items-start gap-3 p-3 bg-dark-800/50 rounded-xl",children:[m.jsx("div",{className:"w-8 h-8 rounded-lg bg-amber-500/20 flex items-center justify-center text-amber-400 flex-shrink-0",children:r.icon}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium text-dark-100 text-sm mb-0.5",children:r.title}),m.jsx("p",{className:"text-xs text-dark-400",children:r.content})]})]},o))})]}),m.jsxs("div",{className:"card !p-4 lg:!p-6 bg-gradient-to-br from-violet-500/10 to-purple-500/10 border-violet-500/20",children:[m.jsx("p",{className:"text-sm text-dark-300 text-center",children:"    "}),m.jsx("p",{className:"text-xs text-dark-500 text-center mt-2",children:"Made by "})]})]})}const Sv="plan-my-life-offline-mode",WC={timeline:"",transactions:"/ ",events:" ",loans:" ",summary:"",settings:"",help:""};function e3(){const[i,e]=J.useState("timeline"),[s,r]=J.useState(!1),{setCurrentDate:o}=Ln(),u=()=>{switch(i){case"timeline":return m.jsx(Ev,{});case"transactions":return m.jsx(HC,{});case"events":return m.jsx(FC,{});case"loans":return m.jsx(YC,{});case"summary":return m.jsx(QC,{});case"settings":return m.jsx(XC,{});case"help":return m.jsx(JC,{});default:return m.jsx(Ev,{})}},f=()=>{const _=new Date;o(_.getFullYear(),_.getMonth()+1),window.scrollTo({top:0,behavior:"smooth"})},p=i==="timeline";return m.jsxs("div",{className:"min-h-screen bg-dark-950",children:[m.jsx(wC,{activeTab:i,onTabChange:e,isOpen:s,onClose:()=>r(!1)}),m.jsxs("main",{className:"lg:ml-64 min-h-screen",children:[m.jsx(NC,{title:WC[i],onTodayClick:f,showTodayButton:p,onMenuClick:()=>r(!0)}),m.jsx("div",{className:"p-4 lg:p-6",children:u()})]})]})}function t3(){const{user:i,loading:e}=Ah(),[s,r]=J.useState(null);J.useEffect(()=>{const u=localStorage.getItem(Sv);r(u==="true")},[]);const o=()=>{localStorage.setItem(Sv,"true"),r(!0)};return e||s===null?m.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:m.jsx("div",{className:"w-8 h-8 border-2 border-violet-500 border-t-transparent rounded-full animate-spin"})}):!i&&!s?m.jsx(RC,{onContinueOffline:o}):m.jsx(aR,{children:m.jsx(e3,{})})}function n3(){return m.jsx(eR,{children:m.jsx(t3,{})})}FE.createRoot(document.getElementById("root")).render(m.jsx(J.StrictMode,{children:m.jsx(n3,{})}));
