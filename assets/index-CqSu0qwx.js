(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const m of u.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function s(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=s(o);fetch(o.href,u)}})();var Df={exports:{}},go={};var zy;function BE(){if(zy)return go;zy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(r,o,u){var m=null;if(u!==void 0&&(m=""+u),o.key!==void 0&&(m=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:i,type:r,key:m,ref:o!==void 0?o:null,props:u}}return go.Fragment=e,go.jsx=s,go.jsxs=s,go}var By;function qE(){return By||(By=1,Df.exports=BE()),Df.exports}var d=qE(),Mf={exports:{}},Ce={};var qy;function HE(){if(qy)return Ce;qy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),N=Symbol.iterator;function B(D){return D===null||typeof D!="object"?null:(D=N&&D[N]||D["@@iterator"],typeof D=="function"?D:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,z={};function ie(D,W,de){this.props=D,this.context=W,this.refs=z,this.updater=de||Z}ie.prototype.isReactComponent={},ie.prototype.setState=function(D,W){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,W,"setState")},ie.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function j(){}j.prototype=ie.prototype;function M(D,W,de){this.props=D,this.context=W,this.refs=z,this.updater=de||Z}var re=M.prototype=new j;re.constructor=M,Y(re,ie.prototype),re.isPureReactComponent=!0;var X=Array.isArray;function ae(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(D,W,de){var fe=de.ref;return{$$typeof:i,type:D,key:W,ref:fe!==void 0?fe:null,props:de}}function V(D,W){return R(D.type,W,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function L(D){var W={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(de){return W[de]})}var C=/\/+/g;function oe(D,W){return typeof D=="object"&&D!==null&&D.key!=null?L(""+D.key):W.toString(36)}function ue(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(ae,ae):(D.status="pending",D.then(function(W){D.status==="pending"&&(D.status="fulfilled",D.value=W)},function(W){D.status==="pending"&&(D.status="rejected",D.reason=W)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function P(D,W,de,fe,ve){var Ne=typeof D;(Ne==="undefined"||Ne==="boolean")&&(D=null);var qe=!1;if(D===null)qe=!0;else switch(Ne){case"bigint":case"string":case"number":qe=!0;break;case"object":switch(D.$$typeof){case i:case e:qe=!0;break;case E:return qe=D._init,P(qe(D._payload),W,de,fe,ve)}}if(qe)return ve=ve(D),qe=fe===""?"."+oe(D,0):fe,X(ve)?(de="",qe!=null&&(de=qe.replace(C,"$&/")+"/"),P(ve,W,de,"",function(ta){return ta})):ve!=null&&(w(ve)&&(ve=V(ve,de+(ve.key==null||D&&D.key===ve.key?"":(""+ve.key).replace(C,"$&/")+"/")+qe)),W.push(ve)),1;qe=0;var Rt=fe===""?".":fe+":";if(X(D))for(var rt=0;rt<D.length;rt++)fe=D[rt],Ne=Rt+oe(fe,rt),qe+=P(fe,W,de,Ne,ve);else if(rt=B(D),typeof rt=="function")for(D=rt.call(D),rt=0;!(fe=D.next()).done;)fe=fe.value,Ne=Rt+oe(fe,rt++),qe+=P(fe,W,de,Ne,ve);else if(Ne==="object"){if(typeof D.then=="function")return P(ue(D),W,de,fe,ve);throw W=String(D),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return qe}function te(D,W,de){if(D==null)return D;var fe=[],ve=0;return P(D,fe,"","",function(Ne){return W.call(de,Ne,ve++)}),fe}function he(D){if(D._status===-1){var W=D._result;W=W(),W.then(function(de){(D._status===0||D._status===-1)&&(D._status=1,D._result=de)},function(de){(D._status===0||D._status===-1)&&(D._status=2,D._result=de)}),D._status===-1&&(D._status=0,D._result=W)}if(D._status===1)return D._result.default;throw D._result}var xe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},je={map:te,forEach:function(D,W,de){te(D,function(){W.apply(this,arguments)},de)},count:function(D){var W=0;return te(D,function(){W++}),W},toArray:function(D){return te(D,function(W){return W})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Ce.Activity=T,Ce.Children=je,Ce.Component=ie,Ce.Fragment=s,Ce.Profiler=o,Ce.PureComponent=M,Ce.StrictMode=r,Ce.Suspense=x,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(D){return I.H.useMemoCache(D)}},Ce.cache=function(D){return function(){return D.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(D,W,de){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var fe=Y({},D.props),ve=D.key;if(W!=null)for(Ne in W.key!==void 0&&(ve=""+W.key),W)!A.call(W,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&W.ref===void 0||(fe[Ne]=W[Ne]);var Ne=arguments.length-2;if(Ne===1)fe.children=de;else if(1<Ne){for(var qe=Array(Ne),Rt=0;Rt<Ne;Rt++)qe[Rt]=arguments[Rt+2];fe.children=qe}return R(D.type,ve,fe)},Ce.createContext=function(D){return D={$$typeof:m,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Ce.createElement=function(D,W,de){var fe,ve={},Ne=null;if(W!=null)for(fe in W.key!==void 0&&(Ne=""+W.key),W)A.call(W,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(ve[fe]=W[fe]);var qe=arguments.length-2;if(qe===1)ve.children=de;else if(1<qe){for(var Rt=Array(qe),rt=0;rt<qe;rt++)Rt[rt]=arguments[rt+2];ve.children=Rt}if(D&&D.defaultProps)for(fe in qe=D.defaultProps,qe)ve[fe]===void 0&&(ve[fe]=qe[fe]);return R(D,Ne,ve)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(D){return{$$typeof:p,render:D}},Ce.isValidElement=w,Ce.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:he}},Ce.memo=function(D,W){return{$$typeof:_,type:D,compare:W===void 0?null:W}},Ce.startTransition=function(D){var W=I.T,de={};I.T=de;try{var fe=D(),ve=I.S;ve!==null&&ve(de,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(ae,xe)}catch(Ne){xe(Ne)}finally{W!==null&&de.types!==null&&(W.types=de.types),I.T=W}},Ce.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ce.use=function(D){return I.H.use(D)},Ce.useActionState=function(D,W,de){return I.H.useActionState(D,W,de)},Ce.useCallback=function(D,W){return I.H.useCallback(D,W)},Ce.useContext=function(D){return I.H.useContext(D)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(D,W){return I.H.useDeferredValue(D,W)},Ce.useEffect=function(D,W){return I.H.useEffect(D,W)},Ce.useEffectEvent=function(D){return I.H.useEffectEvent(D)},Ce.useId=function(){return I.H.useId()},Ce.useImperativeHandle=function(D,W,de){return I.H.useImperativeHandle(D,W,de)},Ce.useInsertionEffect=function(D,W){return I.H.useInsertionEffect(D,W)},Ce.useLayoutEffect=function(D,W){return I.H.useLayoutEffect(D,W)},Ce.useMemo=function(D,W){return I.H.useMemo(D,W)},Ce.useOptimistic=function(D,W){return I.H.useOptimistic(D,W)},Ce.useReducer=function(D,W,de){return I.H.useReducer(D,W,de)},Ce.useRef=function(D){return I.H.useRef(D)},Ce.useState=function(D){return I.H.useState(D)},Ce.useSyncExternalStore=function(D,W,de){return I.H.useSyncExternalStore(D,W,de)},Ce.useTransition=function(){return I.H.useTransition()},Ce.version="19.2.1",Ce}var Hy;function Nm(){return Hy||(Hy=1,Mf.exports=HE()),Mf.exports}var $=Nm(),Of={exports:{}},po={},Vf={exports:{}},Lf={};var Fy;function FE(){return Fy||(Fy=1,(function(i){function e(P,te){var he=P.length;P.push(te);e:for(;0<he;){var xe=he-1>>>1,je=P[xe];if(0<o(je,te))P[xe]=te,P[he]=je,he=xe;else break e}}function s(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var te=P[0],he=P.pop();if(he!==te){P[0]=he;e:for(var xe=0,je=P.length,D=je>>>1;xe<D;){var W=2*(xe+1)-1,de=P[W],fe=W+1,ve=P[fe];if(0>o(de,he))fe<je&&0>o(ve,de)?(P[xe]=ve,P[fe]=he,xe=fe):(P[xe]=de,P[W]=he,xe=W);else if(fe<je&&0>o(ve,he))P[xe]=ve,P[fe]=he,xe=fe;else break e}}return te}function o(P,te){var he=P.sortIndex-te.sortIndex;return he!==0?he:P.id-te.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var m=Date,p=m.now();i.unstable_now=function(){return m.now()-p}}var x=[],_=[],E=1,T=null,N=3,B=!1,Z=!1,Y=!1,z=!1,ie=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function re(P){for(var te=s(_);te!==null;){if(te.callback===null)r(_);else if(te.startTime<=P)r(_),te.sortIndex=te.expirationTime,e(x,te);else break;te=s(_)}}function X(P){if(Y=!1,re(P),!Z)if(s(x)!==null)Z=!0,ae||(ae=!0,L());else{var te=s(_);te!==null&&ue(X,te.startTime-P)}}var ae=!1,I=-1,A=5,R=-1;function V(){return z?!0:!(i.unstable_now()-R<A)}function w(){if(z=!1,ae){var P=i.unstable_now();R=P;var te=!0;try{e:{Z=!1,Y&&(Y=!1,j(I),I=-1),B=!0;var he=N;try{t:{for(re(P),T=s(x);T!==null&&!(T.expirationTime>P&&V());){var xe=T.callback;if(typeof xe=="function"){T.callback=null,N=T.priorityLevel;var je=xe(T.expirationTime<=P);if(P=i.unstable_now(),typeof je=="function"){T.callback=je,re(P),te=!0;break t}T===s(x)&&r(x),re(P)}else r(x);T=s(x)}if(T!==null)te=!0;else{var D=s(_);D!==null&&ue(X,D.startTime-P),te=!1}}break e}finally{T=null,N=he,B=!1}te=void 0}}finally{te?L():ae=!1}}}var L;if(typeof M=="function")L=function(){M(w)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,oe=C.port2;C.port1.onmessage=w,L=function(){oe.postMessage(null)}}else L=function(){ie(w,0)};function ue(P,te){I=ie(function(){P(i.unstable_now())},te)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(P){P.callback=null},i.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<P?Math.floor(1e3/P):5},i.unstable_getCurrentPriorityLevel=function(){return N},i.unstable_next=function(P){switch(N){case 1:case 2:case 3:var te=3;break;default:te=N}var he=N;N=te;try{return P()}finally{N=he}},i.unstable_requestPaint=function(){z=!0},i.unstable_runWithPriority=function(P,te){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var he=N;N=P;try{return te()}finally{N=he}},i.unstable_scheduleCallback=function(P,te,he){var xe=i.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?xe+he:xe):he=xe,P){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=he+je,P={id:E++,callback:te,priorityLevel:P,startTime:he,expirationTime:je,sortIndex:-1},he>xe?(P.sortIndex=he,e(_,P),s(x)===null&&P===s(_)&&(Y?(j(I),I=-1):Y=!0,ue(X,he-xe))):(P.sortIndex=je,e(x,P),Z||B||(Z=!0,ae||(ae=!0,L()))),P},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(P){var te=N;return function(){var he=N;N=te;try{return P.apply(this,arguments)}finally{N=he}}}})(Lf)),Lf}var Gy;function GE(){return Gy||(Gy=1,Vf.exports=FE()),Vf.exports}var Uf={exports:{}},$t={};var Yy;function YE(){if(Yy)return $t;Yy=1;var i=Nm();function e(x){var _="https://react.dev/errors/"+x;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+x+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(x,_,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:x,containerInfo:_,implementation:E}}var m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(x,_){if(x==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$t.createPortal=function(x,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(x,_,null,E)},$t.flushSync=function(x){var _=m.T,E=r.p;try{if(m.T=null,r.p=2,x)return x()}finally{m.T=_,r.p=E,r.d.f()}},$t.preconnect=function(x,_){typeof x=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(x,_))},$t.prefetchDNS=function(x){typeof x=="string"&&r.d.D(x)},$t.preinit=function(x,_){if(typeof x=="string"&&_&&typeof _.as=="string"){var E=_.as,T=p(E,_.crossOrigin),N=typeof _.integrity=="string"?_.integrity:void 0,B=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?r.d.S(x,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:T,integrity:N,fetchPriority:B}):E==="script"&&r.d.X(x,{crossOrigin:T,integrity:N,fetchPriority:B,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},$t.preinitModule=function(x,_){if(typeof x=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=p(_.as,_.crossOrigin);r.d.M(x,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(x)},$t.preload=function(x,_){if(typeof x=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,T=p(E,_.crossOrigin);r.d.L(x,E,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},$t.preloadModule=function(x,_){if(typeof x=="string")if(_){var E=p(_.as,_.crossOrigin);r.d.m(x,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(x)},$t.requestFormReset=function(x){r.d.r(x)},$t.unstable_batchedUpdates=function(x,_){return x(_)},$t.useFormState=function(x,_,E){return m.H.useFormState(x,_,E)},$t.useFormStatus=function(){return m.H.useHostTransitionStatus()},$t.version="19.2.1",$t}var Qy;function QE(){if(Qy)return Uf.exports;Qy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Uf.exports=YE(),Uf.exports}var Ky;function KE(){if(Ky)return po;Ky=1;var i=GE(),e=Nm(),s=QE();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function m(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function x(t){if(u(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return x(h),t;if(f===l)return x(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=f;else{for(var y=!1,b=h.child;b;){if(b===a){y=!0,a=h,l=f;break}if(b===l){y=!0,l=h,a=f;break}b=b.sibling}if(!y){for(b=f.child;b;){if(b===a){y=!0,a=f,l=h;break}if(b===l){y=!0,l=f,a=h;break}b=b.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var T=Object.assign,N=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),M=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),w=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=w&&t[w]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function oe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case ie:return"Profiler";case z:return"StrictMode";case X:return"Suspense";case ae:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case M:return t.displayName||"Context";case j:return(t._context.displayName||"Context")+".Consumer";case re:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:oe(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return oe(t(n))}catch{}}return null}var ue=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},xe=[],je=-1;function D(t){return{current:t}}function W(t){0>je||(t.current=xe[je],xe[je]=null,je--)}function de(t,n){je++,xe[je]=t.current,t.current=n}var fe=D(null),ve=D(null),Ne=D(null),qe=D(null);function Rt(t,n){switch(de(Ne,n),de(ve,t),de(fe,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?cy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=cy(n),t=uy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(fe),de(fe,t)}function rt(){W(fe),W(ve),W(Ne)}function ta(t){t.memoizedState!==null&&de(qe,t);var n=fe.current,a=uy(n,t.type);n!==a&&(de(ve,t),de(fe,a))}function $a(t){ve.current===t&&(W(fe),W(ve)),qe.current===t&&(W(qe),uo._currentValue=he)}var Xa,Za;function es(t){if(Xa===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Xa=n&&n[1]||"",Za=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xa+t+Za}var ul=!1;function na(t,n){if(!t||ul)return"";ul=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(K){var G=K}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(K){G=K}t.call(ne.prototype)}}else{try{throw Error()}catch(K){G=K}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],b=f[1];if(y&&b){var k=y.split(`
`),F=b.split(`
`);for(h=l=0;l<k.length&&!k[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===k.length||h===F.length)for(l=k.length-1,h=F.length-1;1<=l&&0<=h&&k[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(k[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||k[l]!==F[h]){var J=`
`+k[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=h);break}}}finally{ul=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?es(a):""}function hl(t,n){switch(t.tag){case 26:case 27:case 5:return es(t.type);case 16:return es("Lazy");case 13:return t.child!==n&&n!==null?es("Suspense Fallback"):es("Suspense");case 19:return es("SuspenseList");case 0:case 15:return na(t.type,!1);case 11:return na(t.type.render,!1);case 1:return na(t.type,!0);case 31:return es("Activity");default:return""}}function dl(t){try{var n="",a=null;do n+=hl(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var xt=Object.prototype.hasOwnProperty,It=i.unstable_scheduleCallback,ai=i.unstable_cancelCallback,Mh=i.unstable_shouldYield,ec=i.unstable_requestPaint,en=i.unstable_now,sa=i.unstable_getCurrentPriorityLevel,fl=i.unstable_ImmediatePriority,ml=i.unstable_UserBlockingPriority,ri=i.unstable_NormalPriority,Oh=i.unstable_LowPriority,tc=i.unstable_IdlePriority,nc=i.log,sc=i.unstable_setDisableYieldValue,Un=null,Pt=null;function En(t){if(typeof nc=="function"&&sc(t),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(Un,t)}catch{}}var ft=Math.clz32?Math.clz32:ac,ic=Math.log,Ja=Math.LN2;function ac(t){return t>>>=0,t===0?32:31-(ic(t)/Ja|0)|0}var ts=256,ia=262144,_t=4194304;function ns(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ss(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~f,l!==0?h=ns(l):(y&=b,y!==0?h=ns(y):a||(a=b&~t,a!==0&&(h=ns(a))))):(b=l&~f,b!==0?h=ns(b):y!==0?h=ns(y):a||(a=l&~t,a!==0&&(h=ns(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Pn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Vh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rc(){var t=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),t}function is(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function aa(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Lh(t,n,a,l,h,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,k=t.expirationTimes,F=t.hiddenUpdates;for(a=y&~a;0<a;){var J=31-ft(a),ne=1<<J;b[J]=0,k[J]=-1;var G=F[J];if(G!==null)for(F[J]=null,J=0;J<G.length;J++){var K=G[J];K!==null&&(K.lane&=-536870913)}a&=~ne}l!==0&&ra(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function ra(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ft(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function gl(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-ft(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function pl(t,n){var a=n&-n;return a=(a&42)!==0?1:la(a),(a&(t.suspendedLanes|n))!==0?0:a}function la(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ks(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function lc(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:Dy(t.type))}function zn(t,n){var a=te.p;try{return te.p=t,n()}finally{te.p=a}}var Bn=Math.random().toString(36).slice(2),vt="__reactFiber$"+Bn,Mt="__reactProps$"+Bn,as="__reactContainer$"+Bn,Wa="__reactEvents$"+Bn,Uh="__reactListeners$"+Bn,oc="__reactHandles$"+Bn,cc="__reactResources$"+Bn,rs="__reactMarker$"+Bn;function er(t){delete t[vt],delete t[Mt],delete t[Wa],delete t[Uh],delete t[oc]}function ls(t){var n=t[vt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[as]||a[vt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=yy(t);t!==null;){if(a=t[vt])return a;t=yy(t)}return n}t=a,a=t.parentNode}return null}function Tn(t){if(t=t[vt]||t[as]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function fn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function os(t){var n=t[cc];return n||(n=t[cc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function bt(t){t[rs]=!0}var yl=new Set,xl={};function cs(t,n){us(t,n),us(t+"Capture",n)}function us(t,n){for(xl[t]=n,t=0;t<n.length;t++)yl.add(n[t])}var _l=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vl={},bl={};function uc(t){return xt.call(bl,t)?!0:xt.call(vl,t)?!1:_l.test(t)?bl[t]=!0:(vl[t]=!0,!1)}function tr(t,n,a){if(uc(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function mn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Et(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Ot(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function li(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function El(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function $e(t){if(!t._valueTracker){var n=li(t)?"checked":"value";t._valueTracker=El(t,n,""+t[n])}}function oa(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=li(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function hs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ca=/[\n"\\]/g;function sn(t){return t.replace(ca,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function nr(t,n,a,l,h,f,y,b){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ot(n)):t.value!==""+Ot(n)&&(t.value=""+Ot(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Tl(t,y,Ot(n)):a!=null?Tl(t,y,Ot(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Ot(b):t.removeAttribute("name")}function hc(t,n,a,l,h,f,y,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){$e(t);return}a=a!=null?""+Ot(a):"",n=n!=null?""+Ot(n):a,b||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),$e(t)}function Tl(t,n,a){n==="number"&&hs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function oi(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ot(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function dc(t,n,a){if(n!=null&&(n=""+Ot(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ot(a):""}function ci(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(ue(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ot(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),$e(t)}function an(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var fc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||fc.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Al(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Sl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Sl(t,f,n[f])}function sr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ui=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ir(t){return ui.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function qn(){}var Nl=null;function Sn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hi=null,ds=null;function ua(t){var n=Tn(t);if(n&&(t=n.stateNode)){var a=t[Mt]||null;e:switch(t=n.stateNode,n.type){case"input":if(nr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[Mt]||null;if(!h)throw Error(r(90));nr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&oa(l)}break e;case"textarea":dc(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&oi(t,!!a.multiple,n,!1)}}}var ar=!1;function di(t,n,a){if(ar)return t(n,a);ar=!0;try{var l=t(n);return l}finally{if(ar=!1,(hi!==null||ds!==null)&&(lu(),hi&&(n=hi,t=ds,ds=hi=null,ua(n),t)))for(n=0;n<t.length;n++)ua(t[n])}}function Hn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Mt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ha=!1;if(An)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){ha=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{ha=!1}var fs=null,wl=null,da=null;function Cl(){if(da)return da;var t,n=wl,a=n.length,l,h="value"in fs?fs.value:fs.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===h[f-l];l++);return da=h.slice(t,1<l?1-l:void 0)}function fa(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function js(){return!0}function Fn(){return!1}function zt(t){function n(a,l,h,f,y){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?js:Fn,this.isPropagationStopped=Fn,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=js)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=js)},persist:function(){},isPersistent:js}),n}var Ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ms=zt(Ds),fi=T({},Ds,{view:0,detail:0}),Rl=zt(fi),mi,rr,gs,lr=T({},fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gs&&(gs&&t.type==="mousemove"?(mi=t.screenX-gs.screenX,rr=t.screenY-gs.screenY):rr=mi=0,gs=t),mi)},movementY:function(t){return"movementY"in t?t.movementY:rr}}),Il=zt(lr),ma=T({},lr,{dataTransfer:0}),gc=zt(ma),pc=T({},fi,{relatedTarget:0}),ga=zt(pc),kl=T({},Ds,{animationName:0,elapsedTime:0,pseudoElement:0}),yc=zt(kl),or=T({},Ds,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xc=zt(or),_c=T({},Ds,{data:0}),ps=zt(_c),vc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ec={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tc(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ec[t])?!!n[t]:!1}function gi(){return Tc}var tn=T({},fi,{key:function(t){if(t.key){var n=vc[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=fa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gi,charCode:function(t){return t.type==="keypress"?fa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Sc=zt(tn),Ac=T({},lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ms=zt(Ac),c=T({},fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gi}),g=zt(c),v=T({},Ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=zt(v),q=T({},lr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=zt(q),ce=T({},Ds,{newState:0,oldState:0}),Ie=zt(ce),mt=[9,13,27,32],Ye=An&&"CompositionEvent"in window,lt=null;An&&"documentMode"in document&&(lt=document.documentMode);var Nn=An&&"TextEvent"in window&&!lt,ys=An&&(!Ye||lt&&8<lt&&11>=lt),Gn=" ",Yn=!1;function pa(t,n){switch(t){case"keyup":return mt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ur=!1;function hb(t,n){switch(t){case"compositionend":return cr(n);case"keypress":return n.which!==32?null:(Yn=!0,Gn);case"textInput":return t=n.data,t===Gn&&Yn?null:t;default:return null}}function db(t,n){if(ur)return t==="compositionend"||!Ye&&pa(t,n)?(t=Cl(),da=wl=fs=null,ur=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ys&&n.locale!=="ko"?null:n.data;default:return null}}var fb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!fb[t.type]:n==="textarea"}function bg(t,n,a,l){hi?ds?ds.push(l):ds=[l]:hi=l,n=mu(n,"onChange"),0<n.length&&(a=new ms("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var jl=null,Dl=null;function mb(t){sy(t,0)}function Nc(t){var n=fn(t);if(oa(n))return t}function Eg(t,n){if(t==="change")return n}var Tg=!1;if(An){var Ph;if(An){var zh="oninput"in document;if(!zh){var Sg=document.createElement("div");Sg.setAttribute("oninput","return;"),zh=typeof Sg.oninput=="function"}Ph=zh}else Ph=!1;Tg=Ph&&(!document.documentMode||9<document.documentMode)}function Ag(){jl&&(jl.detachEvent("onpropertychange",Ng),Dl=jl=null)}function Ng(t){if(t.propertyName==="value"&&Nc(Dl)){var n=[];bg(n,Dl,t,Sn(t)),di(mb,n)}}function gb(t,n,a){t==="focusin"?(Ag(),jl=n,Dl=a,jl.attachEvent("onpropertychange",Ng)):t==="focusout"&&Ag()}function pb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nc(Dl)}function yb(t,n){if(t==="click")return Nc(n)}function xb(t,n){if(t==="input"||t==="change")return Nc(n)}function _b(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var gn=typeof Object.is=="function"?Object.is:_b;function Ml(t,n){if(gn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!xt.call(n,h)||!gn(t[h],n[h]))return!1}return!0}function wg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cg(t,n){var a=wg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=wg(a)}}function Rg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Rg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ig(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=hs(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=hs(t.document)}return n}function Bh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var vb=An&&"documentMode"in document&&11>=document.documentMode,hr=null,qh=null,Ol=null,Hh=!1;function kg(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Hh||hr==null||hr!==hs(l)||(l=hr,"selectionStart"in l&&Bh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ol&&Ml(Ol,l)||(Ol=l,l=mu(qh,"onSelect"),0<l.length&&(n=new ms("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=hr)))}function ya(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var dr={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionrun:ya("Transition","TransitionRun"),transitionstart:ya("Transition","TransitionStart"),transitioncancel:ya("Transition","TransitionCancel"),transitionend:ya("Transition","TransitionEnd")},Fh={},jg={};An&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);function xa(t){if(Fh[t])return Fh[t];if(!dr[t])return t;var n=dr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in jg)return Fh[t]=n[a];return t}var Dg=xa("animationend"),Mg=xa("animationiteration"),Og=xa("animationstart"),bb=xa("transitionrun"),Eb=xa("transitionstart"),Tb=xa("transitioncancel"),Vg=xa("transitionend"),Lg=new Map,Gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gh.push("scrollEnd");function Qn(t,n){Lg.set(t,n),cs(n,[t])}var wc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},wn=[],fr=0,Yh=0;function Cc(){for(var t=fr,n=Yh=fr=0;n<t;){var a=wn[n];wn[n++]=null;var l=wn[n];wn[n++]=null;var h=wn[n];wn[n++]=null;var f=wn[n];if(wn[n++]=null,l!==null&&h!==null){var y=l.pending;y===null?h.next=h:(h.next=y.next,y.next=h),l.pending=h}f!==0&&Ug(a,h,f)}}function Rc(t,n,a,l){wn[fr++]=t,wn[fr++]=n,wn[fr++]=a,wn[fr++]=l,Yh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Qh(t,n,a,l){return Rc(t,n,a,l),Ic(t)}function _a(t,n){return Rc(t,null,null,n),Ic(t)}function Ug(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-ft(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function Ic(t){if(50<so)throw so=0,nf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var mr={};function Sb(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,n,a,l){return new Sb(t,n,a,l)}function Kh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Os(t,n){var a=t.alternate;return a===null?(a=pn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Pg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function kc(t,n,a,l,h,f){var y=0;if(l=t,typeof t=="function")Kh(t)&&(y=1);else if(typeof t=="string")y=RE(t,a,fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=pn(31,a,n,h),t.elementType=R,t.lanes=f,t;case Y:return va(a.children,h,f,n);case z:y=8,h|=24;break;case ie:return t=pn(12,a,n,h|2),t.elementType=ie,t.lanes=f,t;case X:return t=pn(13,a,n,h),t.elementType=X,t.lanes=f,t;case ae:return t=pn(19,a,n,h),t.elementType=ae,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case M:y=10;break e;case j:y=9;break e;case re:y=11;break e;case I:y=14;break e;case A:y=16,l=null;break e}y=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=pn(y,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function va(t,n,a,l){return t=pn(7,t,l,n),t.lanes=a,t}function $h(t,n,a){return t=pn(6,t,null,n),t.lanes=a,t}function zg(t){var n=pn(18,null,null,0);return n.stateNode=t,n}function Xh(t,n,a){return n=pn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Bg=new WeakMap;function Cn(t,n){if(typeof t=="object"&&t!==null){var a=Bg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:dl(n)},Bg.set(t,n),n)}return{value:t,source:n,stack:dl(n)}}var gr=[],pr=0,jc=null,Vl=0,Rn=[],In=0,pi=null,xs=1,_s="";function Vs(t,n){gr[pr++]=Vl,gr[pr++]=jc,jc=t,Vl=n}function qg(t,n,a){Rn[In++]=xs,Rn[In++]=_s,Rn[In++]=pi,pi=t;var l=xs;t=_s;var h=32-ft(l)-1;l&=~(1<<h),a+=1;var f=32-ft(n)+h;if(30<f){var y=h-h%5;f=(l&(1<<y)-1).toString(32),l>>=y,h-=y,xs=1<<32-ft(n)+h|a<<h|l,_s=f+t}else xs=1<<f|a<<h|l,_s=t}function Zh(t){t.return!==null&&(Vs(t,1),qg(t,1,0))}function Jh(t){for(;t===jc;)jc=gr[--pr],gr[pr]=null,Vl=gr[--pr],gr[pr]=null;for(;t===pi;)pi=Rn[--In],Rn[In]=null,_s=Rn[--In],Rn[In]=null,xs=Rn[--In],Rn[In]=null}function Hg(t,n){Rn[In++]=xs,Rn[In++]=_s,Rn[In++]=pi,xs=n.id,_s=n.overflow,pi=t}var Bt=null,st=null,Be=!1,yi=null,kn=!1,Wh=Error(r(519));function xi(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ll(Cn(n,t)),Wh}function Fg(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[vt]=t,n[Mt]=l,a){case"dialog":Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":case"embed":Oe("load",n);break;case"video":case"audio":for(a=0;a<ao.length;a++)Oe(ao[a],n);break;case"source":Oe("error",n);break;case"img":case"image":case"link":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"input":Oe("invalid",n),hc(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",n);break;case"textarea":Oe("invalid",n),ci(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||ly(n.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",n),Oe("toggle",n)),l.onScroll!=null&&Oe("scroll",n),l.onScrollEnd!=null&&Oe("scrollend",n),l.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||xi(t,!0)}function Gg(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:Bt=Bt.return}}function yr(t){if(t!==Bt)return!1;if(!Be)return Gg(t),Be=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||xf(t.type,t.memoizedProps)),a=!a),a&&st&&xi(t),Gg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));st=py(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));st=py(t)}else n===27?(n=st,ji(t.type)?(t=Tf,Tf=null,st=t):st=n):st=Bt?Dn(t.stateNode.nextSibling):null;return!0}function ba(){st=Bt=null,Be=!1}function ed(){var t=yi;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),yi=null),t}function Ll(t){yi===null?yi=[t]:yi.push(t)}var td=D(null),Ea=null,Ls=null;function _i(t,n,a){de(td,n._currentValue),n._currentValue=a}function Us(t){t._currentValue=td.current,W(td)}function nd(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function sd(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=h;for(var k=0;k<n.length;k++)if(b.context===n[k]){f.lanes|=a,b=f.alternate,b!==null&&(b.lanes|=a),nd(f.return,a,t),l||(y=null);break e}f=b.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),nd(y,a,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function xr(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var b=h.type;gn(h.pendingProps.value,y.value)||(t!==null?t.push(b):t=[b])}}else if(h===qe.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(uo):t=[uo])}h=h.return}t!==null&&sd(n,t,a,l),n.flags|=262144}function Dc(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ta(t){Ea=t,Ls=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return Yg(Ea,t)}function Mc(t,n){return Ea===null&&Ta(t),Yg(t,n)}function Yg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ls===null){if(t===null)throw Error(r(308));Ls=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ls=Ls.next=n;return a}var Ab=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},Nb=i.unstable_scheduleCallback,wb=i.unstable_NormalPriority,Tt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function id(){return{controller:new Ab,data:new Map,refCount:0}}function Ul(t){t.refCount--,t.refCount===0&&Nb(wb,function(){t.controller.abort()})}var Pl=null,ad=0,_r=0,vr=null;function Cb(t,n){if(Pl===null){var a=Pl=[];ad=0,_r=cf(),vr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ad++,n.then(Qg,Qg),n}function Qg(){if(--ad===0&&Pl!==null){vr!==null&&(vr.status="fulfilled");var t=Pl;Pl=null,_r=0,vr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Rb(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Kg=P.S;P.S=function(t,n){k0=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Cb(t,n),Kg!==null&&Kg(t,n)};var Sa=D(null);function rd(){var t=Sa.current;return t!==null?t:nt.pooledCache}function Oc(t,n){n===null?de(Sa,Sa.current):de(Sa,n.pool)}function $g(){var t=rd();return t===null?null:{parent:Tt._currentValue,pool:t}}var br=Error(r(460)),ld=Error(r(474)),Vc=Error(r(542)),Lc={then:function(){}};function Xg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(qn,qn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Wg(t),t;default:if(typeof n.status=="string")n.then(qn,qn);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Wg(t),t}throw Na=n,br}}function Aa(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Na=a,br):a}}var Na=null;function Jg(){if(Na===null)throw Error(r(459));var t=Na;return Na=null,t}function Wg(t){if(t===br||t===Vc)throw Error(r(483))}var Er=null,zl=0;function Uc(t){var n=zl;return zl+=1,Er===null&&(Er=[]),Zg(Er,t,n)}function Bl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Pc(t,n){throw n.$$typeof===N?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ep(t){function n(U,O){if(t){var H=U.deletions;H===null?(U.deletions=[O],U.flags|=16):H.push(O)}}function a(U,O){if(!t)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function h(U,O){return U=Os(U,O),U.index=0,U.sibling=null,U}function f(U,O,H){return U.index=H,t?(H=U.alternate,H!==null?(H=H.index,H<O?(U.flags|=67108866,O):H):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function y(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function b(U,O,H,ee){return O===null||O.tag!==6?(O=$h(H,U.mode,ee),O.return=U,O):(O=h(O,H),O.return=U,O)}function k(U,O,H,ee){var _e=H.type;return _e===Y?J(U,O,H.props.children,ee,H.key):O!==null&&(O.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&Aa(_e)===O.type)?(O=h(O,H.props),Bl(O,H),O.return=U,O):(O=kc(H.type,H.key,H.props,null,U.mode,ee),Bl(O,H),O.return=U,O)}function F(U,O,H,ee){return O===null||O.tag!==4||O.stateNode.containerInfo!==H.containerInfo||O.stateNode.implementation!==H.implementation?(O=Xh(H,U.mode,ee),O.return=U,O):(O=h(O,H.children||[]),O.return=U,O)}function J(U,O,H,ee,_e){return O===null||O.tag!==7?(O=va(H,U.mode,ee,_e),O.return=U,O):(O=h(O,H),O.return=U,O)}function ne(U,O,H){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=$h(""+O,U.mode,H),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case B:return H=kc(O.type,O.key,O.props,null,U.mode,H),Bl(H,O),H.return=U,H;case Z:return O=Xh(O,U.mode,H),O.return=U,O;case A:return O=Aa(O),ne(U,O,H)}if(ue(O)||L(O))return O=va(O,U.mode,H,null),O.return=U,O;if(typeof O.then=="function")return ne(U,Uc(O),H);if(O.$$typeof===M)return ne(U,Mc(U,O),H);Pc(U,O)}return null}function G(U,O,H,ee){var _e=O!==null?O.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return _e!==null?null:b(U,O,""+H,ee);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case B:return H.key===_e?k(U,O,H,ee):null;case Z:return H.key===_e?F(U,O,H,ee):null;case A:return H=Aa(H),G(U,O,H,ee)}if(ue(H)||L(H))return _e!==null?null:J(U,O,H,ee,null);if(typeof H.then=="function")return G(U,O,Uc(H),ee);if(H.$$typeof===M)return G(U,O,Mc(U,H),ee);Pc(U,H)}return null}function K(U,O,H,ee,_e){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return U=U.get(H)||null,b(O,U,""+ee,_e);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case B:return U=U.get(ee.key===null?H:ee.key)||null,k(O,U,ee,_e);case Z:return U=U.get(ee.key===null?H:ee.key)||null,F(O,U,ee,_e);case A:return ee=Aa(ee),K(U,O,H,ee,_e)}if(ue(ee)||L(ee))return U=U.get(H)||null,J(O,U,ee,_e,null);if(typeof ee.then=="function")return K(U,O,H,Uc(ee),_e);if(ee.$$typeof===M)return K(U,O,H,Mc(O,ee),_e);Pc(O,ee)}return null}function ge(U,O,H,ee){for(var _e=null,Fe=null,pe=O,De=O=0,Le=null;pe!==null&&De<H.length;De++){pe.index>De?(Le=pe,pe=null):Le=pe.sibling;var Ge=G(U,pe,H[De],ee);if(Ge===null){pe===null&&(pe=Le);break}t&&pe&&Ge.alternate===null&&n(U,pe),O=f(Ge,O,De),Fe===null?_e=Ge:Fe.sibling=Ge,Fe=Ge,pe=Le}if(De===H.length)return a(U,pe),Be&&Vs(U,De),_e;if(pe===null){for(;De<H.length;De++)pe=ne(U,H[De],ee),pe!==null&&(O=f(pe,O,De),Fe===null?_e=pe:Fe.sibling=pe,Fe=pe);return Be&&Vs(U,De),_e}for(pe=l(pe);De<H.length;De++)Le=K(pe,U,De,H[De],ee),Le!==null&&(t&&Le.alternate!==null&&pe.delete(Le.key===null?De:Le.key),O=f(Le,O,De),Fe===null?_e=Le:Fe.sibling=Le,Fe=Le);return t&&pe.forEach(function(Li){return n(U,Li)}),Be&&Vs(U,De),_e}function Ee(U,O,H,ee){if(H==null)throw Error(r(151));for(var _e=null,Fe=null,pe=O,De=O=0,Le=null,Ge=H.next();pe!==null&&!Ge.done;De++,Ge=H.next()){pe.index>De?(Le=pe,pe=null):Le=pe.sibling;var Li=G(U,pe,Ge.value,ee);if(Li===null){pe===null&&(pe=Le);break}t&&pe&&Li.alternate===null&&n(U,pe),O=f(Li,O,De),Fe===null?_e=Li:Fe.sibling=Li,Fe=Li,pe=Le}if(Ge.done)return a(U,pe),Be&&Vs(U,De),_e;if(pe===null){for(;!Ge.done;De++,Ge=H.next())Ge=ne(U,Ge.value,ee),Ge!==null&&(O=f(Ge,O,De),Fe===null?_e=Ge:Fe.sibling=Ge,Fe=Ge);return Be&&Vs(U,De),_e}for(pe=l(pe);!Ge.done;De++,Ge=H.next())Ge=K(pe,U,De,Ge.value,ee),Ge!==null&&(t&&Ge.alternate!==null&&pe.delete(Ge.key===null?De:Ge.key),O=f(Ge,O,De),Fe===null?_e=Ge:Fe.sibling=Ge,Fe=Ge);return t&&pe.forEach(function(zE){return n(U,zE)}),Be&&Vs(U,De),_e}function tt(U,O,H,ee){if(typeof H=="object"&&H!==null&&H.type===Y&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case B:e:{for(var _e=H.key;O!==null;){if(O.key===_e){if(_e=H.type,_e===Y){if(O.tag===7){a(U,O.sibling),ee=h(O,H.props.children),ee.return=U,U=ee;break e}}else if(O.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&Aa(_e)===O.type){a(U,O.sibling),ee=h(O,H.props),Bl(ee,H),ee.return=U,U=ee;break e}a(U,O);break}else n(U,O);O=O.sibling}H.type===Y?(ee=va(H.props.children,U.mode,ee,H.key),ee.return=U,U=ee):(ee=kc(H.type,H.key,H.props,null,U.mode,ee),Bl(ee,H),ee.return=U,U=ee)}return y(U);case Z:e:{for(_e=H.key;O!==null;){if(O.key===_e)if(O.tag===4&&O.stateNode.containerInfo===H.containerInfo&&O.stateNode.implementation===H.implementation){a(U,O.sibling),ee=h(O,H.children||[]),ee.return=U,U=ee;break e}else{a(U,O);break}else n(U,O);O=O.sibling}ee=Xh(H,U.mode,ee),ee.return=U,U=ee}return y(U);case A:return H=Aa(H),tt(U,O,H,ee)}if(ue(H))return ge(U,O,H,ee);if(L(H)){if(_e=L(H),typeof _e!="function")throw Error(r(150));return H=_e.call(H),Ee(U,O,H,ee)}if(typeof H.then=="function")return tt(U,O,Uc(H),ee);if(H.$$typeof===M)return tt(U,O,Mc(U,H),ee);Pc(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,O!==null&&O.tag===6?(a(U,O.sibling),ee=h(O,H),ee.return=U,U=ee):(a(U,O),ee=$h(H,U.mode,ee),ee.return=U,U=ee),y(U)):a(U,O)}return function(U,O,H,ee){try{zl=0;var _e=tt(U,O,H,ee);return Er=null,_e}catch(pe){if(pe===br||pe===Vc)throw pe;var Fe=pn(29,pe,null,U.mode);return Fe.lanes=ee,Fe.return=U,Fe}finally{}}}var wa=ep(!0),tp=ep(!1),vi=!1;function od(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cd(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function bi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ei(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Ic(t),Ug(t,null,a),n}return Rc(t,l,n,a),Ic(t)}function ql(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,gl(t,a)}}function ud(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var hd=!1;function Hl(){if(hd){var t=vr;if(t!==null)throw t}}function Fl(t,n,a,l){hd=!1;var h=t.updateQueue;vi=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var k=b,F=k.next;k.next=null,y===null?f=F:y.next=F,y=k;var J=t.alternate;J!==null&&(J=J.updateQueue,b=J.lastBaseUpdate,b!==y&&(b===null?J.firstBaseUpdate=F:b.next=F,J.lastBaseUpdate=k))}if(f!==null){var ne=h.baseState;y=0,J=F=k=null,b=f;do{var G=b.lane&-536870913,K=G!==b.lane;if(K?(Ve&G)===G:(l&G)===G){G!==0&&G===_r&&(hd=!0),J!==null&&(J=J.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ge=t,Ee=b;G=n;var tt=a;switch(Ee.tag){case 1:if(ge=Ee.payload,typeof ge=="function"){ne=ge.call(tt,ne,G);break e}ne=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Ee.payload,G=typeof ge=="function"?ge.call(tt,ne,G):ge,G==null)break e;ne=T({},ne,G);break e;case 2:vi=!0}}G=b.callback,G!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[G]:K.push(G))}else K={lane:G,tag:b.tag,payload:b.payload,callback:b.callback,next:null},J===null?(F=J=K,k=ne):J=J.next=K,y|=G;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;K=b,b=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);J===null&&(k=ne),h.baseState=k,h.firstBaseUpdate=F,h.lastBaseUpdate=J,f===null&&(h.shared.lanes=0),wi|=y,t.lanes=y,t.memoizedState=ne}}function np(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function sp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)np(a[t],n)}var Tr=D(null),zc=D(0);function ip(t,n){t=Qs,de(zc,t),de(Tr,n),Qs=t|n.baseLanes}function dd(){de(zc,Qs),de(Tr,Tr.current)}function fd(){Qs=zc.current,W(Tr),W(zc)}var yn=D(null),jn=null;function Ti(t){var n=t.alternate;de(gt,gt.current&1),de(yn,t),jn===null&&(n===null||Tr.current!==null||n.memoizedState!==null)&&(jn=t)}function md(t){de(gt,gt.current),de(yn,t),jn===null&&(jn=t)}function ap(t){t.tag===22?(de(gt,gt.current),de(yn,t),jn===null&&(jn=t)):Si()}function Si(){de(gt,gt.current),de(yn,yn.current)}function xn(t){W(yn),jn===t&&(jn=null),W(gt)}var gt=D(0);function Bc(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||bf(a)||Ef(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ps=0,ke=null,We=null,St=null,qc=!1,Sr=!1,Ca=!1,Hc=0,Gl=0,Ar=null,Ib=0;function ht(){throw Error(r(321))}function gd(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!gn(t[a],n[a]))return!1;return!0}function pd(t,n,a,l,h,f){return Ps=f,ke=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,P.H=t===null||t.memoizedState===null?qp:kd,Ca=!1,f=a(l,h),Ca=!1,Sr&&(f=lp(n,a,l,h)),rp(t),f}function rp(t){P.H=Kl;var n=We!==null&&We.next!==null;if(Ps=0,St=We=ke=null,qc=!1,Gl=0,Ar=null,n)throw Error(r(300));t===null||At||(t=t.dependencies,t!==null&&Dc(t)&&(At=!0))}function lp(t,n,a,l){ke=t;var h=0;do{if(Sr&&(Ar=null),Gl=0,Sr=!1,25<=h)throw Error(r(301));if(h+=1,St=We=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}P.H=Hp,f=n(a,l)}while(Sr);return f}function kb(){var t=P.H,n=t.useState()[0];return n=typeof n.then=="function"?Yl(n):n,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(ke.flags|=1024),n}function yd(){var t=Hc!==0;return Hc=0,t}function xd(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function _d(t){if(qc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}qc=!1}Ps=0,St=We=ke=null,Sr=!1,Gl=Hc=0,Ar=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?ke.memoizedState=St=t:St=St.next=t,St}function pt(){if(We===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var n=St===null?ke.memoizedState:St.next;if(n!==null)St=n,We=t;else{if(t===null)throw ke.alternate===null?Error(r(467)):Error(r(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},St===null?ke.memoizedState=St=t:St=St.next=t}return St}function Fc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yl(t){var n=Gl;return Gl+=1,Ar===null&&(Ar=[]),t=Zg(Ar,t,n),n=ke,(St===null?n.memoizedState:St.next)===null&&(n=n.alternate,P.H=n===null||n.memoizedState===null?qp:kd),t}function Gc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Yl(t);if(t.$$typeof===M)return qt(t)}throw Error(r(438,String(t)))}function vd(t){var n=null,a=ke.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Fc(),ke.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=V;return n.index++,a}function zs(t,n){return typeof n=="function"?n(t):n}function Yc(t){var n=pt();return bd(n,We,t)}function bd(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var b=y=null,k=null,F=n,J=!1;do{var ne=F.lane&-536870913;if(ne!==F.lane?(Ve&ne)===ne:(Ps&ne)===ne){var G=F.revertLane;if(G===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ne===_r&&(J=!0);else if((Ps&G)===G){F=F.next,G===_r&&(J=!0);continue}else ne={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},k===null?(b=k=ne,y=f):k=k.next=ne,ke.lanes|=G,wi|=G;ne=F.action,Ca&&a(f,ne),f=F.hasEagerState?F.eagerState:a(f,ne)}else G={lane:ne,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},k===null?(b=k=G,y=f):k=k.next=G,ke.lanes|=ne,wi|=ne;F=F.next}while(F!==null&&F!==n);if(k===null?y=f:k.next=b,!gn(f,t.memoizedState)&&(At=!0,J&&(a=vr,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=k,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ed(t){var n=pt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=t(f,y.action),y=y.next;while(y!==h);gn(f,n.memoizedState)||(At=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function op(t,n,a){var l=ke,h=pt(),f=Be;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!gn((We||h).memoizedState,a);if(y&&(h.memoizedState=a,At=!0),h=h.queue,Ad(hp.bind(null,l,h,t),[t]),h.getSnapshot!==n||y||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,Nr(9,{destroy:void 0},up.bind(null,l,h,a,n),null),nt===null)throw Error(r(349));f||(Ps&127)!==0||cp(l,n,a)}return a}function cp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=ke.updateQueue,n===null?(n=Fc(),ke.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function up(t,n,a,l){n.value=a,n.getSnapshot=l,dp(n)&&fp(t)}function hp(t,n,a){return a(function(){dp(n)&&fp(t)})}function dp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!gn(t,a)}catch{return!0}}function fp(t){var n=_a(t,2);n!==null&&un(n,t,2)}function Td(t){var n=nn();if(typeof t=="function"){var a=t;if(t=a(),Ca){En(!0);try{a()}finally{En(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:t},n}function mp(t,n,a,l){return t.baseState=a,bd(t,We,typeof l=="function"?l:zs)}function jb(t,n,a,l,h){if($c(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};P.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,gp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function gp(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=P.T,y={};P.T=y;try{var b=a(h,l),k=P.S;k!==null&&k(y,b),pp(t,n,b)}catch(F){Sd(t,n,F)}finally{f!==null&&y.types!==null&&(f.types=y.types),P.T=f}}else try{f=a(h,l),pp(t,n,f)}catch(F){Sd(t,n,F)}}function pp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){yp(t,n,l)},function(l){return Sd(t,n,l)}):yp(t,n,a)}function yp(t,n,a){n.status="fulfilled",n.value=a,xp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,gp(t,a)))}function Sd(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,xp(n),n=n.next;while(n!==l)}t.action=null}function xp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function _p(t,n){return n}function vp(t,n){if(Be){var a=nt.formState;if(a!==null){e:{var l=ke;if(Be){if(st){t:{for(var h=st,f=kn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Dn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){st=Dn(h.nextSibling),l=h.data==="F!";break e}}xi(l)}l=!1}l&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_p,lastRenderedState:n},a.queue=l,a=Pp.bind(null,ke,l),l.dispatch=a,l=Td(!1),f=Id.bind(null,ke,!1,l.queue),l=nn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=jb.bind(null,ke,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function bp(t){var n=pt();return Ep(n,We,t)}function Ep(t,n,a){if(n=bd(t,n,_p)[0],t=Yc(zs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Yl(n)}catch(y){throw y===br?Vc:y}else l=n;n=pt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(ke.flags|=2048,Nr(9,{destroy:void 0},Db.bind(null,h,a),null)),[l,f,t]}function Db(t,n){t.action=n}function Tp(t){var n=pt(),a=We;if(a!==null)return Ep(n,a,t);pt(),n=n.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Nr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=ke.updateQueue,n===null&&(n=Fc(),ke.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Sp(){return pt().memoizedState}function Qc(t,n,a,l){var h=nn();ke.flags|=t,h.memoizedState=Nr(1|n,{destroy:void 0},a,l===void 0?null:l)}function Kc(t,n,a,l){var h=pt();l=l===void 0?null:l;var f=h.memoizedState.inst;We!==null&&l!==null&&gd(l,We.memoizedState.deps)?h.memoizedState=Nr(n,f,a,l):(ke.flags|=t,h.memoizedState=Nr(1|n,f,a,l))}function Ap(t,n){Qc(8390656,8,t,n)}function Ad(t,n){Kc(2048,8,t,n)}function Mb(t){ke.flags|=4;var n=ke.updateQueue;if(n===null)n=Fc(),ke.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Np(t){var n=pt().memoizedState;return Mb({ref:n,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function wp(t,n){return Kc(4,2,t,n)}function Cp(t,n){return Kc(4,4,t,n)}function Rp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ip(t,n,a){a=a!=null?a.concat([t]):null,Kc(4,4,Rp.bind(null,n,t),a)}function Nd(){}function kp(t,n){var a=pt();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&gd(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function jp(t,n){var a=pt();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&gd(n,l[1]))return l[0];if(l=t(),Ca){En(!0);try{t()}finally{En(!1)}}return a.memoizedState=[l,n],l}function wd(t,n,a){return a===void 0||(Ps&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=D0(),ke.lanes|=t,wi|=t,a)}function Dp(t,n,a,l){return gn(a,n)?a:Tr.current!==null?(t=wd(t,a,l),gn(t,n)||(At=!0),t):(Ps&42)===0||(Ps&1073741824)!==0&&(Ve&261930)===0?(At=!0,t.memoizedState=a):(t=D0(),ke.lanes|=t,wi|=t,n)}function Mp(t,n,a,l,h){var f=te.p;te.p=f!==0&&8>f?f:8;var y=P.T,b={};P.T=b,Id(t,!1,n,a);try{var k=h(),F=P.S;if(F!==null&&F(b,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var J=Rb(k,l);Ql(t,n,J,bn(t))}else Ql(t,n,l,bn(t))}catch(ne){Ql(t,n,{then:function(){},status:"rejected",reason:ne},bn())}finally{te.p=f,y!==null&&b.types!==null&&(y.types=b.types),P.T=y}}function Ob(){}function Cd(t,n,a,l){if(t.tag!==5)throw Error(r(476));var h=Op(t).queue;Mp(t,h,n,he,a===null?Ob:function(){return Vp(t),a(l)})}function Op(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:he},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Vp(t){var n=Op(t);n.next===null&&(n=t.alternate.memoizedState),Ql(t,n.next.queue,{},bn())}function Rd(){return qt(uo)}function Lp(){return pt().memoizedState}function Up(){return pt().memoizedState}function Vb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=bn();t=bi(a);var l=Ei(n,t,a);l!==null&&(un(l,n,a),ql(l,n,a)),n={cache:id()},t.payload=n;return}n=n.return}}function Lb(t,n,a){var l=bn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},$c(t)?zp(n,a):(a=Qh(t,n,a,l),a!==null&&(un(a,t,l),Bp(a,n,l)))}function Pp(t,n,a){var l=bn();Ql(t,n,a,l)}function Ql(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if($c(t))zp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,b=f(y,a);if(h.hasEagerState=!0,h.eagerState=b,gn(b,y))return Rc(t,n,h,0),nt===null&&Cc(),!1}catch{}finally{}if(a=Qh(t,n,h,l),a!==null)return un(a,t,l),Bp(a,n,l),!0}return!1}function Id(t,n,a,l){if(l={lane:2,revertLane:cf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},$c(t)){if(n)throw Error(r(479))}else n=Qh(t,a,l,2),n!==null&&un(n,t,2)}function $c(t){var n=t.alternate;return t===ke||n!==null&&n===ke}function zp(t,n){Sr=qc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Bp(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,gl(t,a)}}var Kl={readContext:qt,use:Gc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};Kl.useEffectEvent=ht;var qp={readContext:qt,use:Gc,useCallback:function(t,n){return nn().memoizedState=[t,n===void 0?null:n],t},useContext:qt,useEffect:Ap,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Qc(4194308,4,Rp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Qc(4194308,4,t,n)},useInsertionEffect:function(t,n){Qc(4,2,t,n)},useMemo:function(t,n){var a=nn();n=n===void 0?null:n;var l=t();if(Ca){En(!0);try{t()}finally{En(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=nn();if(a!==void 0){var h=a(n);if(Ca){En(!0);try{a(n)}finally{En(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Lb.bind(null,ke,t),[l.memoizedState,t]},useRef:function(t){var n=nn();return t={current:t},n.memoizedState=t},useState:function(t){t=Td(t);var n=t.queue,a=Pp.bind(null,ke,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Nd,useDeferredValue:function(t,n){var a=nn();return wd(a,t,n)},useTransition:function(){var t=Td(!1);return t=Mp.bind(null,ke,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=ke,h=nn();if(Be){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),nt===null)throw Error(r(349));(Ve&127)!==0||cp(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Ap(hp.bind(null,l,f,t),[t]),l.flags|=2048,Nr(9,{destroy:void 0},up.bind(null,l,f,a,n),null),a},useId:function(){var t=nn(),n=nt.identifierPrefix;if(Be){var a=_s,l=xs;a=(l&~(1<<32-ft(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Hc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=Ib++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Rd,useFormState:vp,useActionState:vp,useOptimistic:function(t){var n=nn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Id.bind(null,ke,!0,a),a.dispatch=n,[t,n]},useMemoCache:vd,useCacheRefresh:function(){return nn().memoizedState=Vb.bind(null,ke)},useEffectEvent:function(t){var n=nn(),a={impl:t};return n.memoizedState=a,function(){if((Qe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},kd={readContext:qt,use:Gc,useCallback:kp,useContext:qt,useEffect:Ad,useImperativeHandle:Ip,useInsertionEffect:wp,useLayoutEffect:Cp,useMemo:jp,useReducer:Yc,useRef:Sp,useState:function(){return Yc(zs)},useDebugValue:Nd,useDeferredValue:function(t,n){var a=pt();return Dp(a,We.memoizedState,t,n)},useTransition:function(){var t=Yc(zs)[0],n=pt().memoizedState;return[typeof t=="boolean"?t:Yl(t),n]},useSyncExternalStore:op,useId:Lp,useHostTransitionStatus:Rd,useFormState:bp,useActionState:bp,useOptimistic:function(t,n){var a=pt();return mp(a,We,t,n)},useMemoCache:vd,useCacheRefresh:Up};kd.useEffectEvent=Np;var Hp={readContext:qt,use:Gc,useCallback:kp,useContext:qt,useEffect:Ad,useImperativeHandle:Ip,useInsertionEffect:wp,useLayoutEffect:Cp,useMemo:jp,useReducer:Ed,useRef:Sp,useState:function(){return Ed(zs)},useDebugValue:Nd,useDeferredValue:function(t,n){var a=pt();return We===null?wd(a,t,n):Dp(a,We.memoizedState,t,n)},useTransition:function(){var t=Ed(zs)[0],n=pt().memoizedState;return[typeof t=="boolean"?t:Yl(t),n]},useSyncExternalStore:op,useId:Lp,useHostTransitionStatus:Rd,useFormState:Tp,useActionState:Tp,useOptimistic:function(t,n){var a=pt();return We!==null?mp(a,We,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:vd,useCacheRefresh:Up};Hp.useEffectEvent=Np;function jd(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:T({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Dd={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=bn(),h=bi(l);h.payload=n,a!=null&&(h.callback=a),n=Ei(t,h,l),n!==null&&(un(n,t,l),ql(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=bn(),h=bi(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ei(t,h,l),n!==null&&(un(n,t,l),ql(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=bn(),l=bi(a);l.tag=2,n!=null&&(l.callback=n),n=Ei(t,l,a),n!==null&&(un(n,t,a),ql(n,t,a))}};function Fp(t,n,a,l,h,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Ml(a,l)||!Ml(h,f):!0}function Gp(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Dd.enqueueReplaceState(n,n.state,null)}function Ra(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Yp(t){wc(t)}function Qp(t){console.error(t)}function Kp(t){wc(t)}function Xc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function $p(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Md(t,n,a){return a=bi(a),a.tag=3,a.payload={element:null},a.callback=function(){Xc(t,n)},a}function Xp(t){return t=bi(t),t.tag=3,t}function Zp(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){$p(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){$p(n,a,l),typeof h!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function Ub(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&xr(n,a,h,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return jn===null?ou():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Lc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),rf(t,l,h)),!1;case 22:return a.flags|=65536,l===Lc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),rf(t,l,h)),!1}throw Error(r(435,a.tag))}return rf(t,l,h),ou(),!1}if(Be)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Wh&&(t=Error(r(422),{cause:l}),Ll(Cn(t,a)))):(l!==Wh&&(n=Error(r(423),{cause:l}),Ll(Cn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Cn(l,a),h=Md(t.stateNode,l,h),ud(t,h),dt!==4&&(dt=2)),!1;var f=Error(r(520),{cause:l});if(f=Cn(f,a),no===null?no=[f]:no.push(f),dt!==4&&(dt=2),n===null)return!0;l=Cn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Md(a.stateNode,l,t),ud(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ci===null||!Ci.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Xp(h),Zp(h,t,a,l),ud(a,h),!1}a=a.return}while(a!==null);return!1}var Od=Error(r(461)),At=!1;function Ht(t,n,a,l){n.child=t===null?tp(n,null,a,l):wa(n,t.child,a,l)}function Jp(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var y={};for(var b in l)b!=="ref"&&(y[b]=l[b])}else y=l;return Ta(n),l=pd(t,n,a,y,f,h),b=yd(),t!==null&&!At?(xd(t,n,h),Bs(t,n,h)):(Be&&b&&Zh(n),n.flags|=1,Ht(t,n,l,h),n.child)}function Wp(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!Kh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,e0(t,n,f,l,h)):(t=kc(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Hd(t,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Ml,a(y,l)&&t.ref===n.ref)return Bs(t,n,h)}return n.flags|=1,t=Os(f,l),t.ref=n.ref,t.return=n,n.child=t}function e0(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(Ml(f,l)&&t.ref===n.ref)if(At=!1,n.pendingProps=l=f,Hd(t,h))(t.flags&131072)!==0&&(At=!0);else return n.lanes=t.lanes,Bs(t,n,h)}return Vd(t,n,a,l,h)}function t0(t,n,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return n0(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Oc(n,f!==null?f.cachePool:null),f!==null?ip(n,f):dd(),ap(n);else return l=n.lanes=536870912,n0(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Oc(n,f.cachePool),ip(n,f),Si(),n.memoizedState=null):(t!==null&&Oc(n,null),dd(),Si());return Ht(t,n,h,a),n.child}function $l(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function n0(t,n,a,l,h){var f=rd();return f=f===null?null:{parent:Tt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Oc(n,null),dd(),ap(n),t!==null&&xr(t,n,l,!0),n.childLanes=h,null}function Zc(t,n){return n=Wc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function s0(t,n,a){return wa(n,t.child,null,a),t=Zc(n,n.pendingProps),t.flags|=2,xn(n),n.memoizedState=null,t}function Pb(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Be){if(l.mode==="hidden")return t=Zc(n,l),n.lanes=536870912,$l(null,t);if(md(n),(t=st)?(t=gy(t,kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:pi!==null?{id:xs,overflow:_s}:null,retryLane:536870912,hydrationErrors:null},a=zg(t),a.return=n,n.child=a,Bt=n,st=null)):t=null,t===null)throw xi(n);return n.lanes=536870912,null}return Zc(n,l)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(md(n),h)if(n.flags&256)n.flags&=-257,n=s0(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(At||xr(t,n,a,!1),h=(a&t.childLanes)!==0,At||h){if(l=nt,l!==null&&(y=pl(l,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,_a(t,y),un(l,t,y),Od;ou(),n=s0(t,n,a)}else t=f.treeContext,st=Dn(y.nextSibling),Bt=n,Be=!0,yi=null,kn=!1,t!==null&&Hg(n,t),n=Zc(n,l),n.flags|=4096;return n}return t=Os(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Jc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Vd(t,n,a,l,h){return Ta(n),a=pd(t,n,a,l,void 0,h),l=yd(),t!==null&&!At?(xd(t,n,h),Bs(t,n,h)):(Be&&l&&Zh(n),n.flags|=1,Ht(t,n,a,h),n.child)}function i0(t,n,a,l,h,f){return Ta(n),n.updateQueue=null,a=lp(n,l,a,h),rp(t),l=yd(),t!==null&&!At?(xd(t,n,f),Bs(t,n,f)):(Be&&l&&Zh(n),n.flags|=1,Ht(t,n,a,f),n.child)}function a0(t,n,a,l,h){if(Ta(n),n.stateNode===null){var f=mr,y=a.contextType;typeof y=="object"&&y!==null&&(f=qt(y)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Dd,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},od(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?qt(y):mr,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(jd(n,a,y,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Dd.enqueueReplaceState(f,f.state,null),Fl(n,l,f,h),Hl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var b=n.memoizedProps,k=Ra(a,b);f.props=k;var F=f.context,J=a.contextType;y=mr,typeof J=="object"&&J!==null&&(y=qt(J));var ne=a.getDerivedStateFromProps;J=typeof ne=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,J||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||F!==y)&&Gp(n,f,l,y),vi=!1;var G=n.memoizedState;f.state=G,Fl(n,l,f,h),Hl(),F=n.memoizedState,b||G!==F||vi?(typeof ne=="function"&&(jd(n,a,ne,l),F=n.memoizedState),(k=vi||Fp(n,a,k,l,G,F,y))?(J||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=y,l=k):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,cd(t,n),y=n.memoizedProps,J=Ra(a,y),f.props=J,ne=n.pendingProps,G=f.context,F=a.contextType,k=mr,typeof F=="object"&&F!==null&&(k=qt(F)),b=a.getDerivedStateFromProps,(F=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==ne||G!==k)&&Gp(n,f,l,k),vi=!1,G=n.memoizedState,f.state=G,Fl(n,l,f,h),Hl();var K=n.memoizedState;y!==ne||G!==K||vi||t!==null&&t.dependencies!==null&&Dc(t.dependencies)?(typeof b=="function"&&(jd(n,a,b,l),K=n.memoizedState),(J=vi||Fp(n,a,J,l,G,K,k)||t!==null&&t.dependencies!==null&&Dc(t.dependencies))?(F||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,K,k),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,K,k)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=K),f.props=l,f.state=K,f.context=k,l=J):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Jc(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=wa(n,t.child,null,h),n.child=wa(n,null,a,h)):Ht(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Bs(t,n,h),t}function r0(t,n,a,l){return ba(),n.flags|=256,Ht(t,n,a,l),n.child}var Ld={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ud(t){return{baseLanes:t,cachePool:$g()}}function Pd(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=vn),t}function l0(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Be){if(h?Ti(n):Si(),(t=st)?(t=gy(t,kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:pi!==null?{id:xs,overflow:_s}:null,retryLane:536870912,hydrationErrors:null},a=zg(t),a.return=n,n.child=a,Bt=n,st=null)):t=null,t===null)throw xi(n);return Ef(t)?n.lanes=32:n.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(Si(),h=n.mode,b=Wc({mode:"hidden",children:b},h),l=va(l,h,a,null),b.return=n,l.return=n,b.sibling=l,n.child=b,l=n.child,l.memoizedState=Ud(a),l.childLanes=Pd(t,y,a),n.memoizedState=Ld,$l(null,l)):(Ti(n),zd(n,b))}var k=t.memoizedState;if(k!==null&&(b=k.dehydrated,b!==null)){if(f)n.flags&256?(Ti(n),n.flags&=-257,n=Bd(t,n,a)):n.memoizedState!==null?(Si(),n.child=t.child,n.flags|=128,n=null):(Si(),b=l.fallback,h=n.mode,l=Wc({mode:"visible",children:l.children},h),b=va(b,h,a,null),b.flags|=2,l.return=n,b.return=n,l.sibling=b,n.child=l,wa(n,t.child,null,a),l=n.child,l.memoizedState=Ud(a),l.childLanes=Pd(t,y,a),n.memoizedState=Ld,n=$l(null,l));else if(Ti(n),Ef(b)){if(y=b.nextSibling&&b.nextSibling.dataset,y)var F=y.dgst;y=F,l=Error(r(419)),l.stack="",l.digest=y,Ll({value:l,source:null,stack:null}),n=Bd(t,n,a)}else if(At||xr(t,n,a,!1),y=(a&t.childLanes)!==0,At||y){if(y=nt,y!==null&&(l=pl(y,a),l!==0&&l!==k.retryLane))throw k.retryLane=l,_a(t,l),un(y,t,l),Od;bf(b)||ou(),n=Bd(t,n,a)}else bf(b)?(n.flags|=192,n.child=t.child,n=null):(t=k.treeContext,st=Dn(b.nextSibling),Bt=n,Be=!0,yi=null,kn=!1,t!==null&&Hg(n,t),n=zd(n,l.children),n.flags|=4096);return n}return h?(Si(),b=l.fallback,h=n.mode,k=t.child,F=k.sibling,l=Os(k,{mode:"hidden",children:l.children}),l.subtreeFlags=k.subtreeFlags&65011712,F!==null?b=Os(F,b):(b=va(b,h,a,null),b.flags|=2),b.return=n,l.return=n,l.sibling=b,n.child=l,$l(null,l),l=n.child,b=t.child.memoizedState,b===null?b=Ud(a):(h=b.cachePool,h!==null?(k=Tt._currentValue,h=h.parent!==k?{parent:k,pool:k}:h):h=$g(),b={baseLanes:b.baseLanes|a,cachePool:h}),l.memoizedState=b,l.childLanes=Pd(t,y,a),n.memoizedState=Ld,$l(t.child,l)):(Ti(n),a=t.child,t=a.sibling,a=Os(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function zd(t,n){return n=Wc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Wc(t,n){return t=pn(22,t,null,n),t.lanes=0,t}function Bd(t,n,a){return wa(n,t.child,null,a),t=zd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function o0(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),nd(t.return,n,a)}function qd(t,n,a,l,h,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function c0(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var y=gt.current,b=(y&2)!==0;if(b?(y=y&1|2,n.flags|=128):y&=1,de(gt,y),Ht(t,n,l,a),l=Be?Vl:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&o0(t,a,n);else if(t.tag===19)o0(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Bc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),qd(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Bc(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}qd(n,!0,a,null,f,l);break;case"together":qd(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Bs(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),wi|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(xr(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Os(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Os(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Hd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Dc(t)))}function zb(t,n,a){switch(n.tag){case 3:Rt(n,n.stateNode.containerInfo),_i(n,Tt,t.memoizedState.cache),ba();break;case 27:case 5:ta(n);break;case 4:Rt(n,n.stateNode.containerInfo);break;case 10:_i(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,md(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ti(n),n.flags|=128,null):(a&n.child.childLanes)!==0?l0(t,n,a):(Ti(n),t=Bs(t,n,a),t!==null?t.sibling:null);Ti(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(xr(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return c0(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),de(gt,gt.current),l)break;return null;case 22:return n.lanes=0,t0(t,n,a,n.pendingProps);case 24:_i(n,Tt,t.memoizedState.cache)}return Bs(t,n,a)}function u0(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)At=!0;else{if(!Hd(t,a)&&(n.flags&128)===0)return At=!1,zb(t,n,a);At=(t.flags&131072)!==0}else At=!1,Be&&(n.flags&1048576)!==0&&qg(n,Vl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Aa(n.elementType),n.type=t,typeof t=="function")Kh(t)?(l=Ra(t,l),n.tag=1,n=a0(null,n,t,l,a)):(n.tag=0,n=Vd(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===re){n.tag=11,n=Jp(null,n,t,l,a);break e}else if(h===I){n.tag=14,n=Wp(null,n,t,l,a);break e}}throw n=oe(t)||t,Error(r(306,n,""))}}return n;case 0:return Vd(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Ra(l,n.pendingProps),a0(t,n,l,h,a);case 3:e:{if(Rt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,cd(t,n),Fl(n,l,null,a);var y=n.memoizedState;if(l=y.cache,_i(n,Tt,l),l!==f.cache&&sd(n,[Tt],a,!0),Hl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=r0(t,n,l,a);break e}else if(l!==h){h=Cn(Error(r(424)),n),Ll(h),n=r0(t,n,l,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(st=Dn(t.firstChild),Bt=n,Be=!0,yi=null,kn=!0,a=tp(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ba(),l===h){n=Bs(t,n,a);break e}Ht(t,n,l,a)}n=n.child}return n;case 26:return Jc(t,n),t===null?(a=by(n.type,null,n.pendingProps,null))?n.memoizedState=a:Be||(a=n.type,t=n.pendingProps,l=gu(Ne.current).createElement(a),l[vt]=n,l[Mt]=t,Ft(l,a,t),bt(l),n.stateNode=l):n.memoizedState=by(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ta(n),t===null&&Be&&(l=n.stateNode=xy(n.type,n.pendingProps,Ne.current),Bt=n,kn=!0,h=st,ji(n.type)?(Tf=h,st=Dn(l.firstChild)):st=h),Ht(t,n,n.pendingProps.children,a),Jc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Be&&((h=l=st)&&(l=pE(l,n.type,n.pendingProps,kn),l!==null?(n.stateNode=l,Bt=n,st=Dn(l.firstChild),kn=!1,h=!0):h=!1),h||xi(n)),ta(n),h=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,xf(h,f)?l=null:y!==null&&xf(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=pd(t,n,kb,null,null,a),uo._currentValue=h),Jc(t,n),Ht(t,n,l,a),n.child;case 6:return t===null&&Be&&((t=a=st)&&(a=yE(a,n.pendingProps,kn),a!==null?(n.stateNode=a,Bt=n,st=null,t=!0):t=!1),t||xi(n)),null;case 13:return l0(t,n,a);case 4:return Rt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=wa(n,null,l,a):Ht(t,n,l,a),n.child;case 11:return Jp(t,n,n.type,n.pendingProps,a);case 7:return Ht(t,n,n.pendingProps,a),n.child;case 8:return Ht(t,n,n.pendingProps.children,a),n.child;case 12:return Ht(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,_i(n,n.type,l.value),Ht(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ta(n),h=qt(h),l=l(h),n.flags|=1,Ht(t,n,l,a),n.child;case 14:return Wp(t,n,n.type,n.pendingProps,a);case 15:return e0(t,n,n.type,n.pendingProps,a);case 19:return c0(t,n,a);case 31:return Pb(t,n,a);case 22:return t0(t,n,a,n.pendingProps);case 24:return Ta(n),l=qt(Tt),t===null?(h=rd(),h===null&&(h=nt,f=id(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},od(n),_i(n,Tt,h)):((t.lanes&a)!==0&&(cd(t,n),Fl(n,null,null,a),Hl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),_i(n,Tt,l)):(l=f.cache,_i(n,Tt,l),l!==h.cache&&sd(n,[Tt],a,!0))),Ht(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function qs(t){t.flags|=4}function Fd(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(L0())t.flags|=8192;else throw Na=Lc,ld}else t.flags&=-16777217}function h0(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ny(n))if(L0())t.flags|=8192;else throw Na=Lc,ld}function eu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?rc():536870912,t.lanes|=n,Ir|=n)}function Xl(t,n){if(!Be)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function Bb(t,n,a){var l=n.pendingProps;switch(Jh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(n),null;case 1:return it(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Us(Tt),rt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(yr(n)?qs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ed())),it(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(qs(n),f!==null?(it(n),h0(n,f)):(it(n),Fd(n,h,null,l,a))):f?f!==t.memoizedState?(qs(n),it(n),h0(n,f)):(it(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&qs(n),it(n),Fd(n,h,t,l,a)),null;case 27:if($a(n),a=Ne.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&qs(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return it(n),null}t=fe.current,yr(n)?Fg(n):(t=xy(h,l,a),n.stateNode=t,qs(n))}return it(n),null;case 5:if($a(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&qs(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return it(n),null}if(f=fe.current,yr(n))Fg(n);else{var y=gu(Ne.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?y.createElement(h,{is:l.is}):y.createElement(h)}}f[vt]=n,f[Mt]=l;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch(Ft(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&qs(n)}}return it(n),Fd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&qs(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=Ne.current,yr(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[vt]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ly(t.nodeValue,a)),t||xi(n,!0)}else t=gu(t).createTextNode(l),t[vt]=n,n.stateNode=t}return it(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=yr(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[vt]=n}else ba(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),t=!1}else a=ed(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(xn(n),n):(xn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return it(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=yr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[vt]=n}else ba(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),h=!1}else h=ed(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(xn(n),n):(xn(n),null)}return xn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),eu(n,n.updateQueue),it(n),null);case 4:return rt(),t===null&&ff(n.stateNode.containerInfo),it(n),null;case 10:return Us(n.type),it(n),null;case 19:if(W(gt),l=n.memoizedState,l===null)return it(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Xl(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Bc(t),f!==null){for(n.flags|=128,Xl(l,!1),t=f.updateQueue,n.updateQueue=t,eu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Pg(a,t),a=a.sibling;return de(gt,gt.current&1|2),Be&&Vs(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&en()>au&&(n.flags|=128,h=!0,Xl(l,!1),n.lanes=4194304)}else{if(!h)if(t=Bc(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,eu(n,t),Xl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Be)return it(n),null}else 2*en()-l.renderingStartTime>au&&a!==536870912&&(n.flags|=128,h=!0,Xl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,a=gt.current,de(gt,h?a&1|2:a&1),Be&&Vs(n,l.treeForkCount),t):(it(n),null);case 22:case 23:return xn(n),fd(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(it(n),n.subtreeFlags&6&&(n.flags|=8192)):it(n),a=n.updateQueue,a!==null&&eu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&W(Sa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Us(Tt),it(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function qb(t,n){switch(Jh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Us(Tt),rt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return $a(n),null;case 31:if(n.memoizedState!==null){if(xn(n),n.alternate===null)throw Error(r(340));ba()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(xn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ba()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return W(gt),null;case 4:return rt(),null;case 10:return Us(n.type),null;case 22:case 23:return xn(n),fd(),t!==null&&W(Sa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Us(Tt),null;case 25:return null;default:return null}}function d0(t,n){switch(Jh(n),n.tag){case 3:Us(Tt),rt();break;case 26:case 27:case 5:$a(n);break;case 4:rt();break;case 31:n.memoizedState!==null&&xn(n);break;case 13:xn(n);break;case 19:W(gt);break;case 10:Us(n.type);break;case 22:case 23:xn(n),fd(),t!==null&&W(Sa);break;case 24:Us(Tt)}}function Zl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==h)}}catch(b){Ze(n,n.return,b)}}function Ai(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var y=l.inst,b=y.destroy;if(b!==void 0){y.destroy=void 0,h=n;var k=a,F=b;try{F()}catch(J){Ze(h,k,J)}}}l=l.next}while(l!==f)}}catch(J){Ze(n,n.return,J)}}function f0(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{sp(n,a)}catch(l){Ze(t,t.return,l)}}}function m0(t,n,a){a.props=Ra(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,n,l)}}function Jl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ze(t,n,h)}}function vs(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,n,h)}else a.current=null}function g0(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function Gd(t,n,a){try{var l=t.stateNode;uE(l,t.type,a,n),l[Mt]=n}catch(h){Ze(t,t.return,h)}}function p0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ji(t.type)||t.tag===4}function Yd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||p0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ji(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qd(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=qn));else if(l!==4&&(l===27&&ji(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Qd(t,n,a),t=t.sibling;t!==null;)Qd(t,n,a),t=t.sibling}function tu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&ji(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(tu(t,n,a),t=t.sibling;t!==null;)tu(t,n,a),t=t.sibling}function y0(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ft(n,l,a),n[vt]=t,n[Mt]=a}catch(f){Ze(t,t.return,f)}}var Hs=!1,Nt=!1,Kd=!1,x0=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function Hb(t,n){if(t=t.containerInfo,pf=Eu,t=Ig(t),Bh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var y=0,b=-1,k=-1,F=0,J=0,ne=t,G=null;t:for(;;){for(var K;ne!==a||h!==0&&ne.nodeType!==3||(b=y+h),ne!==f||l!==0&&ne.nodeType!==3||(k=y+l),ne.nodeType===3&&(y+=ne.nodeValue.length),(K=ne.firstChild)!==null;)G=ne,ne=K;for(;;){if(ne===t)break t;if(G===a&&++F===h&&(b=y),G===f&&++J===l&&(k=y),(K=ne.nextSibling)!==null)break;ne=G,G=ne.parentNode}ne=K}a=b===-1||k===-1?null:{start:b,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(yf={focusedElem:t,selectionRange:a},Eu=!1,Vt=n;Vt!==null;)if(n=Vt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Vt=t;else for(;Vt!==null;){switch(n=Vt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ge=Ra(a.type,h);t=l.getSnapshotBeforeUpdate(ge,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){Ze(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)vf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Vt=t;break}Vt=n.return}}function _0(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Gs(t,a),l&4&&Zl(5,a);break;case 1:if(Gs(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){Ze(a,a.return,y)}else{var h=Ra(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Ze(a,a.return,y)}}l&64&&f0(a),l&512&&Jl(a,a.return);break;case 3:if(Gs(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{sp(t,n)}catch(y){Ze(a,a.return,y)}}break;case 27:n===null&&l&4&&y0(a);case 26:case 5:Gs(t,a),n===null&&l&4&&g0(a),l&512&&Jl(a,a.return);break;case 12:Gs(t,a);break;case 31:Gs(t,a),l&4&&E0(t,a);break;case 13:Gs(t,a),l&4&&T0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Jb.bind(null,a),xE(t,a))));break;case 22:if(l=a.memoizedState!==null||Hs,!l){n=n!==null&&n.memoizedState!==null||Nt,h=Hs;var f=Nt;Hs=l,(Nt=n)&&!f?Ys(t,a,(a.subtreeFlags&8772)!==0):Gs(t,a),Hs=h,Nt=f}break;case 30:break;default:Gs(t,a)}}function v0(t){var n=t.alternate;n!==null&&(t.alternate=null,v0(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&er(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,rn=!1;function Fs(t,n,a){for(a=a.child;a!==null;)b0(t,n,a),a=a.sibling}function b0(t,n,a){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Un,a)}catch{}switch(a.tag){case 26:Nt||vs(a,n),Fs(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||vs(a,n);var l=ot,h=rn;ji(a.type)&&(ot=a.stateNode,rn=!1),Fs(t,n,a),lo(a.stateNode),ot=l,rn=h;break;case 5:Nt||vs(a,n);case 6:if(l=ot,h=rn,ot=null,Fs(t,n,a),ot=l,rn=h,ot!==null)if(rn)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(f){Ze(a,n,f)}else try{ot.removeChild(a.stateNode)}catch(f){Ze(a,n,f)}break;case 18:ot!==null&&(rn?(t=ot,fy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ur(t)):fy(ot,a.stateNode));break;case 4:l=ot,h=rn,ot=a.stateNode.containerInfo,rn=!0,Fs(t,n,a),ot=l,rn=h;break;case 0:case 11:case 14:case 15:Ai(2,a,n),Nt||Ai(4,a,n),Fs(t,n,a);break;case 1:Nt||(vs(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&m0(a,n,l)),Fs(t,n,a);break;case 21:Fs(t,n,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,Fs(t,n,a),Nt=l;break;default:Fs(t,n,a)}}function E0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ur(t)}catch(a){Ze(n,n.return,a)}}}function T0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ur(t)}catch(a){Ze(n,n.return,a)}}function Fb(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new x0),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new x0),n;default:throw Error(r(435,t.tag))}}function nu(t,n){var a=Fb(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=Wb.bind(null,t,l);l.then(h,h)}})}function ln(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,y=n,b=y;e:for(;b!==null;){switch(b.tag){case 27:if(ji(b.type)){ot=b.stateNode,rn=!1;break e}break;case 5:ot=b.stateNode,rn=!1;break e;case 3:case 4:ot=b.stateNode.containerInfo,rn=!0;break e}b=b.return}if(ot===null)throw Error(r(160));b0(f,y,h),ot=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)S0(n,t),n=n.sibling}var Kn=null;function S0(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),on(t),l&4&&(Ai(3,t,t.return),Zl(3,t),Ai(5,t,t.return));break;case 1:ln(n,t),on(t),l&512&&(Nt||a===null||vs(a,a.return)),l&64&&Hs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Kn;if(ln(n,t),on(t),l&512&&(Nt||a===null||vs(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[rs]||f[vt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Ft(f,l,a),f[vt]=t,bt(f),l=f;break e;case"link":var y=Sy("link","href",h).get(l+(a.href||""));if(y){for(var b=0;b<y.length;b++)if(f=y[b],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(b,1);break t}}f=h.createElement(l),Ft(f,l,a),h.head.appendChild(f);break;case"meta":if(y=Sy("meta","content",h).get(l+(a.content||""))){for(b=0;b<y.length;b++)if(f=y[b],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(b,1);break t}}f=h.createElement(l),Ft(f,l,a),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[vt]=t,bt(f),l=f}t.stateNode=l}else Ay(h,t.type,t.stateNode);else t.stateNode=Ty(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Ay(h,t.type,t.stateNode):Ty(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Gd(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(n,t),on(t),l&512&&(Nt||a===null||vs(a,a.return)),a!==null&&l&4&&Gd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(n,t),on(t),l&512&&(Nt||a===null||vs(a,a.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(ge){Ze(t,t.return,ge)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Gd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Kd=!0);break;case 6:if(ln(n,t),on(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ge){Ze(t,t.return,ge)}}break;case 3:if(xu=null,h=Kn,Kn=pu(n.containerInfo),ln(n,t),Kn=h,on(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ur(n.containerInfo)}catch(ge){Ze(t,t.return,ge)}Kd&&(Kd=!1,A0(t));break;case 4:l=Kn,Kn=pu(t.stateNode.containerInfo),ln(n,t),on(t),Kn=l;break;case 12:ln(n,t),on(t);break;case 31:ln(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nu(t,l)));break;case 13:ln(n,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(iu=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nu(t,l)));break;case 22:h=t.memoizedState!==null;var k=a!==null&&a.memoizedState!==null,F=Hs,J=Nt;if(Hs=F||h,Nt=J||k,ln(n,t),Nt=J,Hs=F,on(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||k||Hs||Nt||Ia(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){k=a=n;try{if(f=k.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{b=k.stateNode;var ne=k.memoizedProps.style,G=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;b.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ge){Ze(k,k.return,ge)}}}else if(n.tag===6){if(a===null){k=n;try{k.stateNode.nodeValue=h?"":k.memoizedProps}catch(ge){Ze(k,k.return,ge)}}}else if(n.tag===18){if(a===null){k=n;try{var K=k.stateNode;h?my(K,!0):my(k.stateNode,!1)}catch(ge){Ze(k,k.return,ge)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,nu(t,a))));break;case 19:ln(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nu(t,l)));break;case 30:break;case 21:break;default:ln(n,t),on(t)}}function on(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(p0(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Yd(t);tu(t,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(an(y,""),a.flags&=-33);var b=Yd(t);tu(t,b,y);break;case 3:case 4:var k=a.stateNode.containerInfo,F=Yd(t);Qd(t,F,k);break;default:throw Error(r(161))}}catch(J){Ze(t,t.return,J)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function A0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;A0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Gs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)_0(t,n.alternate,n),n=n.sibling}function Ia(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ai(4,n,n.return),Ia(n);break;case 1:vs(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&m0(n,n.return,a),Ia(n);break;case 27:lo(n.stateNode);case 26:case 5:vs(n,n.return),Ia(n);break;case 22:n.memoizedState===null&&Ia(n);break;case 30:Ia(n);break;default:Ia(n)}t=t.sibling}}function Ys(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Ys(h,f,a),Zl(4,f);break;case 1:if(Ys(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){Ze(l,l.return,F)}if(l=f,h=l.updateQueue,h!==null){var b=l.stateNode;try{var k=h.shared.hiddenCallbacks;if(k!==null)for(h.shared.hiddenCallbacks=null,h=0;h<k.length;h++)np(k[h],b)}catch(F){Ze(l,l.return,F)}}a&&y&64&&f0(f),Jl(f,f.return);break;case 27:y0(f);case 26:case 5:Ys(h,f,a),a&&l===null&&y&4&&g0(f),Jl(f,f.return);break;case 12:Ys(h,f,a);break;case 31:Ys(h,f,a),a&&y&4&&E0(h,f);break;case 13:Ys(h,f,a),a&&y&4&&T0(h,f);break;case 22:f.memoizedState===null&&Ys(h,f,a),Jl(f,f.return);break;case 30:break;default:Ys(h,f,a)}n=n.sibling}}function $d(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ul(a))}function Xd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ul(t))}function $n(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)N0(t,n,a,l),n=n.sibling}function N0(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:$n(t,n,a,l),h&2048&&Zl(9,n);break;case 1:$n(t,n,a,l);break;case 3:$n(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ul(t)));break;case 12:if(h&2048){$n(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,b=f.onPostCommit;typeof b=="function"&&b(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(k){Ze(n,n.return,k)}}else $n(t,n,a,l);break;case 31:$n(t,n,a,l);break;case 13:$n(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?$n(t,n,a,l):Wl(t,n):f._visibility&2?$n(t,n,a,l):(f._visibility|=2,wr(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&$d(y,n);break;case 24:$n(t,n,a,l),h&2048&&Xd(n.alternate,n);break;default:$n(t,n,a,l)}}function wr(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,b=a,k=l,F=y.flags;switch(y.tag){case 0:case 11:case 15:wr(f,y,b,k,h),Zl(8,y);break;case 23:break;case 22:var J=y.stateNode;y.memoizedState!==null?J._visibility&2?wr(f,y,b,k,h):Wl(f,y):(J._visibility|=2,wr(f,y,b,k,h)),h&&F&2048&&$d(y.alternate,y);break;case 24:wr(f,y,b,k,h),h&&F&2048&&Xd(y.alternate,y);break;default:wr(f,y,b,k,h)}n=n.sibling}}function Wl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:Wl(a,l),h&2048&&$d(l.alternate,l);break;case 24:Wl(a,l),h&2048&&Xd(l.alternate,l);break;default:Wl(a,l)}n=n.sibling}}var eo=8192;function Cr(t,n,a){if(t.subtreeFlags&eo)for(t=t.child;t!==null;)w0(t,n,a),t=t.sibling}function w0(t,n,a){switch(t.tag){case 26:Cr(t,n,a),t.flags&eo&&t.memoizedState!==null&&IE(a,Kn,t.memoizedState,t.memoizedProps);break;case 5:Cr(t,n,a);break;case 3:case 4:var l=Kn;Kn=pu(t.stateNode.containerInfo),Cr(t,n,a),Kn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=eo,eo=16777216,Cr(t,n,a),eo=l):Cr(t,n,a));break;default:Cr(t,n,a)}}function C0(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function to(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Vt=l,I0(l,t)}C0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)R0(t),t=t.sibling}function R0(t){switch(t.tag){case 0:case 11:case 15:to(t),t.flags&2048&&Ai(9,t,t.return);break;case 3:to(t);break;case 12:to(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,su(t)):to(t);break;default:to(t)}}function su(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Vt=l,I0(l,t)}C0(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ai(8,n,n.return),su(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,su(n));break;default:su(n)}t=t.sibling}}function I0(t,n){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:Ai(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ul(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Vt=l;else e:for(a=t;Vt!==null;){l=Vt;var h=l.sibling,f=l.return;if(v0(l),l===a){Vt=null;break e}if(h!==null){h.return=f,Vt=h;break e}Vt=f}}}var Gb={getCacheForType:function(t){var n=qt(Tt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return qt(Tt).controller.signal}},Yb=typeof WeakMap=="function"?WeakMap:Map,Qe=0,nt=null,Me=null,Ve=0,Xe=0,_n=null,Ni=!1,Rr=!1,Zd=!1,Qs=0,dt=0,wi=0,ka=0,Jd=0,vn=0,Ir=0,no=null,cn=null,Wd=!1,iu=0,k0=0,au=1/0,ru=null,Ci=null,kt=0,Ri=null,kr=null,Ks=0,ef=0,tf=null,j0=null,so=0,nf=null;function bn(){return(Qe&2)!==0&&Ve!==0?Ve&-Ve:P.T!==null?cf():lc()}function D0(){if(vn===0)if((Ve&536870912)===0||Be){var t=ia;ia<<=1,(ia&3932160)===0&&(ia=262144),vn=t}else vn=536870912;return t=yn.current,t!==null&&(t.flags|=32),vn}function un(t,n,a){(t===nt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(jr(t,0),Ii(t,Ve,vn,!1)),aa(t,a),((Qe&2)===0||t!==nt)&&(t===nt&&((Qe&2)===0&&(ka|=a),dt===4&&Ii(t,Ve,vn,!1)),bs(t))}function M0(t,n,a){if((Qe&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Pn(t,n),h=l?$b(t,n):af(t,n,!0),f=l;do{if(h===0){Rr&&!l&&Ii(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!Qb(a)){h=af(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var b=t;h=no;var k=b.current.memoizedState.isDehydrated;if(k&&(jr(b,y).flags|=256),y=af(b,y,!1),y!==2){if(Zd&&!k){b.errorRecoveryDisabledLanes|=f,ka|=f,h=4;break e}f=cn,cn=h,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){jr(t,0),Ii(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ii(l,n,vn,!Ni);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=iu+300-en(),10<h)){if(Ii(l,n,vn,!Ni),ss(l,0,!0)!==0)break e;Ks=n,l.timeoutHandle=hy(O0.bind(null,l,a,cn,ru,Wd,n,vn,ka,Ir,Ni,f,"Throttled",-0,0),h);break e}O0(l,a,cn,ru,Wd,n,vn,ka,Ir,Ni,f,null,-0,0)}}break}while(!0);bs(t)}function O0(t,n,a,l,h,f,y,b,k,F,J,ne,G,K){if(t.timeoutHandle=-1,ne=n.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},w0(n,f,ne);var ge=(f&62914560)===f?iu-en():(f&4194048)===f?k0-en():0;if(ge=kE(ne,ge),ge!==null){Ks=f,t.cancelPendingCommit=ge(H0.bind(null,t,n,f,a,l,h,y,b,k,J,ne,null,G,K)),Ii(t,f,y,!F);return}}H0(t,n,f,a,l,h,y,b,k)}function Qb(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ii(t,n,a,l){n&=~Jd,n&=~ka,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-ft(h),y=1<<f;l[f]=-1,h&=~y}a!==0&&ra(t,a,n)}function lu(){return(Qe&6)===0?(io(0),!1):!0}function sf(){if(Me!==null){if(Xe===0)var t=Me.return;else t=Me,Ls=Ea=null,_d(t),Er=null,zl=0,t=Me;for(;t!==null;)d0(t.alternate,t),t=t.return;Me=null}}function jr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,fE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ks=0,sf(),nt=t,Me=a=Os(t.current,null),Ve=n,Xe=0,_n=null,Ni=!1,Rr=Pn(t,n),Zd=!1,Ir=vn=Jd=ka=wi=dt=0,cn=no=null,Wd=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-ft(l),f=1<<h;n|=t[h],l&=~f}return Qs=n,Cc(),a}function V0(t,n){ke=null,P.H=Kl,n===br||n===Vc?(n=Jg(),Xe=3):n===ld?(n=Jg(),Xe=4):Xe=n===Od?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,Me===null&&(dt=1,Xc(t,Cn(n,t.current)))}function L0(){var t=yn.current;return t===null?!0:(Ve&4194048)===Ve?jn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===jn:!1}function U0(){var t=P.H;return P.H=Kl,t===null?Kl:t}function P0(){var t=P.A;return P.A=Gb,t}function ou(){dt=4,Ni||(Ve&4194048)!==Ve&&yn.current!==null||(Rr=!0),(wi&134217727)===0&&(ka&134217727)===0||nt===null||Ii(nt,Ve,vn,!1)}function af(t,n,a){var l=Qe;Qe|=2;var h=U0(),f=P0();(nt!==t||Ve!==n)&&(ru=null,jr(t,n)),n=!1;var y=dt;e:do try{if(Xe!==0&&Me!==null){var b=Me,k=_n;switch(Xe){case 8:sf(),y=6;break e;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var F=Xe;if(Xe=0,_n=null,Dr(t,b,k,F),a&&Rr){y=0;break e}break;default:F=Xe,Xe=0,_n=null,Dr(t,b,k,F)}}Kb(),y=dt;break}catch(J){V0(t,J)}while(!0);return n&&t.shellSuspendCounter++,Ls=Ea=null,Qe=l,P.H=h,P.A=f,Me===null&&(nt=null,Ve=0,Cc()),y}function Kb(){for(;Me!==null;)z0(Me)}function $b(t,n){var a=Qe;Qe|=2;var l=U0(),h=P0();nt!==t||Ve!==n?(ru=null,au=en()+500,jr(t,n)):Rr=Pn(t,n);e:do try{if(Xe!==0&&Me!==null){n=Me;var f=_n;t:switch(Xe){case 1:Xe=0,_n=null,Dr(t,n,f,1);break;case 2:case 9:if(Xg(f)){Xe=0,_n=null,B0(n);break}n=function(){Xe!==2&&Xe!==9||nt!==t||(Xe=7),bs(t)},f.then(n,n);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Xg(f)?(Xe=0,_n=null,B0(n)):(Xe=0,_n=null,Dr(t,n,f,7));break;case 5:var y=null;switch(Me.tag){case 26:y=Me.memoizedState;case 5:case 27:var b=Me;if(y?Ny(y):b.stateNode.complete){Xe=0,_n=null;var k=b.sibling;if(k!==null)Me=k;else{var F=b.return;F!==null?(Me=F,cu(F)):Me=null}break t}}Xe=0,_n=null,Dr(t,n,f,5);break;case 6:Xe=0,_n=null,Dr(t,n,f,6);break;case 8:sf(),dt=6;break e;default:throw Error(r(462))}}Xb();break}catch(J){V0(t,J)}while(!0);return Ls=Ea=null,P.H=l,P.A=h,Qe=a,Me!==null?0:(nt=null,Ve=0,Cc(),dt)}function Xb(){for(;Me!==null&&!Mh();)z0(Me)}function z0(t){var n=u0(t.alternate,t,Qs);t.memoizedProps=t.pendingProps,n===null?cu(t):Me=n}function B0(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=i0(a,n,n.pendingProps,n.type,void 0,Ve);break;case 11:n=i0(a,n,n.pendingProps,n.type.render,n.ref,Ve);break;case 5:_d(n);default:d0(a,n),n=Me=Pg(n,Qs),n=u0(a,n,Qs)}t.memoizedProps=t.pendingProps,n===null?cu(t):Me=n}function Dr(t,n,a,l){Ls=Ea=null,_d(n),Er=null,zl=0;var h=n.return;try{if(Ub(t,h,n,a,Ve)){dt=1,Xc(t,Cn(a,t.current)),Me=null;return}}catch(f){if(h!==null)throw Me=h,f;dt=1,Xc(t,Cn(a,t.current)),Me=null;return}n.flags&32768?(Be||l===1?t=!0:Rr||(Ve&536870912)!==0?t=!1:(Ni=t=!0,(l===2||l===9||l===3||l===6)&&(l=yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),q0(n,t)):cu(n)}function cu(t){var n=t;do{if((n.flags&32768)!==0){q0(n,Ni);return}t=n.return;var a=Bb(n.alternate,n,Qs);if(a!==null){Me=a;return}if(n=n.sibling,n!==null){Me=n;return}Me=n=t}while(n!==null);dt===0&&(dt=5)}function q0(t,n){do{var a=qb(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);dt=6,Me=null}function H0(t,n,a,l,h,f,y,b,k){t.cancelPendingCommit=null;do uu();while(kt!==0);if((Qe&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Yh,Lh(t,a,f,y,b,k),t===nt&&(Me=nt=null,Ve=0),kr=n,Ri=t,Ks=a,ef=f,tf=h,j0=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,eE(ri,function(){return K0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=P.T,P.T=null,h=te.p,te.p=2,y=Qe,Qe|=4;try{Hb(t,n,a)}finally{Qe=y,te.p=h,P.T=l}}kt=1,F0(),G0(),Y0()}}function F0(){if(kt===1){kt=0;var t=Ri,n=kr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=P.T,P.T=null;var l=te.p;te.p=2;var h=Qe;Qe|=4;try{S0(n,t);var f=yf,y=Ig(t.containerInfo),b=f.focusedElem,k=f.selectionRange;if(y!==b&&b&&b.ownerDocument&&Rg(b.ownerDocument.documentElement,b)){if(k!==null&&Bh(b)){var F=k.start,J=k.end;if(J===void 0&&(J=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(J,b.value.length);else{var ne=b.ownerDocument||document,G=ne&&ne.defaultView||window;if(G.getSelection){var K=G.getSelection(),ge=b.textContent.length,Ee=Math.min(k.start,ge),tt=k.end===void 0?Ee:Math.min(k.end,ge);!K.extend&&Ee>tt&&(y=tt,tt=Ee,Ee=y);var U=Cg(b,Ee),O=Cg(b,tt);if(U&&O&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==O.node||K.focusOffset!==O.offset)){var H=ne.createRange();H.setStart(U.node,U.offset),K.removeAllRanges(),Ee>tt?(K.addRange(H),K.extend(O.node,O.offset)):(H.setEnd(O.node,O.offset),K.addRange(H))}}}}for(ne=[],K=b;K=K.parentNode;)K.nodeType===1&&ne.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ne.length;b++){var ee=ne[b];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Eu=!!pf,yf=pf=null}finally{Qe=h,te.p=l,P.T=a}}t.current=n,kt=2}}function G0(){if(kt===2){kt=0;var t=Ri,n=kr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=P.T,P.T=null;var l=te.p;te.p=2;var h=Qe;Qe|=4;try{_0(t,n.alternate,n)}finally{Qe=h,te.p=l,P.T=a}}kt=3}}function Y0(){if(kt===4||kt===3){kt=0,ec();var t=Ri,n=kr,a=Ks,l=j0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?kt=5:(kt=0,kr=Ri=null,Q0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ci=null),ks(a),n=n.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=P.T,h=te.p,te.p=2,P.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var b=l[y];f(b.value,{componentStack:b.stack})}}finally{P.T=n,te.p=h}}(Ks&3)!==0&&uu(),bs(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===nf?so++:(so=0,nf=t):so=0,io(0)}}function Q0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ul(n)))}function uu(){return F0(),G0(),Y0(),K0()}function K0(){if(kt!==5)return!1;var t=Ri,n=ef;ef=0;var a=ks(Ks),l=P.T,h=te.p;try{te.p=32>a?32:a,P.T=null,a=tf,tf=null;var f=Ri,y=Ks;if(kt=0,kr=Ri=null,Ks=0,(Qe&6)!==0)throw Error(r(331));var b=Qe;if(Qe|=4,R0(f.current),N0(f,f.current,y,a),Qe=b,io(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Un,f)}catch{}return!0}finally{te.p=h,P.T=l,Q0(t,n)}}function $0(t,n,a){n=Cn(a,n),n=Md(t.stateNode,n,2),t=Ei(t,n,2),t!==null&&(aa(t,2),bs(t))}function Ze(t,n,a){if(t.tag===3)$0(t,t,a);else for(;n!==null;){if(n.tag===3){$0(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ci===null||!Ci.has(l))){t=Cn(a,t),a=Xp(2),l=Ei(n,a,2),l!==null&&(Zp(a,l,n,t),aa(l,2),bs(l));break}}n=n.return}}function rf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Yb;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(Zd=!0,h.add(a),t=Zb.bind(null,t,n,a),n.then(t,t))}function Zb(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Ve&a)===a&&(dt===4||dt===3&&(Ve&62914560)===Ve&&300>en()-iu?(Qe&2)===0&&jr(t,0):Jd|=a,Ir===Ve&&(Ir=0)),bs(t)}function X0(t,n){n===0&&(n=rc()),t=_a(t,n),t!==null&&(aa(t,n),bs(t))}function Jb(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),X0(t,a)}function Wb(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),X0(t,a)}function eE(t,n){return It(t,n)}var hu=null,Mr=null,lf=!1,du=!1,of=!1,ki=0;function bs(t){t!==Mr&&t.next===null&&(Mr===null?hu=Mr=t:Mr=Mr.next=t),du=!0,lf||(lf=!0,nE())}function io(t,n){if(!of&&du){of=!0;do for(var a=!1,l=hu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var y=l.suspendedLanes,b=l.pingedLanes;f=(1<<31-ft(42|t)+1)-1,f&=h&~(y&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,ey(l,f))}else f=Ve,f=ss(l,l===nt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Pn(l,f)||(a=!0,ey(l,f));l=l.next}while(a);of=!1}}function tE(){Z0()}function Z0(){du=lf=!1;var t=0;ki!==0&&dE()&&(t=ki);for(var n=en(),a=null,l=hu;l!==null;){var h=l.next,f=J0(l,n);f===0?(l.next=null,a===null?hu=h:a.next=h,h===null&&(Mr=a)):(a=l,(t!==0||(f&3)!==0)&&(du=!0)),l=h}kt!==0&&kt!==5||io(t),ki!==0&&(ki=0)}function J0(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-ft(f),b=1<<y,k=h[y];k===-1?((b&a)===0||(b&l)!==0)&&(h[y]=Vh(b,n)):k<=n&&(t.expiredLanes|=b),f&=~b}if(n=nt,a=Ve,a=ss(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ai(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Pn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&ai(l),ks(a)){case 2:case 8:a=ml;break;case 32:a=ri;break;case 268435456:a=tc;break;default:a=ri}return l=W0.bind(null,t),a=It(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&ai(l),t.callbackPriority=2,t.callbackNode=null,2}function W0(t,n){if(kt!==0&&kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(uu()&&t.callbackNode!==a)return null;var l=Ve;return l=ss(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(M0(t,l,n),J0(t,en()),t.callbackNode!=null&&t.callbackNode===a?W0.bind(null,t):null)}function ey(t,n){if(uu())return null;M0(t,n,!0)}function nE(){mE(function(){(Qe&6)!==0?It(fl,tE):Z0()})}function cf(){if(ki===0){var t=_r;t===0&&(t=ts,ts<<=1,(ts&261888)===0&&(ts=256)),ki=t}return ki}function ty(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ir(""+t)}function ny(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function sE(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=ty((h[Mt]||null).action),y=l.submitter;y&&(n=(n=y[Mt]||null)?ty(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var b=new ms("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ki!==0){var k=y?ny(h,y):new FormData(h);Cd(a,{pending:!0,data:k,method:h.method,action:f},null,k)}}else typeof f=="function"&&(b.preventDefault(),k=y?ny(h,y):new FormData(h),Cd(a,{pending:!0,data:k,method:h.method,action:f},f,k))},currentTarget:h}]})}}for(var uf=0;uf<Gh.length;uf++){var hf=Gh[uf],iE=hf.toLowerCase(),aE=hf[0].toUpperCase()+hf.slice(1);Qn(iE,"on"+aE)}Qn(Dg,"onAnimationEnd"),Qn(Mg,"onAnimationIteration"),Qn(Og,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(bb,"onTransitionRun"),Qn(Eb,"onTransitionStart"),Qn(Tb,"onTransitionCancel"),Qn(Vg,"onTransitionEnd"),us("onMouseEnter",["mouseout","mouseover"]),us("onMouseLeave",["mouseout","mouseover"]),us("onPointerEnter",["pointerout","pointerover"]),us("onPointerLeave",["pointerout","pointerover"]),cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cs("onBeforeInput",["compositionend","keypress","textInput","paste"]),cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ao));function sy(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var b=l[y],k=b.instance,F=b.currentTarget;if(b=b.listener,k!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=F;try{f(h)}catch(J){wc(J)}h.currentTarget=null,f=k}else for(y=0;y<l.length;y++){if(b=l[y],k=b.instance,F=b.currentTarget,b=b.listener,k!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=F;try{f(h)}catch(J){wc(J)}h.currentTarget=null,f=k}}}}function Oe(t,n){var a=n[Wa];a===void 0&&(a=n[Wa]=new Set);var l=t+"__bubble";a.has(l)||(iy(n,t,2,!1),a.add(l))}function df(t,n,a){var l=0;n&&(l|=4),iy(a,t,l,n)}var fu="_reactListening"+Math.random().toString(36).slice(2);function ff(t){if(!t[fu]){t[fu]=!0,yl.forEach(function(a){a!=="selectionchange"&&(rE.has(a)||df(a,!1,t),df(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[fu]||(n[fu]=!0,df("selectionchange",!1,n))}}function iy(t,n,a,l){switch(Dy(n)){case 2:var h=ME;break;case 8:h=OE;break;default:h=Cf}a=h.bind(null,n,a,t),h=void 0,!ha||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function mf(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var b=l.stateNode.containerInfo;if(b===h)break;if(y===4)for(y=l.return;y!==null;){var k=y.tag;if((k===3||k===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;b!==null;){if(y=ls(b),y===null)return;if(k=y.tag,k===5||k===6||k===26||k===27){l=f=y;continue e}b=b.parentNode}}l=l.return}di(function(){var F=f,J=Sn(a),ne=[];e:{var G=Lg.get(t);if(G!==void 0){var K=ms,ge=t;switch(t){case"keypress":if(fa(a)===0)break e;case"keydown":case"keyup":K=Sc;break;case"focusin":ge="focus",K=ga;break;case"focusout":ge="blur",K=ga;break;case"beforeblur":case"afterblur":K=ga;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=gc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=g;break;case Dg:case Mg:case Og:K=yc;break;case Vg:K=S;break;case"scroll":case"scrollend":K=Rl;break;case"wheel":K=Q;break;case"copy":case"cut":case"paste":K=xc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Ms;break;case"toggle":case"beforetoggle":K=Ie}var Ee=(n&4)!==0,tt=!Ee&&(t==="scroll"||t==="scrollend"),U=Ee?G!==null?G+"Capture":null:G;Ee=[];for(var O=F,H;O!==null;){var ee=O;if(H=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||H===null||U===null||(ee=Hn(O,U),ee!=null&&Ee.push(ro(O,ee,H))),tt)break;O=O.return}0<Ee.length&&(G=new K(G,ge,null,a,J),ne.push({event:G,listeners:Ee}))}}if((n&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",G&&a!==Nl&&(ge=a.relatedTarget||a.fromElement)&&(ls(ge)||ge[as]))break e;if((K||G)&&(G=J.window===J?J:(G=J.ownerDocument)?G.defaultView||G.parentWindow:window,K?(ge=a.relatedTarget||a.toElement,K=F,ge=ge?ls(ge):null,ge!==null&&(tt=u(ge),Ee=ge.tag,ge!==tt||Ee!==5&&Ee!==27&&Ee!==6)&&(ge=null)):(K=null,ge=F),K!==ge)){if(Ee=Il,ee="onMouseLeave",U="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=Ms,ee="onPointerLeave",U="onPointerEnter",O="pointer"),tt=K==null?G:fn(K),H=ge==null?G:fn(ge),G=new Ee(ee,O+"leave",K,a,J),G.target=tt,G.relatedTarget=H,ee=null,ls(J)===F&&(Ee=new Ee(U,O+"enter",ge,a,J),Ee.target=H,Ee.relatedTarget=tt,ee=Ee),tt=ee,K&&ge)t:{for(Ee=lE,U=K,O=ge,H=0,ee=U;ee;ee=Ee(ee))H++;ee=0;for(var _e=O;_e;_e=Ee(_e))ee++;for(;0<H-ee;)U=Ee(U),H--;for(;0<ee-H;)O=Ee(O),ee--;for(;H--;){if(U===O||O!==null&&U===O.alternate){Ee=U;break t}U=Ee(U),O=Ee(O)}Ee=null}else Ee=null;K!==null&&ay(ne,G,K,Ee,!1),ge!==null&&tt!==null&&ay(ne,tt,ge,Ee,!0)}}e:{if(G=F?fn(F):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var Fe=Eg;else if(vg(G))if(Tg)Fe=xb;else{Fe=pb;var pe=gb}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&sr(F.elementType)&&(Fe=Eg):Fe=yb;if(Fe&&(Fe=Fe(t,F))){bg(ne,Fe,a,J);break e}pe&&pe(t,G,F),t==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&Tl(G,"number",G.value)}switch(pe=F?fn(F):window,t){case"focusin":(vg(pe)||pe.contentEditable==="true")&&(hr=pe,qh=F,Ol=null);break;case"focusout":Ol=qh=hr=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,kg(ne,a,J);break;case"selectionchange":if(vb)break;case"keydown":case"keyup":kg(ne,a,J)}var De;if(Ye)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else ur?pa(t,a)&&(Le="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Le="onCompositionStart");Le&&(ys&&a.locale!=="ko"&&(ur||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&ur&&(De=Cl()):(fs=J,wl="value"in fs?fs.value:fs.textContent,ur=!0)),pe=mu(F,Le),0<pe.length&&(Le=new ps(Le,t,null,a,J),ne.push({event:Le,listeners:pe}),De?Le.data=De:(De=cr(a),De!==null&&(Le.data=De)))),(De=Nn?hb(t,a):db(t,a))&&(Le=mu(F,"onBeforeInput"),0<Le.length&&(pe=new ps("onBeforeInput","beforeinput",null,a,J),ne.push({event:pe,listeners:Le}),pe.data=De)),sE(ne,t,F,a,J)}sy(ne,n)})}function ro(t,n,a){return{instance:t,listener:n,currentTarget:a}}function mu(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Hn(t,a),h!=null&&l.unshift(ro(t,h,f)),h=Hn(t,n),h!=null&&l.push(ro(t,h,f))),t.tag===3)return l;t=t.return}return[]}function lE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ay(t,n,a,l,h){for(var f=n._reactName,y=[];a!==null&&a!==l;){var b=a,k=b.alternate,F=b.stateNode;if(b=b.tag,k!==null&&k===l)break;b!==5&&b!==26&&b!==27||F===null||(k=F,h?(F=Hn(a,f),F!=null&&y.unshift(ro(a,F,k))):h||(F=Hn(a,f),F!=null&&y.push(ro(a,F,k)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var oE=/\r\n?/g,cE=/\u0000|\uFFFD/g;function ry(t){return(typeof t=="string"?t:""+t).replace(oE,`
`).replace(cE,"")}function ly(t,n){return n=ry(n),ry(t)===n}function et(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&an(t,""+l);break;case"className":mn(t,"class",l);break;case"tabIndex":mn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(t,a,l);break;case"style":Al(t,l,f);break;case"data":if(n!=="object"){mn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ir(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&et(t,n,"name",h.name,h,null),et(t,n,"formEncType",h.formEncType,h,null),et(t,n,"formMethod",h.formMethod,h,null),et(t,n,"formTarget",h.formTarget,h,null)):(et(t,n,"encType",h.encType,h,null),et(t,n,"method",h.method,h,null),et(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ir(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=qn);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ir(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),tr(t,"popover",l);break;case"xlinkActuate":Et(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Et(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Et(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Et(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Et(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Et(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Et(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Et(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Et(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":tr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mc.get(a)||a,tr(t,a,l))}}function gf(t,n,a,l,h,f){switch(a){case"style":Al(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Mt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):tr(t,a,l)}}}function Ft(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:et(t,n,f,y,a,null)}}h&&et(t,n,"srcSet",a.srcSet,a,null),l&&et(t,n,"src",a.src,a,null);return;case"input":Oe("invalid",t);var b=f=y=h=null,k=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":h=J;break;case"type":y=J;break;case"checked":k=J;break;case"defaultChecked":F=J;break;case"value":f=J;break;case"defaultValue":b=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,n));break;default:et(t,n,l,J,a,null)}}hc(t,f,b,k,F,y,h,!1);return;case"select":Oe("invalid",t),l=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":y=b;break;case"multiple":l=b;default:et(t,n,h,b,a,null)}n=f,a=y,t.multiple=!!l,n!=null?oi(t,!!l,n,!1):a!=null&&oi(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),f=h=l=null;for(y in a)if(a.hasOwnProperty(y)&&(b=a[y],b!=null))switch(y){case"value":l=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:et(t,n,y,b,a,null)}ci(t,l,h,f);return;case"option":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(t,n,k,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<ao.length;l++)Oe(ao[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:et(t,n,F,l,a,null)}return;default:if(sr(n)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&gf(t,n,J,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&et(t,n,b,l,a,null))}function uE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,b=null,k=null,F=null,J=null;for(K in a){var ne=a[K];if(a.hasOwnProperty(K)&&ne!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":k=ne;default:l.hasOwnProperty(K)||et(t,n,K,null,l,ne)}}for(var G in l){var K=l[G];if(ne=a[G],l.hasOwnProperty(G)&&(K!=null||ne!=null))switch(G){case"type":f=K;break;case"name":h=K;break;case"checked":F=K;break;case"defaultChecked":J=K;break;case"value":y=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,n));break;default:K!==ne&&et(t,n,G,K,l,ne)}}nr(t,y,b,k,F,J,f,h);return;case"select":K=y=b=G=null;for(f in a)if(k=a[f],a.hasOwnProperty(f)&&k!=null)switch(f){case"value":break;case"multiple":K=k;default:l.hasOwnProperty(f)||et(t,n,f,null,l,k)}for(h in l)if(f=l[h],k=a[h],l.hasOwnProperty(h)&&(f!=null||k!=null))switch(h){case"value":G=f;break;case"defaultValue":b=f;break;case"multiple":y=f;default:f!==k&&et(t,n,h,f,l,k)}n=b,a=y,l=K,G!=null?oi(t,!!a,G,!1):!!l!=!!a&&(n!=null?oi(t,!!a,n,!0):oi(t,!!a,a?[]:"",!1));return;case"textarea":K=G=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:et(t,n,b,null,l,h)}for(y in l)if(h=l[y],f=a[y],l.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":G=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&et(t,n,y,h,l,f)}dc(t,G,K);return;case"option":for(var ge in a)if(G=a[ge],a.hasOwnProperty(ge)&&G!=null&&!l.hasOwnProperty(ge))switch(ge){case"selected":t.selected=!1;break;default:et(t,n,ge,null,l,G)}for(k in l)if(G=l[k],K=a[k],l.hasOwnProperty(k)&&G!==K&&(G!=null||K!=null))switch(k){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:et(t,n,k,G,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)G=a[Ee],a.hasOwnProperty(Ee)&&G!=null&&!l.hasOwnProperty(Ee)&&et(t,n,Ee,null,l,G);for(F in l)if(G=l[F],K=a[F],l.hasOwnProperty(F)&&G!==K&&(G!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:et(t,n,F,G,l,K)}return;default:if(sr(n)){for(var tt in a)G=a[tt],a.hasOwnProperty(tt)&&G!==void 0&&!l.hasOwnProperty(tt)&&gf(t,n,tt,void 0,l,G);for(J in l)G=l[J],K=a[J],!l.hasOwnProperty(J)||G===K||G===void 0&&K===void 0||gf(t,n,J,G,l,K);return}}for(var U in a)G=a[U],a.hasOwnProperty(U)&&G!=null&&!l.hasOwnProperty(U)&&et(t,n,U,null,l,G);for(ne in l)G=l[ne],K=a[ne],!l.hasOwnProperty(ne)||G===K||G==null&&K==null||et(t,n,ne,G,l,K)}function oy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,y=h.initiatorType,b=h.duration;if(f&&b&&oy(y)){for(y=0,b=h.responseEnd,l+=1;l<a.length;l++){var k=a[l],F=k.startTime;if(F>b)break;var J=k.transferSize,ne=k.initiatorType;J&&oy(ne)&&(k=k.responseEnd,y+=J*(k<b?1:(b-F)/(k-F)))}if(--l,n+=8*(f+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var pf=null,yf=null;function gu(t){return t.nodeType===9?t:t.ownerDocument}function cy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function xf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _f=null;function dE(){var t=window.event;return t&&t.type==="popstate"?t===_f?!1:(_f=t,!0):(_f=null,!1)}var hy=typeof setTimeout=="function"?setTimeout:void 0,fE=typeof clearTimeout=="function"?clearTimeout:void 0,dy=typeof Promise=="function"?Promise:void 0,mE=typeof queueMicrotask=="function"?queueMicrotask:typeof dy<"u"?function(t){return dy.resolve(null).then(t).catch(gE)}:hy;function gE(t){setTimeout(function(){throw t})}function ji(t){return t==="head"}function fy(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Ur(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")lo(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,lo(a);for(var f=a.firstChild;f;){var y=f.nextSibling,b=f.nodeName;f[rs]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&lo(t.ownerDocument.body);a=h}while(a);Ur(n)}function my(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function vf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":vf(a),er(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function pE(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[rs])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Dn(t.nextSibling),t===null)break}return null}function yE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Dn(t.nextSibling),t===null))return null;return t}function gy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Dn(t.nextSibling),t===null))return null;return t}function bf(t){return t.data==="$?"||t.data==="$~"}function Ef(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function xE(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Dn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Tf=null;function py(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Dn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function yy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function xy(t,n,a){switch(n=gu(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function lo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);er(t)}var Mn=new Map,_y=new Set;function pu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var $s=te.d;te.d={f:_E,r:vE,D:bE,C:EE,L:TE,m:SE,X:NE,S:AE,M:wE};function _E(){var t=$s.f(),n=lu();return t||n}function vE(t){var n=Tn(t);n!==null&&n.tag===5&&n.type==="form"?Vp(n):$s.r(t)}var Or=typeof document>"u"?null:document;function vy(t,n,a){var l=Or;if(l&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),_y.has(h)||(_y.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ft(n,"link",t),bt(n),l.head.appendChild(n)))}}function bE(t){$s.D(t),vy("dns-prefetch",t,null)}function EE(t,n){$s.C(t,n),vy("preconnect",t,n)}function TE(t,n,a){$s.L(t,n,a);var l=Or;if(l&&t&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(t)+'"]';var f=h;switch(n){case"style":f=Vr(t);break;case"script":f=Lr(t)}Mn.has(f)||(t=T({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Mn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(oo(f))||n==="script"&&l.querySelector(co(f))||(n=l.createElement("link"),Ft(n,"link",t),bt(n),l.head.appendChild(n)))}}function SE(t,n){$s.m(t,n);var a=Or;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Lr(t)}if(!Mn.has(f)&&(t=T({rel:"modulepreload",href:t},n),Mn.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(co(f)))return}l=a.createElement("link"),Ft(l,"link",t),bt(l),a.head.appendChild(l)}}}function AE(t,n,a){$s.S(t,n,a);var l=Or;if(l&&t){var h=os(l).hoistableStyles,f=Vr(t);n=n||"default";var y=h.get(f);if(!y){var b={loading:0,preload:null};if(y=l.querySelector(oo(f)))b.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Mn.get(f))&&Sf(t,a);var k=y=l.createElement("link");bt(k),Ft(k,"link",t),k._p=new Promise(function(F,J){k.onload=F,k.onerror=J}),k.addEventListener("load",function(){b.loading|=1}),k.addEventListener("error",function(){b.loading|=2}),b.loading|=4,yu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:b},h.set(f,y)}}}function NE(t,n){$s.X(t,n);var a=Or;if(a&&t){var l=os(a).hoistableScripts,h=Lr(t),f=l.get(h);f||(f=a.querySelector(co(h)),f||(t=T({src:t,async:!0},n),(n=Mn.get(h))&&Af(t,n),f=a.createElement("script"),bt(f),Ft(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function wE(t,n){$s.M(t,n);var a=Or;if(a&&t){var l=os(a).hoistableScripts,h=Lr(t),f=l.get(h);f||(f=a.querySelector(co(h)),f||(t=T({src:t,async:!0,type:"module"},n),(n=Mn.get(h))&&Af(t,n),f=a.createElement("script"),bt(f),Ft(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function by(t,n,a,l){var h=(h=Ne.current)?pu(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Vr(a.href),a=os(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Vr(a.href);var f=os(h).hoistableStyles,y=f.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=h.querySelector(oo(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Mn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(t,a),f||CE(h,t,a,y.state))),n&&l===null)throw Error(r(528,""));return y}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Lr(a),a=os(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Vr(t){return'href="'+sn(t)+'"'}function oo(t){return'link[rel="stylesheet"]['+t+"]"}function Ey(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function CE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ft(n,"link",a),bt(n),t.head.appendChild(n))}function Lr(t){return'[src="'+sn(t)+'"]'}function co(t){return"script[async]"+t}function Ty(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+sn(a.href)+'"]');if(l)return n.instance=l,bt(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),bt(l),Ft(l,"style",h),yu(l,a.precedence,t),n.instance=l;case"stylesheet":h=Vr(a.href);var f=t.querySelector(oo(h));if(f)return n.state.loading|=4,n.instance=f,bt(f),f;l=Ey(a),(h=Mn.get(h))&&Sf(l,h),f=(t.ownerDocument||t).createElement("link"),bt(f);var y=f;return y._p=new Promise(function(b,k){y.onload=b,y.onerror=k}),Ft(f,"link",l),n.state.loading|=4,yu(f,a.precedence,t),n.instance=f;case"script":return f=Lr(a.src),(h=t.querySelector(co(f)))?(n.instance=h,bt(h),h):(l=a,(h=Mn.get(f))&&(l=T({},a),Af(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),bt(h),Ft(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,yu(l,a.precedence,t));return n.instance}function yu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,y=0;y<l.length;y++){var b=l[y];if(b.dataset.precedence===n)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Sf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Af(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var xu=null;function Sy(t,n,a){if(xu===null){var l=new Map,h=xu=new Map;h.set(a,l)}else h=xu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[rs]||f[vt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var b=l.get(y);b?b.push(f):l.set(y,[f])}}return l}function Ay(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function RE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ny(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function IE(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Vr(l.href),f=n.querySelector(oo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=_u.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,bt(f);return}f=n.ownerDocument||n,l=Ey(l),(h=Mn.get(h))&&Sf(l,h),f=f.createElement("link"),bt(f);var y=f;y._p=new Promise(function(b,k){y.onload=b,y.onerror=k}),Ft(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=_u.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Nf=0;function kE(t,n){return t.stylesheets&&t.count===0&&bu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&bu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Nf===0&&(Nf=62500*hE());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&bu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Nf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function _u(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var vu=null;function bu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,vu=new Map,n.forEach(jE,t),vu=null,_u.call(t))}function jE(t,n){if(!(n.state.loading&4)){var a=vu.get(t);if(a)var l=a.get(null);else{a=new Map,vu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}h=n.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,h),a.set(y,h),this.count++,l=_u.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var uo={$$typeof:M,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function DE(t,n,a,l,h,f,y,b,k){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=is(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=is(0),this.hiddenUpdates=is(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function wy(t,n,a,l,h,f,y,b,k,F,J,ne){return t=new DE(t,n,a,y,k,F,J,ne,b),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),t.current=f,f.stateNode=t,n=id(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},od(f),t}function Cy(t){return t?(t=mr,t):mr}function Ry(t,n,a,l,h,f){h=Cy(h),l.context===null?l.context=h:l.pendingContext=h,l=bi(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Ei(t,l,n),a!==null&&(un(a,t,n),ql(a,t,n))}function Iy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function wf(t,n){Iy(t,n),(t=t.alternate)&&Iy(t,n)}function ky(t){if(t.tag===13||t.tag===31){var n=_a(t,67108864);n!==null&&un(n,t,67108864),wf(t,67108864)}}function jy(t){if(t.tag===13||t.tag===31){var n=bn();n=la(n);var a=_a(t,n);a!==null&&un(a,t,n),wf(t,n)}}var Eu=!0;function ME(t,n,a,l){var h=P.T;P.T=null;var f=te.p;try{te.p=2,Cf(t,n,a,l)}finally{te.p=f,P.T=h}}function OE(t,n,a,l){var h=P.T;P.T=null;var f=te.p;try{te.p=8,Cf(t,n,a,l)}finally{te.p=f,P.T=h}}function Cf(t,n,a,l){if(Eu){var h=Rf(l);if(h===null)mf(t,n,l,Tu,a),My(t,l);else if(LE(h,t,n,a,l))l.stopPropagation();else if(My(t,l),n&4&&-1<VE.indexOf(t)){for(;h!==null;){var f=Tn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=ns(f.pendingLanes);if(y!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;y;){var k=1<<31-ft(y);b.entanglements[1]|=k,y&=~k}bs(f),(Qe&6)===0&&(au=en()+500,io(0))}}break;case 31:case 13:b=_a(f,2),b!==null&&un(b,f,2),lu(),wf(f,2)}if(f=Rf(l),f===null&&mf(t,n,l,Tu,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else mf(t,n,l,null,a)}}function Rf(t){return t=Sn(t),If(t)}var Tu=null;function If(t){if(Tu=null,t=ls(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=m(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Tu=t,null}function Dy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sa()){case fl:return 2;case ml:return 8;case ri:case Oh:return 32;case tc:return 268435456;default:return 32}default:return 32}}var kf=!1,Di=null,Mi=null,Oi=null,ho=new Map,fo=new Map,Vi=[],VE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function My(t,n){switch(t){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":Mi=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":ho.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fo.delete(n.pointerId)}}function mo(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Tn(n),n!==null&&ky(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function LE(t,n,a,l,h){switch(n){case"focusin":return Di=mo(Di,t,n,a,l,h),!0;case"dragenter":return Mi=mo(Mi,t,n,a,l,h),!0;case"mouseover":return Oi=mo(Oi,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return ho.set(f,mo(ho.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,fo.set(f,mo(fo.get(f)||null,t,n,a,l,h)),!0}return!1}function Oy(t){var n=ls(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=m(a),n!==null){t.blockedOn=n,zn(t.priority,function(){jy(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,zn(t.priority,function(){jy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Su(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Rf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Nl=l,a.target.dispatchEvent(l),Nl=null}else return n=Tn(a),n!==null&&ky(n),t.blockedOn=a,!1;n.shift()}return!0}function Vy(t,n,a){Su(t)&&a.delete(n)}function UE(){kf=!1,Di!==null&&Su(Di)&&(Di=null),Mi!==null&&Su(Mi)&&(Mi=null),Oi!==null&&Su(Oi)&&(Oi=null),ho.forEach(Vy),fo.forEach(Vy)}function Au(t,n){t.blockedOn===n&&(t.blockedOn=null,kf||(kf=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,UE)))}var Nu=null;function Ly(t){Nu!==t&&(Nu=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Nu===t&&(Nu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(If(l||a)===null)continue;break}var f=Tn(a);f!==null&&(t.splice(n,3),n-=3,Cd(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ur(t){function n(k){return Au(k,t)}Di!==null&&Au(Di,t),Mi!==null&&Au(Mi,t),Oi!==null&&Au(Oi,t),ho.forEach(n),fo.forEach(n);for(var a=0;a<Vi.length;a++){var l=Vi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Vi.length&&(a=Vi[0],a.blockedOn===null);)Oy(a),a.blockedOn===null&&Vi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],y=h[Mt]||null;if(typeof f=="function")y||Ly(a);else if(y){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Mt]||null)b=y.formAction;else if(If(h)!==null)continue}else b=y.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),Ly(a)}}}function Uy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function jf(t){this._internalRoot=t}wu.prototype.render=jf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=bn();Ry(a,l,t,n,null,null)},wu.prototype.unmount=jf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Ry(t.current,2,null,t,null,null),lu(),n[as]=null}};function wu(t){this._internalRoot=t}wu.prototype.unstable_scheduleHydration=function(t){if(t){var n=lc();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Vi.length&&n!==0&&n<Vi[a].priority;a++);Vi.splice(a,0,t),a===0&&Oy(t)}};var Py=e.version;if(Py!=="19.2.1")throw Error(r(527,Py,"19.2.1"));te.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var PE={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cu.isDisabled&&Cu.supportsFiber)try{Un=Cu.inject(PE),Pt=Cu}catch{}}return po.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",h=Yp,f=Qp,y=Kp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=wy(t,1,!1,null,null,a,l,null,h,f,y,Uy),t[as]=n.current,ff(t),new jf(n)},po.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,h="",f=Yp,y=Qp,b=Kp,k=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(k=a.formState)),n=wy(t,1,!0,n,a??null,l,h,k,f,y,b,Uy),n.context=Cy(null),a=n.current,l=bn(),l=la(l),h=bi(l),h.callback=null,Ei(a,h,l),a=l,n.current.lanes=a,aa(n,a),bs(n),t[as]=n.current,ff(t),new wu(n)},po.version="19.2.1",po}var $y;function $E(){if($y)return Of.exports;$y=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Of.exports=KE(),Of.exports}var XE=$E();const ZE=()=>{};var Xy={};const I_=function(i){const e=[];let s=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[s++]=o:o<2048?(e[s++]=o>>6|192,e[s++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[s++]=o>>18|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128,e[s++]=o&63|128):(e[s++]=o>>12|224,e[s++]=o>>6&63|128,e[s++]=o&63|128)}return e},JE=function(i){const e=[];let s=0,r=0;for(;s<i.length;){const o=i[s++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[s++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[s++],m=i[s++],p=i[s++],x=((o&7)<<18|(u&63)<<12|(m&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(x>>10)),e[r++]=String.fromCharCode(56320+(x&1023))}else{const u=i[s++],m=i[s++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|m&63)}}return e.join("")},k_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const u=i[o],m=o+1<i.length,p=m?i[o+1]:0,x=o+2<i.length,_=x?i[o+2]:0,E=u>>2,T=(u&3)<<4|p>>4;let N=(p&15)<<2|_>>6,B=_&63;x||(B=64,m||(N=64)),r.push(s[E],s[T],s[N],s[B])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(I_(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):JE(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const u=s[i.charAt(o++)],p=o<i.length?s[i.charAt(o)]:0;++o;const _=o<i.length?s[i.charAt(o)]:64;++o;const T=o<i.length?s[i.charAt(o)]:64;if(++o,u==null||p==null||_==null||T==null)throw new WE;const N=u<<2|p>>4;if(r.push(N),_!==64){const B=p<<4&240|_>>2;if(r.push(B),T!==64){const Z=_<<6&192|T;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class WE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e2=function(i){const e=I_(i);return k_.encodeByteArray(e,!0)},Gu=function(i){return e2(i).replace(/\./g,"")},j_=function(i){try{return k_.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function t2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const n2=()=>t2().__FIREBASE_DEFAULTS__,s2=()=>{if(typeof process>"u"||typeof Xy>"u")return;const i=Xy.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},i2=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&j_(i[1]);return e&&JSON.parse(e)},fh=()=>{try{return ZE()||n2()||s2()||i2()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},D_=i=>fh()?.emulatorHosts?.[i],a2=i=>{const e=D_(i);if(!e)return;const s=e.lastIndexOf(":");if(s<=0||s+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(s+1),10);return e[0]==="["?[e.substring(1,s-1),r]:[e.substring(0,s),r]},M_=()=>fh()?.config,O_=i=>fh()?.[`_${i}`];class r2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,r))}}}function sl(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function V_(i){return(await fetch(i,{credentials:"include"})).ok}function l2(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Gu(JSON.stringify(s)),Gu(JSON.stringify(m)),""].join(".")}const bo={};function o2(){const i={prod:[],emulator:[]};for(const e of Object.keys(bo))bo[e]?i.emulator.push(e):i.prod.push(e);return i}function c2(i){let e=document.getElementById(i),s=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),s=!0),{created:s,element:e}}let Zy=!1;function L_(i,e){if(typeof window>"u"||typeof document>"u"||!sl(window.location.host)||bo[i]===e||bo[i]||Zy)return;bo[i]=e;function s(N){return`__firebase__banner__${N}`}const r="__firebase__banner",u=o2().prod.length>0;function m(){const N=document.getElementById(r);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function x(N,B){N.setAttribute("width","24"),N.setAttribute("id",B),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function _(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{Zy=!0,m()},N}function E(N,B){N.setAttribute("id",B),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function T(){const N=c2(r),B=s("text"),Z=document.getElementById(B)||document.createElement("span"),Y=s("learnmore"),z=document.getElementById(Y)||document.createElement("a"),ie=s("preprendIcon"),j=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const M=N.element;p(M),E(z,Y);const re=_();x(j,ie),M.append(j,Z,z,re),document.body.appendChild(M)}u?(Z.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function u2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function h2(){const i=fh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function d2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function f2(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function m2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function g2(){const i=Wt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function p2(){return!h2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function y2(){try{return typeof indexedDB=="object"}catch{return!1}}function x2(){return new Promise((i,e)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),s||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{s=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(s){e(s)}})}const _2="FirebaseError";class ii extends Error{constructor(e,s,r){super(s),this.code=e,this.customData=r,this.name=_2,Object.setPrototypeOf(this,ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bo.prototype.create)}}class Bo{constructor(e,s,r){this.service=e,this.serviceName=s,this.errors=r}create(e,...s){const r=s[0]||{},o=`${this.service}/${e}`,u=this.errors[e],m=u?v2(u,r):"Error",p=`${this.serviceName}: ${m} (${o}).`;return new ii(o,p,r)}}function v2(i,e){return i.replace(b2,(s,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const b2=/\{\$([^}]+)}/g;function E2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Ua(i,e){if(i===e)return!0;const s=Object.keys(i),r=Object.keys(e);for(const o of s){if(!r.includes(o))return!1;const u=i[o],m=e[o];if(Jy(u)&&Jy(m)){if(!Ua(u,m))return!1}else if(u!==m)return!1}for(const o of r)if(!s.includes(o))return!1;return!0}function Jy(i){return i!==null&&typeof i=="object"}function qo(i){const e=[];for(const[s,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function T2(i,e){const s=new S2(i,e);return s.subscribe.bind(s)}class S2{constructor(e,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(s=>{s.next(e)})}error(e){this.forEachObserver(s=>{s.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,s,r){let o;if(e===void 0&&s===void 0&&r===void 0)throw new Error("Missing Observer.");A2(e,["next","error","complete"])?o=e:o={next:e,error:s,complete:r},o.next===void 0&&(o.next=Pf),o.error===void 0&&(o.error=Pf),o.complete===void 0&&(o.complete=Pf);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,e)}sendOne(e,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{s(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function A2(i,e){if(typeof i!="object"||i===null)return!1;for(const s of e)if(s in i&&typeof i[s]=="function")return!0;return!1}function Pf(){}function Ln(i){return i&&i._delegate?i._delegate:i}class Pa{constructor(e,s,r){this.name=e,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ja="[DEFAULT]";class N2{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const r=new r2;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:s});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){const s=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(C2(e))try{this.getOrInitializeService({instanceIdentifier:ja})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ja){return this.instances.has(e)}getOptions(e=ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[u,m]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&m.resolve(o)}return o}onInit(e,s){const r=this.normalizeInstanceIdentifier(s),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,s){const r=this.onInitCallbacks.get(s);if(r)for(const o of r)try{o(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:w2(e),options:s}),this.instances.set(e,r),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ja){return this.component?this.component.multipleInstances?e:ja:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function w2(i){return i===ja?void 0:i}function C2(i){return i.instantiationMode==="EAGER"}class R2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new N2(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ue||(Ue={}));const I2={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},k2=Ue.INFO,j2={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},D2=(i,e,...s)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=j2[e];if(o)console[o](`[${r}]  ${i.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wm{constructor(e){this.name=e,this._logLevel=k2,this._logHandler=D2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?I2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const M2=(i,e)=>e.some(s=>i instanceof s);let Wy,ex;function O2(){return Wy||(Wy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function V2(){return ex||(ex=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const U_=new WeakMap,Wf=new WeakMap,P_=new WeakMap,zf=new WeakMap,Cm=new WeakMap;function L2(i){const e=new Promise((s,r)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",m)},u=()=>{s(Fi(i.result)),o()},m=()=>{r(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",m)});return e.then(s=>{s instanceof IDBCursor&&U_.set(s,i)}).catch(()=>{}),Cm.set(e,i),e}function U2(i){if(Wf.has(i))return;const e=new Promise((s,r)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",m),i.removeEventListener("abort",m)},u=()=>{s(),o()},m=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",m),i.addEventListener("abort",m)});Wf.set(i,e)}let em={get(i,e,s){if(i instanceof IDBTransaction){if(e==="done")return Wf.get(i);if(e==="objectStoreNames")return i.objectStoreNames||P_.get(i);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Fi(i[e])},set(i,e,s){return i[e]=s,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function P2(i){em=i(em)}function z2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const r=i.call(Bf(this),e,...s);return P_.set(r,e.sort?e.sort():[e]),Fi(r)}:V2().includes(i)?function(...e){return i.apply(Bf(this),e),Fi(U_.get(this))}:function(...e){return Fi(i.apply(Bf(this),e))}}function B2(i){return typeof i=="function"?z2(i):(i instanceof IDBTransaction&&U2(i),M2(i,O2())?new Proxy(i,em):i)}function Fi(i){if(i instanceof IDBRequest)return L2(i);if(zf.has(i))return zf.get(i);const e=B2(i);return e!==i&&(zf.set(i,e),Cm.set(e,i)),e}const Bf=i=>Cm.get(i);function q2(i,e,{blocked:s,upgrade:r,blocking:o,terminated:u}={}){const m=indexedDB.open(i,e),p=Fi(m);return r&&m.addEventListener("upgradeneeded",x=>{r(Fi(m.result),x.oldVersion,x.newVersion,Fi(m.transaction),x)}),s&&m.addEventListener("blocked",x=>s(x.oldVersion,x.newVersion,x)),p.then(x=>{u&&x.addEventListener("close",()=>u()),o&&x.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const H2=["get","getKey","getAll","getAllKeys","count"],F2=["put","add","delete","clear"],qf=new Map;function tx(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(qf.get(e))return qf.get(e);const s=e.replace(/FromIndex$/,""),r=e!==s,o=F2.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(o||H2.includes(s)))return;const u=async function(m,...p){const x=this.transaction(m,o?"readwrite":"readonly");let _=x.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[s](...p),o&&x.done]))[0]};return qf.set(e,u),u}P2(i=>({...i,get:(e,s,r)=>tx(e,s)||i.get(e,s,r),has:(e,s)=>!!tx(e,s)||i.has(e,s)}));class G2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(Y2(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function Y2(i){return i.getComponent()?.type==="VERSION"}const tm="@firebase/app",nx="0.14.6";const ei=new wm("@firebase/app"),Q2="@firebase/app-compat",K2="@firebase/analytics-compat",$2="@firebase/analytics",X2="@firebase/app-check-compat",Z2="@firebase/app-check",J2="@firebase/auth",W2="@firebase/auth-compat",eT="@firebase/database",tT="@firebase/data-connect",nT="@firebase/database-compat",sT="@firebase/functions",iT="@firebase/functions-compat",aT="@firebase/installations",rT="@firebase/installations-compat",lT="@firebase/messaging",oT="@firebase/messaging-compat",cT="@firebase/performance",uT="@firebase/performance-compat",hT="@firebase/remote-config",dT="@firebase/remote-config-compat",fT="@firebase/storage",mT="@firebase/storage-compat",gT="@firebase/firestore",pT="@firebase/ai",yT="@firebase/firestore-compat",xT="firebase",_T="12.6.0";const nm="[DEFAULT]",vT={[tm]:"fire-core",[Q2]:"fire-core-compat",[$2]:"fire-analytics",[K2]:"fire-analytics-compat",[Z2]:"fire-app-check",[X2]:"fire-app-check-compat",[J2]:"fire-auth",[W2]:"fire-auth-compat",[eT]:"fire-rtdb",[tT]:"fire-data-connect",[nT]:"fire-rtdb-compat",[sT]:"fire-fn",[iT]:"fire-fn-compat",[aT]:"fire-iid",[rT]:"fire-iid-compat",[lT]:"fire-fcm",[oT]:"fire-fcm-compat",[cT]:"fire-perf",[uT]:"fire-perf-compat",[hT]:"fire-rc",[dT]:"fire-rc-compat",[fT]:"fire-gcs",[mT]:"fire-gcs-compat",[gT]:"fire-fst",[yT]:"fire-fst-compat",[pT]:"fire-vertex","fire-js":"fire-js",[xT]:"fire-js-all"};const Yu=new Map,bT=new Map,sm=new Map;function sx(i,e){try{i.container.addComponent(e)}catch(s){ei.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,s)}}function Qr(i){const e=i.name;if(sm.has(e))return ei.debug(`There were multiple attempts to register component ${e}.`),!1;sm.set(e,i);for(const s of Yu.values())sx(s,i);for(const s of bT.values())sx(s,i);return!0}function Rm(i,e){const s=i.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),i.container.getProvider(e)}function Xn(i){return i==null?!1:i.settings!==void 0}const ET={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gi=new Bo("app","Firebase",ET);class TT{constructor(e,s,r){this._isDeleted=!1,this._options={...e},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}}const il=_T;function z_(i,e={}){let s=i;typeof e!="object"&&(e={name:e});const r={name:nm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Gi.create("bad-app-name",{appName:String(o)});if(s||(s=M_()),!s)throw Gi.create("no-options");const u=Yu.get(o);if(u){if(Ua(s,u.options)&&Ua(r,u.config))return u;throw Gi.create("duplicate-app",{appName:o})}const m=new R2(o);for(const x of sm.values())m.addComponent(x);const p=new TT(s,r,m);return Yu.set(o,p),p}function B_(i=nm){const e=Yu.get(i);if(!e&&i===nm&&M_())return z_();if(!e)throw Gi.create("no-app",{appName:i});return e}function Yi(i,e,s){let r=vT[i]??i;s&&(r+=`-${s}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const m=[`Unable to register library "${r}" with version "${e}":`];o&&m.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&m.push("and"),u&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ei.warn(m.join(" "));return}Qr(new Pa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const ST="firebase-heartbeat-database",AT=1,Ro="firebase-heartbeat-store";let Hf=null;function q_(){return Hf||(Hf=q2(ST,AT,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Ro)}catch(s){console.warn(s)}}}}).catch(i=>{throw Gi.create("idb-open",{originalErrorMessage:i.message})})),Hf}async function NT(i){try{const s=(await q_()).transaction(Ro),r=await s.objectStore(Ro).get(H_(i));return await s.done,r}catch(e){if(e instanceof ii)ei.warn(e.message);else{const s=Gi.create("idb-get",{originalErrorMessage:e?.message});ei.warn(s.message)}}}async function ix(i,e){try{const r=(await q_()).transaction(Ro,"readwrite");await r.objectStore(Ro).put(e,H_(i)),await r.done}catch(s){if(s instanceof ii)ei.warn(s.message);else{const r=Gi.create("idb-set",{originalErrorMessage:s?.message});ei.warn(r.message)}}}function H_(i){return`${i.name}!${i.options.appId}`}const wT=1024,CT=30;class RT{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new kT(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ax();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>CT){const o=jT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ei.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ax(),{heartbeatsToSend:s,unsentEntries:r}=IT(this._heartbeatsCache.heartbeats),o=Gu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ei.warn(e),""}}}function ax(){return new Date().toISOString().substring(0,10)}function IT(i,e=wT){const s=[];let r=i.slice();for(const o of i){const u=s.find(m=>m.agent===o.agent);if(u){if(u.dates.push(o.date),rx(s)>e){u.dates.pop();break}}else if(s.push({agent:o.agent,dates:[o.date]}),rx(s)>e){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class kT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return y2()?x2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await NT(this.app);return s?.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ix(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ix(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function rx(i){return Gu(JSON.stringify({version:2,heartbeats:i})).length}function jT(i){if(i.length===0)return-1;let e=0,s=i[0].date;for(let r=1;r<i.length;r++)i[r].date<s&&(s=i[r].date,e=r);return e}function DT(i){Qr(new Pa("platform-logger",e=>new G2(e),"PRIVATE")),Qr(new Pa("heartbeat",e=>new RT(e),"PRIVATE")),Yi(tm,nx,i),Yi(tm,nx,"esm2020"),Yi("fire-js","")}DT("");function F_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MT=F_,G_=new Bo("auth","Firebase",F_());const Qu=new wm("@firebase/auth");function OT(i,...e){Qu.logLevel<=Ue.WARN&&Qu.warn(`Auth (${il}): ${i}`,...e)}function Ou(i,...e){Qu.logLevel<=Ue.ERROR&&Qu.error(`Auth (${il}): ${i}`,...e)}function Cs(i,...e){throw km(i,...e)}function Wn(i,...e){return km(i,...e)}function Im(i,e,s){const r={...MT(),[e]:s};return new Bo("auth","Firebase",r).create(e,{appName:i.name})}function Oa(i){return Im(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function VT(i,e,s){const r=s;if(!(e instanceof r))throw r.name!==e.constructor.name&&Cs(i,"argument-error"),Im(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function km(i,...e){if(typeof i!="string"){const s=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(s,...r)}return G_.create(i,...e)}function Ae(i,e,...s){if(!i)throw km(e,...s)}function Zs(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Ou(e),new Error(e)}function ti(i,e){i||Zs(e)}function im(){return typeof self<"u"&&self.location?.href||""}function LT(){return lx()==="http:"||lx()==="https:"}function lx(){return typeof self<"u"&&self.location?.protocol||null}function UT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LT()||f2()||"connection"in navigator)?navigator.onLine:!0}function PT(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Ho{constructor(e,s){this.shortDelay=e,this.longDelay=s,ti(s>e,"Short delay should be less than long delay!"),this.isMobile=u2()||m2()}get(){return UT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jm(i,e){ti(i.emulator,"Emulator should always be set here");const{url:s}=i.emulator;return e?`${s}${e.startsWith("/")?e.slice(1):e}`:s}class Y_{static initialize(e,s,r){this.fetchImpl=e,s&&(this.headersImpl=s),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const BT=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qT=new Ho(3e4,6e4);function Dm(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function al(i,e,s,r,o={}){return Q_(i,o,async()=>{let u={},m={};r&&(e==="GET"?m=r:u={body:JSON.stringify(r)});const p=qo({key:i.config.apiKey,...m}).slice(1),x=await i._getAdditionalHeaders();x["Content-Type"]="application/json",i.languageCode&&(x["X-Firebase-Locale"]=i.languageCode);const _={method:e,headers:x,...u};return d2()||(_.referrerPolicy="no-referrer"),i.emulatorConfig&&sl(i.emulatorConfig.host)&&(_.credentials="include"),Y_.fetch()(await K_(i,i.config.apiHost,s,p),_)})}async function Q_(i,e,s){i._canInitEmulator=!1;const r={...zT,...e};try{const o=new FT(i),u=await Promise.race([s(),o.promise]);o.clearNetworkTimeout();const m=await u.json();if("needConfirmation"in m)throw Ru(i,"account-exists-with-different-credential",m);if(u.ok&&!("errorMessage"in m))return m;{const p=u.ok?m.errorMessage:m.error.message,[x,_]=p.split(" : ");if(x==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ru(i,"credential-already-in-use",m);if(x==="EMAIL_EXISTS")throw Ru(i,"email-already-in-use",m);if(x==="USER_DISABLED")throw Ru(i,"user-disabled",m);const E=r[x]||x.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Im(i,E,_);Cs(i,E)}}catch(o){if(o instanceof ii)throw o;Cs(i,"network-request-failed",{message:String(o)})}}async function HT(i,e,s,r,o={}){const u=await al(i,e,s,r,o);return"mfaPendingCredential"in u&&Cs(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function K_(i,e,s,r){const o=`${e}${s}?${r}`,u=i,m=u.config.emulator?jm(i.config,o):`${i.config.apiScheme}://${o}`;return BT.includes(s)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(m).toString():m}class FT{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((s,r)=>{this.timer=setTimeout(()=>r(Wn(this.auth,"network-request-failed")),qT.get())})}}function Ru(i,e,s){const r={appName:i.name};s.email&&(r.email=s.email),s.phoneNumber&&(r.phoneNumber=s.phoneNumber);const o=Wn(i,e,r);return o.customData._tokenResponse=s,o}async function GT(i,e){return al(i,"POST","/v1/accounts:delete",e)}async function Ku(i,e){return al(i,"POST","/v1/accounts:lookup",e)}function Eo(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YT(i,e=!1){const s=Ln(i),r=await s.getIdToken(e),o=Mm(r);Ae(o&&o.exp&&o.auth_time&&o.iat,s.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,m=u?.sign_in_provider;return{claims:o,token:r,authTime:Eo(Ff(o.auth_time)),issuedAtTime:Eo(Ff(o.iat)),expirationTime:Eo(Ff(o.exp)),signInProvider:m||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Ff(i){return Number(i)*1e3}function Mm(i){const[e,s,r]=i.split(".");if(e===void 0||s===void 0||r===void 0)return Ou("JWT malformed, contained fewer than 3 sections"),null;try{const o=j_(s);return o?JSON.parse(o):(Ou("Failed to decode base64 JWT payload"),null)}catch(o){return Ou("Caught error parsing JWT payload as JSON",o?.toString()),null}}function ox(i){const e=Mm(i);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Io(i,e,s=!1){if(s)return e;try{return await e}catch(r){throw r instanceof ii&&QT(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function QT({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class KT{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const s=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class am{constructor(e,s){this.createdAt=e,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eo(this.lastLoginAt),this.creationTime=Eo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $u(i){const e=i.auth,s=await i.getIdToken(),r=await Io(i,Ku(e,{idToken:s}));Ae(r?.users.length,e,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?$_(o.providerUserInfo):[],m=XT(i.providerData,u),p=i.isAnonymous,x=!(i.email&&o.passwordHash)&&!m?.length,_=p?x:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:m,metadata:new am(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(i,E)}async function $T(i){const e=Ln(i);await $u(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XT(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function $_(i){return i.map(({providerId:e,...s})=>({providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}))}async function ZT(i,e){const s=await Q_(i,{},async()=>{const r=qo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,m=await K_(i,o,"/v1/token",`key=${u}`),p=await i._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const x={method:"POST",headers:p,body:r};return i.emulatorConfig&&sl(i.emulatorConfig.host)&&(x.credentials="include"),Y_.fetch()(m,x)});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function JT(i,e){return al(i,"POST","/v2/accounts:revokeToken",Dm(i,e))}class Hr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const s="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ox(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,s)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const s=ox(e);this.updateTokensAndExpiration(e,null,s)}async getToken(e,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,s){const{accessToken:r,refreshToken:o,expiresIn:u}=await ZT(e,s);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,s,r){this.refreshToken=s||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,s){const{refreshToken:r,accessToken:o,expirationTime:u}=s,m=new Hr;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),m.refreshToken=r),o&&(Ae(typeof o=="string","internal-error",{appName:e}),m.accessToken=o),u&&(Ae(typeof u=="number","internal-error",{appName:e}),m.expirationTime=u),m}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hr,this.toJSON())}_performRefresh(){return Zs("not implemented")}}function Ui(i,e){Ae(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Zn{constructor({uid:e,auth:s,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new KT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new am(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const s=await Io(this,this.stsTokenManager.getToken(this.auth,e));return Ae(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(e){return YT(this,e)}reload(){return $T(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(s=>({...s})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const s=new Zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return s.metadata._copy(this.metadata),s}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,s=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),s&&await $u(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(Oa(this.auth));const e=await this.getIdToken();return await Io(this,GT(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,s){const r=s.displayName??void 0,o=s.email??void 0,u=s.phoneNumber??void 0,m=s.photoURL??void 0,p=s.tenantId??void 0,x=s._redirectEventId??void 0,_=s.createdAt??void 0,E=s.lastLoginAt??void 0,{uid:T,emailVerified:N,isAnonymous:B,providerData:Z,stsTokenManager:Y}=s;Ae(T&&Y,e,"internal-error");const z=Hr.fromJSON(this.name,Y);Ae(typeof T=="string",e,"internal-error"),Ui(r,e.name),Ui(o,e.name),Ae(typeof N=="boolean",e,"internal-error"),Ae(typeof B=="boolean",e,"internal-error"),Ui(u,e.name),Ui(m,e.name),Ui(p,e.name),Ui(x,e.name),Ui(_,e.name),Ui(E,e.name);const ie=new Zn({uid:T,auth:e,email:o,emailVerified:N,displayName:r,isAnonymous:B,photoURL:m,phoneNumber:u,tenantId:p,stsTokenManager:z,createdAt:_,lastLoginAt:E});return Z&&Array.isArray(Z)&&(ie.providerData=Z.map(j=>({...j}))),x&&(ie._redirectEventId=x),ie}static async _fromIdTokenResponse(e,s,r=!1){const o=new Hr;o.updateFromServerResponse(s);const u=new Zn({uid:s.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await $u(u),u}static async _fromGetAccountInfoResponse(e,s,r){const o=s.users[0];Ae(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?$_(o.providerUserInfo):[],m=!(o.email&&o.passwordHash)&&!u?.length,p=new Hr;p.updateFromIdToken(r);const x=new Zn({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:m}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new am(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(x,_),x}}const cx=new Map;function Js(i){ti(i instanceof Function,"Expected a class definition");let e=cx.get(i);return e?(ti(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,cx.set(i,e),e)}class X_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,s){this.storage[e]=s}async _get(e){const s=this.storage[e];return s===void 0?null:s}async _remove(e){delete this.storage[e]}_addListener(e,s){}_removeListener(e,s){}}X_.type="NONE";const ux=X_;function Vu(i,e,s){return`firebase:${i}:${e}:${s}`}class Fr{constructor(e,s,r){this.persistence=e,this.auth=s,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Vu(this.userKey,o.apiKey,u),this.fullPersistenceKey=Vu("persistence",o.apiKey,u),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const s=await Ku(this.auth,{idToken:e}).catch(()=>{});return s?Zn._fromGetAccountInfoResponse(this.auth,s,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,s,r="authUser"){if(!s.length)return new Fr(Js(ux),e,r);const o=(await Promise.all(s.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||Js(ux);const m=Vu(r,e.config.apiKey,e.name);let p=null;for(const _ of s)try{const E=await _._get(m);if(E){let T;if(typeof E=="string"){const N=await Ku(e,{idToken:E}).catch(()=>{});if(!N)break;T=await Zn._fromGetAccountInfoResponse(e,N,E)}else T=Zn._fromJSON(e,E);_!==u&&(p=T),u=_;break}}catch{}const x=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!x.length?new Fr(u,e,r):(u=x[0],p&&await u._set(m,p.toJSON()),await Promise.all(s.map(async _=>{if(_!==u)try{await _._remove(m)}catch{}})),new Fr(u,e,r))}}function hx(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ev(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Z_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nv(e))return"Blackberry";if(sv(e))return"Webos";if(J_(e))return"Safari";if((e.includes("chrome/")||W_(e))&&!e.includes("edge/"))return"Chrome";if(tv(e))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(s);if(r?.length===2)return r[1]}return"Other"}function Z_(i=Wt()){return/firefox\//i.test(i)}function J_(i=Wt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function W_(i=Wt()){return/crios\//i.test(i)}function ev(i=Wt()){return/iemobile/i.test(i)}function tv(i=Wt()){return/android/i.test(i)}function nv(i=Wt()){return/blackberry/i.test(i)}function sv(i=Wt()){return/webos/i.test(i)}function Om(i=Wt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function WT(i=Wt()){return Om(i)&&!!window.navigator?.standalone}function eS(){return g2()&&document.documentMode===10}function iv(i=Wt()){return Om(i)||tv(i)||sv(i)||nv(i)||/windows phone/i.test(i)||ev(i)}function av(i,e=[]){let s;switch(i){case"Browser":s=hx(Wt());break;case"Worker":s=`${hx(Wt())}-${i}`;break;default:s=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${s}/JsCore/${il}/${r}`}class tS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,s){const r=u=>new Promise((m,p)=>{try{const x=e(u);m(x)}catch(x){p(x)}});r.onAbort=s,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const s=[];try{for(const r of this.queue)await r(e),r.onAbort&&s.push(r.onAbort)}catch(r){s.reverse();for(const o of s)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function nS(i,e={}){return al(i,"GET","/v2/passwordPolicy",Dm(i,e))}const sS=6;class iS{constructor(e){const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=s.minPasswordLength??sS,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=s.meetsMinPasswordLength??!0),s.isValid&&(s.isValid=s.meetsMaxPasswordLength??!0),s.isValid&&(s.isValid=s.containsLowercaseLetter??!0),s.isValid&&(s.isValid=s.containsUppercaseLetter??!0),s.isValid&&(s.isValid=s.containsNumericCharacter??!0),s.isValid&&(s.isValid=s.containsNonAlphanumericCharacter??!0),s}validatePasswordLengthOptions(e,s){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(s.meetsMinPasswordLength=e.length>=r),o&&(s.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(s,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,s,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class aS{constructor(e,s,r,o){this.app=e,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dx(this),this.idTokenSubscription=new dx(this),this.beforeStateQueue=new tS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=G_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,s){return s&&(this._popupRedirectResolver=Js(s)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fr.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const s=await Ku(this,{idToken:e}),r=await Zn._fromGetAccountInfoResponse(this,s,e);await this.directlySetCurrentUser(r)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Xn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let r=s,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,m=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===m)&&p?.user&&(r=p.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(e){try{await $u(e)}catch(s){if(s?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PT()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xn(this.app))return Promise.reject(Oa(this));const s=e?Ln(e):null;return s&&Ae(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(e,s=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(Oa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xn(this.app)?Promise.reject(Oa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Js(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nS(this),s=new iS(e);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bo("auth","Firebase",e())}onAuthStateChanged(e,s,r){return this.registerStateListener(this.authStateSubscription,e,s,r)}beforeAuthStateChanged(e,s){return this.beforeStateQueue.pushCallback(e,s)}onIdTokenChanged(e,s,r){return this.registerStateListener(this.idTokenSubscription,e,s,r)}authStateReady(){return new Promise((e,s)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},s)}})}async revokeAccessToken(e){if(this.currentUser){const s=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:s};this.tenantId!=null&&(r.tenantId=this.tenantId),await JT(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,s){const r=await this.getOrInitRedirectPersistenceManager(s);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const s=e&&Js(e)||this._popupRedirectResolver;Ae(s,this,"argument-error"),this.redirectPersistenceManager=await Fr.create(this,[Js(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,s,r,o){if(this._deleted)return()=>{};const u=typeof s=="function"?s:s.next.bind(s);let m=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(p,this,"internal-error"),p.then(()=>{m||u(this.currentUser)}),typeof s=="function"){const x=e.addObserver(s,r,o);return()=>{m=!0,x()}}else{const x=e.addObserver(s);return()=>{m=!0,x()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=av(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();s&&(e["X-Firebase-Client"]=s);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&OT(`Error while retrieving App Check token: ${e.error}`),e?.token}}function mh(i){return Ln(i)}class dx{constructor(e){this.auth=e,this.observer=null,this.addObserver=T2(s=>this.observer=s)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Vm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rS(i){Vm=i}function lS(i){return Vm.loadJS(i)}function oS(){return Vm.gapiScript}function cS(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function uS(i,e){const s=Rm(i,"auth");if(s.isInitialized()){const o=s.getImmediate(),u=s.getOptions();if(Ua(u,e??{}))return o;Cs(o,"already-initialized")}return s.initialize({options:e})}function hS(i,e){const s=e?.persistence||[],r=(Array.isArray(s)?s:[s]).map(Js);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e?.popupRedirectResolver)}function dS(i,e,s){const r=mh(i);Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=rv(e),{host:m,port:p}=fS(e),x=p===null?"":`:${p}`,_={url:`${u}//${m}${x}/`},E=Object.freeze({host:m,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ae(Ua(_,r.config.emulator)&&Ua(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,sl(m)?(V_(`${u}//${m}${x}`),L_("Auth",!0)):mS()}function rv(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function fS(i){const e=rv(i),s=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!s)return{host:"",port:null};const r=s[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:fx(r.substr(u.length+1))}}else{const[u,m]=r.split(":");return{host:u,port:fx(m)}}}function fx(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function mS(){function i(){const e=document.createElement("p"),s=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class lv{constructor(e,s){this.providerId=e,this.signInMethod=s}toJSON(){return Zs("not implemented")}_getIdTokenResponse(e){return Zs("not implemented")}_linkToIdToken(e,s){return Zs("not implemented")}_getReauthenticationResolver(e){return Zs("not implemented")}}async function Gr(i,e){return HT(i,"POST","/v1/accounts:signInWithIdp",Dm(i,e))}const gS="http://localhost";class za extends lv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const s=new za(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(s.idToken=e.idToken),e.accessToken&&(s.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(s.nonce=e.nonce),e.pendingToken&&(s.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(s.accessToken=e.oauthToken,s.secret=e.oauthTokenSecret):Cs("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=s;if(!r||!o)return null;const m=new za(r,o);return m.idToken=u.idToken||void 0,m.accessToken=u.accessToken||void 0,m.secret=u.secret,m.nonce=u.nonce,m.pendingToken=u.pendingToken||null,m}_getIdTokenResponse(e){const s=this.buildRequest();return Gr(e,s)}_linkToIdToken(e,s){const r=this.buildRequest();return r.idToken=s,Gr(e,r)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,Gr(e,s)}buildRequest(){const e={requestUri:gS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),e.postBody=qo(s)}return e}}class Lm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Fo extends Lm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Pi extends Fo{constructor(){super("facebook.com")}static credential(e){return za._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pi.credential(e.oauthAccessToken)}catch{return null}}}Pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pi.PROVIDER_ID="facebook.com";class Xs extends Fo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,s){return za._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:s})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:r}=e;if(!s&&!r)return null;try{return Xs.credential(s,r)}catch{return null}}}Xs.GOOGLE_SIGN_IN_METHOD="google.com";Xs.PROVIDER_ID="google.com";class zi extends Fo{constructor(){super("github.com")}static credential(e){return za._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.GITHUB_SIGN_IN_METHOD="github.com";zi.PROVIDER_ID="github.com";class Bi extends Fo{constructor(){super("twitter.com")}static credential(e,s){return za._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:s})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:s,oauthTokenSecret:r}=e;if(!s||!r)return null;try{return Bi.credential(s,r)}catch{return null}}}Bi.TWITTER_SIGN_IN_METHOD="twitter.com";Bi.PROVIDER_ID="twitter.com";class Kr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,s,r,o=!1){const u=await Zn._fromIdTokenResponse(e,r,o),m=mx(r);return new Kr({user:u,providerId:m,_tokenResponse:r,operationType:s})}static async _forOperation(e,s,r){await e._updateTokensIfNecessary(r,!0);const o=mx(r);return new Kr({user:e,providerId:o,_tokenResponse:r,operationType:s})}}function mx(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Xu extends ii{constructor(e,s,r,o){super(s.code,s.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Xu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:s.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,s,r,o){return new Xu(e,s,r,o)}}function ov(i,e,s,r){return(e==="reauthenticate"?s._getReauthenticationResolver(i):s._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Xu._fromErrorAndOperation(i,u,e,r):u})}async function pS(i,e,s=!1){const r=await Io(i,e._linkToIdToken(i.auth,await i.getIdToken()),s);return Kr._forOperation(i,"link",r)}async function yS(i,e,s=!1){const{auth:r}=i;if(Xn(r.app))return Promise.reject(Oa(r));const o="reauthenticate";try{const u=await Io(i,ov(r,o,e,i),s);Ae(u.idToken,r,"internal-error");const m=Mm(u.idToken);Ae(m,r,"internal-error");const{sub:p}=m;return Ae(i.uid===p,r,"user-mismatch"),Kr._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Cs(r,"user-mismatch"),u}}async function xS(i,e,s=!1){if(Xn(i.app))return Promise.reject(Oa(i));const r="signIn",o=await ov(i,r,e),u=await Kr._fromIdTokenResponse(i,r,o);return s||await i._updateCurrentUser(u.user),u}function _S(i,e,s,r){return Ln(i).onIdTokenChanged(e,s,r)}function vS(i,e,s){return Ln(i).beforeAuthStateChanged(e,s)}function bS(i,e,s,r){return Ln(i).onAuthStateChanged(e,s,r)}function ES(i){return Ln(i).signOut()}const Zu="__sak";class cv{constructor(e,s){this.storageRetriever=e,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(Zu,"1"),this.storage.removeItem(Zu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,s){return this.storage.setItem(e,JSON.stringify(s)),Promise.resolve()}_get(e){const s=this.storage.getItem(e);return Promise.resolve(s?JSON.parse(s):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const TS=1e3,SS=10;class uv extends cv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,s)=>this.onStorageEvent(e,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const s of Object.keys(this.listeners)){const r=this.storage.getItem(s),o=this.localCache[s];r!==o&&e(s,o,r)}}onStorageEvent(e,s=!1){if(!e.key){this.forAllChangedKeys((m,p,x)=>{this.notifyListeners(m,x)});return}const r=e.key;s?this.detachListener():this.stopPolling();const o=()=>{const m=this.storage.getItem(r);!s&&this.localCache[r]===m||this.notifyListeners(r,m)},u=this.storage.getItem(r);eS()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,SS):o()}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,s,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:s,newValue:r}),!0)})},TS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,s){await super._set(e,s),this.localCache[e]=JSON.stringify(s)}async _get(e){const s=await super._get(e);return this.localCache[e]=JSON.stringify(s),s}async _remove(e){await super._remove(e),delete this.localCache[e]}}uv.type="LOCAL";const AS=uv;class hv extends cv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,s){}_removeListener(e,s){}}hv.type="SESSION";const dv=hv;function NS(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(s){return{fulfilled:!1,reason:s}}}))}class gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const s=this.receivers.find(o=>o.isListeningto(e));if(s)return s;const r=new gh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const s=e,{eventId:r,eventType:o,data:u}=s.data,m=this.handlersMap[o];if(!m?.size)return;s.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(m).map(async _=>_(s.origin,u)),x=await NS(p);s.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:x})}_subscribe(e,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(s)}_unsubscribe(e,s){this.handlersMap[e]&&s&&this.handlersMap[e].delete(s),(!s||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gh.receivers=[];function Um(i="",e=10){let s="";for(let r=0;r<e;r++)s+=Math.floor(Math.random()*10);return i+s}class wS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,s,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,m;return new Promise((p,x)=>{const _=Um("",20);o.port1.start();const E=setTimeout(()=>{x(new Error("unsupported_event"))},r);m={messageChannel:o,onMessage(T){const N=T;if(N.data.eventId===_)switch(N.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{x(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(N.data.response);break;default:clearTimeout(E),clearTimeout(u),x(new Error("invalid_response"));break}}},this.handlers.add(m),o.port1.addEventListener("message",m.onMessage),this.target.postMessage({eventType:e,eventId:_,data:s},[o.port2])}).finally(()=>{m&&this.removeMessageHandler(m)})}}function Ts(){return window}function CS(i){Ts().location.href=i}function fv(){return typeof Ts().WorkerGlobalScope<"u"&&typeof Ts().importScripts=="function"}async function RS(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IS(){return navigator?.serviceWorker?.controller||null}function kS(){return fv()?self:null}const mv="firebaseLocalStorageDb",jS=1,Ju="firebaseLocalStorage",gv="fbase_key";class Go{constructor(e){this.request=e}toPromise(){return new Promise((e,s)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function ph(i,e){return i.transaction([Ju],e?"readwrite":"readonly").objectStore(Ju)}function DS(){const i=indexedDB.deleteDatabase(mv);return new Go(i).toPromise()}function rm(){const i=indexedDB.open(mv,jS);return new Promise((e,s)=>{i.addEventListener("error",()=>{s(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(Ju,{keyPath:gv})}catch(o){s(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(Ju)?e(r):(r.close(),await DS(),e(await rm()))})})}async function gx(i,e,s){const r=ph(i,!0).put({[gv]:e,value:s});return new Go(r).toPromise()}async function MS(i,e){const s=ph(i,!1).get(e),r=await new Go(s).toPromise();return r===void 0?null:r.value}function px(i,e){const s=ph(i,!0).delete(e);return new Go(s).toPromise()}const OS=800,VS=3;class pv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rm(),this.db)}async _withRetries(e){let s=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(s++>VS)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gh._getInstance(kS()),this.receiver._subscribe("keyChanged",async(e,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(e,s)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await RS(),!this.activeServiceWorker)return;this.sender=new wS(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||IS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rm();return await gx(e,Zu,"1"),await px(e,Zu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,s){return this._withPendingWrite(async()=>(await this._withRetries(r=>gx(r,e,s)),this.localCache[e]=s,this.notifyServiceWorker(e)))}async _get(e){const s=await this._withRetries(r=>MS(r,e));return this.localCache[e]=s,s}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(s=>px(s,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=ph(o,!1).getAll();return new Go(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const s=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),s.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),s.push(o));return s}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pv.type="LOCAL";const LS=pv;new Ho(3e4,6e4);function yv(i,e){return e?Js(e):(Ae(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Pm extends lv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gr(e,this._buildIdpRequest())}_linkToIdToken(e,s){return Gr(e,this._buildIdpRequest(s))}_getReauthenticationResolver(e){return Gr(e,this._buildIdpRequest())}_buildIdpRequest(e){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(s.idToken=e),s}}function US(i){return xS(i.auth,new Pm(i),i.bypassAuthState)}function PS(i){const{auth:e,user:s}=i;return Ae(s,e,"internal-error"),yS(s,new Pm(i),i.bypassAuthState)}async function zS(i){const{auth:e,user:s}=i;return Ae(s,e,"internal-error"),pS(s,new Pm(i),i.bypassAuthState)}class xv{constructor(e,s,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(e,s)=>{this.pendingPromise={resolve:e,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:s,sessionId:r,postBody:o,tenantId:u,error:m,type:p}=e;if(m){this.reject(m);return}const x={auth:this.auth,requestUri:s,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(x))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return US;case"linkViaPopup":case"linkViaRedirect":return zS;case"reauthViaPopup":case"reauthViaRedirect":return PS;default:Cs(this.auth,"internal-error")}}resolve(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const BS=new Ho(2e3,1e4);async function qS(i,e,s){if(Xn(i.app))return Promise.reject(Wn(i,"operation-not-supported-in-this-environment"));const r=mh(i);VT(i,e,Lm);const o=yv(r,s);return new Da(r,"signInViaPopup",e,o).executeNotNull()}class Da extends xv{constructor(e,s,r,o,u){super(e,s,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Da.currentPopupAction&&Da.currentPopupAction.cancel(),Da.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){ti(this.filter.length===1,"Popup operations only handle one event");const e=Um();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(Wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Da.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,BS.get())};e()}}Da.currentPopupAction=null;const HS="pendingRedirect",Lu=new Map;class FS extends xv{constructor(e,s,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,r),this.eventId=null}async execute(){let e=Lu.get(this.auth._key());if(!e){try{const r=await GS(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(s){e=()=>Promise.reject(s)}Lu.set(this.auth._key(),e)}return this.bypassAuthState||Lu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const s=await this.auth._redirectUserForId(e.eventId);if(s)return this.user=s,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GS(i,e){const s=KS(e),r=QS(i);if(!await r._isAvailable())return!1;const o=await r._get(s)==="true";return await r._remove(s),o}function YS(i,e){Lu.set(i._key(),e)}function QS(i){return Js(i._redirectPersistence)}function KS(i){return Vu(HS,i.config.apiKey,i.name)}async function $S(i,e,s=!1){if(Xn(i.app))return Promise.reject(Oa(i));const r=mh(i),o=yv(r,e),m=await new FS(r,o,s).execute();return m&&!s&&(delete m.user._redirectEventId,await r._persistUserIfCurrent(m.user),await r._setRedirectUser(null,e)),m}const XS=600*1e3;class ZS{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let s=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(s=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JS(e)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=e,s=!0)),s}sendToConsumer(e,s){if(e.error&&!_v(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";s.onError(Wn(this.auth,r))}else s.onAuthEvent(e)}isEventForConsumer(e,s){const r=s.eventId===null||!!e.eventId&&e.eventId===s.eventId;return s.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=XS&&this.cachedEventUids.clear(),this.cachedEventUids.has(yx(e))}saveEventToCache(e){this.cachedEventUids.add(yx(e)),this.lastProcessedEventTime=Date.now()}}function yx(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function _v({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function JS(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _v(i);default:return!1}}async function WS(i,e={}){return al(i,"GET","/v1/projects",e)}const eA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tA=/^https?/;async function nA(i){if(i.config.emulator)return;const{authorizedDomains:e}=await WS(i);for(const s of e)try{if(sA(s))return}catch{}Cs(i,"unauthorized-domain")}function sA(i){const e=im(),{protocol:s,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const m=new URL(i);return m.hostname===""&&r===""?s==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):s==="chrome-extension:"&&m.hostname===r}if(!tA.test(s))return!1;if(eA.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const iA=new Ho(3e4,6e4);function xx(){const i=Ts().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let s=0;s<i.CP.length;s++)i.CP[s]=null}}function aA(i){return new Promise((e,s)=>{function r(){xx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xx(),s(Wn(i,"network-request-failed"))},timeout:iA.get()})}if(Ts().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ts().gapi?.load)r();else{const o=cS("iframefcb");return Ts()[o]=()=>{gapi.load?r():s(Wn(i,"network-request-failed"))},lS(`${oS()}?onload=${o}`).catch(u=>s(u))}}).catch(e=>{throw Uu=null,e})}let Uu=null;function rA(i){return Uu=Uu||aA(i),Uu}const lA=new Ho(5e3,15e3),oA="__/auth/iframe",cA="emulator/auth/iframe",uA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dA(i){const e=i.config;Ae(e.authDomain,i,"auth-domain-config-required");const s=e.emulator?jm(e,cA):`https://${i.config.authDomain}/${oA}`,r={apiKey:e.apiKey,appName:i.name,v:il},o=hA.get(i.config.apiHost);o&&(r.eid=o);const u=i._getFrameworks();return u.length&&(r.fw=u.join(",")),`${s}?${qo(r).slice(1)}`}async function fA(i){const e=await rA(i),s=Ts().gapi;return Ae(s,i,"internal-error"),e.open({where:document.body,url:dA(i),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uA,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const m=Wn(i,"network-request-failed"),p=Ts().setTimeout(()=>{u(m)},lA.get());function x(){Ts().clearTimeout(p),o(r)}r.ping(x).then(x,()=>{u(m)})}))}const mA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gA=500,pA=600,yA="_blank",xA="http://localhost";class _x{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _A(i,e,s,r=gA,o=pA){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),m=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const x={...mA,width:r.toString(),height:o.toString(),top:u,left:m},_=Wt().toLowerCase();s&&(p=W_(_)?yA:s),Z_(_)&&(e=e||xA,x.scrollbars="yes");const E=Object.entries(x).reduce((N,[B,Z])=>`${N}${B}=${Z},`,"");if(WT(_)&&p!=="_self")return vA(e||"",p),new _x(null);const T=window.open(e||"",p,E);Ae(T,i,"popup-blocked");try{T.focus()}catch{}return new _x(T)}function vA(i,e){const s=document.createElement("a");s.href=i,s.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(r)}const bA="__/auth/handler",EA="emulator/auth/handler",TA=encodeURIComponent("fac");async function vx(i,e,s,r,o,u){Ae(i.config.authDomain,i,"auth-domain-config-required"),Ae(i.config.apiKey,i,"invalid-api-key");const m={apiKey:i.config.apiKey,appName:i.name,authType:s,redirectUrl:r,v:il,eventId:o};if(e instanceof Lm){e.setDefaultLanguage(i.languageCode),m.providerId=e.providerId||"",E2(e.getCustomParameters())||(m.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))m[E]=T}if(e instanceof Fo){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(m.scopes=E.join(","))}i.tenantId&&(m.tid=i.tenantId);const p=m;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const x=await i._getAppCheckToken(),_=x?`#${TA}=${encodeURIComponent(x)}`:"";return`${SA(i)}?${qo(p).slice(1)}${_}`}function SA({config:i}){return i.emulator?jm(i,EA):`https://${i.authDomain}/${bA}`}const Gf="webStorageSupport";class AA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dv,this._completeRedirectFn=$S,this._overrideRedirectResult=YS}async _openPopup(e,s,r,o){ti(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await vx(e,s,r,im(),o);return _A(e,u,Um())}async _openRedirect(e,s,r,o){await this._originValidation(e);const u=await vx(e,s,r,im(),o);return CS(u),new Promise(()=>{})}_initialize(e){const s=e._key();if(this.eventManagers[s]){const{manager:o,promise:u}=this.eventManagers[s];return o?Promise.resolve(o):(ti(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[s]={promise:r},r.catch(()=>{delete this.eventManagers[s]}),r}async initAndGetManager(e){const s=await fA(e),r=new ZS(e);return s.register("authEvent",o=>(Ae(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=s,r}_isIframeWebStorageSupported(e,s){this.iframes[e._key()].send(Gf,{type:Gf},o=>{const u=o?.[0]?.[Gf];u!==void 0&&s(!!u),Cs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=nA(e)),this.originValidationPromises[s]}get _shouldInitProactively(){return iv()||J_()||Om()}}const NA=AA;var bx="@firebase/auth",Ex="1.11.1";class wA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const s=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,s),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const s=this.internalListeners.get(e);s&&(this.internalListeners.delete(e),s(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function CA(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RA(i){Qr(new Pa("auth",(e,{options:s})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:m,authDomain:p}=r.options;Ae(m&&!m.includes(":"),"invalid-api-key",{appName:r.name});const x={apiKey:m,authDomain:p,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:av(i)},_=new aS(r,o,u,x);return hS(_,s),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,s,r)=>{e.getProvider("auth-internal").initialize()})),Qr(new Pa("auth-internal",e=>{const s=mh(e.getProvider("auth").getImmediate());return(r=>new wA(r))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yi(bx,Ex,CA(i)),Yi(bx,Ex,"esm2020")}const IA=300,kA=O_("authIdTokenMaxAge")||IA;let Tx=null;const jA=i=>async e=>{const s=e&&await e.getIdTokenResult(),r=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(r&&r>kA)return;const o=s?.token;Tx!==o&&(Tx=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function DA(i=B_()){const e=Rm(i,"auth");if(e.isInitialized())return e.getImmediate();const s=uS(i,{popupRedirectResolver:NA,persistence:[LS,AS,dv]}),r=O_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const m=jA(u.toString());vS(s,m,()=>m(s.currentUser)),_S(s,p=>m(p))}}const o=D_("auth");return o&&dS(s,`http://${o}`),s}function MA(){return document.getElementsByTagName("head")?.[0]??document}rS({loadJS(i){return new Promise((e,s)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=o=>{const u=Wn("internal-error");u.customData=o,s(u)},r.type="text/javascript",r.charset="UTF-8",MA().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RA("Browser");var OA="firebase",VA="12.6.0";Yi(OA,VA,"app");var Sx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qi,vv;(function(){var i;function e(I,A){function R(){}R.prototype=A.prototype,I.F=A.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(V,w,L){for(var C=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)C[oe-2]=arguments[oe];return A.prototype[w].apply(V,C)}}function s(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,s),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,A,R){R||(R=0);const V=Array(16);if(typeof A=="string")for(var w=0;w<16;++w)V[w]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(w=0;w<16;++w)V[w]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=I.g[0],R=I.g[1],w=I.g[2];let L=I.g[3],C;C=A+(L^R&(w^L))+V[0]+3614090360&4294967295,A=R+(C<<7&4294967295|C>>>25),C=L+(w^A&(R^w))+V[1]+3905402710&4294967295,L=A+(C<<12&4294967295|C>>>20),C=w+(R^L&(A^R))+V[2]+606105819&4294967295,w=L+(C<<17&4294967295|C>>>15),C=R+(A^w&(L^A))+V[3]+3250441966&4294967295,R=w+(C<<22&4294967295|C>>>10),C=A+(L^R&(w^L))+V[4]+4118548399&4294967295,A=R+(C<<7&4294967295|C>>>25),C=L+(w^A&(R^w))+V[5]+1200080426&4294967295,L=A+(C<<12&4294967295|C>>>20),C=w+(R^L&(A^R))+V[6]+2821735955&4294967295,w=L+(C<<17&4294967295|C>>>15),C=R+(A^w&(L^A))+V[7]+4249261313&4294967295,R=w+(C<<22&4294967295|C>>>10),C=A+(L^R&(w^L))+V[8]+1770035416&4294967295,A=R+(C<<7&4294967295|C>>>25),C=L+(w^A&(R^w))+V[9]+2336552879&4294967295,L=A+(C<<12&4294967295|C>>>20),C=w+(R^L&(A^R))+V[10]+4294925233&4294967295,w=L+(C<<17&4294967295|C>>>15),C=R+(A^w&(L^A))+V[11]+2304563134&4294967295,R=w+(C<<22&4294967295|C>>>10),C=A+(L^R&(w^L))+V[12]+1804603682&4294967295,A=R+(C<<7&4294967295|C>>>25),C=L+(w^A&(R^w))+V[13]+4254626195&4294967295,L=A+(C<<12&4294967295|C>>>20),C=w+(R^L&(A^R))+V[14]+2792965006&4294967295,w=L+(C<<17&4294967295|C>>>15),C=R+(A^w&(L^A))+V[15]+1236535329&4294967295,R=w+(C<<22&4294967295|C>>>10),C=A+(w^L&(R^w))+V[1]+4129170786&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^w&(A^R))+V[6]+3225465664&4294967295,L=A+(C<<9&4294967295|C>>>23),C=w+(A^R&(L^A))+V[11]+643717713&4294967295,w=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(w^L))+V[0]+3921069994&4294967295,R=w+(C<<20&4294967295|C>>>12),C=A+(w^L&(R^w))+V[5]+3593408605&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^w&(A^R))+V[10]+38016083&4294967295,L=A+(C<<9&4294967295|C>>>23),C=w+(A^R&(L^A))+V[15]+3634488961&4294967295,w=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(w^L))+V[4]+3889429448&4294967295,R=w+(C<<20&4294967295|C>>>12),C=A+(w^L&(R^w))+V[9]+568446438&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^w&(A^R))+V[14]+3275163606&4294967295,L=A+(C<<9&4294967295|C>>>23),C=w+(A^R&(L^A))+V[3]+4107603335&4294967295,w=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(w^L))+V[8]+1163531501&4294967295,R=w+(C<<20&4294967295|C>>>12),C=A+(w^L&(R^w))+V[13]+2850285829&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^w&(A^R))+V[2]+4243563512&4294967295,L=A+(C<<9&4294967295|C>>>23),C=w+(A^R&(L^A))+V[7]+1735328473&4294967295,w=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(w^L))+V[12]+2368359562&4294967295,R=w+(C<<20&4294967295|C>>>12),C=A+(R^w^L)+V[5]+4294588738&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^w)+V[8]+2272392833&4294967295,L=A+(C<<11&4294967295|C>>>21),C=w+(L^A^R)+V[11]+1839030562&4294967295,w=L+(C<<16&4294967295|C>>>16),C=R+(w^L^A)+V[14]+4259657740&4294967295,R=w+(C<<23&4294967295|C>>>9),C=A+(R^w^L)+V[1]+2763975236&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^w)+V[4]+1272893353&4294967295,L=A+(C<<11&4294967295|C>>>21),C=w+(L^A^R)+V[7]+4139469664&4294967295,w=L+(C<<16&4294967295|C>>>16),C=R+(w^L^A)+V[10]+3200236656&4294967295,R=w+(C<<23&4294967295|C>>>9),C=A+(R^w^L)+V[13]+681279174&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^w)+V[0]+3936430074&4294967295,L=A+(C<<11&4294967295|C>>>21),C=w+(L^A^R)+V[3]+3572445317&4294967295,w=L+(C<<16&4294967295|C>>>16),C=R+(w^L^A)+V[6]+76029189&4294967295,R=w+(C<<23&4294967295|C>>>9),C=A+(R^w^L)+V[9]+3654602809&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^w)+V[12]+3873151461&4294967295,L=A+(C<<11&4294967295|C>>>21),C=w+(L^A^R)+V[15]+530742520&4294967295,w=L+(C<<16&4294967295|C>>>16),C=R+(w^L^A)+V[2]+3299628645&4294967295,R=w+(C<<23&4294967295|C>>>9),C=A+(w^(R|~L))+V[0]+4096336452&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~w))+V[7]+1126891415&4294967295,L=A+(C<<10&4294967295|C>>>22),C=w+(A^(L|~R))+V[14]+2878612391&4294967295,w=L+(C<<15&4294967295|C>>>17),C=R+(L^(w|~A))+V[5]+4237533241&4294967295,R=w+(C<<21&4294967295|C>>>11),C=A+(w^(R|~L))+V[12]+1700485571&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~w))+V[3]+2399980690&4294967295,L=A+(C<<10&4294967295|C>>>22),C=w+(A^(L|~R))+V[10]+4293915773&4294967295,w=L+(C<<15&4294967295|C>>>17),C=R+(L^(w|~A))+V[1]+2240044497&4294967295,R=w+(C<<21&4294967295|C>>>11),C=A+(w^(R|~L))+V[8]+1873313359&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~w))+V[15]+4264355552&4294967295,L=A+(C<<10&4294967295|C>>>22),C=w+(A^(L|~R))+V[6]+2734768916&4294967295,w=L+(C<<15&4294967295|C>>>17),C=R+(L^(w|~A))+V[13]+1309151649&4294967295,R=w+(C<<21&4294967295|C>>>11),C=A+(w^(R|~L))+V[4]+4149444226&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~w))+V[11]+3174756917&4294967295,L=A+(C<<10&4294967295|C>>>22),C=w+(A^(L|~R))+V[2]+718787259&4294967295,w=L+(C<<15&4294967295|C>>>17),C=R+(L^(w|~A))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(w+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+w&4294967295,I.g[3]=I.g[3]+L&4294967295}r.prototype.v=function(I,A){A===void 0&&(A=I.length);const R=A-this.blockSize,V=this.C;let w=this.h,L=0;for(;L<A;){if(w==0)for(;L<=R;)o(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<A;)if(V[w++]=I.charCodeAt(L++),w==this.blockSize){o(this,V),w=0;break}}else for(;L<A;)if(V[w++]=I[L++],w==this.blockSize){o(this,V),w=0;break}}this.h=w,this.o+=A},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)I[A++]=this.g[R]>>>V&255;return I};function u(I,A){var R=p;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=A(I)}function m(I,A){this.h=A;const R=[];let V=!0;for(let w=I.length-1;w>=0;w--){const L=I[w]|0;V&&L==A||(R[w]=L,V=!1)}this.g=R}var p={};function x(I){return-128<=I&&I<128?u(I,function(A){return new m([A|0],A<0?-1:0)}):new m([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return T;if(I<0)return z(_(-I));const A=[];let R=1;for(let V=0;I>=R;V++)A[V]=I/R|0,R*=4294967296;return new m(A,0)}function E(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return z(E(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(A,8));let V=T;for(let L=0;L<I.length;L+=8){var w=Math.min(8,I.length-L);const C=parseInt(I.substring(L,L+w),A);w<8?(w=_(Math.pow(A,w)),V=V.j(w).add(_(C))):(V=V.j(R),V=V.add(_(C)))}return V}var T=x(0),N=x(1),B=x(16777216);i=m.prototype,i.m=function(){if(Y(this))return-z(this).m();let I=0,A=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);I+=(V>=0?V:4294967296+V)*A,A*=4294967296}return I},i.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(Z(this))return"0";if(Y(this))return"-"+z(this).toString(I);const A=_(Math.pow(I,6));var R=this;let V="";for(;;){const w=re(R,A).g;R=ie(R,w.j(A));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=w,Z(R))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},i.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function Z(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function Y(I){return I.h==-1}i.l=function(I){return I=ie(this,I),Y(I)?-1:Z(I)?0:1};function z(I){const A=I.g.length,R=[];for(let V=0;V<A;V++)R[V]=~I.g[V];return new m(R,~I.h).add(N)}i.abs=function(){return Y(this)?z(this):this},i.add=function(I){const A=Math.max(this.g.length,I.g.length),R=[];let V=0;for(let w=0;w<=A;w++){let L=V+(this.i(w)&65535)+(I.i(w)&65535),C=(L>>>16)+(this.i(w)>>>16)+(I.i(w)>>>16);V=C>>>16,L&=65535,C&=65535,R[w]=C<<16|L}return new m(R,R[R.length-1]&-2147483648?-1:0)};function ie(I,A){return I.add(z(A))}i.j=function(I){if(Z(this)||Z(I))return T;if(Y(this))return Y(I)?z(this).j(z(I)):z(z(this).j(I));if(Y(I))return z(this.j(z(I)));if(this.l(B)<0&&I.l(B)<0)return _(this.m()*I.m());const A=this.g.length+I.g.length,R=[];for(var V=0;V<2*A;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let w=0;w<I.g.length;w++){const L=this.i(V)>>>16,C=this.i(V)&65535,oe=I.i(w)>>>16,ue=I.i(w)&65535;R[2*V+2*w]+=C*ue,j(R,2*V+2*w),R[2*V+2*w+1]+=L*ue,j(R,2*V+2*w+1),R[2*V+2*w+1]+=C*oe,j(R,2*V+2*w+1),R[2*V+2*w+2]+=L*oe,j(R,2*V+2*w+2)}for(I=0;I<A;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=A;I<2*A;I++)R[I]=0;return new m(R,0)};function j(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function M(I,A){this.g=I,this.h=A}function re(I,A){if(Z(A))throw Error("division by zero");if(Z(I))return new M(T,T);if(Y(I))return A=re(z(I),A),new M(z(A.g),z(A.h));if(Y(A))return A=re(I,z(A)),new M(z(A.g),A.h);if(I.g.length>30){if(Y(I)||Y(A))throw Error("slowDivide_ only works with positive integers.");for(var R=N,V=A;V.l(I)<=0;)R=X(R),V=X(V);var w=ae(R,1),L=ae(V,1);for(V=ae(V,2),R=ae(R,2);!Z(V);){var C=L.add(V);C.l(I)<=0&&(w=w.add(R),L=C),V=ae(V,1),R=ae(R,1)}return A=ie(I,w.j(A)),new M(w,A)}for(w=T;I.l(A)>=0;){for(R=Math.max(1,Math.floor(I.m()/A.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=_(R),C=L.j(A);Y(C)||C.l(I)>0;)R-=V,L=_(R),C=L.j(A);Z(L)&&(L=N),w=w.add(L),I=ie(I,C)}return new M(w,I)}i.B=function(I){return re(this,I).h},i.and=function(I){const A=Math.max(this.g.length,I.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)&I.i(V);return new m(R,this.h&I.h)},i.or=function(I){const A=Math.max(this.g.length,I.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)|I.i(V);return new m(R,this.h|I.h)},i.xor=function(I){const A=Math.max(this.g.length,I.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)^I.i(V);return new m(R,this.h^I.h)};function X(I){const A=I.g.length+1,R=[];for(let V=0;V<A;V++)R[V]=I.i(V)<<1|I.i(V-1)>>>31;return new m(R,I.h)}function ae(I,A){const R=A>>5;A%=32;const V=I.g.length-R,w=[];for(let L=0;L<V;L++)w[L]=A>0?I.i(L+R)>>>A|I.i(L+R+1)<<32-A:I.i(L+R);return new m(w,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,vv=r,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.B,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=_,m.fromString=E,Qi=m}).apply(typeof Sx<"u"?Sx:typeof self<"u"?self:typeof window<"u"?window:{});var Iu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var bv,yo,Ev,Pu,lm,Tv,Sv,Av;(function(){var i,e=Object.defineProperty;function s(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Iu=="object"&&Iu];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=s(this);function o(c,g){if(g)e:{var v=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var q=c[S];if(!(q in v))break e;v=v[q]}c=c[c.length-1],S=v[c],g=g(S),g!=S&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var v=[],S;for(S in g)Object.prototype.hasOwnProperty.call(g,S)&&v.push([S,g[S]]);return v}});var u=u||{},m=this||self;function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function x(c,g,v){return c.call.apply(c.bind,arguments)}function _(c,g,v){return _=x,_.apply(null,arguments)}function E(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function T(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,q,Q){for(var ce=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)ce[Ie-2]=arguments[Ie];return g.prototype[q].apply(S,ce)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function B(c){const g=c.length;if(g>0){const v=Array(g);for(let S=0;S<g;S++)v[S]=c[S];return v}return[]}function Z(c,g){for(let S=1;S<arguments.length;S++){const q=arguments[S];var v=typeof q;if(v=v!="object"?v:q?Array.isArray(q)?"array":v:"null",v=="array"||v=="object"&&typeof q.length=="number"){v=c.length||0;const Q=q.length||0;c.length=v+Q;for(let ce=0;ce<Q;ce++)c[v+ce]=q[ce]}else c.push(q)}}class Y{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function z(c){m.setTimeout(()=>{throw c},0)}function ie(){var c=I;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class j{constructor(){this.h=this.g=null}add(g,v){const S=M.get();S.set(g,v),this.h?this.h.next=S:this.g=S,this.h=S}}var M=new Y(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let X,ae=!1,I=new j,A=()=>{const c=Promise.resolve(void 0);X=()=>{c.then(R)}};function R(){for(var c;c=ie();){try{c.h.call(c.g)}catch(v){z(v)}var g=M;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}ae=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function oe(c,g){w.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}T(oe,w),oe.prototype.init=function(c,g){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&oe.Z.h.call(this)},oe.prototype.h=function(){oe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ue="closure_listenable_"+(Math.random()*1e6|0),P=0;function te(c,g,v,S,q){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!S,this.ha=q,this.key=++P,this.da=this.fa=!1}function he(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function xe(c,g,v){for(const S in c)g.call(v,c[S],S,c)}function je(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function D(c){const g={};for(const v in c)g[v]=c[v];return g}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(c,g){let v,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(v in S)c[v]=S[v];for(let Q=0;Q<W.length;Q++)v=W[Q],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function fe(c){this.src=c,this.g={},this.h=0}fe.prototype.add=function(c,g,v,S,q){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const ce=Ne(c,g,S,q);return ce>-1?(g=c[ce],v||(g.fa=!1)):(g=new te(g,this.src,Q,!!S,q),g.fa=v,c.push(g)),g};function ve(c,g){const v=g.type;if(v in c.g){var S=c.g[v],q=Array.prototype.indexOf.call(S,g,void 0),Q;(Q=q>=0)&&Array.prototype.splice.call(S,q,1),Q&&(he(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ne(c,g,v,S){for(let q=0;q<c.length;++q){const Q=c[q];if(!Q.da&&Q.listener==g&&Q.capture==!!v&&Q.ha==S)return q}return-1}var qe="closure_lm_"+(Math.random()*1e6|0),Rt={};function rt(c,g,v,S,q){if(Array.isArray(g)){for(let Q=0;Q<g.length;Q++)rt(c,g[Q],v,S,q);return null}return v=dl(v),c&&c[ue]?c.J(g,v,p(S)?!!S.capture:!1,q):ta(c,g,v,!1,S,q)}function ta(c,g,v,S,q,Q){if(!g)throw Error("Invalid event type");const ce=p(q)?!!q.capture:!!q;let Ie=na(c);if(Ie||(c[qe]=Ie=new fe(c)),v=Ie.add(g,v,S,ce,Q),v.proxy)return v;if(S=$a(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)L||(q=ce),q===void 0&&(q=!1),c.addEventListener(g.toString(),S,q);else if(c.attachEvent)c.attachEvent(es(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function $a(){function c(v){return g.call(c.src,c.listener,v)}const g=ul;return c}function Xa(c,g,v,S,q){if(Array.isArray(g))for(var Q=0;Q<g.length;Q++)Xa(c,g[Q],v,S,q);else S=p(S)?!!S.capture:!!S,v=dl(v),c&&c[ue]?(c=c.i,Q=String(g).toString(),Q in c.g&&(g=c.g[Q],v=Ne(g,v,S,q),v>-1&&(he(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[Q],c.h--)))):c&&(c=na(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Ne(g,v,S,q)),(v=c>-1?g[c]:null)&&Za(v))}function Za(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ue])ve(g.i,c);else{var v=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(v,S,c.capture):g.detachEvent?g.detachEvent(es(v),S):g.addListener&&g.removeListener&&g.removeListener(S),(v=na(g))?(ve(v,c),v.h==0&&(v.src=null,g[qe]=null)):he(c)}}}function es(c){return c in Rt?Rt[c]:Rt[c]="on"+c}function ul(c,g){if(c.da)c=!0;else{g=new oe(g,this);const v=c.listener,S=c.ha||c.src;c.fa&&Za(c),c=v.call(S,g)}return c}function na(c){return c=c[qe],c instanceof fe?c:null}var hl="__closure_events_fn_"+(Math.random()*1e9>>>0);function dl(c){return typeof c=="function"?c:(c[hl]||(c[hl]=function(g){return c.handleEvent(g)}),c[hl])}function xt(){V.call(this),this.i=new fe(this),this.M=this,this.G=null}T(xt,V),xt.prototype[ue]=!0,xt.prototype.removeEventListener=function(c,g,v,S){Xa(this,c,g,v,S)};function It(c,g){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new w(g,c);else if(g instanceof w)g.target=g.target||c;else{var q=g;g=new w(S,c),de(g,q)}q=!0;let Q,ce;if(v)for(ce=v.length-1;ce>=0;ce--)Q=g.g=v[ce],q=ai(Q,S,!0,g)&&q;if(Q=g.g=c,q=ai(Q,S,!0,g)&&q,q=ai(Q,S,!1,g)&&q,v)for(ce=0;ce<v.length;ce++)Q=g.g=v[ce],q=ai(Q,S,!1,g)&&q}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let S=0;S<v.length;S++)he(v[S]);delete c.g[g],c.h--}}this.G=null},xt.prototype.J=function(c,g,v,S){return this.i.add(String(c),g,!1,v,S)},xt.prototype.K=function(c,g,v,S){return this.i.add(String(c),g,!0,v,S)};function ai(c,g,v,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let q=!0;for(let Q=0;Q<g.length;++Q){const ce=g[Q];if(ce&&!ce.da&&ce.capture==v){const Ie=ce.listener,mt=ce.ha||ce.src;ce.fa&&ve(c.i,ce),q=Ie.call(mt,S)!==!1&&q}}return q&&!S.defaultPrevented}function Mh(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:m.setTimeout(c,g||0)}function ec(c){c.g=Mh(()=>{c.g=null,c.i&&(c.i=!1,ec(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class en extends V{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ec(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sa(c){V.call(this),this.h=c,this.g={}}T(sa,V);var fl=[];function ml(c){xe(c.g,function(g,v){this.g.hasOwnProperty(v)&&Za(g)},c),c.g={}}sa.prototype.N=function(){sa.Z.N.call(this),ml(this)},sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ri=m.JSON.stringify,Oh=m.JSON.parse,tc=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function nc(){}function sc(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pt(){w.call(this,"d")}T(Pt,w);function En(){w.call(this,"c")}T(En,w);var ft={},ic=null;function Ja(){return ic=ic||new xt}ft.Ia="serverreachability";function ac(c){w.call(this,ft.Ia,c)}T(ac,w);function ts(c){const g=Ja();It(g,new ac(g))}ft.STAT_EVENT="statevent";function ia(c,g){w.call(this,ft.STAT_EVENT,c),this.stat=g}T(ia,w);function _t(c){const g=Ja();It(g,new ia(g,c))}ft.Ja="timingevent";function ns(c,g){w.call(this,ft.Ja,c),this.size=g}T(ns,w);function ss(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function Vh(c,g,v,S,q,Q){c.info(function(){if(c.g)if(Q){var ce="",Ie=Q.split("&");for(let Ye=0;Ye<Ie.length;Ye++){var mt=Ie[Ye].split("=");if(mt.length>1){const lt=mt[0];mt=mt[1];const Nn=lt.split("_");ce=Nn.length>=2&&Nn[1]=="type"?ce+(lt+"="+mt+"&"):ce+(lt+"=redacted&")}}}else ce=null;else ce=Q;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+g+`
`+v+`
`+ce})}function rc(c,g,v,S,q,Q,ce){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+g+`
`+v+`
`+Q+" "+ce})}function is(c,g,v,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Lh(c,v)+(S?" "+S:"")})}function aa(c,g){c.info(function(){return"TIMEOUT: "+g})}Pn.prototype.info=function(){};function Lh(c,g){if(!c.g)return g;if(!g)return null;try{const Q=JSON.parse(g);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var v=Q[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var q=S[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ce=1;ce<S.length;ce++)S[ce]=""}}}}return ri(Q)}catch{return g}}var ra={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},pl;function la(){}T(la,nc),la.prototype.g=function(){return new XMLHttpRequest},pl=new la;function ks(c){return encodeURIComponent(String(c))}function lc(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function zn(c,g,v,S){this.j=c,this.i=g,this.l=v,this.S=S||1,this.V=new sa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var vt={},Mt={};function as(c,g,v){c.M=1,c.A=oa(Et(g)),c.u=v,c.R=!0,Wa(c,null)}function Wa(c,g){c.F=Date.now(),rs(c),c.B=Et(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),sr(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Bn,c.g=Ec(c.j,v?g:null,!c.u),c.P>0&&(c.O=new en(_(c.Y,c,c.g),c.P)),g=c.V,v=c.g,S=c.ba;var q="readystatechange";Array.isArray(q)||(q&&(fl[0]=q.toString()),q=fl);for(let Q=0;Q<q.length;Q++){const ce=rt(v,q[Q],S||g.handleEvent,!1,g.h||g);if(!ce)break;g.g[ce.key]=ce}g=c.J?D(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),ts(),Vh(c.i,c.v,c.B,c.l,c.S,c.u)}zn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Fn(c)==3?g.j():this.Y(c)},zn.prototype.Y=function(c){try{if(c==this.g)e:{const Ie=Fn(this.g),mt=this.g.ya(),Ye=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||zt(this.g)))){this.K||Ie!=4||mt==7||(mt==8||Ye<=0?ts(3):ts(2)),ls(this);var g=this.g.ca();this.X=g;var v=Uh(this);if(this.o=g==200,rc(this.i,this.v,this.B,this.l,this.S,Ie,g),this.o){if(this.U&&!this.L){t:{if(this.g){var S,q=this.g;if((S=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var Q=S;break t}}Q=null}if(c=Q)is(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,os(this,c);else{this.o=!1,this.m=3,_t(12),fn(this),Tn(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<v.length;)if(lt=cc(this,v),lt==Mt){Ie==4&&(this.m=4,_t(14),c=!1),is(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==vt){this.m=4,_t(15),is(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else is(this.i,this.l,lt,null),os(this,lt);if(oc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||v.length!=0||this.h.h||(this.m=1,_t(16),c=!1),this.o=this.o&&c,!c)is(this.i,this.l,v,"[Invalid Chunked Response]"),fn(this),Tn(this);else if(v.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),kl(ce),ce.P=!0,_t(11))}}else is(this.i,this.l,v,null),os(this,v);Ie==4&&fn(this),this.o&&!this.K&&(Ie==4?xc(this.j,this):(this.o=!1,rs(this)))}else Ds(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),fn(this),Tn(this)}}}catch{}finally{}};function Uh(c){if(!oc(c))return c.g.la();const g=zt(c.g);if(g==="")return"";let v="";const S=g.length,q=Fn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return fn(c),Tn(c),"";c.h.i=new m.TextDecoder}for(let Q=0;Q<S;Q++)c.h.h=!0,v+=c.h.i.decode(g[Q],{stream:!(q&&Q==S-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function oc(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function cc(c,g){var v=c.C,S=g.indexOf(`
`,v);return S==-1?Mt:(v=Number(g.substring(v,S)),isNaN(v)?vt:(S+=1,S+v>g.length?Mt:(g=g.slice(S,S+v),c.C=S+v,g)))}zn.prototype.cancel=function(){this.K=!0,fn(this)};function rs(c){c.T=Date.now()+c.H,er(c,c.H)}function er(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ss(_(c.aa,c),g)}function ls(c){c.D&&(m.clearTimeout(c.D),c.D=null)}zn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(aa(this.i,this.B),this.M!=2&&(ts(),_t(17)),fn(this),this.m=2,Tn(this)):er(this,this.T-c)};function Tn(c){c.j.I==0||c.K||xc(c.j,c)}function fn(c){ls(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,ml(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function os(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||us(v.h,c))){if(!c.L&&us(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)or(v),mi(v);else break e;ga(v),_t(18)}}else v.xa=q[1],0<v.xa-v.K&&q[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ss(_(v.Va,v),6e3));cs(v.h)<=1&&v.ta&&(v.ta=void 0)}else ps(v,11)}else if((c.L||v.g==c)&&or(v),!C(g))for(q=v.Ba.g.parse(g),g=0;g<q.length;g++){let Ye=q[g];const lt=Ye[0];if(!(lt<=v.K))if(v.K=lt,Ye=Ye[1],v.I==2)if(Ye[0]=="c"){v.M=Ye[1],v.ba=Ye[2];const Nn=Ye[3];Nn!=null&&(v.ka=Nn,v.j.info("VER="+v.ka));const ys=Ye[4];ys!=null&&(v.za=ys,v.j.info("SVER="+v.za));const Gn=Ye[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(S=1.5*Gn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Yn=c.g;if(Yn){const pa=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pa){var Q=S.h;Q.g||pa.indexOf("spdy")==-1&&pa.indexOf("quic")==-1&&pa.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(_l(Q,Q.h),Q.h=null))}if(S.G){const cr=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;cr&&(S.wa=cr,$e(S.J,S.G,cr))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var ce=c;if(S.na=bc(S,S.L?S.ba:null,S.W),ce.L){vl(S.h,ce);var Ie=ce,mt=S.O;mt&&(Ie.H=mt),Ie.D&&(ls(Ie),rs(Ie)),S.g=ce}else pc(S);v.i.length>0&&gs(v)}else Ye[0]!="stop"&&Ye[0]!="close"||ps(v,7);else v.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?ps(v,7):Rl(v):Ye[0]!="noop"&&v.l&&v.l.qa(Ye),v.A=0)}}ts(4)}catch{}}var bt=class{constructor(c,g){this.g=c,this.map=g}};function yl(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function cs(c){return c.h?1:c.g?c.g.size:0}function us(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function _l(c,g){c.g?c.g.add(g):c.h=g}function vl(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}yl.prototype.cancel=function(){if(this.i=bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function bl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return B(c.i)}var uc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tr(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let q,Q=null;S>=0?(q=c[v].substring(0,S),Q=c[v].substring(S+1)):q=c[v],g(q,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function mn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof mn?(this.l=c.l,Ot(this,c.j),this.o=c.o,this.g=c.g,li(this,c.u),this.h=c.h,El(this,mc(c.i)),this.m=c.m):c&&(g=String(c).match(uc))?(this.l=!1,Ot(this,g[1]||"",!0),this.o=hs(g[2]||""),this.g=hs(g[3]||"",!0),li(this,g[4]),this.h=hs(g[5]||"",!0),El(this,g[6]||"",!0),this.m=hs(g[7]||"")):(this.l=!1,this.i=new ci(null,this.l))}mn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(ca(g,nr,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ca(g,nr,!0),"@"),c.push(ks(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ca(v,v.charAt(0)=="/"?Tl:hc,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ca(v,dc)),c.join("")},mn.prototype.resolve=function(c){const g=Et(this);let v=!!c.j;v?Ot(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var S=c.h;if(v)li(g,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var q=g.h.lastIndexOf("/");q!=-1&&(S=g.h.slice(0,q+1)+S)}if(q=S,q==".."||q==".")S="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){S=q.lastIndexOf("/",0)==0,q=q.split("/");const Q=[];for(let ce=0;ce<q.length;){const Ie=q[ce++];Ie=="."?S&&ce==q.length&&Q.push(""):Ie==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),S&&ce==q.length&&Q.push("")):(Q.push(Ie),S=!0)}S=Q.join("/")}else S=q}return v?g.h=S:v=c.i.toString()!=="",v?El(g,mc(c.i)):v=!!c.m,v&&(g.m=c.m),g};function Et(c){return new mn(c)}function Ot(c,g,v){c.j=v?hs(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function li(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function El(c,g,v){g instanceof ci?(c.i=g,ir(c.i,c.l)):(v||(g=ca(g,oi)),c.i=new ci(g,c.l))}function $e(c,g,v){c.i.set(g,v)}function oa(c){return $e(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function hs(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ca(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,sn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var nr=/[#\/\?@]/g,hc=/[#\?:]/g,Tl=/[#\?]/g,oi=/[#\?@]/g,dc=/#/g;function ci(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function an(c){c.g||(c.g=new Map,c.h=0,c.i&&tr(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}i=ci.prototype,i.add=function(c,g){an(this),this.i=null,c=ui(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function fc(c,g){an(c),g=ui(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Sl(c,g){return an(c),g=ui(c,g),c.g.has(g)}i.forEach=function(c,g){an(this),this.g.forEach(function(v,S){v.forEach(function(q){c.call(g,q,S,this)},this)},this)};function Al(c,g){an(c);let v=[];if(typeof g=="string")Sl(c,g)&&(v=v.concat(c.g.get(ui(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}i.set=function(c,g){return an(this),this.i=null,c=ui(this,c),Sl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},i.get=function(c,g){return c?(c=Al(this,c),c.length>0?String(c[0]):g):g};function sr(c,g,v){fc(c,g),v.length>0&&(c.i=null,c.g.set(ui(c,g),B(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let S=0;S<g.length;S++){var v=g[S];const q=ks(v);v=Al(this,v);for(let Q=0;Q<v.length;Q++){let ce=q;v[Q]!==""&&(ce+="="+ks(v[Q])),c.push(ce)}}return this.i=c.join("&")};function mc(c){const g=new ci;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function ui(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function ir(c,g){g&&!c.j&&(an(c),c.i=null,c.g.forEach(function(v,S){const q=S.toLowerCase();S!=q&&(fc(this,S),sr(this,q,v))},c)),c.j=g}function qn(c,g){const v=new Pn;if(m.Image){const S=new Image;S.onload=E(Sn,v,"TestLoadImage: loaded",!0,g,S),S.onerror=E(Sn,v,"TestLoadImage: error",!1,g,S),S.onabort=E(Sn,v,"TestLoadImage: abort",!1,g,S),S.ontimeout=E(Sn,v,"TestLoadImage: timeout",!1,g,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function Nl(c,g){const v=new Pn,S=new AbortController,q=setTimeout(()=>{S.abort(),Sn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(Q=>{clearTimeout(q),Q.ok?Sn(v,"TestPingServer: ok",!0,g):Sn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(q),Sn(v,"TestPingServer: error",!1,g)})}function Sn(c,g,v,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(v)}catch{}}function hi(){this.g=new tc}function ds(c){this.i=c.Sb||null,this.h=c.ab||!1}T(ds,nc),ds.prototype.g=function(){return new ua(this.i,this.h)};function ua(c,g){xt.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(ua,xt),i=ua.prototype,i.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Hn(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||m).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,di(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ar(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ar(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?di(this):Hn(this),this.readyState==3&&ar(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,di(this))},i.Na=function(c){this.g&&(this.response=c,di(this))},i.ga=function(){this.g&&di(this)};function di(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Hn(c)}i.setRequestHeader=function(c,g){this.A.append(c,g)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Hn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ua.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function An(c){let g="";return xe(c,function(v,S){g+=S,g+=":",g+=v,g+=`\r
`}),g}function ha(c,g,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=An(v),typeof c=="string"?v!=null&&ks(v):$e(c,g,v))}function Je(c){xt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Je,xt);var fs=/^https?$/i,wl=["POST","PUT"];i=Je.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,g,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():pl.g(),this.g.onreadystatechange=N(_(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Q){da(this,Q);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)v.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())v.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=m.FormData&&c instanceof m.FormData,!(Array.prototype.indexOf.call(wl,g,void 0)>=0)||S||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ce]of v)this.g.setRequestHeader(Q,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){da(this,Q)}};function da(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Cl(c),js(c)}function Cl(c){c.A||(c.A=!0,It(c,"complete"),It(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,It(this,"complete"),It(this,"abort"),js(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),js(this,!0)),Je.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?fa(this):this.Xa())},i.Xa=function(){fa(this)};function fa(c){if(c.h&&typeof u<"u"){if(c.v&&Fn(c)==4)setTimeout(c.Ca.bind(c),0);else if(It(c,"readystatechange"),Fn(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var S;if(S=Q===0){let ce=String(c.D).match(uc)[1]||null;!ce&&m.self&&m.self.location&&(ce=m.self.location.protocol.slice(0,-1)),S=!fs.test(ce?ce.toLowerCase():"")}v=S}if(v)It(c,"complete"),It(c,"success");else{c.o=6;try{var q=Fn(c)>2?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.ca()+"]",Cl(c)}}finally{js(c)}}}}function js(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||It(c,"ready");try{v.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Oh(g)}};function zt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ds(c){const g={};c=(c.g&&Fn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(C(c[S]))continue;var v=lc(c[S]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=g[q]||[];g[q]=Q,Q.push(v)}je(g,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ms(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function fi(c){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ms("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ms("baseRetryDelayMs",5e3,c),this.Za=ms("retryDelaySeedMs",1e4,c),this.Ta=ms("forwardChannelMaxRetries",2,c),this.va=ms("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new yl(c&&c.concurrentRequestLimit),this.Ba=new hi,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=fi.prototype,i.ka=8,i.I=1,i.connect=function(c,g,v,S){_t(0),this.W=c,this.H=g||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=bc(this,null,this.W),gs(this)};function Rl(c){if(rr(c),c.I==3){var g=c.V++,v=Et(c.J);if($e(v,"SID",c.M),$e(v,"RID",g),$e(v,"TYPE","terminate"),ma(c,v),g=new zn(c,c.j,g),g.M=2,g.A=oa(Et(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.A,v=!0),v||(g.g=Ec(g.j,null),g.g.ea(g.A)),g.F=Date.now(),rs(g)}vc(c)}function mi(c){c.g&&(kl(c),c.g.cancel(),c.g=null)}function rr(c){mi(c),c.v&&(m.clearTimeout(c.v),c.v=null),or(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&m.clearTimeout(c.m),c.m=null)}function gs(c){if(!xl(c.h)&&!c.m){c.m=!0;var g=c.Ea;X||A(),ae||(X(),ae=!0),I.add(g,c),c.D=0}}function lr(c,g){return cs(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ss(_(c.Ea,c,g),_c(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const q=new zn(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=D(Q),de(Q,this.U)):Q=this.U),this.u!==null||this.R||(q.J=Q,Q=null),this.S)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,g>4096){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=gc(this,q,g),v=Et(this.J),$e(v,"RID",c),$e(v,"CVER",22),this.G&&$e(v,"X-HTTP-Session-Id",this.G),ma(this,v),Q&&(this.R?g="headers="+ks(An(Q))+"&"+g:this.u&&ha(v,this.u,Q)),_l(this.h,q),this.Ra&&$e(v,"TYPE","init"),this.S?($e(v,"$req",g),$e(v,"SID","null"),q.U=!0,as(q,v,null)):as(q,v,g),this.I=2}}else this.I==3&&(c?Il(this,c):this.i.length==0||xl(this.h)||Il(this))};function Il(c,g){var v;g?v=g.l:v=c.V++;const S=Et(c.J);$e(S,"SID",c.M),$e(S,"RID",v),$e(S,"AID",c.K),ma(c,S),c.u&&c.o&&ha(S,c.u,c.o),v=new zn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=gc(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),_l(c.h,v),as(v,S,g)}function ma(c,g){c.H&&xe(c.H,function(v,S){$e(g,S,v)}),c.l&&xe({},function(v,S){$e(g,S,v)})}function gc(c,g,v){v=Math.min(c.i.length,v);const S=c.l?_(c.l.Ka,c.l,c):null;e:{var q=c.i;let Ie=-1;for(;;){const mt=["count="+v];Ie==-1?v>0?(Ie=q[0].g,mt.push("ofs="+Ie)):Ie=0:mt.push("ofs="+Ie);let Ye=!0;for(let lt=0;lt<v;lt++){var Q=q[lt].g;const Nn=q[lt].map;if(Q-=Ie,Q<0)Ie=Math.max(0,q[lt].g-100),Ye=!1;else try{Q="req"+Q+"_"||"";try{var ce=Nn instanceof Map?Nn:Object.entries(Nn);for(const[ys,Gn]of ce){let Yn=Gn;p(Gn)&&(Yn=ri(Gn)),mt.push(Q+ys+"="+encodeURIComponent(Yn))}}catch(ys){throw mt.push(Q+"type="+encodeURIComponent("_badmap")),ys}}catch{S&&S(Nn)}}if(Ye){ce=mt.join("&");break e}}ce=void 0}return c=c.i.splice(0,v),g.G=c,ce}function pc(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;X||A(),ae||(X(),ae=!0),I.add(g,c),c.A=0}}function ga(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ss(_(c.Da,c),_c(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,yc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ss(_(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),mi(this),yc(this))};function kl(c){c.B!=null&&(m.clearTimeout(c.B),c.B=null)}function yc(c){c.g=new zn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=Et(c.na);$e(g,"RID","rpc"),$e(g,"SID",c.M),$e(g,"AID",c.K),$e(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&$e(g,"TO",c.ia),$e(g,"TYPE","xmlhttp"),ma(c,g),c.u&&c.o&&ha(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=oa(Et(g)),v.u=null,v.R=!0,Wa(v,c)}i.Va=function(){this.C!=null&&(this.C=null,mi(this),ga(this),_t(19))};function or(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function xc(c,g){var v=null;if(c.g==g){or(c),kl(c),c.g=null;var S=2}else if(us(c.h,g))v=g.G,vl(c.h,g),S=1;else return;if(c.I!=0){if(g.o)if(S==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var q=c.D;S=Ja(),It(S,new ns(S,v)),gs(c)}else pc(c);else if(q=g.m,q==3||q==0&&g.X>0||!(S==1&&lr(c,g)||S==2&&ga(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),q){case 1:ps(c,5);break;case 4:ps(c,10);break;case 3:ps(c,6);break;default:ps(c,2)}}}function _c(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function ps(c,g){if(c.j.info("Error code "+g),g==2){var v=_(c.bb,c),S=c.Ua;const q=!S;S=new mn(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ot(S,"https"),oa(S),q?qn(S.toString(),v):Nl(S.toString(),v)}else _t(2);c.I=0,c.l&&c.l.pa(g),vc(c),rr(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function vc(c){if(c.I=0,c.ja=[],c.l){const g=bl(c.h);(g.length!=0||c.i.length!=0)&&(Z(c.ja,g),Z(c.ja,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.oa()}}function bc(c,g,v){var S=v instanceof mn?Et(v):new mn(v);if(S.g!="")g&&(S.g=g+"."+S.g),li(S,S.u);else{var q=m.location;S=q.protocol,g=g?g+"."+q.hostname:q.hostname,q=+q.port;const Q=new mn(null);S&&Ot(Q,S),g&&(Q.g=g),q&&li(Q,q),v&&(Q.h=v),S=Q}return v=c.G,g=c.wa,v&&g&&$e(S,v,g),$e(S,"VER",c.ka),ma(c,S),S}function Ec(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new Je(new ds({ab:v})):new Je(c.ma),g.Fa(c.L),g}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tc(){}i=Tc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function gi(){}gi.prototype.g=function(c,g){return new tn(c,g)};function tn(c,g){xt.call(this),this.g=new fi(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!C(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!C(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Ms(this)}T(tn,xt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Rl(this.g)},tn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=ri(c),c=v);g.i.push(new bt(g.Ya++,c)),g.I==3&&gs(g)},tn.prototype.N=function(){this.g.l=null,delete this.j,Rl(this.g),delete this.g,tn.Z.N.call(this)};function Sc(c){Pt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}T(Sc,Pt);function Ac(){En.call(this),this.status=1}T(Ac,En);function Ms(c){this.g=c}T(Ms,Tc),Ms.prototype.ra=function(){It(this.g,"a")},Ms.prototype.qa=function(c){It(this.g,new Sc(c))},Ms.prototype.pa=function(c){It(this.g,new Ac)},Ms.prototype.oa=function(){It(this.g,"b")},gi.prototype.createWebChannel=gi.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,Av=function(){return new gi},Sv=function(){return Ja()},Tv=ft,lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ra.NO_ERROR=0,ra.TIMEOUT=8,ra.HTTP_ERROR=6,Pu=ra,gl.COMPLETE="complete",Ev=gl,sc.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",xt.prototype.listen=xt.prototype.J,yo=sc,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,bv=Je}).apply(typeof Iu<"u"?Iu:typeof self<"u"?self:typeof window<"u"?window:{});const Ax="@firebase/firestore",Nx="4.9.2";let Zt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let rl="12.3.0";const Ba=new wm("@firebase/firestore");function Pr(){return Ba.logLevel}function me(i,...e){if(Ba.logLevel<=Ue.DEBUG){const s=e.map(zm);Ba.debug(`Firestore (${rl}): ${i}`,...s)}}function ni(i,...e){if(Ba.logLevel<=Ue.ERROR){const s=e.map(zm);Ba.error(`Firestore (${rl}): ${i}`,...s)}}function $r(i,...e){if(Ba.logLevel<=Ue.WARN){const s=e.map(zm);Ba.warn(`Firestore (${rl}): ${i}`,...s)}}function zm(i){if(typeof i=="string")return i;try{return(function(s){return JSON.stringify(s)})(i)}catch{return i}}function Te(i,e,s){let r="Unexpected state";typeof e=="string"?r=e:s=e,Nv(i,r,s)}function Nv(i,e,s){let r=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(s!==void 0)try{r+=" CONTEXT: "+JSON.stringify(s)}catch{r+=" CONTEXT: "+s}throw ni(r),new Error(r)}function Ke(i,e,s,r){let o="Unexpected state";typeof s=="string"?o=s:r=s,i||Nv(e,o,r)}function Re(i,e){return i}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends ii{constructor(e,s){super(e,s),this.code=e,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ki{constructor(){this.promise=new Promise(((e,s)=>{this.resolve=e,this.reject=s}))}}class wv{constructor(e,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,s){e.enqueueRetryable((()=>s(Zt.UNAUTHENTICATED)))}shutdown(){}}class UA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,s){this.changeListener=s,e.enqueueRetryable((()=>s(this.token.user)))}shutdown(){this.changeListener=null}}class PA{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,s){Ke(this.o===void 0,42304);let r=this.i;const o=x=>this.i!==r?(r=this.i,s(x)):Promise.resolve();let u=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ki,e.enqueueRetryable((()=>o(this.currentUser)))};const m=()=>{const x=u;e.enqueueRetryable((async()=>{await x.promise,await o(this.currentUser)}))},p=x=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=x,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit((x=>p(x))),setTimeout((()=>{if(!this.auth){const x=this.t.getImmediate({optional:!0});x?p(x):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ki)}}),0),m()}getToken(){const e=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then((r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string",31837,{l:r}),new wv(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class zA{constructor(e,s,r){this.P=e,this.T=s,this.I=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BA{constructor(e,s,r){this.P=e,this.T=s,this.I=r}getToken(){return Promise.resolve(new zA(this.P,this.T,this.I))}start(e,s){e.enqueueRetryable((()=>s(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class wx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qA{constructor(e,s){this.V=s,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,s){Ke(this.o===void 0,3512);const r=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const m=u.token!==this.m;return this.m=u.token,me("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?s(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new wx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((s=>s?(Ke(typeof s.token=="string",44558,{tokenResult:s}),this.m=s.token,new wx(s.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function HA(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(s);else for(let r=0;r<i;r++)s[r]=Math.floor(256*Math.random());return s}class Bm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=HA(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<s&&(r+=e.charAt(o[u]%62))}return r}}function Pe(i,e){return i<e?-1:i>e?1:0}function om(i,e){const s=Math.min(i.length,e.length);for(let r=0;r<s;r++){const o=i.charAt(r),u=e.charAt(r);if(o!==u)return Yf(o)===Yf(u)?Pe(o,u):Yf(o)?1:-1}return Pe(i.length,e.length)}const FA=55296,GA=57343;function Yf(i){const e=i.charCodeAt(0);return e>=FA&&e<=GA}function Xr(i,e,s){return i.length===e.length&&i.every(((r,o)=>s(r,e[o])))}const Cx="__name__";class Es{constructor(e,s,r){s===void 0?s=0:s>e.length&&Te(637,{offset:s,range:e.length}),r===void 0?r=e.length-s:r>e.length-s&&Te(1746,{length:r,range:e.length-s}),this.segments=e,this.offset=s,this.len=r}get length(){return this.len}isEqual(e){return Es.comparator(this,e)===0}child(e){const s=this.segments.slice(this.offset,this.limit());return e instanceof Es?e.forEach((r=>{s.push(r)})):s.push(e),this.construct(s)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}forEach(e){for(let s=this.offset,r=this.limit();s<r;s++)e(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,s){const r=Math.min(e.length,s.length);for(let o=0;o<r;o++){const u=Es.compareSegments(e.get(o),s.get(o));if(u!==0)return u}return Pe(e.length,s.length)}static compareSegments(e,s){const r=Es.isNumericId(e),o=Es.isNumericId(s);return r&&!o?-1:!r&&o?1:r&&o?Es.extractNumericId(e).compare(Es.extractNumericId(s)):om(e,s)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qi.fromString(e.substring(4,e.length-2))}}class ct extends Es{construct(e,s,r){return new ct(e,s,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const s=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);s.push(...r.split("/").filter((o=>o.length>0)))}return new ct(s)}static emptyPath(){return new ct([])}}const YA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Es{construct(e,s,r){return new Qt(e,s,r)}static isValidIdentifier(e){return YA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cx}static keyField(){return new Qt([Cx])}static fromServerFormat(e){const s=[];let r="",o=0;const u=()=>{if(r.length===0)throw new ye(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(r),r=""};let m=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ye(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const x=e[o+1];if(x!=="\\"&&x!=="."&&x!=="`")throw new ye(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=x,o+=2}else p==="`"?(m=!m,o++):p!=="."||m?(r+=p,o++):(u(),o++)}if(u(),m)throw new ye(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(s)}static emptyPath(){return new Qt([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(ct.fromString(e))}static fromName(e){return new be(ct.fromString(e).popFirst(5))}static empty(){return new be(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,s){return ct.comparator(e.path,s.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ct(e.slice()))}}function QA(i,e,s){if(!s)throw new ye(le.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function KA(i,e,s,r){if(e===!0&&r===!0)throw new ye(le.INVALID_ARGUMENT,`${i} and ${s} cannot be used together.`)}function Rx(i){if(!be.isDocumentKey(i))throw new ye(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Cv(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function qm(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te(12329,{type:typeof i})}function ko(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ye(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=qm(i);throw new ye(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${s}`)}}return i}function Ct(i,e){const s={typeString:i};return e&&(s.value=e),s}function Yo(i,e){if(!Cv(i))throw new ye(le.INVALID_ARGUMENT,"JSON must be an object");let s;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){s=`JSON missing required field: '${r}'`;break}const m=i[r];if(o&&typeof m!==o){s=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&m!==u.value){s=`Expected '${r}' field to equal '${u.value}'`;break}}if(s)throw new ye(le.INVALID_ARGUMENT,s);return!0}const Ix=-62135596800,kx=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const s=Math.floor(e/1e3),r=Math.floor((e-1e3*s)*kx);return new at(s,r)}constructor(e,s){if(this.seconds=e,this.nanoseconds=s,s<0)throw new ye(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new ye(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(e<Ix)throw new ye(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kx}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Yo(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ix;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Ct("string",at._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new at(0,0))}static max(){return new we(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const jo=-1;function $A(i,e){const s=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(r===1e9?new at(s+1,0):new at(s,r));return new $i(o,be.empty(),e)}function XA(i){return new $i(i.readTime,i.key,jo)}class $i{constructor(e,s,r){this.readTime=e,this.documentKey=s,this.largestBatchId=r}static min(){return new $i(we.min(),be.empty(),jo)}static max(){return new $i(we.max(),be.empty(),jo)}}function ZA(i,e){let s=i.readTime.compareTo(e.readTime);return s!==0?s:(s=be.comparator(i.documentKey,e.documentKey),s!==0?s:Pe(i.largestBatchId,e.largestBatchId))}const JA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ll(i){if(i.code!==le.FAILED_PRECONDITION||i.message!==JA)throw i;me("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)}),(s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)}))}catch(e){return this.next(void 0,e)}next(e,s){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(e,this.result):new se(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(s,u).next(r,o)}}))}toPromise(){return new Promise(((e,s)=>{this.next(e,s)}))}wrapUserFunction(e){try{const s=e();return s instanceof se?s:se.resolve(s)}catch(s){return se.reject(s)}}wrapSuccess(e,s){return e?this.wrapUserFunction((()=>e(s))):se.resolve(s)}wrapFailure(e,s){return e?this.wrapUserFunction((()=>e(s))):se.reject(s)}static resolve(e){return new se(((s,r)=>{s(e)}))}static reject(e){return new se(((s,r)=>{r(e)}))}static waitFor(e){return new se(((s,r)=>{let o=0,u=0,m=!1;e.forEach((p=>{++o,p.next((()=>{++u,m&&u===o&&s()}),(x=>r(x)))})),m=!0,u===o&&s()}))}static or(e){let s=se.resolve(!1);for(const r of e)s=s.next((o=>o?se.resolve(o):r()));return s}static forEach(e,s){const r=[];return e.forEach(((o,u)=>{r.push(s.call(this,o,u))})),this.waitFor(r)}static mapArray(e,s){return new se(((r,o)=>{const u=e.length,m=new Array(u);let p=0;for(let x=0;x<u;x++){const _=x;s(e[_]).next((E=>{m[_]=E,++p,p===u&&r(m)}),(E=>o(E)))}}))}static doWhile(e,s){return new se(((r,o)=>{const u=()=>{e()===!0?s().next((()=>{u()}),o):r()};u()}))}}function eN(i){const e=i.match(/Android ([\d.]+)/i),s=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(s)}function ol(i){return i.name==="IndexedDbTransactionError"}class yh{constructor(e,s){this.previousValue=e,s&&(s.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>s.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yh.ce=-1;const Hm=-1;function xh(i){return i==null}function Wu(i){return i===0&&1/i==-1/0}function tN(i){return typeof i=="number"&&Number.isInteger(i)&&!Wu(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Rv="";function nN(i){let e="";for(let s=0;s<i.length;s++)e.length>0&&(e=jx(e)),e=sN(i.get(s),e);return jx(e)}function sN(i,e){let s=e;const r=i.length;for(let o=0;o<r;o++){const u=i.charAt(o);switch(u){case"\0":s+="";break;case Rv:s+="";break;default:s+=u}}return s}function jx(i){return i+Rv+""}function Dx(i){let e=0;for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&e++;return e}function Fa(i,e){for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&e(s,i[s])}function Iv(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ut{constructor(e,s){this.comparator=e,this.root=s||Yt.EMPTY}insert(e,s){return new ut(this.comparator,this.root.insert(e,s,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return s.value;r<0?s=s.left:r>0&&(s=s.right)}return null}indexOf(e){let s=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return s+r.left.size;o<0?r=r.left:(s+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((s,r)=>(e(s,r),!1)))}toString(){const e=[];return this.inorderTraversal(((s,r)=>(e.push(`${s}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ku(this.root,e,this.comparator,!0)}}class ku{constructor(e,s,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=s?r(e.key,s):1,s&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const s={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,s,r,o,u){this.key=e,this.value=s,this.color=r??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,s,r,o,u){return new Yt(e??this.key,s??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,s,r),null):u===0?o.copy(null,s,null,null,null):o.copy(null,null,null,null,o.right.insert(e,s,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,s){let r,o=this;if(s(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,s),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),s(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,s))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,s,r,o,u){return this}insert(e,s,r){return new Yt(e,s)}remove(e,s){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((s,r)=>(e(s),!1)))}forEachInRange(e,s){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;s(o.key)}}forEachWhile(e,s){let r;for(r=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const s=this.data.getIteratorFrom(e);return s.hasNext()?s.getNext().key:null}getIterator(){return new Mx(this.data.getIterator())}getIteratorFrom(e){return new Mx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let s=this;return s.size<e.size&&(s=e,e=this),e.forEach((r=>{s=s.add(r)})),s}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const s=this.data.getIterator(),r=e.data.getIterator();for(;s.hasNext();){const o=s.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((s=>{e.push(s)})),e}toString(){const e=[];return this.forEach((s=>e.push(s))),"SortedSet("+e.toString()+")"}copy(e){const s=new Dt(this.comparator);return s.data=e,s}}class Mx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Jn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Jn([])}unionWith(e){let s=new Dt(Qt.comparator);for(const r of this.fields)s=s.add(r);for(const r of e)s=s.add(r);return new Jn(s.toArray())}covers(e){for(const s of this.fields)if(s.isPrefixOf(e))return!0;return!1}isEqual(e){return Xr(this.fields,e.fields,((s,r)=>s.isEqual(r)))}}class kv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const s=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new kv("Invalid base64 string: "+u):u}})(e);return new Kt(s)}static fromUint8Array(e){const s=(function(o){let u="";for(let m=0;m<o.length;++m)u+=String.fromCharCode(o[m]);return u})(e);return new Kt(s)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(s){return btoa(s)})(this.binaryString)}toUint8Array(){return(function(s){const r=new Uint8Array(s.length);for(let o=0;o<s.length;o++)r[o]=s.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const iN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xi(i){if(Ke(!!i,39018),typeof i=="string"){let e=0;const s=iN.exec(i);if(Ke(!!s,46558,{timestamp:i}),s[1]){let o=s[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(i.seconds),nanos:yt(i.nanos)}}function yt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Zi(i){return typeof i=="string"?Kt.fromBase64String(i):Kt.fromUint8Array(i)}const jv="server_timestamp",Dv="__type__",Mv="__previous_value__",Ov="__local_write_time__";function Fm(i){return(i?.mapValue?.fields||{})[Dv]?.stringValue===jv}function _h(i){const e=i.mapValue.fields[Mv];return Fm(e)?_h(e):e}function Do(i){const e=Xi(i.mapValue.fields[Ov].timestampValue);return new at(e.seconds,e.nanos)}class aN{constructor(e,s,r,o,u,m,p,x,_,E){this.databaseId=e,this.appId=s,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=m,this.autoDetectLongPolling=p,this.longPollingOptions=x,this.useFetchStreams=_,this.isUsingEmulator=E}}const eh="(default)";class Mo{constructor(e,s){this.projectId=e,this.database=s||eh}static empty(){return new Mo("","")}get isDefaultDatabase(){return this.database===eh}isEqual(e){return e instanceof Mo&&e.projectId===this.projectId&&e.database===this.database}}const Vv="__type__",rN="__max__",ju={mapValue:{}},Lv="__vector__",th="value";function Ji(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Fm(i)?4:oN(i)?9007199254740991:lN(i)?10:11:Te(28295,{value:i})}function Rs(i,e){if(i===e)return!0;const s=Ji(i);if(s!==Ji(e))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Do(i).isEqual(Do(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const m=Xi(o.timestampValue),p=Xi(u.timestampValue);return m.seconds===p.seconds&&m.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Zi(o.bytesValue).isEqual(Zi(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const m=yt(o.doubleValue),p=yt(u.doubleValue);return m===p?Wu(m)===Wu(p):isNaN(m)&&isNaN(p)}return!1})(i,e);case 9:return Xr(i.arrayValue.values||[],e.arrayValue.values||[],Rs);case 10:case 11:return(function(o,u){const m=o.mapValue.fields||{},p=u.mapValue.fields||{};if(Dx(m)!==Dx(p))return!1;for(const x in m)if(m.hasOwnProperty(x)&&(p[x]===void 0||!Rs(m[x],p[x])))return!1;return!0})(i,e);default:return Te(52216,{left:i})}}function Oo(i,e){return(i.values||[]).find((s=>Rs(s,e)))!==void 0}function Zr(i,e){if(i===e)return 0;const s=Ji(i),r=Ji(e);if(s!==r)return Pe(s,r);switch(s){case 0:case 9007199254740991:return 0;case 1:return Pe(i.booleanValue,e.booleanValue);case 2:return(function(u,m){const p=yt(u.integerValue||u.doubleValue),x=yt(m.integerValue||m.doubleValue);return p<x?-1:p>x?1:p===x?0:isNaN(p)?isNaN(x)?0:-1:1})(i,e);case 3:return Ox(i.timestampValue,e.timestampValue);case 4:return Ox(Do(i),Do(e));case 5:return om(i.stringValue,e.stringValue);case 6:return(function(u,m){const p=Zi(u),x=Zi(m);return p.compareTo(x)})(i.bytesValue,e.bytesValue);case 7:return(function(u,m){const p=u.split("/"),x=m.split("/");for(let _=0;_<p.length&&_<x.length;_++){const E=Pe(p[_],x[_]);if(E!==0)return E}return Pe(p.length,x.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,m){const p=Pe(yt(u.latitude),yt(m.latitude));return p!==0?p:Pe(yt(u.longitude),yt(m.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return Vx(i.arrayValue,e.arrayValue);case 10:return(function(u,m){const p=u.fields||{},x=m.fields||{},_=p[th]?.arrayValue,E=x[th]?.arrayValue,T=Pe(_?.values?.length||0,E?.values?.length||0);return T!==0?T:Vx(_,E)})(i.mapValue,e.mapValue);case 11:return(function(u,m){if(u===ju.mapValue&&m===ju.mapValue)return 0;if(u===ju.mapValue)return 1;if(m===ju.mapValue)return-1;const p=u.fields||{},x=Object.keys(p),_=m.fields||{},E=Object.keys(_);x.sort(),E.sort();for(let T=0;T<x.length&&T<E.length;++T){const N=om(x[T],E[T]);if(N!==0)return N;const B=Zr(p[x[T]],_[E[T]]);if(B!==0)return B}return Pe(x.length,E.length)})(i.mapValue,e.mapValue);default:throw Te(23264,{he:s})}}function Ox(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Pe(i,e);const s=Xi(i),r=Xi(e),o=Pe(s.seconds,r.seconds);return o!==0?o:Pe(s.nanos,r.nanos)}function Vx(i,e){const s=i.values||[],r=e.values||[];for(let o=0;o<s.length&&o<r.length;++o){const u=Zr(s[o],r[o]);if(u)return u}return Pe(s.length,r.length)}function Jr(i){return cm(i)}function cm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(s){const r=Xi(s);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(s){return Zi(s).toBase64()})(i.bytesValue):"referenceValue"in i?(function(s){return be.fromName(s).toString()})(i.referenceValue):"geoPointValue"in i?(function(s){return`geo(${s.latitude},${s.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(s){let r="[",o=!0;for(const u of s.values||[])o?o=!1:r+=",",r+=cm(u);return r+"]"})(i.arrayValue):"mapValue"in i?(function(s){const r=Object.keys(s.fields||{}).sort();let o="{",u=!0;for(const m of r)u?u=!1:o+=",",o+=`${m}:${cm(s.fields[m])}`;return o+"}"})(i.mapValue):Te(61005,{value:i})}function zu(i){switch(Ji(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_h(i);return e?16+zu(e):16;case 5:return 2*i.stringValue.length;case 6:return Zi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+zu(u)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return Fa(r.fields,((u,m)=>{o+=u.length+zu(m)})),o})(i.mapValue);default:throw Te(13486,{value:i})}}function um(i){return!!i&&"integerValue"in i}function Gm(i){return!!i&&"arrayValue"in i}function Lx(i){return!!i&&"nullValue"in i}function Ux(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Bu(i){return!!i&&"mapValue"in i}function lN(i){return(i?.mapValue?.fields||{})[Vv]?.stringValue===Lv}function To(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Fa(i.mapValue.fields,((s,r)=>e.mapValue.fields[s]=To(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let s=0;s<(i.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=To(i.arrayValue.values[s]);return e}return{...i}}function oN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===rN}class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let s=this.value;for(let r=0;r<e.length-1;++r)if(s=(s.mapValue.fields||{})[e.get(r)],!Bu(s))return null;return s=(s.mapValue.fields||{})[e.lastSegment()],s||null}}set(e,s){this.getFieldsMap(e.popLast())[e.lastSegment()]=To(s)}setAll(e){let s=Qt.emptyPath(),r={},o=[];e.forEach(((m,p)=>{if(!s.isImmediateParentOf(p)){const x=this.getFieldsMap(s);this.applyChanges(x,r,o),r={},o=[],s=p.popLast()}m?r[p.lastSegment()]=To(m):o.push(p.lastSegment())}));const u=this.getFieldsMap(s);this.applyChanges(u,r,o)}delete(e){const s=this.field(e.popLast());Bu(s)&&s.mapValue.fields&&delete s.mapValue.fields[e.lastSegment()]}isEqual(e){return Rs(this.value,e.value)}getFieldsMap(e){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=s.mapValue.fields[e.get(r)];Bu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},s.mapValue.fields[e.get(r)]=o),s=o}return s.mapValue.fields}applyChanges(e,s,r){Fa(s,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new On(To(this.value))}}function Uv(i){const e=[];return Fa(i.fields,((s,r)=>{const o=new Qt([s]);if(Bu(r)){const u=Uv(r.mapValue).fields;if(u.length===0)e.push(o);else for(const m of u)e.push(o.child(m))}else e.push(o)})),new Jn(e)}class Jt{constructor(e,s,r,o,u,m,p){this.key=e,this.documentType=s,this.version=r,this.readTime=o,this.createTime=u,this.data=m,this.documentState=p}static newInvalidDocument(e){return new Jt(e,0,we.min(),we.min(),we.min(),On.empty(),0)}static newFoundDocument(e,s,r,o){return new Jt(e,1,s,we.min(),r,o,0)}static newNoDocument(e,s){return new Jt(e,2,s,we.min(),we.min(),On.empty(),0)}static newUnknownDocument(e,s){return new Jt(e,3,s,we.min(),we.min(),On.empty(),2)}convertToFoundDocument(e,s){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nh{constructor(e,s){this.position=e,this.inclusive=s}}function Px(i,e,s){let r=0;for(let o=0;o<i.position.length;o++){const u=e[o],m=i.position[o];if(u.field.isKeyField()?r=be.comparator(be.fromName(m.referenceValue),s.key):r=Zr(m,s.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function zx(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let s=0;s<i.position.length;s++)if(!Rs(i.position[s],e.position[s]))return!1;return!0}class sh{constructor(e,s="asc"){this.field=e,this.dir=s}}function cN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Pv{}class jt extends Pv{constructor(e,s,r){super(),this.field=e,this.op=s,this.value=r}static create(e,s,r){return e.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(e,s,r):new hN(e,s,r):s==="array-contains"?new mN(e,r):s==="in"?new gN(e,r):s==="not-in"?new pN(e,r):s==="array-contains-any"?new yN(e,r):new jt(e,s,r)}static createKeyFieldInFilter(e,s,r){return s==="in"?new dN(e,r):new fN(e,r)}matches(e){const s=e.data.field(this.field);return this.op==="!="?s!==null&&s.nullValue===void 0&&this.matchesComparison(Zr(s,this.value)):s!==null&&Ji(this.value)===Ji(s)&&this.matchesComparison(Zr(s,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Is extends Pv{constructor(e,s){super(),this.filters=e,this.op=s,this.Pe=null}static create(e,s){return new Is(e,s)}matches(e){return zv(this)?this.filters.find((s=>!s.matches(e)))===void 0:this.filters.find((s=>s.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,s)=>e.concat(s.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function zv(i){return i.op==="and"}function Bv(i){return uN(i)&&zv(i)}function uN(i){for(const e of i.filters)if(e instanceof Is)return!1;return!0}function hm(i){if(i instanceof jt)return i.field.canonicalString()+i.op.toString()+Jr(i.value);if(Bv(i))return i.filters.map((e=>hm(e))).join(",");{const e=i.filters.map((s=>hm(s))).join(",");return`${i.op}(${e})`}}function qv(i,e){return i instanceof jt?(function(r,o){return o instanceof jt&&r.op===o.op&&r.field.isEqual(o.field)&&Rs(r.value,o.value)})(i,e):i instanceof Is?(function(r,o){return o instanceof Is&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,m,p)=>u&&qv(m,o.filters[p])),!0):!1})(i,e):void Te(19439)}function Hv(i){return i instanceof jt?(function(s){return`${s.field.canonicalString()} ${s.op} ${Jr(s.value)}`})(i):i instanceof Is?(function(s){return s.op.toString()+" {"+s.getFilters().map(Hv).join(" ,")+"}"})(i):"Filter"}class hN extends jt{constructor(e,s,r){super(e,s,r),this.key=be.fromName(r.referenceValue)}matches(e){const s=be.comparator(e.key,this.key);return this.matchesComparison(s)}}class dN extends jt{constructor(e,s){super(e,"in",s),this.keys=Fv("in",s)}matches(e){return this.keys.some((s=>s.isEqual(e.key)))}}class fN extends jt{constructor(e,s){super(e,"not-in",s),this.keys=Fv("not-in",s)}matches(e){return!this.keys.some((s=>s.isEqual(e.key)))}}function Fv(i,e){return(e.arrayValue?.values||[]).map((s=>be.fromName(s.referenceValue)))}class mN extends jt{constructor(e,s){super(e,"array-contains",s)}matches(e){const s=e.data.field(this.field);return Gm(s)&&Oo(s.arrayValue,this.value)}}class gN extends jt{constructor(e,s){super(e,"in",s)}matches(e){const s=e.data.field(this.field);return s!==null&&Oo(this.value.arrayValue,s)}}class pN extends jt{constructor(e,s){super(e,"not-in",s)}matches(e){if(Oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=e.data.field(this.field);return s!==null&&s.nullValue===void 0&&!Oo(this.value.arrayValue,s)}}class yN extends jt{constructor(e,s){super(e,"array-contains-any",s)}matches(e){const s=e.data.field(this.field);return!(!Gm(s)||!s.arrayValue.values)&&s.arrayValue.values.some((r=>Oo(this.value.arrayValue,r)))}}class xN{constructor(e,s=null,r=[],o=[],u=null,m=null,p=null){this.path=e,this.collectionGroup=s,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=m,this.endAt=p,this.Te=null}}function Bx(i,e=null,s=[],r=[],o=null,u=null,m=null){return new xN(i,e,s,r,o,u,m)}function Ym(i){const e=Re(i);if(e.Te===null){let s=e.path.canonicalString();e.collectionGroup!==null&&(s+="|cg:"+e.collectionGroup),s+="|f:",s+=e.filters.map((r=>hm(r))).join(","),s+="|ob:",s+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),xh(e.limit)||(s+="|l:",s+=e.limit),e.startAt&&(s+="|lb:",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((r=>Jr(r))).join(",")),e.endAt&&(s+="|ub:",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((r=>Jr(r))).join(",")),e.Te=s}return e.Te}function Qm(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<i.orderBy.length;s++)if(!cN(i.orderBy[s],e.orderBy[s]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let s=0;s<i.filters.length;s++)if(!qv(i.filters[s],e.filters[s]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!zx(i.startAt,e.startAt)&&zx(i.endAt,e.endAt)}function dm(i){return be.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class vh{constructor(e,s=null,r=[],o=[],u=null,m="F",p=null,x=null){this.path=e,this.collectionGroup=s,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=m,this.startAt=p,this.endAt=x,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _N(i,e,s,r,o,u,m,p){return new vh(i,e,s,r,o,u,m,p)}function Km(i){return new vh(i)}function qx(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function vN(i){return i.collectionGroup!==null}function So(i){const e=Re(i);if(e.Ie===null){e.Ie=[];const s=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),s.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(m){let p=new Dt(Qt.comparator);return m.filters.forEach((x=>{x.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((u=>{s.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new sh(u,r))})),s.has(Qt.keyField().canonicalString())||e.Ie.push(new sh(Qt.keyField(),r))}return e.Ie}function Ss(i){const e=Re(i);return e.Ee||(e.Ee=bN(e,So(i))),e.Ee}function bN(i,e){if(i.limitType==="F")return Bx(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new sh(o.field,u)}));const s=i.endAt?new nh(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new nh(i.startAt.position,i.startAt.inclusive):null;return Bx(i.path,i.collectionGroup,e,i.filters,i.limit,s,r)}}function fm(i,e,s){return new vh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,s,i.startAt,i.endAt)}function bh(i,e){return Qm(Ss(i),Ss(e))&&i.limitType===e.limitType}function Gv(i){return`${Ym(Ss(i))}|lt:${i.limitType}`}function zr(i){return`Query(target=${(function(s){let r=s.path.canonicalString();return s.collectionGroup!==null&&(r+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(r+=`, filters: [${s.filters.map((o=>Hv(o))).join(", ")}]`),xh(s.limit)||(r+=", limit: "+s.limit),s.orderBy.length>0&&(r+=`, orderBy: [${s.orderBy.map((o=>(function(m){return`${m.field.canonicalString()} (${m.dir})`})(o))).join(", ")}]`),s.startAt&&(r+=", startAt: ",r+=s.startAt.inclusive?"b:":"a:",r+=s.startAt.position.map((o=>Jr(o))).join(",")),s.endAt&&(r+=", endAt: ",r+=s.endAt.inclusive?"a:":"b:",r+=s.endAt.position.map((o=>Jr(o))).join(",")),`Target(${r})`})(Ss(i))}; limitType=${i.limitType})`}function Eh(i,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):be.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(i,e)&&(function(r,o){for(const u of So(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(r,o){return!(r.startAt&&!(function(m,p,x){const _=Px(m,p,x);return m.inclusive?_<=0:_<0})(r.startAt,So(r),o)||r.endAt&&!(function(m,p,x){const _=Px(m,p,x);return m.inclusive?_>=0:_>0})(r.endAt,So(r),o))})(i,e)}function EN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Yv(i){return(e,s)=>{let r=!1;for(const o of So(i)){const u=TN(o,e,s);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function TN(i,e,s){const r=i.field.isKeyField()?be.comparator(e.key,s.key):(function(u,m,p){const x=m.data.field(u),_=p.data.field(u);return x!==null&&_!==null?Zr(x,_):Te(42886)})(i.field,e,s);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:i.dir})}}class Ga{constructor(e,s){this.mapKeyFn=e,this.equalsFn=s,this.inner={},this.innerSize=0}get(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,s){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,s]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,s]);o.push([e,s]),this.innerSize++}delete(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[s]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Fa(this.inner,((s,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return Iv(this.inner)}size(){return this.innerSize}}const SN=new ut(be.comparator);function si(){return SN}const Qv=new ut(be.comparator);function xo(...i){let e=Qv;for(const s of i)e=e.insert(s.key,s);return e}function Kv(i){let e=Qv;return i.forEach(((s,r)=>e=e.insert(s,r.overlayedDocument))),e}function Ma(){return Ao()}function $v(){return Ao()}function Ao(){return new Ga((i=>i.toString()),((i,e)=>i.isEqual(e)))}const AN=new ut(be.comparator),NN=new Dt(be.comparator);function ze(...i){let e=NN;for(const s of i)e=e.add(s);return e}const wN=new Dt(Pe);function CN(){return wN}function $m(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wu(e)?"-0":e}}function Xv(i){return{integerValue:""+i}}function RN(i,e){return tN(e)?Xv(e):$m(i,e)}class Th{constructor(){this._=void 0}}function IN(i,e,s){return i instanceof ih?(function(o,u){const m={fields:{[Dv]:{stringValue:jv},[Ov]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Fm(u)&&(u=_h(u)),u&&(m.fields[Mv]=u),{mapValue:m}})(s,e):i instanceof Vo?Jv(i,e):i instanceof Lo?Wv(i,e):(function(o,u){const m=Zv(o,u),p=Hx(m)+Hx(o.Ae);return um(m)&&um(o.Ae)?Xv(p):$m(o.serializer,p)})(i,e)}function kN(i,e,s){return i instanceof Vo?Jv(i,e):i instanceof Lo?Wv(i,e):s}function Zv(i,e){return i instanceof ah?(function(r){return um(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class ih extends Th{}class Vo extends Th{constructor(e){super(),this.elements=e}}function Jv(i,e){const s=e1(e);for(const r of i.elements)s.some((o=>Rs(o,r)))||s.push(r);return{arrayValue:{values:s}}}class Lo extends Th{constructor(e){super(),this.elements=e}}function Wv(i,e){let s=e1(e);for(const r of i.elements)s=s.filter((o=>!Rs(o,r)));return{arrayValue:{values:s}}}class ah extends Th{constructor(e,s){super(),this.serializer=e,this.Ae=s}}function Hx(i){return yt(i.integerValue||i.doubleValue)}function e1(i){return Gm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function jN(i,e){return i.field.isEqual(e.field)&&(function(r,o){return r instanceof Vo&&o instanceof Vo||r instanceof Lo&&o instanceof Lo?Xr(r.elements,o.elements,Rs):r instanceof ah&&o instanceof ah?Rs(r.Ae,o.Ae):r instanceof ih&&o instanceof ih})(i.transform,e.transform)}class DN{constructor(e,s){this.version=e,this.transformResults=s}}class Ws{constructor(e,s){this.updateTime=e,this.exists=s}static none(){return new Ws}static exists(e){return new Ws(void 0,e)}static updateTime(e){return new Ws(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qu(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Sh{}function t1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new s1(i.key,Ws.none()):new Qo(i.key,i.data,Ws.none());{const s=i.data,r=On.empty();let o=new Dt(Qt.comparator);for(let u of e.fields)if(!o.has(u)){let m=s.field(u);m===null&&u.length>1&&(u=u.popLast(),m=s.field(u)),m===null?r.delete(u):r.set(u,m),o=o.add(u)}return new Ya(i.key,r,new Jn(o.toArray()),Ws.none())}}function MN(i,e,s){i instanceof Qo?(function(o,u,m){const p=o.value.clone(),x=Gx(o.fieldTransforms,u,m.transformResults);p.setAll(x),u.convertToFoundDocument(m.version,p).setHasCommittedMutations()})(i,e,s):i instanceof Ya?(function(o,u,m){if(!qu(o.precondition,u))return void u.convertToUnknownDocument(m.version);const p=Gx(o.fieldTransforms,u,m.transformResults),x=u.data;x.setAll(n1(o)),x.setAll(p),u.convertToFoundDocument(m.version,x).setHasCommittedMutations()})(i,e,s):(function(o,u,m){u.convertToNoDocument(m.version).setHasCommittedMutations()})(0,e,s)}function No(i,e,s,r){return i instanceof Qo?(function(u,m,p,x){if(!qu(u.precondition,m))return p;const _=u.value.clone(),E=Yx(u.fieldTransforms,x,m);return _.setAll(E),m.convertToFoundDocument(m.version,_).setHasLocalMutations(),null})(i,e,s,r):i instanceof Ya?(function(u,m,p,x){if(!qu(u.precondition,m))return p;const _=Yx(u.fieldTransforms,x,m),E=m.data;return E.setAll(n1(u)),E.setAll(_),m.convertToFoundDocument(m.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,e,s,r):(function(u,m,p){return qu(u.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):p})(i,e,s)}function ON(i,e){let s=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),u=Zv(r.transform,o||null);u!=null&&(s===null&&(s=On.empty()),s.set(r.field,u))}return s||null}function Fx(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Xr(r,o,((u,m)=>jN(u,m)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Qo extends Sh{constructor(e,s,r,o=[]){super(),this.key=e,this.value=s,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ya extends Sh{constructor(e,s,r,o,u=[]){super(),this.key=e,this.data=s,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function n1(i){const e=new Map;return i.fieldMask.fields.forEach((s=>{if(!s.isEmpty()){const r=i.data.field(s);e.set(s,r)}})),e}function Gx(i,e,s){const r=new Map;Ke(i.length===s.length,32656,{Re:s.length,Ve:i.length});for(let o=0;o<s.length;o++){const u=i[o],m=u.transform,p=e.data.field(u.field);r.set(u.field,kN(m,p,s[o]))}return r}function Yx(i,e,s){const r=new Map;for(const o of i){const u=o.transform,m=s.data.field(o.field);r.set(o.field,IN(u,m,e))}return r}class s1 extends Sh{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VN extends Sh{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class LN{constructor(e,s,r,o){this.batchId=e,this.localWriteTime=s,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,s){const r=s.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&MN(u,e,r[o])}}applyToLocalView(e,s){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(s=No(r,e,s,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(s=No(r,e,s,this.localWriteTime));return s}applyToLocalDocumentSet(e,s){const r=$v();return this.mutations.forEach((o=>{const u=e.get(o.key),m=u.overlayedDocument;let p=this.applyToLocalView(m,u.mutatedFields);p=s.has(o.key)?null:p;const x=t1(m,p);x!==null&&r.set(o.key,x),m.isValidDocument()||m.convertToNoDocument(we.min())})),r}keys(){return this.mutations.reduce(((e,s)=>e.add(s.key)),ze())}isEqual(e){return this.batchId===e.batchId&&Xr(this.mutations,e.mutations,((s,r)=>Fx(s,r)))&&Xr(this.baseMutations,e.baseMutations,((s,r)=>Fx(s,r)))}}class Xm{constructor(e,s,r,o){this.batch=e,this.commitVersion=s,this.mutationResults=r,this.docVersions=o}static from(e,s,r){Ke(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return AN})();const u=e.mutations;for(let m=0;m<u.length;m++)o=o.insert(u[m].key,r[m].version);return new Xm(e,s,r,o)}}class UN{constructor(e,s){this.largestBatchId=e,this.mutation=s}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class PN{constructor(e,s){this.count=e,this.unchangedNames=s}}var wt,He;function zN(i){switch(i){case le.OK:return Te(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Te(15467,{code:i})}}function i1(i){if(i===void 0)return ni("GRPC error has no .code"),le.UNKNOWN;switch(i){case wt.OK:return le.OK;case wt.CANCELLED:return le.CANCELLED;case wt.UNKNOWN:return le.UNKNOWN;case wt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case wt.INTERNAL:return le.INTERNAL;case wt.UNAVAILABLE:return le.UNAVAILABLE;case wt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case wt.NOT_FOUND:return le.NOT_FOUND;case wt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case wt.ABORTED:return le.ABORTED;case wt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case wt.DATA_LOSS:return le.DATA_LOSS;default:return Te(39323,{code:i})}}(He=wt||(wt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function BN(){return new TextEncoder}const qN=new Qi([4294967295,4294967295],0);function Qx(i){const e=BN().encode(i),s=new vv;return s.update(e),new Uint8Array(s.digest())}function Kx(i){const e=new DataView(i.buffer),s=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Qi([s,r],0),new Qi([o,u],0)]}class Zm{constructor(e,s,r){if(this.bitmap=e,this.padding=s,this.hashCount=r,s<0||s>=8)throw new _o(`Invalid padding: ${s}`);if(r<0)throw new _o(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _o(`Invalid hash count: ${r}`);if(e.length===0&&s!==0)throw new _o(`Invalid padding when bitmap length is 0: ${s}`);this.ge=8*e.length-s,this.pe=Qi.fromNumber(this.ge)}ye(e,s,r){let o=e.add(s.multiply(Qi.fromNumber(r)));return o.compare(qN)===1&&(o=new Qi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const s=Qx(e),[r,o]=Kx(s);for(let u=0;u<this.hashCount;u++){const m=this.ye(r,o,u);if(!this.we(m))return!1}return!0}static create(e,s,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),m=new Zm(u,o,s);return r.forEach((p=>m.insert(p))),m}insert(e){if(this.ge===0)return;const s=Qx(e),[r,o]=Kx(s);for(let u=0;u<this.hashCount;u++){const m=this.ye(r,o,u);this.Se(m)}}Se(e){const s=Math.floor(e/8),r=e%8;this.bitmap[s]|=1<<r}}class _o extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ah{constructor(e,s,r,o,u){this.snapshotVersion=e,this.targetChanges=s,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,s,r){const o=new Map;return o.set(e,Ko.createSynthesizedTargetChangeForCurrentChange(e,s,r)),new Ah(we.min(),o,new ut(Pe),si(),ze())}}class Ko{constructor(e,s,r,o,u){this.resumeToken=e,this.current=s,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,s,r){return new Ko(r,s,ze(),ze(),ze())}}class Hu{constructor(e,s,r,o){this.be=e,this.removedTargetIds=s,this.key=r,this.De=o}}class a1{constructor(e,s){this.targetId=e,this.Ce=s}}class r1{constructor(e,s,r=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=s,this.resumeToken=r,this.cause=o}}class $x{constructor(){this.ve=0,this.Fe=Xx(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),s=ze(),r=ze();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:s=s.add(o);break;case 1:r=r.add(o);break;default:Te(38017,{changeType:u})}})),new Ko(this.Me,this.xe,e,s,r)}qe(){this.Oe=!1,this.Fe=Xx()}Qe(e,s){this.Oe=!0,this.Fe=this.Fe.insert(e,s)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class HN{constructor(e){this.Ge=e,this.ze=new Map,this.je=si(),this.Je=Du(),this.He=Du(),this.Ye=new ut(Pe)}Ze(e){for(const s of e.be)e.De&&e.De.isFoundDocument()?this.Xe(s,e.De):this.et(s,e.key,e.De);for(const s of e.removedTargetIds)this.et(s,e.key,e.De)}tt(e){this.forEachTarget(e,(s=>{const r=this.nt(s);switch(e.state){case 0:this.rt(s)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(s);break;case 3:this.rt(s)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(s)&&(this.it(s),r.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,s){e.targetIds.length>0?e.targetIds.forEach(s):this.ze.forEach(((r,o)=>{this.rt(o)&&s(o)}))}st(e){const s=e.targetId,r=e.Ce.count,o=this.ot(s);if(o){const u=o.target;if(dm(u))if(r===0){const m=new be(u.path);this.et(s,m,Jt.newNoDocument(m,we.min()))}else Ke(r===1,20013,{expectedCount:r});else{const m=this._t(s);if(m!==r){const p=this.ut(e),x=p?this.ct(p,e,m):1;if(x!==0){this.it(s);const _=x===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(s,_)}}}}}ut(e){const s=e.Ce.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=s;let m,p;try{m=Zi(r).toUint8Array()}catch(x){if(x instanceof kv)return $r("Decoding the base64 bloom filter in existence filter failed ("+x.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw x}try{p=new Zm(m,o,u)}catch(x){return $r(x instanceof _o?"BloomFilter error: ":"Applying bloom filter failed: ",x),null}return p.ge===0?null:p}ct(e,s,r){return s.Ce.count===r-this.Pt(e,s.targetId)?0:2}Pt(e,s){const r=this.Ge.getRemoteKeysForTarget(s);let o=0;return r.forEach((u=>{const m=this.Ge.ht(),p=`projects/${m.projectId}/databases/${m.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(s,u,null),o++)})),o}Tt(e){const s=new Map;this.ze.forEach(((u,m)=>{const p=this.ot(m);if(p){if(u.current&&dm(p.target)){const x=new be(p.target.path);this.It(x).has(m)||this.Et(m,x)||this.et(m,x,Jt.newNoDocument(x,e))}u.Be&&(s.set(m,u.ke()),u.qe())}}));let r=ze();this.He.forEach(((u,m)=>{let p=!0;m.forEachWhile((x=>{const _=this.ot(x);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,m)=>m.setReadTime(e)));const o=new Ah(e,s,this.Ye,this.je,r);return this.je=si(),this.Je=Du(),this.He=Du(),this.Ye=new ut(Pe),o}Xe(e,s){if(!this.rt(e))return;const r=this.Et(e,s.key)?2:0;this.nt(e).Qe(s.key,r),this.je=this.je.insert(s.key,s),this.Je=this.Je.insert(s.key,this.It(s.key).add(e)),this.He=this.He.insert(s.key,this.dt(s.key).add(e))}et(e,s,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,s)?o.Qe(s,1):o.$e(s),this.He=this.He.insert(s,this.dt(s).delete(e)),this.He=this.He.insert(s,this.dt(s).add(e)),r&&(this.je=this.je.insert(s,r))}removeTarget(e){this.ze.delete(e)}_t(e){const s=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+s.addedDocuments.size-s.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let s=this.ze.get(e);return s||(s=new $x,this.ze.set(e,s)),s}dt(e){let s=this.He.get(e);return s||(s=new Dt(Pe),this.He=this.He.insert(e,s)),s}It(e){let s=this.Je.get(e);return s||(s=new Dt(Pe),this.Je=this.Je.insert(e,s)),s}rt(e){const s=this.ot(e)!==null;return s||me("WatchChangeAggregator","Detected inactive target",e),s}ot(e){const s=this.ze.get(e);return s&&s.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $x),this.Ge.getRemoteKeysForTarget(e).forEach((s=>{this.et(e,s,null)}))}Et(e,s){return this.Ge.getRemoteKeysForTarget(e).has(s)}}function Du(){return new ut(be.comparator)}function Xx(){return new ut(be.comparator)}const FN={asc:"ASCENDING",desc:"DESCENDING"},GN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YN={and:"AND",or:"OR"};class QN{constructor(e,s){this.databaseId=e,this.useProto3Json=s}}function mm(i,e){return i.useProto3Json||xh(e)?e:{value:e}}function rh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function l1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function KN(i,e){return rh(i,e.toTimestamp())}function As(i){return Ke(!!i,49232),we.fromTimestamp((function(s){const r=Xi(s);return new at(r.seconds,r.nanos)})(i))}function Jm(i,e){return gm(i,e).canonicalString()}function gm(i,e){const s=(function(o){return new ct(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?s:s.child(e)}function o1(i){const e=ct.fromString(i);return Ke(f1(e),10190,{key:e.toString()}),e}function pm(i,e){return Jm(i.databaseId,e.path)}function Qf(i,e){const s=o1(e);if(s.get(1)!==i.databaseId.projectId)throw new ye(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+i.databaseId.projectId);if(s.get(3)!==i.databaseId.database)throw new ye(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+i.databaseId.database);return new be(u1(s))}function c1(i,e){return Jm(i.databaseId,e)}function $N(i){const e=o1(i);return e.length===4?ct.emptyPath():u1(e)}function ym(i){return new ct(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function u1(i){return Ke(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Zx(i,e,s){return{name:pm(i,e),fields:s.value.mapValue.fields}}function XN(i,e){let s;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Te(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(_,E){return _.useProto3Json?(Ke(E===void 0||typeof E=="string",58123),Kt.fromBase64String(E||"")):(Ke(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Kt.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),m=e.targetChange.cause,p=m&&(function(_){const E=_.code===void 0?le.UNKNOWN:i1(_.code);return new ye(E,_.message||"")})(m);s=new r1(r,o,u,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Qf(i,r.document.name),u=As(r.document.updateTime),m=r.document.createTime?As(r.document.createTime):we.min(),p=new On({mapValue:{fields:r.document.fields}}),x=Jt.newFoundDocument(o,u,m,p),_=r.targetIds||[],E=r.removedTargetIds||[];s=new Hu(_,E,x.key,x)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Qf(i,r.document),u=r.readTime?As(r.readTime):we.min(),m=Jt.newNoDocument(o,u),p=r.removedTargetIds||[];s=new Hu([],p,m.key,m)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Qf(i,r.document),u=r.removedTargetIds||[];s=new Hu([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,m=new PN(o,u),p=r.targetId;s=new a1(p,m)}}return s}function ZN(i,e){let s;if(e instanceof Qo)s={update:Zx(i,e.key,e.value)};else if(e instanceof s1)s={delete:pm(i,e.key)};else if(e instanceof Ya)s={update:Zx(i,e.key,e.data),updateMask:rw(e.fieldMask)};else{if(!(e instanceof VN))return Te(16599,{Vt:e.type});s={verify:pm(i,e.key)}}return e.fieldTransforms.length>0&&(s.updateTransforms=e.fieldTransforms.map((r=>(function(u,m){const p=m.transform;if(p instanceof ih)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Vo)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Lo)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ah)return{fieldPath:m.field.canonicalString(),increment:p.Ae};throw Te(20930,{transform:m.transform})})(0,r)))),e.precondition.isNone||(s.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:KN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)})(i,e.precondition)),s}function JN(i,e){return i&&i.length>0?(Ke(e!==void 0,14353),i.map((s=>(function(o,u){let m=o.updateTime?As(o.updateTime):As(u);return m.isEqual(we.min())&&(m=As(u)),new DN(m,o.transformResults||[])})(s,e)))):[]}function WN(i,e){return{documents:[c1(i,e.path)]}}function ew(i,e){const s={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,s.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),s.structuredQuery.from=[{collectionId:r.lastSegment()}]),s.parent=c1(i,o);const u=(function(_){if(_.length!==0)return d1(Is.create(_,"and"))})(e.filters);u&&(s.structuredQuery.where=u);const m=(function(_){if(_.length!==0)return _.map((E=>(function(N){return{field:Br(N.field),direction:sw(N.dir)}})(E)))})(e.orderBy);m&&(s.structuredQuery.orderBy=m);const p=mm(i,e.limit);return p!==null&&(s.structuredQuery.limit=p),e.startAt&&(s.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(s.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:s,parent:o}}function tw(i){let e=$N(i.parent);const s=i.structuredQuery,r=s.from?s.from.length:0;let o=null;if(r>0){Ke(r===1,65062);const E=s.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];s.where&&(u=(function(T){const N=h1(T);return N instanceof Is&&Bv(N)?N.getFilters():[N]})(s.where));let m=[];s.orderBy&&(m=(function(T){return T.map((N=>(function(Z){return new sh(qr(Z.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(N)))})(s.orderBy));let p=null;s.limit&&(p=(function(T){let N;return N=typeof T=="object"?T.value:T,xh(N)?null:N})(s.limit));let x=null;s.startAt&&(x=(function(T){const N=!!T.before,B=T.values||[];return new nh(B,N)})(s.startAt));let _=null;return s.endAt&&(_=(function(T){const N=!T.before,B=T.values||[];return new nh(B,N)})(s.endAt)),_N(e,o,m,u,p,"F",x,_)}function nw(i,e){const s=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return s==null?null:{"goog-listen-tags":s}}function h1(i){return i.unaryFilter!==void 0?(function(s){switch(s.unaryFilter.op){case"IS_NAN":const r=qr(s.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=qr(s.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=qr(s.unaryFilter.field);return jt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=qr(s.unaryFilter.field);return jt.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(i):i.fieldFilter!==void 0?(function(s){return jt.create(qr(s.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(s.fieldFilter.op),s.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(s){return Is.create(s.compositeFilter.filters.map((r=>h1(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(s.compositeFilter.op))})(i):Te(30097,{filter:i})}function sw(i){return FN[i]}function iw(i){return GN[i]}function aw(i){return YN[i]}function Br(i){return{fieldPath:i.canonicalString()}}function qr(i){return Qt.fromServerFormat(i.fieldPath)}function d1(i){return i instanceof jt?(function(s){if(s.op==="=="){if(Ux(s.value))return{unaryFilter:{field:Br(s.field),op:"IS_NAN"}};if(Lx(s.value))return{unaryFilter:{field:Br(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(Ux(s.value))return{unaryFilter:{field:Br(s.field),op:"IS_NOT_NAN"}};if(Lx(s.value))return{unaryFilter:{field:Br(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Br(s.field),op:iw(s.op),value:s.value}}})(i):i instanceof Is?(function(s){const r=s.getFilters().map((o=>d1(o)));return r.length===1?r[0]:{compositeFilter:{op:aw(s.op),filters:r}}})(i):Te(54877,{filter:i})}function rw(i){const e=[];return i.fields.forEach((s=>e.push(s.canonicalString()))),{fieldPaths:e}}function f1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class Hi{constructor(e,s,r,o,u=we.min(),m=we.min(),p=Kt.EMPTY_BYTE_STRING,x=null){this.target=e,this.targetId=s,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=p,this.expectedCount=x}withSequenceNumber(e){return new Hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,s){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class lw{constructor(e){this.yt=e}}function ow(i){const e=tw({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?fm(e,e.limit,"L"):e}class cw{constructor(){this.Cn=new uw}addToCollectionParentIndex(e,s){return this.Cn.add(s),se.resolve()}getCollectionParents(e,s){return se.resolve(this.Cn.getEntries(s))}addFieldIndex(e,s){return se.resolve()}deleteFieldIndex(e,s){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,s){return se.resolve()}getDocumentsMatchingTarget(e,s){return se.resolve(null)}getIndexType(e,s){return se.resolve(0)}getFieldIndexes(e,s){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,s){return se.resolve($i.min())}getMinOffsetFromCollectionGroup(e,s){return se.resolve($i.min())}updateCollectionGroup(e,s,r){return se.resolve()}updateIndexEntries(e,s){return se.resolve()}}class uw{constructor(){this.index={}}add(e){const s=e.lastSegment(),r=e.popLast(),o=this.index[s]||new Dt(ct.comparator),u=!o.has(r);return this.index[s]=o.add(r),u}has(e){const s=e.lastSegment(),r=e.popLast(),o=this.index[s];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Dt(ct.comparator)).toArray()}}const Jx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},m1=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,s,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=r}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(m1,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class Wr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Wr(0)}static cr(){return new Wr(-1)}}const Wx="LruGarbageCollector",hw=1048576;function e_([i,e],[s,r]){const o=Pe(i,s);return o===0?Pe(e,r):o}class dw{constructor(e){this.Ir=e,this.buffer=new Dt(e_),this.Er=0}dr(){return++this.Er}Ar(e){const s=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(s);else{const r=this.buffer.last();e_(s,r)<0&&(this.buffer=this.buffer.delete(r).add(s))}}get maxValue(){return this.buffer.last()[0]}}class fw{constructor(e,s,r){this.garbageCollector=e,this.asyncQueue=s,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(Wx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(s){ol(s)?me(Wx,"Ignoring IndexedDB error during garbage collection: ",s):await ll(s)}await this.Vr(3e5)}))}}class mw{constructor(e,s){this.mr=e,this.params=s}calculateTargetCount(e,s){return this.mr.gr(e).next((r=>Math.floor(s/100*r)))}nthSequenceNumber(e,s){if(s===0)return se.resolve(yh.ce);const r=new dw(s);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,s,r){return this.mr.removeTargets(e,s,r)}removeOrphanedDocuments(e,s){return this.mr.removeOrphanedDocuments(e,s)}collect(e,s){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(Jx)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jx):this.yr(e,s)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,s){let r,o,u,m,p,x,_;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,m=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(r=T,p=Date.now(),this.removeTargets(e,r,s)))).next((T=>(u=T,x=Date.now(),this.removeOrphanedDocuments(e,r)))).next((T=>(_=Date.now(),Pr()<=Ue.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-E}ms
	Determined least recently used ${o} in `+(p-m)+`ms
	Removed ${u} targets in `+(x-p)+`ms
	Removed ${T} documents in `+(_-x)+`ms
Total Duration: ${_-E}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function gw(i,e){return new mw(i,e)}class pw{constructor(){this.changes=new Ga((e=>e.toString()),((e,s)=>e.isEqual(s))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,s){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(s))}getEntry(e,s){this.assertNotApplied();const r=this.changes.get(s);return r!==void 0?se.resolve(r):this.getFromCache(e,s)}getEntries(e,s){return this.getAllFromCache(e,s)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yw{constructor(e,s){this.overlayedDocument=e,this.mutatedFields=s}}class xw{constructor(e,s,r,o){this.remoteDocumentCache=e,this.mutationQueue=s,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,s){let r=null;return this.documentOverlayCache.getOverlay(e,s).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,s)))).next((o=>(r!==null&&No(r.mutation,o,Jn.empty(),at.now()),o)))}getDocuments(e,s){return this.remoteDocumentCache.getEntries(e,s).next((r=>this.getLocalViewOfDocuments(e,r,ze()).next((()=>r))))}getLocalViewOfDocuments(e,s,r=ze()){const o=Ma();return this.populateOverlays(e,o,s).next((()=>this.computeViews(e,s,o,r).next((u=>{let m=xo();return u.forEach(((p,x)=>{m=m.insert(p,x.overlayedDocument)})),m}))))}getOverlayedDocuments(e,s){const r=Ma();return this.populateOverlays(e,r,s).next((()=>this.computeViews(e,s,r,ze())))}populateOverlays(e,s,r){const o=[];return r.forEach((u=>{s.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((m,p)=>{s.set(m,p)}))}))}computeViews(e,s,r,o){let u=si();const m=Ao(),p=(function(){return Ao()})();return s.forEach(((x,_)=>{const E=r.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof Ya)?u=u.insert(_.key,_):E!==void 0?(m.set(_.key,E.mutation.getFieldMask()),No(E.mutation,_,E.mutation.getFieldMask(),at.now())):m.set(_.key,Jn.empty())})),this.recalculateAndSaveOverlays(e,u).next((x=>(x.forEach(((_,E)=>m.set(_,E))),s.forEach(((_,E)=>p.set(_,new yw(E,m.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,s){const r=Ao();let o=new ut(((m,p)=>m-p)),u=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,s).next((m=>{for(const p of m)p.keys().forEach((x=>{const _=s.get(x);if(_===null)return;let E=r.get(x)||Jn.empty();E=p.applyToLocalView(_,E),r.set(x,E);const T=(o.get(p.batchId)||ze()).add(x);o=o.insert(p.batchId,T)}))})).next((()=>{const m=[],p=o.getReverseIterator();for(;p.hasNext();){const x=p.getNext(),_=x.key,E=x.value,T=$v();E.forEach((N=>{if(!u.has(N)){const B=t1(s.get(N),r.get(N));B!==null&&T.set(N,B),u=u.add(N)}})),m.push(this.documentOverlayCache.saveOverlays(e,_,T))}return se.waitFor(m)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,s){return this.remoteDocumentCache.getEntries(e,s).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,s,r,o){return(function(m){return be.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0})(s)?this.getDocumentsMatchingDocumentQuery(e,s.path):vN(s)?this.getDocumentsMatchingCollectionGroupQuery(e,s,r,o):this.getDocumentsMatchingCollectionQuery(e,s,r,o)}getNextDocuments(e,s,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,s,r,o).next((u=>{const m=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,s,r.largestBatchId,o-u.size):se.resolve(Ma());let p=jo,x=u;return m.next((_=>se.forEach(_,((E,T)=>(p<T.largestBatchId&&(p=T.largestBatchId),u.get(E)?se.resolve():this.remoteDocumentCache.getEntry(e,E).next((N=>{x=x.insert(E,N)}))))).next((()=>this.populateOverlays(e,_,u))).next((()=>this.computeViews(e,x,_,ze()))).next((E=>({batchId:p,changes:Kv(E)})))))}))}getDocumentsMatchingDocumentQuery(e,s){return this.getDocument(e,new be(s)).next((r=>{let o=xo();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,s,r,o){const u=s.collectionGroup;let m=xo();return this.indexManager.getCollectionParents(e,u).next((p=>se.forEach(p,(x=>{const _=(function(T,N){return new vh(N,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(s,x.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next((E=>{E.forEach(((T,N)=>{m=m.insert(T,N)}))}))})).next((()=>m))))}getDocumentsMatchingCollectionQuery(e,s,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,s.path,r.largestBatchId).next((m=>(u=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,s,r,u,o)))).next((m=>{u.forEach(((x,_)=>{const E=_.getKey();m.get(E)===null&&(m=m.insert(E,Jt.newInvalidDocument(E)))}));let p=xo();return m.forEach(((x,_)=>{const E=u.get(x);E!==void 0&&No(E.mutation,_,Jn.empty(),at.now()),Eh(s,_)&&(p=p.insert(x,_))})),p}))}}class _w{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,s){return se.resolve(this.Lr.get(s))}saveBundleMetadata(e,s){return this.Lr.set(s.id,(function(o){return{id:o.id,version:o.version,createTime:As(o.createTime)}})(s)),se.resolve()}getNamedQuery(e,s){return se.resolve(this.kr.get(s))}saveNamedQuery(e,s){return this.kr.set(s.name,(function(o){return{name:o.name,query:ow(o.bundledQuery),readTime:As(o.readTime)}})(s)),se.resolve()}}class vw{constructor(){this.overlays=new ut(be.comparator),this.qr=new Map}getOverlay(e,s){return se.resolve(this.overlays.get(s))}getOverlays(e,s){const r=Ma();return se.forEach(s,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,s,r){return r.forEach(((o,u)=>{this.St(e,s,u)})),se.resolve()}removeOverlaysForBatchId(e,s,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),se.resolve()}getOverlaysForCollection(e,s,r){const o=Ma(),u=s.length+1,m=new be(s.child("")),p=this.overlays.getIteratorFrom(m);for(;p.hasNext();){const x=p.getNext().value,_=x.getKey();if(!s.isPrefixOf(_.path))break;_.path.length===u&&x.largestBatchId>r&&o.set(x.getKey(),x)}return se.resolve(o)}getOverlaysForCollectionGroup(e,s,r,o){let u=new ut(((_,E)=>_-E));const m=this.overlays.getIterator();for(;m.hasNext();){const _=m.getNext().value;if(_.getKey().getCollectionGroup()===s&&_.largestBatchId>r){let E=u.get(_.largestBatchId);E===null&&(E=Ma(),u=u.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const p=Ma(),x=u.getIterator();for(;x.hasNext()&&(x.getNext().value.forEach(((_,E)=>p.set(_,E))),!(p.size()>=o)););return se.resolve(p)}St(e,s,r){const o=this.overlays.get(r.key);if(o!==null){const m=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,m)}this.overlays=this.overlays.insert(r.key,new UN(s,r));let u=this.qr.get(s);u===void 0&&(u=ze(),this.qr.set(s,u)),this.qr.set(s,u.add(r.key))}}class bw{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,s){return this.sessionToken=s,se.resolve()}}class Wm{constructor(){this.Qr=new Dt(Lt.$r),this.Ur=new Dt(Lt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,s){const r=new Lt(e,s);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,s){e.forEach((r=>this.addReference(r,s)))}removeReference(e,s){this.Gr(new Lt(e,s))}zr(e,s){e.forEach((r=>this.removeReference(r,s)))}jr(e){const s=new be(new ct([])),r=new Lt(s,e),o=new Lt(s,e+1),u=[];return this.Ur.forEachInRange([r,o],(m=>{this.Gr(m),u.push(m.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const s=new be(new ct([])),r=new Lt(s,e),o=new Lt(s,e+1);let u=ze();return this.Ur.forEachInRange([r,o],(m=>{u=u.add(m.key)})),u}containsKey(e){const s=new Lt(e,0),r=this.Qr.firstAfterOrEqual(s);return r!==null&&e.isEqual(r.key)}}class Lt{constructor(e,s){this.key=e,this.Yr=s}static $r(e,s){return be.comparator(e.key,s.key)||Pe(e.Yr,s.Yr)}static Kr(e,s){return Pe(e.Yr,s.Yr)||be.comparator(e.key,s.key)}}class Ew{constructor(e,s){this.indexManager=e,this.referenceDelegate=s,this.mutationQueue=[],this.tr=1,this.Zr=new Dt(Lt.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,s,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new LN(u,s,r,o);this.mutationQueue.push(m);for(const p of o)this.Zr=this.Zr.add(new Lt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return se.resolve(m)}lookupMutationBatch(e,s){return se.resolve(this.Xr(s))}getNextMutationBatchAfterBatchId(e,s){const r=s+1,o=this.ei(r),u=o<0?0:o;return se.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Hm:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,s){const r=new Lt(s,0),o=new Lt(s,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(m=>{const p=this.Xr(m.Yr);u.push(p)})),se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,s){let r=new Dt(Pe);return s.forEach((o=>{const u=new Lt(o,0),m=new Lt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,m],(p=>{r=r.add(p.Yr)}))})),se.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,s){const r=s.path,o=r.length+1;let u=r;be.isDocumentKey(u)||(u=u.child(""));const m=new Lt(new be(u),0);let p=new Dt(Pe);return this.Zr.forEachWhile((x=>{const _=x.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(p=p.add(x.Yr)),!0)}),m),se.resolve(this.ti(p))}ti(e){const s=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&s.push(o)})),s}removeMutationBatch(e,s){Ke(this.ni(s.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return se.forEach(s.mutations,(o=>{const u=new Lt(o.key,s.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,s){const r=new Lt(s,0),o=this.Zr.firstAfterOrEqual(r);return se.resolve(s.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,s){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const s=this.ei(e);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}class Tw{constructor(e){this.ri=e,this.docs=(function(){return new ut(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,s){const r=s.key,o=this.docs.get(r),u=o?o.size:0,m=this.ri(s);return this.docs=this.docs.insert(r,{document:s.mutableCopy(),size:m}),this.size+=m-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const s=this.docs.get(e);s&&(this.docs=this.docs.remove(e),this.size-=s.size)}getEntry(e,s){const r=this.docs.get(s);return se.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(s))}getEntries(e,s){let r=si();return s.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Jt.newInvalidDocument(o))})),se.resolve(r)}getDocumentsMatchingQuery(e,s,r,o){let u=si();const m=s.path,p=new be(m.child("__id-9223372036854775808__")),x=this.docs.getIteratorFrom(p);for(;x.hasNext();){const{key:_,value:{document:E}}=x.getNext();if(!m.isPrefixOf(_.path))break;_.path.length>m.length+1||ZA(XA(E),r)<=0||(o.has(E.key)||Eh(s,E))&&(u=u.insert(E.key,E.mutableCopy()))}return se.resolve(u)}getAllFromCollectionGroup(e,s,r,o){Te(9500)}ii(e,s){return se.forEach(this.docs,(r=>s(r)))}newChangeBuffer(e){return new Sw(this)}getSize(e){return se.resolve(this.size)}}class Sw extends pw{constructor(e){super(),this.Nr=e}applyChanges(e){const s=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?s.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),se.waitFor(s)}getFromCache(e,s){return this.Nr.getEntry(e,s)}getAllFromCache(e,s){return this.Nr.getEntries(e,s)}}class Aw{constructor(e){this.persistence=e,this.si=new Ga((s=>Ym(s)),Qm),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new Wm,this.targetCount=0,this.ai=Wr.ur()}forEachTarget(e,s){return this.si.forEach(((r,o)=>s(o))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,s,r){return r&&(this.lastRemoteSnapshotVersion=r),s>this.oi&&(this.oi=s),se.resolve()}Pr(e){this.si.set(e.target,e);const s=e.targetId;s>this.highestTargetId&&(this.ai=new Wr(s),this.highestTargetId=s),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,s){return this.Pr(s),this.targetCount+=1,se.resolve()}updateTargetData(e,s){return this.Pr(s),se.resolve()}removeTargetData(e,s){return this.si.delete(s.target),this._i.jr(s.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,s,r){let o=0;const u=[];return this.si.forEach(((m,p)=>{p.sequenceNumber<=s&&r.get(p.targetId)===null&&(this.si.delete(m),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),se.waitFor(u).next((()=>o))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,s){const r=this.si.get(s)||null;return se.resolve(r)}addMatchingKeys(e,s,r){return this._i.Wr(s,r),se.resolve()}removeMatchingKeys(e,s,r){this._i.zr(s,r);const o=this.persistence.referenceDelegate,u=[];return o&&s.forEach((m=>{u.push(o.markPotentiallyOrphaned(e,m))})),se.waitFor(u)}removeMatchingKeysForTargetId(e,s){return this._i.jr(s),se.resolve()}getMatchingKeysForTargetId(e,s){const r=this._i.Hr(s);return se.resolve(r)}containsKey(e,s){return se.resolve(this._i.containsKey(s))}}class g1{constructor(e,s){this.ui={},this.overlays={},this.ci=new yh(0),this.li=!1,this.li=!0,this.hi=new bw,this.referenceDelegate=e(this),this.Pi=new Aw(this),this.indexManager=new cw,this.remoteDocumentCache=(function(o){return new Tw(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new lw(s),this.Ii=new _w(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let s=this.overlays[e.toKey()];return s||(s=new vw,this.overlays[e.toKey()]=s),s}getMutationQueue(e,s){let r=this.ui[e.toKey()];return r||(r=new Ew(s,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,s,r){me("MemoryPersistence","Starting transaction:",e);const o=new Nw(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,s){return se.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,s))))}}class Nw extends WA{constructor(e){super(),this.currentSequenceNumber=e}}class eg{constructor(e){this.persistence=e,this.Ri=new Wm,this.Vi=null}static mi(e){return new eg(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,s,r){return this.Ri.addReference(r,s),this.fi.delete(r.toString()),se.resolve()}removeReference(e,s,r){return this.Ri.removeReference(r,s),this.fi.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,s){return this.fi.add(s.toString()),se.resolve()}removeTarget(e,s){this.Ri.jr(s.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,s.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,s)))}Ei(){this.Vi=new Set}di(e){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(r=>{const o=be.fromPath(r);return this.gi(e,o).next((u=>{u||s.removeEntry(o,we.min())}))})).next((()=>(this.Vi=null,s.apply(e))))}updateLimboDocument(e,s){return this.gi(e,s).next((r=>{r?this.fi.delete(s.toString()):this.fi.add(s.toString())}))}Ti(e){return 0}gi(e,s){return se.or([()=>se.resolve(this.Ri.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(e,s),()=>this.persistence.Ai(e,s)])}}class lh{constructor(e,s){this.persistence=e,this.pi=new Ga((r=>nN(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=gw(this,s)}static mi(e,s){return new lh(e,s)}Ei(){}di(e){return se.resolve()}forEachTarget(e,s){return this.persistence.getTargetCache().forEachTarget(e,s)}gr(e){const s=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>s.next((o=>r+o))))}wr(e){let s=0;return this.pr(e,(r=>{s++})).next((()=>s))}pr(e,s){return se.forEach(this.pi,((r,o)=>this.br(e,r,o).next((u=>u?se.resolve():s(o)))))}removeTargets(e,s,r){return this.persistence.getTargetCache().removeTargets(e,s,r)}removeOrphanedDocuments(e,s){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(m=>this.br(e,m,s).next((p=>{p||(r++,u.removeEntry(m,we.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,s){return this.pi.set(s,e.currentSequenceNumber),se.resolve()}removeTarget(e,s){const r=s.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,s,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,s,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,s){return this.pi.set(s,e.currentSequenceNumber),se.resolve()}Ti(e){let s=e.key.toString().length;return e.isFoundDocument()&&(s+=zu(e.data.value)),s}br(e,s,r){return se.or([()=>this.persistence.Ai(e,s),()=>this.persistence.getTargetCache().containsKey(e,s),()=>{const o=this.pi.get(s);return se.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class tg{constructor(e,s,r,o){this.targetId=e,this.fromCache=s,this.Es=r,this.ds=o}static As(e,s){let r=ze(),o=ze();for(const u of s.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new tg(e,s.fromCache,r,o)}}class ww{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Cw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return p2()?8:eN(Wt())>0?6:4})()}initialize(e,s){this.ps=e,this.indexManager=s,this.Rs=!0}getDocumentsMatchingQuery(e,s,r,o){const u={result:null};return this.ys(e,s).next((m=>{u.result=m})).next((()=>{if(!u.result)return this.ws(e,s,o,r).next((m=>{u.result=m}))})).next((()=>{if(u.result)return;const m=new ww;return this.Ss(e,s,m).next((p=>{if(u.result=p,this.Vs)return this.bs(e,s,m,p.size)}))})).next((()=>u.result))}bs(e,s,r,o){return r.documentReadCount<this.fs?(Pr()<=Ue.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",zr(s),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(Pr()<=Ue.DEBUG&&me("QueryEngine","Query:",zr(s),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Pr()<=Ue.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",zr(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ss(s))):se.resolve())}ys(e,s){if(qx(s))return se.resolve(null);let r=Ss(s);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(s.limit!==null&&o===1&&(s=fm(s,null,"F"),r=Ss(s)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const m=ze(...u);return this.ps.getDocuments(e,m).next((p=>this.indexManager.getMinOffset(e,r).next((x=>{const _=this.Ds(s,p);return this.Cs(s,_,m,x.readTime)?this.ys(e,fm(s,null,"F")):this.vs(e,_,s,x)}))))})))))}ws(e,s,r,o){return qx(s)||o.isEqual(we.min())?se.resolve(null):this.ps.getDocuments(e,r).next((u=>{const m=this.Ds(s,u);return this.Cs(s,m,r,o)?se.resolve(null):(Pr()<=Ue.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),zr(s)),this.vs(e,m,s,$A(o,jo)).next((p=>p)))}))}Ds(e,s){let r=new Dt(Yv(e));return s.forEach(((o,u)=>{Eh(e,u)&&(r=r.add(u))})),r}Cs(e,s,r,o){if(e.limit===null)return!1;if(r.size!==s.size)return!0;const u=e.limitType==="F"?s.last():s.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,s,r){return Pr()<=Ue.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",zr(s)),this.ps.getDocumentsMatchingQuery(e,s,$i.min(),r)}vs(e,s,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((u=>(s.forEach((m=>{u=u.insert(m.key,m)})),u)))}}const ng="LocalStore",Rw=3e8;class Iw{constructor(e,s,r,o){this.persistence=e,this.Fs=s,this.serializer=o,this.Ms=new ut(Pe),this.xs=new Ga((u=>Ym(u)),Qm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(s=>e.collect(s,this.Ms)))}}function kw(i,e,s,r){return new Iw(i,e,s,r)}async function p1(i,e){const s=Re(i);return await s.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return s.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,s.Bs(e),s.mutationQueue.getAllMutationBatches(r)))).next((u=>{const m=[],p=[];let x=ze();for(const _ of o){m.push(_.batchId);for(const E of _.mutations)x=x.add(E.key)}for(const _ of u){p.push(_.batchId);for(const E of _.mutations)x=x.add(E.key)}return s.localDocuments.getDocuments(r,x).next((_=>({Ls:_,removedBatchIds:m,addedBatchIds:p})))}))}))}function jw(i,e){const s=Re(i);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=s.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,x,_,E){const T=_.batch,N=T.keys();let B=se.resolve();return N.forEach((Z=>{B=B.next((()=>E.getEntry(x,Z))).next((Y=>{const z=_.docVersions.get(Z);Ke(z!==null,48541),Y.version.compareTo(z)<0&&(T.applyToRemoteDocument(Y,_),Y.isValidDocument()&&(Y.setReadTime(_.commitVersion),E.addEntry(Y)))}))})),B.next((()=>p.mutationQueue.removeMutationBatch(x,T)))})(s,r,e,u).next((()=>u.apply(r))).next((()=>s.mutationQueue.performConsistencyCheck(r))).next((()=>s.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let x=ze();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(x=x.add(p.batch.mutations[_].key));return x})(e)))).next((()=>s.localDocuments.getDocuments(r,o)))}))}function y1(i){const e=Re(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(s=>e.Pi.getLastRemoteSnapshotVersion(s)))}function Dw(i,e){const s=Re(i),r=e.snapshotVersion;let o=s.Ms;return s.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const m=s.Ns.newChangeBuffer({trackRemovals:!0});o=s.Ms;const p=[];e.targetChanges.forEach(((E,T)=>{const N=o.get(T);if(!N)return;p.push(s.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>s.Pi.addMatchingKeys(u,E.addedDocuments,T))));let B=N.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?B=B.withResumeToken(Kt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(E.resumeToken,r)),o=o.insert(T,B),(function(Y,z,ie){return Y.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=Rw?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(N,B,E)&&p.push(s.Pi.updateTargetData(u,B))}));let x=si(),_=ze();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(s.persistence.referenceDelegate.updateLimboDocument(u,E))})),p.push(Mw(u,m,e.documentUpdates).next((E=>{x=E.ks,_=E.qs}))),!r.isEqual(we.min())){const E=s.Pi.getLastRemoteSnapshotVersion(u).next((T=>s.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(E)}return se.waitFor(p).next((()=>m.apply(u))).next((()=>s.localDocuments.getLocalViewOfDocuments(u,x,_))).next((()=>x))})).then((u=>(s.Ms=o,u)))}function Mw(i,e,s){let r=ze(),o=ze();return s.forEach((u=>r=r.add(u))),e.getEntries(i,r).next((u=>{let m=si();return s.forEach(((p,x)=>{const _=u.get(p);x.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),x.isNoDocument()&&x.version.isEqual(we.min())?(e.removeEntry(p,x.readTime),m=m.insert(p,x)):!_.isValidDocument()||x.version.compareTo(_.version)>0||x.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(x),m=m.insert(p,x)):me(ng,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",x.version)})),{ks:m,qs:o}}))}function Ow(i,e){const s=Re(i);return s.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Hm),s.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Vw(i,e){const s=Re(i);return s.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return s.Pi.getTargetData(r,e).next((u=>u?(o=u,se.resolve(o)):s.Pi.allocateTargetId(r).next((m=>(o=new Hi(e,m,"TargetPurposeListen",r.currentSequenceNumber),s.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=s.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(s.Ms=s.Ms.insert(r.targetId,r),s.xs.set(e,r.targetId)),r}))}async function xm(i,e,s){const r=Re(i),o=r.Ms.get(e),u=s?"readwrite":"readwrite-primary";try{s||await r.persistence.runTransaction("Release target",u,(m=>r.persistence.referenceDelegate.removeTarget(m,o)))}catch(m){if(!ol(m))throw m;me(ng,`Failed to update sequence numbers for target ${e}: ${m}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function t_(i,e,s){const r=Re(i);let o=we.min(),u=ze();return r.persistence.runTransaction("Execute query","readwrite",(m=>(function(x,_,E){const T=Re(x),N=T.xs.get(E);return N!==void 0?se.resolve(T.Ms.get(N)):T.Pi.getTargetData(_,E)})(r,m,Ss(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(m,p.targetId).next((x=>{u=x}))})).next((()=>r.Fs.getDocumentsMatchingQuery(m,e,s?o:we.min(),s?u:ze()))).next((p=>(Lw(r,EN(e),p),{documents:p,Qs:u})))))}function Lw(i,e,s){let r=i.Os.get(e)||we.min();s.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),i.Os.set(e,r)}class n_{constructor(){this.activeTargetIds=CN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Uw{constructor(){this.Mo=new n_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,s,r){}addLocalQueryTarget(e,s=!0){return s&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,s,r){this.xo[e]=s}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new n_,Promise.resolve()}handleUserChange(e,s,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Pw{Oo(e){}shutdown(){}}const s_="ConnectivityMonitor";class i_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(s_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(s_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mu=null;function _m(){return Mu===null?Mu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mu++,"0x"+Mu.toString(16)}const Kf="RestConnection",zw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Bw{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const s=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=s+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===eh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,s,r,o,u){const m=_m(),p=this.zo(e,s.toUriEncodedString());me(Kf,`Sending RPC '${e}' ${m}:`,p,r);const x={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(x,o,u);const{host:_}=new URL(p),E=sl(_);return this.Jo(e,p,x,r,E).then((T=>(me(Kf,`Received RPC '${e}' ${m}: `,T),T)),(T=>{throw $r(Kf,`RPC '${e}' ${m} failed with error: `,T,"url: ",p,"request:",r),T}))}Ho(e,s,r,o,u,m){return this.Go(e,s,r,o,u)}jo(e,s,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}zo(e,s){const r=zw[e];return`${this.Uo}/v1/${s}:${r}`}terminate(){}}class qw{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xt="WebChannelConnection";class Hw extends Bw{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,s,r,o,u){const m=_m();return new Promise(((p,x)=>{const _=new bv;_.setWithCredentials(!0),_.listenOnce(Ev.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Pu.NO_ERROR:const T=_.getResponseJson();me(Xt,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(T)),p(T);break;case Pu.TIMEOUT:me(Xt,`RPC '${e}' ${m} timed out`),x(new ye(le.DEADLINE_EXCEEDED,"Request time out"));break;case Pu.HTTP_ERROR:const N=_.getStatus();if(me(Xt,`RPC '${e}' ${m} failed with status:`,N,"response text:",_.getResponseText()),N>0){let B=_.getResponseJson();Array.isArray(B)&&(B=B[0]);const Z=B?.error;if(Z&&Z.status&&Z.message){const Y=(function(ie){const j=ie.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(j)>=0?j:le.UNKNOWN})(Z.status);x(new ye(Y,Z.message))}else x(new ye(le.UNKNOWN,"Server responded with status "+_.getStatus()))}else x(new ye(le.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:m,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{me(Xt,`RPC '${e}' ${m} completed.`)}}));const E=JSON.stringify(o);me(Xt,`RPC '${e}' ${m} sending request:`,o),_.send(s,"POST",E,r,15)}))}T_(e,s,r){const o=_m(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=Av(),p=Sv(),x={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(x.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(x.useFetchStreams=!0),this.jo(x.initMessageHeaders,s,r),x.encodeInitMessageHeaders=!0;const E=u.join("");me(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,x);const T=m.createWebChannel(E,x);this.I_(T);let N=!1,B=!1;const Z=new qw({Yo:z=>{B?me(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(N||(me(Xt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),N=!0),me(Xt,`RPC '${e}' stream ${o} sending:`,z),T.send(z))},Zo:()=>T.close()}),Y=(z,ie,j)=>{z.listen(ie,(M=>{try{j(M)}catch(re){setTimeout((()=>{throw re}),0)}}))};return Y(T,yo.EventType.OPEN,(()=>{B||(me(Xt,`RPC '${e}' stream ${o} transport opened.`),Z.o_())})),Y(T,yo.EventType.CLOSE,(()=>{B||(B=!0,me(Xt,`RPC '${e}' stream ${o} transport closed`),Z.a_(),this.E_(T))})),Y(T,yo.EventType.ERROR,(z=>{B||(B=!0,$r(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),Z.a_(new ye(le.UNAVAILABLE,"The operation could not be completed")))})),Y(T,yo.EventType.MESSAGE,(z=>{if(!B){const ie=z.data[0];Ke(!!ie,16349);const j=ie,M=j?.error||j[0]?.error;if(M){me(Xt,`RPC '${e}' stream ${o} received error:`,M);const re=M.status;let X=(function(A){const R=wt[A];if(R!==void 0)return i1(R)})(re),ae=M.message;X===void 0&&(X=le.INTERNAL,ae="Unknown error status: "+re+" with message "+M.message),B=!0,Z.a_(new ye(X,ae)),T.close()}else me(Xt,`RPC '${e}' stream ${o} received:`,ie),Z.u_(ie)}})),Y(p,Tv.STAT_EVENT,(z=>{z.stat===lm.PROXY?me(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===lm.NOPROXY&&me(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((s=>s===e))}}function $f(){return typeof document<"u"?document:null}function Nh(i){return new QN(i,!0)}class x1{constructor(e,s,r=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=s,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const s=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,s-r);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${s} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const a_="PersistentStream";class _1{constructor(e,s,r,o,u,m,p,x){this.Mi=e,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=p,this.listener=x,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new x1(e,s)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,s){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():s&&s.code===le.RESOURCE_EXHAUSTED?(ni(s.toString()),ni("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):s&&s.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(s)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),s=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===s&&this.G_(r,o)}),(r=>{e((()=>{const o=new ye(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,s){const r=this.W_(this.D_);this.stream=this.j_(e,s),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(a_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return s=>{this.Mi.enqueueAndForget((()=>this.D_===e?s():(me(a_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Fw extends _1{constructor(e,s,r,o,u,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,r,o,m),this.serializer=u}j_(e,s){return this.connection.T_("Listen",e,s)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const s=XN(this.serializer,e),r=(function(u){if(!("targetChange"in u))return we.min();const m=u.targetChange;return m.targetIds&&m.targetIds.length?we.min():m.readTime?As(m.readTime):we.min()})(e);return this.listener.H_(s,r)}Y_(e){const s={};s.database=ym(this.serializer),s.addTarget=(function(u,m){let p;const x=m.target;if(p=dm(x)?{documents:WN(u,x)}:{query:ew(u,x).ft},p.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){p.resumeToken=l1(u,m.resumeToken);const _=mm(u,m.expectedCount);_!==null&&(p.expectedCount=_)}else if(m.snapshotVersion.compareTo(we.min())>0){p.readTime=rh(u,m.snapshotVersion.toTimestamp());const _=mm(u,m.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const r=nw(this.serializer,e);r&&(s.labels=r),this.q_(s)}Z_(e){const s={};s.database=ym(this.serializer),s.removeTarget=e,this.q_(s)}}class Gw extends _1{constructor(e,s,r,o,u,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,r,o,m),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,s){return this.connection.T_("Write",e,s)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const s=JN(e.writeResults,e.commitTime),r=As(e.commitTime);return this.listener.na(r,s)}ra(){const e={};e.database=ym(this.serializer),this.q_(e)}ea(e){const s={streamToken:this.lastStreamToken,writes:e.map((r=>ZN(this.serializer,r)))};this.q_(s)}}class Yw{}class Qw extends Yw{constructor(e,s,r,o){super(),this.authCredentials=e,this.appCheckCredentials=s,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ye(le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,s,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,m])=>this.connection.Go(e,gm(s,r),o,u,m))).catch((u=>{throw u.name==="FirebaseError"?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(le.UNKNOWN,u.toString())}))}Ho(e,s,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([m,p])=>this.connection.Ho(e,gm(s,r),o,m,p,u))).catch((m=>{throw m.name==="FirebaseError"?(m.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new ye(le.UNKNOWN,m.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Kw{constructor(e,s){this.asyncQueue=e,this.onlineStateHandler=s,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const s=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ni(s),this.aa=!1):me("OnlineStateTracker",s)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const qa="RemoteStore";class $w{constructor(e,s,r,o,u){this.localStore=e,this.datastore=s,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((m=>{r.enqueueAndForget((async()=>{Qa(this)&&(me(qa,"Restarting streams for network reachability change."),await(async function(x){const _=Re(x);_.Ea.add(4),await $o(_),_.Ra.set("Unknown"),_.Ea.delete(4),await wh(_)})(this))}))})),this.Ra=new Kw(r,o)}}async function wh(i){if(Qa(i))for(const e of i.da)await e(!0)}async function $o(i){for(const e of i.da)await e(!1)}function v1(i,e){const s=Re(i);s.Ia.has(e.targetId)||(s.Ia.set(e.targetId,e),rg(s)?ag(s):cl(s).O_()&&ig(s,e))}function sg(i,e){const s=Re(i),r=cl(s);s.Ia.delete(e),r.O_()&&b1(s,e),s.Ia.size===0&&(r.O_()?r.L_():Qa(s)&&s.Ra.set("Unknown"))}function ig(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const s=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(s)}cl(i).Y_(e)}function b1(i,e){i.Va.Ue(e),cl(i).Z_(e)}function ag(i){i.Va=new HN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),cl(i).start(),i.Ra.ua()}function rg(i){return Qa(i)&&!cl(i).x_()&&i.Ia.size>0}function Qa(i){return Re(i).Ea.size===0}function E1(i){i.Va=void 0}async function Xw(i){i.Ra.set("Online")}async function Zw(i){i.Ia.forEach(((e,s)=>{ig(i,e)}))}async function Jw(i,e){E1(i),rg(i)?(i.Ra.ha(e),ag(i)):i.Ra.set("Unknown")}async function Ww(i,e,s){if(i.Ra.set("Online"),e instanceof r1&&e.state===2&&e.cause)try{await(async function(o,u){const m=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,m),o.Ia.delete(p),o.Va.removeTarget(p))})(i,e)}catch(r){me(qa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await oh(i,r)}else if(e instanceof Hu?i.Va.Ze(e):e instanceof a1?i.Va.st(e):i.Va.tt(e),!s.isEqual(we.min()))try{const r=await y1(i.localStore);s.compareTo(r)>=0&&await(function(u,m){const p=u.Va.Tt(m);return p.targetChanges.forEach(((x,_)=>{if(x.resumeToken.approximateByteSize()>0){const E=u.Ia.get(_);E&&u.Ia.set(_,E.withResumeToken(x.resumeToken,m))}})),p.targetMismatches.forEach(((x,_)=>{const E=u.Ia.get(x);if(!E)return;u.Ia.set(x,E.withResumeToken(Kt.EMPTY_BYTE_STRING,E.snapshotVersion)),b1(u,x);const T=new Hi(E.target,x,_,E.sequenceNumber);ig(u,T)})),u.remoteSyncer.applyRemoteEvent(p)})(i,s)}catch(r){me(qa,"Failed to raise snapshot:",r),await oh(i,r)}}async function oh(i,e,s){if(!ol(e))throw e;i.Ea.add(1),await $o(i),i.Ra.set("Offline"),s||(s=()=>y1(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{me(qa,"Retrying IndexedDB access"),await s(),i.Ea.delete(1),await wh(i)}))}function T1(i,e){return e().catch((s=>oh(i,s,e)))}async function Ch(i){const e=Re(i),s=Wi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Hm;for(;e4(e);)try{const o=await Ow(e.localStore,r);if(o===null){e.Ta.length===0&&s.L_();break}r=o.batchId,t4(e,o)}catch(o){await oh(e,o)}S1(e)&&A1(e)}function e4(i){return Qa(i)&&i.Ta.length<10}function t4(i,e){i.Ta.push(e);const s=Wi(i);s.O_()&&s.X_&&s.ea(e.mutations)}function S1(i){return Qa(i)&&!Wi(i).x_()&&i.Ta.length>0}function A1(i){Wi(i).start()}async function n4(i){Wi(i).ra()}async function s4(i){const e=Wi(i);for(const s of i.Ta)e.ea(s.mutations)}async function i4(i,e,s){const r=i.Ta.shift(),o=Xm.from(r,e,s);await T1(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Ch(i)}async function a4(i,e){e&&Wi(i).X_&&await(async function(r,o){if((function(m){return zN(m)&&m!==le.ABORTED})(o.code)){const u=r.Ta.shift();Wi(r).B_(),await T1(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Ch(r)}})(i,e),S1(i)&&A1(i)}async function r_(i,e){const s=Re(i);s.asyncQueue.verifyOperationInProgress(),me(qa,"RemoteStore received new credentials");const r=Qa(s);s.Ea.add(3),await $o(s),r&&s.Ra.set("Unknown"),await s.remoteSyncer.handleCredentialChange(e),s.Ea.delete(3),await wh(s)}async function r4(i,e){const s=Re(i);e?(s.Ea.delete(2),await wh(s)):e||(s.Ea.add(2),await $o(s),s.Ra.set("Unknown"))}function cl(i){return i.ma||(i.ma=(function(s,r,o){const u=Re(s);return u.sa(),new Fw(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:Xw.bind(null,i),t_:Zw.bind(null,i),r_:Jw.bind(null,i),H_:Ww.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),rg(i)?ag(i):i.Ra.set("Unknown")):(await i.ma.stop(),E1(i))}))),i.ma}function Wi(i){return i.fa||(i.fa=(function(s,r,o){const u=Re(s);return u.sa(),new Gw(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:n4.bind(null,i),r_:a4.bind(null,i),ta:s4.bind(null,i),na:i4.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Ch(i)):(await i.fa.stop(),i.Ta.length>0&&(me(qa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class lg{constructor(e,s,r,o,u){this.asyncQueue=e,this.timerId=s,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((m=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,s,r,o,u){const m=Date.now()+r,p=new lg(e,s,m,o,u);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function og(i,e){if(ni("AsyncQueue",`${e}: ${i}`),ol(i))return new ye(le.UNAVAILABLE,`${e}: ${i}`);throw i}class Yr{static emptySet(e){return new Yr(e.comparator)}constructor(e){this.comparator=e?(s,r)=>e(s,r)||be.comparator(s.key,r.key):(s,r)=>be.comparator(s.key,r.key),this.keyedMap=xo(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const s=this.keyedMap.get(e);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((s,r)=>(e(s),!1)))}add(e){const s=this.delete(e.key);return s.copy(s.keyedMap.insert(e.key,e),s.sortedSet.insert(e,null))}delete(e){const s=this.get(e);return s?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(s)):this}isEqual(e){if(!(e instanceof Yr)||this.size!==e.size)return!1;const s=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;s.hasNext();){const o=s.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((s=>{e.push(s.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,s){const r=new Yr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=s,r}}class l_{constructor(){this.ga=new ut(be.comparator)}track(e){const s=e.doc.key,r=this.ga.get(s);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(s,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(s,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(s,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(s):e.type===1&&r.type===2?this.ga=this.ga.insert(s,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(s,e)}ya(){const e=[];return this.ga.inorderTraversal(((s,r)=>{e.push(r)})),e}}class el{constructor(e,s,r,o,u,m,p,x,_){this.query=e,this.docs=s,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=m,this.syncStateChanged=p,this.excludesMetadataChanges=x,this.hasCachedResults=_}static fromInitialDocuments(e,s,r,o,u){const m=[];return s.forEach((p=>{m.push({type:0,doc:p})})),new el(e,s,Yr.emptySet(s),m,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const s=this.docChanges,r=e.docChanges;if(s.length!==r.length)return!1;for(let o=0;o<s.length;o++)if(s[o].type!==r[o].type||!s[o].doc.isEqual(r[o].doc))return!1;return!0}}class l4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class o4{constructor(){this.queries=o_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(s,r){const o=Re(s),u=o.queries;o.queries=o_(),u.forEach(((m,p)=>{for(const x of p.Sa)x.onError(r)}))})(this,new ye(le.ABORTED,"Firestore shutting down"))}}function o_(){return new Ga((i=>Gv(i)),bh)}async function c4(i,e){const s=Re(i);let r=3;const o=e.query;let u=s.queries.get(o);u?!u.ba()&&e.Da()&&(r=2):(u=new l4,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await s.onListen(o,!0);break;case 1:u.wa=await s.onListen(o,!1);break;case 2:await s.onFirstRemoteStoreListen(o)}}catch(m){const p=og(m,`Initialization of query '${zr(e.query)}' failed`);return void e.onError(p)}s.queries.set(o,u),u.Sa.push(e),e.va(s.onlineState),u.wa&&e.Fa(u.wa)&&cg(s)}async function u4(i,e){const s=Re(i),r=e.query;let o=3;const u=s.queries.get(r);if(u){const m=u.Sa.indexOf(e);m>=0&&(u.Sa.splice(m,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return s.queries.delete(r),s.onUnlisten(r,!0);case 1:return s.queries.delete(r),s.onUnlisten(r,!1);case 2:return s.onLastRemoteStoreUnlisten(r);default:return}}function h4(i,e){const s=Re(i);let r=!1;for(const o of e){const u=o.query,m=s.queries.get(u);if(m){for(const p of m.Sa)p.Fa(o)&&(r=!0);m.wa=o}}r&&cg(s)}function d4(i,e,s){const r=Re(i),o=r.queries.get(e);if(o)for(const u of o.Sa)u.onError(s);r.queries.delete(e)}function cg(i){i.Ca.forEach((e=>{e.next()}))}var vm,c_;(c_=vm||(vm={})).Ma="default",c_.Cache="cache";class f4{constructor(e,s,r){this.query=e,this.xa=s,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new el(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let s=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),s=!0):this.La(e,this.onlineState)&&(this.ka(e),s=!0),this.Na=e,s}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let s=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),s=!0),s}La(e,s){if(!e.fromCache||!this.Da())return!0;const r=s!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||s==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const s=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}ka(e){e=el.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vm.Cache}}class N1{constructor(e){this.key=e}}class w1{constructor(e){this.key=e}}class m4{constructor(e,s){this.query=e,this.Ya=s,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=Yv(e),this.tu=new Yr(this.eu)}get nu(){return this.Ya}ru(e,s){const r=s?s.iu:new l_,o=s?s.tu:this.tu;let u=s?s.mutatedKeys:this.mutatedKeys,m=o,p=!1;const x=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const N=o.get(E),B=Eh(this.query,T)?T:null,Z=!!N&&this.mutatedKeys.has(N.key),Y=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let z=!1;N&&B?N.data.isEqual(B.data)?Z!==Y&&(r.track({type:3,doc:B}),z=!0):this.su(N,B)||(r.track({type:2,doc:B}),z=!0,(x&&this.eu(B,x)>0||_&&this.eu(B,_)<0)&&(p=!0)):!N&&B?(r.track({type:0,doc:B}),z=!0):N&&!B&&(r.track({type:1,doc:N}),z=!0,(x||_)&&(p=!0)),z&&(B?(m=m.add(B),u=Y?u.add(E):u.delete(E)):(m=m.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;m.size>this.query.limit;){const E=this.query.limitType==="F"?m.last():m.first();m=m.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{tu:m,iu:r,Cs:p,mutatedKeys:u}}su(e,s){return e.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(e,s,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const m=e.iu.ya();m.sort(((E,T)=>(function(B,Z){const Y=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:z})}};return Y(B)-Y(Z)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(r),o=o??!1;const p=s&&!o?this._u():[],x=this.Xa.size===0&&this.current&&!o?1:0,_=x!==this.Za;return this.Za=x,m.length!==0||_?{snapshot:new el(this.query,e.tu,u,m,e.mutatedKeys,x===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new l_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((s=>this.Ya=this.Ya.add(s))),e.modifiedDocuments.forEach((s=>{})),e.removedDocuments.forEach((s=>this.Ya=this.Ya.delete(s))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const s=[];return e.forEach((r=>{this.Xa.has(r)||s.push(new w1(r))})),this.Xa.forEach((r=>{e.has(r)||s.push(new N1(r))})),s}cu(e){this.Ya=e.Qs,this.Xa=ze();const s=this.ru(e.documents);return this.applyChanges(s,!0)}lu(){return el.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ug="SyncEngine";class g4{constructor(e,s,r){this.query=e,this.targetId=s,this.view=r}}class p4{constructor(e){this.key=e,this.hu=!1}}class y4{constructor(e,s,r,o,u,m){this.localStore=e,this.remoteStore=s,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=m,this.Pu={},this.Tu=new Ga((p=>Gv(p)),bh),this.Iu=new Map,this.Eu=new Set,this.du=new ut(be.comparator),this.Au=new Map,this.Ru=new Wm,this.Vu={},this.mu=new Map,this.fu=Wr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function x4(i,e,s=!0){const r=D1(i);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await C1(r,e,s,!0),o}async function _4(i,e){const s=D1(i);await C1(s,e,!0,!1)}async function C1(i,e,s,r){const o=await Vw(i.localStore,Ss(e)),u=o.targetId,m=i.sharedClientState.addLocalQueryTarget(u,s);let p;return r&&(p=await v4(i,e,u,m==="current",o.resumeToken)),i.isPrimaryClient&&s&&v1(i.remoteStore,o),p}async function v4(i,e,s,r,o){i.pu=(T,N,B)=>(async function(Y,z,ie,j){let M=z.view.ru(ie);M.Cs&&(M=await t_(Y.localStore,z.query,!1).then((({documents:I})=>z.view.ru(I,M))));const re=j&&j.targetChanges.get(z.targetId),X=j&&j.targetMismatches.get(z.targetId)!=null,ae=z.view.applyChanges(M,Y.isPrimaryClient,re,X);return h_(Y,z.targetId,ae.au),ae.snapshot})(i,T,N,B);const u=await t_(i.localStore,e,!0),m=new m4(e,u.Qs),p=m.ru(u.documents),x=Ko.createSynthesizedTargetChangeForCurrentChange(s,r&&i.onlineState!=="Offline",o),_=m.applyChanges(p,i.isPrimaryClient,x);h_(i,s,_.au);const E=new g4(e,s,m);return i.Tu.set(e,E),i.Iu.has(s)?i.Iu.get(s).push(e):i.Iu.set(s,[e]),_.snapshot}async function b4(i,e,s){const r=Re(i),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((m=>!bh(m,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await xm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),s&&sg(r.remoteStore,o.targetId),bm(r,o.targetId)})).catch(ll)):(bm(r,o.targetId),await xm(r.localStore,o.targetId,!0))}async function E4(i,e){const s=Re(i),r=s.Tu.get(e),o=s.Iu.get(r.targetId);s.isPrimaryClient&&o.length===1&&(s.sharedClientState.removeLocalQueryTarget(r.targetId),sg(s.remoteStore,r.targetId))}async function T4(i,e,s){const r=I4(i);try{const o=await(function(m,p){const x=Re(m),_=at.now(),E=p.reduce(((B,Z)=>B.add(Z.key)),ze());let T,N;return x.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let Z=si(),Y=ze();return x.Ns.getEntries(B,E).next((z=>{Z=z,Z.forEach(((ie,j)=>{j.isValidDocument()||(Y=Y.add(ie))}))})).next((()=>x.localDocuments.getOverlayedDocuments(B,Z))).next((z=>{T=z;const ie=[];for(const j of p){const M=ON(j,T.get(j.key).overlayedDocument);M!=null&&ie.push(new Ya(j.key,M,Uv(M.value.mapValue),Ws.exists(!0)))}return x.mutationQueue.addMutationBatch(B,_,ie,p)})).next((z=>{N=z;const ie=z.applyToLocalDocumentSet(T,Y);return x.documentOverlayCache.saveOverlays(B,z.batchId,ie)}))})).then((()=>({batchId:N.batchId,changes:Kv(T)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(m,p,x){let _=m.Vu[m.currentUser.toKey()];_||(_=new ut(Pe)),_=_.insert(p,x),m.Vu[m.currentUser.toKey()]=_})(r,o.batchId,s),await Xo(r,o.changes),await Ch(r.remoteStore)}catch(o){const u=og(o,"Failed to persist write");s.reject(u)}}async function R1(i,e){const s=Re(i);try{const r=await Dw(s.localStore,e);e.targetChanges.forEach(((o,u)=>{const m=s.Au.get(u);m&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?m.hu=!0:o.modifiedDocuments.size>0?Ke(m.hu,14607):o.removedDocuments.size>0&&(Ke(m.hu,42227),m.hu=!1))})),await Xo(s,r,e)}catch(r){await ll(r)}}function u_(i,e,s){const r=Re(i);if(r.isPrimaryClient&&s===0||!r.isPrimaryClient&&s===1){const o=[];r.Tu.forEach(((u,m)=>{const p=m.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(m,p){const x=Re(m);x.onlineState=p;let _=!1;x.queries.forEach(((E,T)=>{for(const N of T.Sa)N.va(p)&&(_=!0)})),_&&cg(x)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function S4(i,e,s){const r=Re(i);r.sharedClientState.updateQueryState(e,"rejected",s);const o=r.Au.get(e),u=o&&o.key;if(u){let m=new ut(be.comparator);m=m.insert(u,Jt.newNoDocument(u,we.min()));const p=ze().add(u),x=new Ah(we.min(),new Map,new ut(Pe),m,p);await R1(r,x),r.du=r.du.remove(u),r.Au.delete(e),hg(r)}else await xm(r.localStore,e,!1).then((()=>bm(r,e,s))).catch(ll)}async function A4(i,e){const s=Re(i),r=e.batch.batchId;try{const o=await jw(s.localStore,e);k1(s,r,null),I1(s,r),s.sharedClientState.updateMutationState(r,"acknowledged"),await Xo(s,o)}catch(o){await ll(o)}}async function N4(i,e,s){const r=Re(i);try{const o=await(function(m,p){const x=Re(m);return x.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return x.mutationQueue.lookupMutationBatch(_,p).next((T=>(Ke(T!==null,37113),E=T.keys(),x.mutationQueue.removeMutationBatch(_,T)))).next((()=>x.mutationQueue.performConsistencyCheck(_))).next((()=>x.documentOverlayCache.removeOverlaysForBatchId(_,E,p))).next((()=>x.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>x.localDocuments.getDocuments(_,E)))}))})(r.localStore,e);k1(r,e,s),I1(r,e),r.sharedClientState.updateMutationState(e,"rejected",s),await Xo(r,o)}catch(o){await ll(o)}}function I1(i,e){(i.mu.get(e)||[]).forEach((s=>{s.resolve()})),i.mu.delete(e)}function k1(i,e,s){const r=Re(i);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(s?u.reject(s):u.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function bm(i,e,s=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),s&&i.Pu.yu(r,s);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((r=>{i.Ru.containsKey(r)||j1(i,r)}))}function j1(i,e){i.Eu.delete(e.path.canonicalString());const s=i.du.get(e);s!==null&&(sg(i.remoteStore,s),i.du=i.du.remove(e),i.Au.delete(s),hg(i))}function h_(i,e,s){for(const r of s)r instanceof N1?(i.Ru.addReference(r.key,e),w4(i,r)):r instanceof w1?(me(ug,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||j1(i,r.key)):Te(19791,{wu:r})}function w4(i,e){const s=e.key,r=s.path.canonicalString();i.du.get(s)||i.Eu.has(r)||(me(ug,"New document in limbo: "+s),i.Eu.add(r),hg(i))}function hg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const s=new be(ct.fromString(e)),r=i.fu.next();i.Au.set(r,new p4(s)),i.du=i.du.insert(s,r),v1(i.remoteStore,new Hi(Ss(Km(s.path)),r,"TargetPurposeLimboResolution",yh.ce))}}async function Xo(i,e,s){const r=Re(i),o=[],u=[],m=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,x)=>{m.push(r.pu(x,e,s).then((_=>{if((_||s)&&r.isPrimaryClient){const E=_?!_.fromCache:s?.targetChanges.get(x.targetId)?.current;r.sharedClientState.updateQueryState(x.targetId,E?"current":"not-current")}if(_){o.push(_);const E=tg.As(x.targetId,_);u.push(E)}})))})),await Promise.all(m),r.Pu.H_(o),await(async function(x,_){const E=Re(x);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>se.forEach(_,(N=>se.forEach(N.Es,(B=>E.persistence.referenceDelegate.addReference(T,N.targetId,B))).next((()=>se.forEach(N.ds,(B=>E.persistence.referenceDelegate.removeReference(T,N.targetId,B)))))))))}catch(T){if(!ol(T))throw T;me(ng,"Failed to update sequence numbers: "+T)}for(const T of _){const N=T.targetId;if(!T.fromCache){const B=E.Ms.get(N),Z=B.snapshotVersion,Y=B.withLastLimboFreeSnapshotVersion(Z);E.Ms=E.Ms.insert(N,Y)}}})(r.localStore,u))}async function C4(i,e){const s=Re(i);if(!s.currentUser.isEqual(e)){me(ug,"User change. New user:",e.toKey());const r=await p1(s.localStore,e);s.currentUser=e,(function(u,m){u.mu.forEach((p=>{p.forEach((x=>{x.reject(new ye(le.CANCELLED,m))}))})),u.mu.clear()})(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xo(s,r.Ls)}}function R4(i,e){const s=Re(i),r=s.Au.get(e);if(r&&r.hu)return ze().add(r.key);{let o=ze();const u=s.Iu.get(e);if(!u)return o;for(const m of u){const p=s.Tu.get(m);o=o.unionWith(p.view.nu)}return o}}function D1(i){const e=Re(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=R1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=R4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=S4.bind(null,e),e.Pu.H_=h4.bind(null,e.eventManager),e.Pu.yu=d4.bind(null,e.eventManager),e}function I4(i){const e=Re(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=A4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=N4.bind(null,e),e}class ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,s){return null}Mu(e,s){return null}vu(e){return kw(this.persistence,new Cw,e.initialUser,this.serializer)}Cu(e){return new g1(eg.mi,this.serializer)}Du(e){return new Uw}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ch.provider={build:()=>new ch};class k4 extends ch{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,s){Ke(this.persistence.referenceDelegate instanceof lh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new fw(r,e.asyncQueue,s)}Cu(e){const s=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new g1((r=>lh.mi(r,s)),this.serializer)}}class Em{async initialize(e,s){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>u_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=C4.bind(null,this.syncEngine),await r4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new o4})()}createDatastore(e){const s=Nh(e.databaseInfo.databaseId),r=(function(u){return new Hw(u)})(e.databaseInfo);return(function(u,m,p,x){return new Qw(u,m,p,x)})(e.authCredentials,e.appCheckCredentials,r,s)}createRemoteStore(e){return(function(r,o,u,m,p){return new $w(r,o,u,m,p)})(this.localStore,this.datastore,e.asyncQueue,(s=>u_(this.syncEngine,s,0)),(function(){return i_.v()?new i_:new Pw})())}createSyncEngine(e,s){return(function(o,u,m,p,x,_,E){const T=new y4(o,u,m,p,x,_);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,s)}async terminate(){await(async function(s){const r=Re(s);me(qa,"RemoteStore shutting down."),r.Ea.add(5),await $o(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Em.provider={build:()=>new Em};class j4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ni("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,s){setTimeout((()=>{this.muted||e(s)}),0)}}const ea="FirestoreClient";class D4{constructor(e,s,r,o,u){this.authCredentials=e,this.appCheckCredentials=s,this.asyncQueue=r,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=Bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async m=>{me(ea,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m})),this.appCheckCredentials.start(r,(m=>(me(ea,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(s){const r=og(s,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Xf(i,e){i.asyncQueue.verifyOperationInProgress(),me(ea,"Initializing OfflineComponentProvider");const s=i.configuration;await e.initialize(s);let r=s.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await p1(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function d_(i,e){i.asyncQueue.verifyOperationInProgress();const s=await M4(i);me(ea,"Initializing OnlineComponentProvider"),await e.initialize(s,i.configuration),i.setCredentialChangeListener((r=>r_(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>r_(e.remoteStore,o))),i._onlineComponents=e}async function M4(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){me(ea,"Using user provided OfflineComponentProvider");try{await Xf(i,i._uninitializedComponentsProvider._offline)}catch(e){const s=e;if(!(function(o){return o.name==="FirebaseError"?o.code===le.FAILED_PRECONDITION||o.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(s))throw s;$r("Error using user provided cache. Falling back to memory cache: "+s),await Xf(i,new ch)}}else me(ea,"Using default OfflineComponentProvider"),await Xf(i,new k4(void 0));return i._offlineComponents}async function M1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(me(ea,"Using user provided OnlineComponentProvider"),await d_(i,i._uninitializedComponentsProvider._online)):(me(ea,"Using default OnlineComponentProvider"),await d_(i,new Em))),i._onlineComponents}function O4(i){return M1(i).then((e=>e.syncEngine))}async function V4(i){const e=await M1(i),s=e.eventManager;return s.onListen=x4.bind(null,e.syncEngine),s.onUnlisten=b4.bind(null,e.syncEngine),s.onFirstRemoteStoreListen=_4.bind(null,e.syncEngine),s.onLastRemoteStoreUnlisten=E4.bind(null,e.syncEngine),s}function L4(i,e,s={}){const r=new Ki;return i.asyncQueue.enqueueAndForget((async()=>(function(u,m,p,x,_){const E=new j4({next:N=>{E.Nu(),m.enqueueAndForget((()=>u4(u,T)));const B=N.docs.has(p);!B&&N.fromCache?_.reject(new ye(le.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&N.fromCache&&x&&x.source==="server"?_.reject(new ye(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(N)},error:N=>_.reject(N)}),T=new f4(Km(p.path),E,{includeMetadataChanges:!0,qa:!0});return c4(u,T)})(await V4(i),i.asyncQueue,e,s,r))),r.promise}function O1(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const f_=new Map;const V1="firestore.googleapis.com",m_=!0;class g_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=V1,this.ssl=m_}else this.host=e.host,this.ssl=e.ssl??m_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=m1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hw)throw new ye(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=O1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ye(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ye(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ye(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dg{constructor(e,s,r,o){this._authCredentials=e,this._appCheckCredentials=s,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new LA;switch(r.type){case"firstParty":return new BA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(s){const r=f_.get(s);r&&(me("ComponentProvider","Removing Datastore"),f_.delete(s),r.terminate())})(this),Promise.resolve()}}function U4(i,e,s,r={}){i=ko(i,dg);const o=sl(e),u=i._getSettings(),m={...u,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${s}`;o&&(V_(`https://${p}`),L_("Firestore",!0)),u.host!==V1&&u.host!==p&&$r("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const x={...u,host:p,ssl:o,emulatorOptions:r};if(!Ua(x,m)&&(i._setSettings(x),r.mockUserToken)){let _,E;if(typeof r.mockUserToken=="string")_=r.mockUserToken,E=Zt.MOCK_USER;else{_=l2(r.mockUserToken,i._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new ye(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Zt(T)}i._authCredentials=new UA(new wv(_,E))}}class fg{constructor(e,s,r){this.converter=s,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fg(this.firestore,e,this._query)}}class Ut{constructor(e,s,r){this.converter=s,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Uo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,s,r){if(Yo(s,Ut._jsonSchema))return new Ut(e,r||null,new be(ct.fromString(s.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:Ct("string",Ut._jsonSchemaVersion),referencePath:Ct("string")};class Uo extends fg{constructor(e,s,r){super(e,s,Km(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new be(e))}withConverter(e){return new Uo(this.firestore,e,this._path)}}function p_(i,e,...s){if(i=Ln(i),arguments.length===1&&(e=Bm.newId()),QA("doc","path",e),i instanceof dg){const r=ct.fromString(e,...s);return Rx(r),new Ut(i,null,new be(r))}{if(!(i instanceof Ut||i instanceof Uo))throw new ye(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(ct.fromString(e,...s));return Rx(r),new Ut(i.firestore,i instanceof Uo?i.converter:null,new be(r))}}const y_="AsyncQueue";class x_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new x1(this,"async_queue_retry"),this._c=()=>{const r=$f();r&&me(y_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const s=$f();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const s=$f();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const s=new Ki;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(s.resolve,s.reject),s.promise))).then((()=>s.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ol(e))throw e;me(y_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const s=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ni("INTERNAL UNHANDLED ERROR: ",__(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=s,s}enqueueAfterDelay(e,s,r){this.uc(),this.oc.indexOf(e)>-1&&(s=0);const o=lg.createAndSchedule(this,e,s,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:__(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const s of this.tc)if(s.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((s,r)=>s.targetTimeMs-r.targetTimeMs));for(const s of this.tc)if(s.skipDelay(),e!=="all"&&s.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const s=this.tc.indexOf(e);this.tc.splice(s,1)}}function __(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class mg extends dg{constructor(e,s,r,o){super(e,s,r,o),this.type="firestore",this._queue=new x_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new x_(e),this._firestoreClient=void 0,await e}}}function P4(i,e){const s=typeof i=="object"?i:B_(),r=typeof i=="string"?i:eh,o=Rm(s,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=a2("firestore");u&&U4(o,...u)}return o}function L1(i){if(i._terminated)throw new ye(le.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||z4(i),i._firestoreClient}function z4(i){const e=i._freezeSettings(),s=(function(o,u,m,p){return new aN(o,u,m,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,O1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new D4(i._authCredentials,i._appCheckCredentials,i._queue,s,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vn(Kt.fromBase64String(e))}catch(s){throw new ye(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(e){return new Vn(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Yo(e,Vn._jsonSchema))return Vn.fromBase64String(e.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:Ct("string",Vn._jsonSchemaVersion),bytes:Ct("string")};class gg{constructor(...e){for(let s=0;s<e.length;++s)if(e[s].length===0)throw new ye(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class U1{constructor(e){this._methodName=e}}class Ns{constructor(e,s){if(!isFinite(e)||e<-90||e>90)throw new ye(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(s)||s<-180||s>180)throw new ye(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=e,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ns._jsonSchemaVersion}}static fromJSON(e){if(Yo(e,Ns._jsonSchema))return new Ns(e.latitude,e.longitude)}}Ns._jsonSchemaVersion="firestore/geoPoint/1.0",Ns._jsonSchema={type:Ct("string",Ns._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};class ws{constructor(e){this._values=(e||[]).map((s=>s))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ws._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Yo(e,ws._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((s=>typeof s=="number")))return new ws(e.vectorValues);throw new ye(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ws._jsonSchemaVersion="firestore/vectorValue/1.0",ws._jsonSchema={type:Ct("string",ws._jsonSchemaVersion),vectorValues:Ct("object")};const B4=/^__.*__$/;class q4{constructor(e,s,r){this.data=e,this.fieldMask=s,this.fieldTransforms=r}toMutation(e,s){return this.fieldMask!==null?new Ya(e,this.data,this.fieldMask,s,this.fieldTransforms):new Qo(e,this.data,s,this.fieldTransforms)}}function P1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:i})}}class pg{constructor(e,s,r,o,u,m){this.settings=e,this.databaseId=s,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new pg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const s=this.path?.child(e),r=this.Vc({path:s,fc:!1});return r.gc(e),r}yc(e){const s=this.path?.child(e),r=this.Vc({path:s,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return uh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((s=>e.isPrefixOf(s)))!==void 0||this.fieldTransforms.find((s=>e.isPrefixOf(s.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(P1(this.Ac)&&B4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class H4{constructor(e,s,r){this.databaseId=e,this.ignoreUndefinedProperties=s,this.serializer=r||Nh(e)}Cc(e,s,r,o=!1){return new pg({Ac:e,methodName:s,Dc:r,path:Qt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function F4(i){const e=i._freezeSettings(),s=Nh(i._databaseId);return new H4(i._databaseId,!!e.ignoreUndefinedProperties,s)}function G4(i,e,s,r,o,u={}){const m=i.Cc(u.merge||u.mergeFields?2:0,e,s,o);H1("Data must be an object, but it was:",m,r);const p=B1(r,m);let x,_;if(u.merge)x=new Jn(m.fieldMask),_=m.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const N=Y4(e,T,s);if(!m.contains(N))throw new ye(le.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);K4(E,N)||E.push(N)}x=new Jn(E),_=m.fieldTransforms.filter((T=>x.covers(T.field)))}else x=null,_=m.fieldTransforms;return new q4(new On(p),x,_)}function z1(i,e){if(q1(i=Ln(i)))return H1("Unsupported field value:",e,i),B1(i,e);if(i instanceof U1)return(function(r,o){if(!P1(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let m=0;for(const p of r){let x=z1(p,o.wc(m));x==null&&(x={nullValue:"NULL_VALUE"}),u.push(x),m++}return{arrayValue:{values:u}}})(i,e)}return(function(r,o){if((r=Ln(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RN(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=at.fromDate(r);return{timestampValue:rh(o.serializer,u)}}if(r instanceof at){const u=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rh(o.serializer,u)}}if(r instanceof Ns)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vn)return{bytesValue:l1(o.serializer,r._byteString)};if(r instanceof Ut){const u=o.databaseId,m=r.firestore._databaseId;if(!m.isEqual(u))throw o.Sc(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Jm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ws)return(function(m,p){return{mapValue:{fields:{[Vv]:{stringValue:Lv},[th]:{arrayValue:{values:m.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return $m(p.serializer,_)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${qm(r)}`)})(i,e)}function B1(i,e){const s={};return Iv(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fa(i,((r,o)=>{const u=z1(o,e.mc(r));u!=null&&(s[r]=u)})),{mapValue:{fields:s}}}function q1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof at||i instanceof Ns||i instanceof Vn||i instanceof Ut||i instanceof U1||i instanceof ws)}function H1(i,e,s){if(!q1(s)||!Cv(s)){const r=qm(s);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function Y4(i,e,s){if((e=Ln(e))instanceof gg)return e._internalPath;if(typeof e=="string")return F1(i,e);throw uh("Field path arguments must be of type string or ",i,!1,void 0,s)}const Q4=new RegExp("[~\\*/\\[\\]]");function F1(i,e,s){if(e.search(Q4)>=0)throw uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,s);try{return new gg(...e.split("."))._internalPath}catch{throw uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,s)}}function uh(i,e,s,r,o){const u=r&&!r.isEmpty(),m=o!==void 0;let p=`Function ${e}() called with invalid data`;s&&(p+=" (via `toFirestore()`)"),p+=". ";let x="";return(u||m)&&(x+=" (found",u&&(x+=` in field ${r}`),m&&(x+=` in document ${o}`),x+=")"),new ye(le.INVALID_ARGUMENT,p+i+x)}function K4(i,e){return i.some((s=>s.isEqual(e)))}class G1{constructor(e,s,r,o,u){this._firestore=e,this._userDataWriter=s,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const s=this._document.data.field(Y1("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s)}}}class $4 extends G1{data(){return super.data()}}function Y1(i,e){return typeof e=="string"?F1(i,e):e instanceof gg?e._internalPath:e._delegate._internalPath}class X4{convertValue(e,s="none"){switch(Ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,s);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,s);case 11:return this.convertObject(e.mapValue,s);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,s){return this.convertObjectMap(e.fields,s)}convertObjectMap(e,s="none"){const r={};return Fa(e,((o,u)=>{r[o]=this.convertValue(u,s)})),r}convertVectorValue(e){const s=e.fields?.[th].arrayValue?.values?.map((r=>yt(r.doubleValue)));return new ws(s)}convertGeoPoint(e){return new Ns(yt(e.latitude),yt(e.longitude))}convertArray(e,s){return(e.values||[]).map((r=>this.convertValue(r,s)))}convertServerTimestamp(e,s){switch(s){case"previous":const r=_h(e);return r==null?null:this.convertValue(r,s);case"estimate":return this.convertTimestamp(Do(e));default:return null}}convertTimestamp(e){const s=Xi(e);return new at(s.seconds,s.nanos)}convertDocumentKey(e,s){const r=ct.fromString(e);Ke(f1(r),9688,{name:e});const o=new Mo(r.get(1),r.get(3)),u=new be(r.popFirst(5));return o.isEqual(s)||ni(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),u}}function Z4(i,e,s){let r;return r=i?i.toFirestore(e):e,r}class vo{constructor(e,s){this.hasPendingWrites=e,this.fromCache=s}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Va extends G1{constructor(e,s,r,o,u,m){super(e,s,r,o,m),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const s=new Fu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,s={}){if(this._document){const r=this._document.data.field(Y1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,s.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,s={};return s.type=Va._jsonSchemaVersion,s.bundle="",s.bundleSource="DocumentSnapshot",s.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?s:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),s.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),s)}}Va._jsonSchemaVersion="firestore/documentSnapshot/1.0",Va._jsonSchema={type:Ct("string",Va._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Fu extends Va{data(e={}){return super.data(e)}}class wo{constructor(e,s,r,o){this._firestore=e,this._userDataWriter=s,this._snapshot=o,this.metadata=new vo(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((s=>e.push(s))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,s){this._snapshot.docs.forEach((r=>{e.call(s,new Fu(this._firestore,this._userDataWriter,r.key,r,new vo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const s=!!e.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new ye(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let m=0;return o._snapshot.docChanges.map((p=>{const x=new Fu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new vo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:x,oldIndex:-1,newIndex:m++}}))}{let m=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const x=new Fu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new vo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return p.type!==0&&(_=m.indexOf(p.doc.key),m=m.delete(p.doc.key)),p.type!==1&&(m=m.add(p.doc),E=m.indexOf(p.doc.key)),{type:J4(p.type),doc:x,oldIndex:_,newIndex:E}}))}})(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const s=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(s.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function J4(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:i})}}function W4(i){i=ko(i,Ut);const e=ko(i.firestore,mg);return L4(L1(e),i._key).then((s=>sC(e,i,s)))}wo._jsonSchemaVersion="firestore/querySnapshot/1.0",wo._jsonSchema={type:Ct("string",wo._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class eC extends X4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vn(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,s)}}function tC(i,e,s){i=ko(i,Ut);const r=ko(i.firestore,mg),o=Z4(i.converter,e);return nC(r,[G4(F4(r),"setDoc",i._key,o,i.converter!==null,s).toMutation(i._key,Ws.none())])}function nC(i,e){return(function(r,o){const u=new Ki;return r.asyncQueue.enqueueAndForget((async()=>T4(await O4(r),o,u))),u.promise})(L1(i),e)}function sC(i,e,s){const r=s.docs.get(e._key),o=new eC(i);return new Va(i,o,e._key,r,new vo(s.hasPendingWrites,s.fromCache),e.converter)}(function(e,s=!0){(function(o){rl=o})(il),Qr(new Pa("firestore",((r,{instanceIdentifier:o,options:u})=>{const m=r.getProvider("app").getImmediate(),p=new mg(new PA(r.getProvider("auth-internal")),new qA(m,r.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ye(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mo(_.options.projectId,E)})(m,o),m);return u={useFetchStreams:s,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Yi(Ax,Nx,e),Yi(Ax,Nx,"esm2020")})();const iC={apiKey:"AIzaSyDqUKh24SoZ4tjV_dePHsnUNNKznsmjjYs",authDomain:"plan-my-life-36cef.firebaseapp.com",projectId:"plan-my-life-36cef",storageBucket:"plan-my-life-36cef.firebasestorage.app",messagingSenderId:"302156951876",appId:"1:302156951876:web:4bc6b51d3bd8377a92e711",measurementId:"G-4LSZY3NCXE"},Q1=z_(iC),Zf=DA(Q1),aC=new Xs,v_=P4(Q1),K1=$.createContext(null);function rC({children:i}){const[e,s]=$.useState(null),[r,o]=$.useState(!0);$.useEffect(()=>{const p=bS(Zf,x=>{s(x),o(!1)});return()=>p()},[]);const u=async()=>{try{await qS(Zf,aC)}catch(p){throw console.error("Google  :",p),p}},m=async()=>{try{await ES(Zf)}catch(p){throw console.error(" :",p),p}};return d.jsx(K1.Provider,{value:{user:e,loading:r,signInWithGoogle:u,logout:m},children:i})}function Rh(){const i=$.useContext(K1);if(!i)throw new Error("useAuth must be used within an AuthProvider");return i}const $1="finance-timeline-data",lC=()=>{const i=localStorage.getItem($1),e=new Date;if(i)try{const s=JSON.parse(i);return{transactions:s.transactions||[],loans:s.loans||[],events:s.events||[],assets:s.assets||[],currentYear:s.currentYear||e.getFullYear(),currentMonth:s.currentMonth||e.getMonth()+1}}catch{return{transactions:[],loans:[],events:[],assets:[],currentYear:e.getFullYear(),currentMonth:e.getMonth()+1}}return{transactions:[],loans:[],events:[],assets:[],currentYear:e.getFullYear(),currentMonth:e.getMonth()+1}};function oC(i,e,s){const r=e/100/12;return r===0?i/s:i*r*Math.pow(1+r,s)/(Math.pow(1+r,s)-1)}function b_(i,e,s){const r=new Date(i.startDate),o=r.getFullYear(),u=r.getMonth()+1;if(e<o||e===o&&s<u)return null;const m=(e-o)*12+(s-u)+1;if(m>i.termMonths)return null;const p=i.interestRate/100/12;let x=0,_=0,E=i.principal;if(i.repaymentType==="equal_principal_interest"){const N=oC(i.principal,i.interestRate,i.termMonths);for(let B=1;B<m;B++){const Z=E*p,Y=N-Z;E-=Y}_=E*p,x=N-_,E-=x}else if(i.repaymentType==="equal_principal"){const N=i.principal/i.termMonths;E=i.principal-N*(m-1),_=E*p,x=N,E-=x}else i.repaymentType==="bullet"&&(_=i.principal*p,x=m===i.termMonths?i.principal:0,E=m===i.termMonths?0:i.principal);const T=`${e}-${String(s).padStart(2,"0")}-${String(i.paymentDay).padStart(2,"0")}`;return{loanId:i.id,loanName:i.name,date:T,monthNumber:m,principal:Math.round(x),interest:Math.round(_),totalPayment:Math.round(x+_),remainingPrincipal:Math.max(0,Math.round(E))}}function cC(i){const[e,s]=$.useState(lC),[r,o]=$.useState(!1),[u,m]=$.useState(null);$.useEffect(()=>{localStorage.setItem($1,JSON.stringify(e))},[e]),$.useEffect(()=>{if(!i)return;(async()=>{try{o(!0);const ue=p_(v_,"users",i),P=await W4(ue);if(P.exists()){const te=P.data();s({transactions:te.transactions||[],loans:te.loans||[],events:te.events||[],assets:te.assets||[],currentYear:e.currentYear,currentMonth:e.currentMonth}),m(new Date)}}catch(ue){console.error("Firestore  :",ue)}finally{o(!1)}})()},[i]);const p=$.useCallback(async()=>{if(i)try{o(!0);const oe=p_(v_,"users",i);await tC(oe,{transactions:e.transactions,loans:e.loans,events:e.events,assets:e.assets,updatedAt:new Date().toISOString()}),m(new Date)}catch(oe){throw console.error("Firestore  :",oe),oe}finally{o(!1)}},[i,e.transactions,e.loans,e.events,e.assets]);$.useEffect(()=>{if(!i)return;const oe=setTimeout(()=>{p()},2e3);return()=>clearTimeout(oe)},[i,e.transactions,e.loans,e.events,e.assets,p]);const x=$.useCallback(oe=>{s(ue=>({...ue,transactions:[...ue.transactions,oe]}))},[]),_=$.useCallback((oe,ue)=>{s(P=>({...P,transactions:P.transactions.map(te=>te.id===oe?{...te,...ue}:te)}))},[]),E=$.useCallback(oe=>{s(ue=>({...ue,transactions:ue.transactions.filter(P=>P.id!==oe)}))},[]),T=$.useCallback(oe=>{s(ue=>({...ue,loans:[...ue.loans,oe]}))},[]),N=$.useCallback((oe,ue)=>{s(P=>({...P,loans:P.loans.map(te=>te.id===oe?{...te,...ue}:te)}))},[]),B=$.useCallback(oe=>{s(ue=>({...ue,loans:ue.loans.filter(P=>P.id!==oe)}))},[]),Z=$.useCallback((oe,ue)=>e.loans.map(P=>b_(P,oe,ue)).filter(P=>P!==null),[e.loans]),Y=$.useCallback(oe=>{s(ue=>({...ue,events:[...ue.events,oe]}))},[]),z=$.useCallback((oe,ue)=>{s(P=>({...P,events:P.events.map(te=>te.id===oe?{...te,...ue}:te)}))},[]),ie=$.useCallback(oe=>{s(ue=>({...ue,events:ue.events.filter(P=>P.id!==oe)}))},[]),j=$.useCallback((oe,ue)=>e.events.filter(P=>{const te=new Date(P.date);return te.getFullYear()===oe&&te.getMonth()+1===ue}).sort((P,te)=>P.date.localeCompare(te.date)),[e.events]),M=$.useCallback(oe=>{s(ue=>({...ue,assets:[...ue.assets,oe]}))},[]),re=$.useCallback((oe,ue)=>{s(P=>({...P,assets:P.assets.map(te=>te.id===oe?{...te,...ue}:te)}))},[]),X=$.useCallback(oe=>{s(ue=>({...ue,assets:ue.assets.filter(P=>P.id!==oe)}))},[]),ae=$.useCallback(()=>e.assets.reduce((oe,ue)=>oe+ue.currentValue,0),[e.assets]),I=$.useCallback(()=>{const oe=new Date,ue=oe.getFullYear(),P=oe.getMonth()+1;return e.loans.reduce((te,he)=>{const xe=b_(he,ue,P);if(xe)return te+xe.remainingPrincipal+xe.principal;const je=new Date(he.startDate);return oe<je?te+he.principal:te},0)},[e.loans]),A=$.useCallback(()=>ae()-I(),[ae,I]),R=$.useCallback((oe,ue)=>{s(P=>({...P,currentYear:oe,currentMonth:ue}))},[]),V=$.useCallback((oe,ue)=>{const P=[],te=`${oe}-${String(ue).padStart(2,"0")}`;return e.transactions.forEach(he=>{const xe=new Date(he.date),je=xe.getFullYear(),D=xe.getMonth()+1,W=xe.getDate();if(he.recurrence==="once")je===oe&&D===ue&&P.push(he);else if(he.recurrence==="monthly"){const de=new Date(he.date),fe=new Date(oe,ue-1,W),ve=he.recurrenceEndDate?new Date(he.recurrenceEndDate):null;if(fe>=de&&(!ve||fe<=ve)){const Ne=`${te}-${String(W).padStart(2,"0")}`;P.push({...he,date:Ne})}}else if(he.recurrence==="yearly"&&D===ue){const de=new Date(he.date),fe=new Date(oe,ue-1,W),ve=he.recurrenceEndDate?new Date(he.recurrenceEndDate):null;if(fe>=de&&(!ve||fe<=ve)){const Ne=`${oe}-${String(ue).padStart(2,"0")}-${String(W).padStart(2,"0")}`;P.push({...he,date:Ne})}}}),P.sort((he,xe)=>he.date.localeCompare(xe.date))},[e.transactions]),w=$.useCallback((oe,ue)=>{const P=V(oe,ue),te=Z(oe,ue),he=P.filter(D=>D.type==="income").reduce((D,W)=>D+W.amount,0),xe=P.filter(D=>D.type==="expense").reduce((D,W)=>D+W.amount,0),je=te.reduce((D,W)=>D+W.interest,0);return{year:oe,month:ue,totalIncome:he,totalExpense:xe+je,balance:he-xe-je}},[V,Z]),L=$.useCallback((oe,ue,P)=>{const te=[];let he=oe,xe=ue;for(let je=0;je<P;je++)te.push(w(he,xe)),xe++,xe>12&&(xe=1,he++);return te},[w]),C=$.useCallback((oe,ue)=>{let P=0;for(let te=2020;te<=oe;te++){const he=te===oe?ue:12;for(let xe=1;xe<=he;xe++){const je=w(te,xe);P+=je.balance}}return P},[w]);return{...e,isSyncing:r,lastSyncTime:u,saveToFirestore:p,addTransaction:x,updateTransaction:_,deleteTransaction:E,addLoan:T,updateLoan:N,deleteLoan:B,getLoanPaymentsForMonth:Z,addEvent:Y,updateEvent:z,deleteEvent:ie,getEventsForMonth:j,addAsset:M,updateAsset:re,deleteAsset:X,getTotalAssetValue:ae,getTotalLoanBalance:I,getNetWorth:A,setCurrentDate:R,getTransactionsForMonth:V,getMonthSummary:w,getMultiMonthSummaries:L,getCumulativeBalance:C}}const X1=$.createContext(null);function uC({children:i}){const{user:e}=Rh(),s=cC(e?.uid);return d.jsx(X1.Provider,{value:s,children:i})}function dn(){const i=$.useContext(X1);if(!i)throw new Error("useApp must be used within AppProvider");return i}const hC=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dC=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,r)=>r?r.toUpperCase():s.toLowerCase()),E_=i=>{const e=dC(i);return e.charAt(0).toUpperCase()+e.slice(1)},Z1=(...i)=>i.filter((e,s,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===s).join(" ").trim(),fC=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var mC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const gC=$.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:m,...p},x)=>$.createElement("svg",{ref:x,...mC,width:e,height:e,stroke:i,strokeWidth:r?Number(s)*24/Number(e):s,className:Z1("lucide",o),...!u&&!fC(p)&&{"aria-hidden":"true"},...p},[...m.map(([_,E])=>$.createElement(_,E)),...Array.isArray(u)?u:[u]]));const Se=(i,e)=>{const s=$.forwardRef(({className:r,...o},u)=>$.createElement(gC,{ref:u,iconNode:e,className:Z1(`lucide-${hC(E_(i))}`,`lucide-${i}`,r),...o}));return s.displayName=E_(i),s};const pC=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Zo=Se("building-2",pC);const yC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],xC=Se("calendar-days",yC);const _C=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ka=Se("calendar",_C);const vC=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],J1=Se("car",vC);const bC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],W1=Se("chevron-down",bC);const EC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],eb=Se("chevron-up",EC);const TC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],yg=Se("circle-question-mark",TC);const SC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],AC=Se("clock",SC);const NC=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],Tm=Se("cloud-off",NC);const wC=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],xg=Se("cloud",wC);const CC=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],tb=Se("compass",CC);const RC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],IC=Se("download",RC);const kC=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],jC=Se("ellipsis",kC);const DC=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],Po=Se("flag",DC);const MC=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],OC=Se("gift",MC);const VC=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],LC=Se("graduation-cap",VC);const UC=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],PC=Se("heart",UC);const zC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],nb=Se("house",zC);const BC=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],tl=Se("landmark",BC);const qC=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],sb=Se("layout-dashboard",qC);const HC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],FC=Se("log-out",HC);const GC=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],YC=Se("menu",GC);const QC=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],KC=Se("package",QC);const $C=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ih=Se("pen",$C);const XC=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],ZC=Se("percent",XC);const JC=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],ib=Se("piggy-bank",JC);const WC=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],eR=Se("plane",WC);const tR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],kh=Se("plus",tR);const nR=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],ab=Se("receipt",nR);const sR=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Co=Se("refresh-cw",sR);const iR=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],rb=Se("repeat",iR);const aR=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],lb=Se("search",aR);const rR=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ob=Se("settings",rR);const lR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],oR=Se("shield",lR);const cR=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],uR=Se("shopping-bag",cR);const hR=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],dR=Se("smartphone",hR);const fR=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],nl=Se("star",fR);const mR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],gR=Se("target",mR);const pR=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ha=Se("trash-2",pR);const yR=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],jh=Se("trending-down",yR);const xR=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Jo=Se("trending-up",xR);const _R=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],vR=Se("triangle-alert",_R);const bR=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ER=Se("upload",bR);const TR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],SR=Se("user",TR);const AR=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],NR=Se("utensils",AR);const wR=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],hh=Se("wallet",wR);const CR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wo=Se("x",CR);const RR=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],IR=Se("zap",RR),kR=[{label:"",items:[{id:"timeline",icon:Ka,label:""},{id:"summary",icon:sb,label:""}]},{label:"",items:[{id:"transactions",icon:ab,label:"/"},{id:"events",icon:Po,label:""},{id:"loans",icon:tl,label:" "},{id:"assets",icon:Zo,label:" "}]},{label:"",items:[{id:"settings",icon:ob,label:""},{id:"help",icon:yg,label:""}]}];function jR({activeTab:i,onTabChange:e,isOpen:s,onClose:r}){const o=u=>{e(u),r()};return d.jsxs(d.Fragment,{children:[s&&d.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:r}),d.jsxs("aside",{className:`fixed left-0 top-0 h-screen w-64 bg-dark-900/95 backdrop-blur-xl border-r border-dark-800 flex flex-col z-50 transition-transform duration-300 lg:translate-x-0 ${s?"translate-x-0":"-translate-x-full"}`,children:[d.jsx("div",{className:"p-4 lg:p-6 border-b border-dark-800",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center",children:d.jsx(tb,{className:"w-5 h-5 text-white"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-lg font-bold text-dark-100",children:""}),d.jsx("p",{className:"text-xs text-dark-500",children:"Plan My Life"})]})]}),d.jsx("button",{onClick:r,className:"lg:hidden p-2 text-dark-400 hover:text-dark-100",children:d.jsx(Wo,{className:"w-5 h-5"})})]})}),d.jsx("nav",{className:"flex-1 p-3 lg:p-4 overflow-y-auto",children:kR.map((u,m)=>d.jsxs("div",{className:m>0?"mt-4 pt-4 border-t border-dark-800":"",children:[d.jsx("p",{className:"px-4 mb-2 text-[10px] lg:text-xs font-semibold text-dark-500 uppercase tracking-wider",children:u.label}),d.jsx("div",{className:"space-y-1",children:u.items.map(p=>{const x=p.icon,_=i===p.id;return d.jsxs("button",{onClick:()=>o(p.id),className:`w-full flex items-center gap-3 px-4 py-2.5 lg:py-3 rounded-xl transition-all duration-200 ${_?"bg-violet-500/10 text-violet-400 border border-violet-500/20":"text-dark-400 hover:text-dark-100 hover:bg-dark-800/50"}`,children:[d.jsx(x,{className:"w-5 h-5"}),d.jsx("span",{className:"font-medium text-sm lg:text-base",children:p.label})]},p.id)})})]},u.label))}),d.jsx("div",{className:"p-3 lg:p-4 border-t border-dark-800 hidden lg:block",children:d.jsxs("div",{className:"card !p-4 bg-gradient-to-br from-violet-500/10 to-purple-500/10 border-violet-500/20",children:[d.jsx("p",{className:"text-sm text-dark-300 mb-2",children:"  "}),d.jsx("p",{className:"text-xs text-dark-500",children:"Made by "})]})})]})]})}function DR({title:i,onTodayClick:e,showTodayButton:s,onMenuClick:r}){return d.jsxs("header",{className:"sticky top-0 z-30 h-14 lg:h-16 bg-dark-900/95 backdrop-blur-sm border-b border-dark-800 flex items-center px-4 lg:px-6",children:[d.jsx("button",{onClick:r,className:"lg:hidden p-2 -ml-2 mr-2 text-dark-400 hover:text-dark-100",children:d.jsx(YC,{className:"w-6 h-6"})}),d.jsxs("div",{className:"flex items-center gap-2 lg:gap-3 flex-1",children:[d.jsx("h2",{className:"text-lg lg:text-xl font-semibold text-dark-100 truncate",children:i}),s&&e&&d.jsxs("button",{onClick:e,className:"btn bg-blue-500/20 text-blue-400 border border-blue-500/40 hover:bg-blue-500/30 text-xs lg:text-sm py-1 lg:py-1.5 px-2 lg:px-3",children:[d.jsx(nb,{className:"w-3 h-3 lg:w-4 lg:h-4"}),d.jsx("span",{className:"hidden sm:inline",children:""})]})]})]})}function MR({onContinueOffline:i}){const{signInWithGoogle:e}=Rh(),[s,r]=$.useState(!1),[o,u]=$.useState(null),m=async()=>{try{r(!0),u(null),await e()}catch(p){u(" .  ."),console.error(p)}finally{r(!1)}};return d.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center p-4",children:d.jsxs("div",{className:"w-full max-w-md",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center mx-auto mb-4",children:d.jsx(tb,{className:"w-10 h-10 text-white"})}),d.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-dark-100 mb-2",children:""}),d.jsx("p",{className:"text-dark-400",children:"  "})]}),d.jsxs("div",{className:"card !p-6 space-y-4",children:[d.jsx("h2",{className:"text-lg font-semibold text-dark-100 text-center mb-2",children:""}),d.jsxs("button",{onClick:m,disabled:s,className:"w-full btn bg-white hover:bg-gray-100 text-gray-800 py-3 disabled:opacity-50",children:[s?d.jsx(Co,{className:"w-5 h-5 animate-spin"}):d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),d.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),d.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),d.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),d.jsx("span",{children:s?" ...":"Google  "})]}),d.jsxs("div",{className:"flex items-center gap-2 p-3 bg-emerald-500/10 rounded-lg border border-emerald-500/20",children:[d.jsx(xg,{className:"w-4 h-4 text-emerald-400 flex-shrink-0"}),d.jsx("p",{className:"text-xs text-emerald-400",children:"     "})]}),o&&d.jsx("p",{className:"text-sm text-rose-400 text-center",children:o}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex-1 h-px bg-dark-700"}),d.jsx("span",{className:"text-xs text-dark-500",children:""}),d.jsx("div",{className:"flex-1 h-px bg-dark-700"})]}),d.jsxs("button",{onClick:i,disabled:s,className:"w-full btn btn-secondary py-3 disabled:opacity-50",children:[d.jsx(Tm,{className:"w-5 h-5"}),d.jsx("span",{children:"  "})]}),d.jsxs("div",{className:"flex items-center gap-2 p-3 bg-dark-800/50 rounded-lg",children:[d.jsx(Tm,{className:"w-4 h-4 text-dark-400 flex-shrink-0"}),d.jsx("p",{className:"text-xs text-dark-400",children:"   "})]})]}),d.jsx("p",{className:"text-center text-xs text-dark-500 mt-6",children:"Made by "})]})})}const dh={salary:"",bonus:"",other_income:" ",rent:"/",insurance:"",subscription:"",utilities:"",transport:"",food:"",shopping:"",travel:"",education:"",medical:"",other_expense:" "},T_=["salary","bonus","other_income"],S_=["rent","insurance","subscription","utilities","transport","food","shopping","travel","education","medical","other_expense"],zo={once:"",monthly:"",yearly:""},Sm={equal_principal_interest:"",equal_principal:"",bullet:""},OR={equal_principal_interest:"  (+) ",equal_principal:"   +    ",bullet:"  ,    "},qi={housing:"",contract:"",career:"",family:"",education:"",other:""},La={red:"bg-red-500",orange:"bg-orange-500",yellow:"bg-yellow-500",green:"bg-green-500",blue:"bg-blue-500",purple:"bg-purple-500",pink:"bg-pink-500"},VR={red:"text-red-400",orange:"text-orange-400",yellow:"text-yellow-400",green:"text-green-400",blue:"text-blue-400",purple:"text-purple-400",pink:"text-pink-400"},_g={red:"bg-red-500/10 border-red-500/30 hover:bg-red-500/20",orange:"bg-orange-500/10 border-orange-500/30 hover:bg-orange-500/20",yellow:"bg-yellow-500/10 border-yellow-500/30 hover:bg-yellow-500/20",green:"bg-green-500/10 border-green-500/30 hover:bg-green-500/20",blue:"bg-blue-500/10 border-blue-500/30 hover:bg-blue-500/20",purple:"bg-purple-500/10 border-purple-500/30 hover:bg-purple-500/20",pink:"bg-pink-500/10 border-pink-500/30 hover:bg-pink-500/20"},LR={red:"bg-red-500/20",orange:"bg-orange-500/20",yellow:"bg-yellow-500/20",green:"bg-green-500/20",blue:"bg-blue-500/20",purple:"bg-purple-500/20",pink:"bg-pink-500/20"},UR={red:"bg-red-500/20 text-red-400",orange:"bg-orange-500/20 text-orange-400",yellow:"bg-yellow-500/20 text-yellow-400",green:"bg-green-500/20 text-green-400",blue:"bg-blue-500/20 text-blue-400",purple:"bg-purple-500/20 text-purple-400",pink:"bg-pink-500/20 text-pink-400"},Am={real_estate:"",vehicle:"",savings:"/",investment:"",other_asset:" "},PR={salary:d.jsx(hh,{className:"w-4 h-4"}),bonus:d.jsx(OC,{className:"w-4 h-4"}),other_income:d.jsx(ib,{className:"w-4 h-4"}),rent:d.jsx(nb,{className:"w-4 h-4"}),insurance:d.jsx(oR,{className:"w-4 h-4"}),subscription:d.jsx(Co,{className:"w-4 h-4"}),utilities:d.jsx(IR,{className:"w-4 h-4"}),transport:d.jsx(J1,{className:"w-4 h-4"}),food:d.jsx(NR,{className:"w-4 h-4"}),shopping:d.jsx(uR,{className:"w-4 h-4"}),travel:d.jsx(eR,{className:"w-4 h-4"}),education:d.jsx(LC,{className:"w-4 h-4"}),medical:d.jsx(PC,{className:"w-4 h-4"}),other_expense:d.jsx(jC,{className:"w-4 h-4"})};function zR({year:i,month:e,onEdit:s,onEditEvent:r}){const{getTransactionsForMonth:o,getMonthSummary:u,deleteTransaction:m,getLoanPaymentsForMonth:p,getEventsForMonth:x,deleteEvent:_}=dn(),E=$.useMemo(()=>o(i,e),[o,i,e]),T=$.useMemo(()=>p(i,e),[p,i,e]),N=$.useMemo(()=>x(i,e),[x,i,e]),B=$.useMemo(()=>u(i,e),[u,i,e]),Z=$.useMemo(()=>T.reduce((j,M)=>j+M.totalPayment,0),[T]),Y=j=>new Intl.NumberFormat("ko-KR").format(j),z=j=>new Date(j).getDate(),ie=$.useMemo(()=>[...E.map(M=>({type:"transaction",data:M})),...T.map(M=>({type:"loan",data:M})),...N.map(M=>({type:"event",data:M}))].sort((M,re)=>{const X=M.data.date,ae=re.data.date;return X.localeCompare(ae)}),[E,T,N]);return d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"sticky top-14 lg:top-16 z-10 bg-dark-950/95 backdrop-blur-sm py-3 lg:py-4 border-b border-dark-800",children:d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[d.jsxs("h2",{className:"text-lg lg:text-xl font-bold text-dark-100",children:[i," ",e,""]}),d.jsxs("div",{className:"flex items-center gap-2 lg:gap-4 text-xs lg:text-sm flex-wrap",children:[d.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[d.jsx(Jo,{className:"w-3 h-3 lg:w-4 lg:h-4 text-emerald-400"}),d.jsxs("span",{className:"font-semibold text-emerald-400",children:["+",Y(B.totalIncome)]})]}),d.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[d.jsx(jh,{className:"w-3 h-3 lg:w-4 lg:h-4 text-rose-400"}),d.jsxs("span",{className:"font-semibold text-rose-400",children:["-",Y(B.totalExpense)]})]}),Z>0&&d.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[d.jsx(tl,{className:"w-3 h-3 lg:w-4 lg:h-4 text-blue-400"}),d.jsx("span",{className:"font-semibold text-blue-400",children:Y(Z)})]}),d.jsxs("div",{className:`font-bold ${B.balance>=0?"text-emerald-400":"text-rose-400"}`,children:["= ",B.balance>=0?"+":"",Y(B.balance)]})]})]})}),d.jsx("div",{className:"py-3 lg:py-4 space-y-2",children:ie.length===0?d.jsx("div",{className:"text-center py-6 lg:py-8 text-dark-500 text-sm",children:"    "}):ie.map(j=>{if(j.type==="transaction"){const M=j.data;return d.jsxs("div",{className:"group flex items-center gap-2 lg:gap-4 p-3 lg:p-4 bg-dark-900/50 hover:bg-dark-800/50 rounded-xl border border-dark-800/50 hover:border-dark-700 transition-all cursor-pointer",onClick:()=>s(M),children:[d.jsxs("div",{className:"w-10 lg:w-12 text-center flex-shrink-0",children:[d.jsx("span",{className:"text-xl lg:text-2xl font-bold text-dark-300",children:z(M.date)}),d.jsx("span",{className:"text-[10px] lg:text-xs text-dark-500 block",children:""})]}),d.jsx("div",{className:`w-1 h-10 lg:h-12 rounded-full flex-shrink-0 ${M.type==="income"?"bg-emerald-500":"bg-rose-500"}`}),d.jsx("div",{className:`hidden sm:flex w-10 h-10 rounded-xl items-center justify-center flex-shrink-0 ${M.type==="income"?"bg-emerald-500/20 text-emerald-400":"bg-rose-500/20 text-rose-400"}`,children:PR[M.category]}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-1.5 lg:gap-2",children:[d.jsx("h3",{className:"font-medium text-dark-100 truncate text-sm lg:text-base",children:M.title}),M.recurrence!=="once"&&d.jsxs("span",{className:"hidden sm:flex items-center gap-1 px-1.5 lg:px-2 py-0.5 bg-dark-700 rounded-full text-[10px] lg:text-xs text-dark-300 flex-shrink-0",children:[d.jsx(rb,{className:"w-3 h-3"}),zo[M.recurrence]]})]}),d.jsxs("p",{className:"text-xs lg:text-sm text-dark-500 truncate",children:[dh[M.category],M.recurrence!=="once"&&d.jsxs("span",{className:"sm:hidden",children:["  ",zo[M.recurrence]]})]})]}),d.jsxs("div",{className:`text-right font-semibold text-sm lg:text-base flex-shrink-0 ${M.type==="income"?"text-emerald-400":"text-rose-400"}`,children:[M.type==="income"?"+":"-",Y(M.amount)]}),d.jsx("button",{onClick:re=>{re.stopPropagation(),confirm("  ?")&&m(M.id)},className:"opacity-0 group-hover:opacity-100 p-1.5 lg:p-2 text-dark-500 hover:text-rose-400 transition-all flex-shrink-0",children:d.jsx(Ha,{className:"w-4 h-4"})})]},`t-${M.id}-${M.date}`)}else if(j.type==="loan"){const M=j.data;return d.jsxs("div",{className:"flex items-center gap-2 lg:gap-4 p-3 lg:p-4 bg-blue-500/5 rounded-xl border border-blue-500/20",children:[d.jsxs("div",{className:"w-10 lg:w-12 text-center flex-shrink-0",children:[d.jsx("span",{className:"text-xl lg:text-2xl font-bold text-dark-300",children:z(M.date)}),d.jsx("span",{className:"text-[10px] lg:text-xs text-dark-500 block",children:""})]}),d.jsx("div",{className:"w-1 h-10 lg:h-12 rounded-full bg-blue-500 flex-shrink-0"}),d.jsx("div",{className:"hidden sm:flex w-10 h-10 rounded-xl items-center justify-center bg-blue-500/20 text-blue-400 flex-shrink-0",children:d.jsx(tl,{className:"w-4 h-4"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-1.5 lg:gap-2",children:[d.jsx("h3",{className:"font-medium text-dark-100 truncate text-sm lg:text-base",children:M.loanName}),d.jsxs("span",{className:"px-1.5 lg:px-2 py-0.5 bg-blue-500/20 rounded-full text-[10px] lg:text-xs text-blue-400 flex-shrink-0",children:[M.monthNumber,""]})]}),d.jsxs("p",{className:"text-xs lg:text-sm text-dark-500 truncate",children:[d.jsxs("span",{className:"hidden sm:inline",children:[" ",Y(M.principal)," +  ",Y(M.interest)]}),d.jsxs("span",{className:"sm:hidden",children:[" ",Y(M.interest)]})]})]}),d.jsxs("div",{className:"text-right flex-shrink-0",children:[d.jsx("p",{className:"font-semibold text-blue-400 text-sm lg:text-base",children:Y(M.totalPayment)}),d.jsxs("p",{className:"text-[10px] lg:text-xs text-rose-400",children:["-",Y(M.interest)]})]})]},`l-${M.loanId}-${M.date}`)}else{const M=j.data;return d.jsxs("div",{className:`group flex items-center gap-2 lg:gap-4 p-3 lg:p-4 rounded-xl border transition-all cursor-pointer ${_g[M.color]}`,onClick:()=>r?.(M),children:[d.jsxs("div",{className:"w-10 lg:w-12 text-center flex-shrink-0",children:[d.jsx("span",{className:"text-xl lg:text-2xl font-bold text-dark-300",children:z(M.date)}),d.jsx("span",{className:"text-[10px] lg:text-xs text-dark-500 block",children:""})]}),d.jsx("div",{className:`w-1 h-10 lg:h-12 rounded-full flex-shrink-0 ${La[M.color]}`}),d.jsx("div",{className:`hidden sm:flex w-10 h-10 rounded-xl items-center justify-center flex-shrink-0 ${LR[M.color]}`,children:M.isImportant?d.jsx(nl,{className:"w-4 h-4 text-amber-400 fill-amber-400"}):d.jsx(Ka,{className:`w-4 h-4 ${VR[M.color]}`})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-1.5 lg:gap-2",children:[d.jsx("h3",{className:"font-medium text-dark-100 truncate text-sm lg:text-base",children:M.title}),M.isImportant&&d.jsx(nl,{className:"w-3.5 h-3.5 text-amber-400 fill-amber-400 sm:hidden flex-shrink-0"}),d.jsx("span",{className:`hidden sm:inline px-2 py-0.5 rounded-full text-xs ${UR[M.color]}`,children:qi[M.category]}),M.isImportant&&d.jsx("span",{className:"hidden sm:inline px-2 py-0.5 bg-amber-500/20 rounded-full text-xs text-amber-400",children:""})]}),d.jsxs("p",{className:"text-xs lg:text-sm text-dark-500 truncate",children:[d.jsx("span",{className:"sm:hidden",children:qi[M.category]}),M.description&&d.jsx("span",{className:"hidden sm:inline",children:M.description})]})]}),d.jsx("button",{onClick:re=>{re.stopPropagation(),confirm("  ?")&&_(M.id)},className:"opacity-0 group-hover:opacity-100 p-1.5 lg:p-2 text-dark-500 hover:text-rose-400 transition-all flex-shrink-0",children:d.jsx(Ha,{className:"w-4 h-4"})})]},`e-${M.id}`)}})})]})}function BR({year:i,onEdit:e,onEditEvent:s}){const{getMultiMonthSummaries:r,getTransactionsForMonth:o,getEventsForMonth:u,events:m}=dn(),[p,x]=$.useState(null),_=$.useMemo(()=>r(i,1,12),[r,i]),E=$.useMemo(()=>_.reduce((z,ie)=>({income:z.income+ie.totalIncome,expense:z.expense+ie.totalExpense,balance:z.balance+ie.balance}),{income:0,expense:0,balance:0}),[_]),T=$.useMemo(()=>m.filter(z=>new Date(z.date).getFullYear()===i),[m,i]),N=z=>m.filter(ie=>{const j=new Date(ie.date);return j.getFullYear()===i&&j.getMonth()+1===z}).length,B=z=>new Intl.NumberFormat("ko-KR").format(z),Z=z=>z>=1e8?`${(z/1e8).toFixed(1)}`:z>=1e4?`${(z/1e4).toFixed(0)}`:B(z),Y=z=>{x(p===z?null:z)};return d.jsxs("div",{className:"card !p-3 lg:!p-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-4 lg:mb-6 pb-3 lg:pb-4 border-b border-dark-800",children:[d.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[d.jsxs("h2",{className:"text-xl lg:text-2xl font-bold text-dark-100",children:[i,""]}),T.length>0&&d.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-purple-500/20 rounded-full text-[10px] lg:text-xs text-purple-400",children:[d.jsx(Po,{className:"w-3 h-3"}),T.length]})]}),d.jsxs("div",{className:"flex items-center gap-2 lg:gap-6 text-xs lg:text-sm flex-wrap",children:[d.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[d.jsx(Jo,{className:"w-3 h-3 lg:w-4 lg:h-4 text-emerald-400"}),d.jsxs("span",{className:"font-semibold text-emerald-400",children:["+",Z(E.income)]})]}),d.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[d.jsx(jh,{className:"w-3 h-3 lg:w-4 lg:h-4 text-rose-400"}),d.jsxs("span",{className:"font-semibold text-rose-400",children:["-",Z(E.expense)]})]}),d.jsxs("div",{className:`font-bold text-sm lg:text-lg ${E.balance>=0?"text-emerald-400":"text-rose-400"}`,children:["= ",E.balance>=0?"+":"",Z(E.balance)]})]})]}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 lg:gap-3",children:_.map(z=>{const ie=p===z.month,j=ie?o(i,z.month):[],M=ie?u(i,z.month):[],re=N(z.month),X=z.totalIncome>0||z.totalExpense>0||re>0;return d.jsxs("div",{className:`rounded-xl border transition-all ${X?"bg-dark-800/50 border-dark-700 hover:border-dark-600":"bg-dark-900/30 border-dark-800/50"}`,children:[d.jsxs("button",{onClick:()=>X&&Y(z.month),className:`w-full p-2.5 lg:p-4 text-left ${X?"cursor-pointer":"cursor-default"}`,disabled:!X,children:[d.jsxs("div",{className:"flex items-center justify-between mb-1.5 lg:mb-2",children:[d.jsxs("div",{className:"flex items-center gap-1.5 lg:gap-2",children:[d.jsxs("span",{className:"text-sm lg:text-lg font-semibold text-dark-100",children:[z.month,""]}),re>0&&d.jsxs("span",{className:"flex items-center gap-0.5 px-1 lg:px-1.5 py-0.5 bg-purple-500/20 rounded text-[10px] lg:text-xs text-purple-400",children:[d.jsx(Po,{className:"w-2 h-2 lg:w-2.5 lg:h-2.5"}),re]})]}),X&&(ie?d.jsx(eb,{className:"w-3.5 h-3.5 lg:w-4 lg:h-4 text-dark-400"}):d.jsx(W1,{className:"w-3.5 h-3.5 lg:w-4 lg:h-4 text-dark-400"}))]}),z.totalIncome>0||z.totalExpense>0?d.jsxs("div",{className:"space-y-0.5 lg:space-y-1",children:[d.jsxs("div",{className:"flex justify-between text-xs lg:text-sm",children:[d.jsx("span",{className:"text-dark-500",children:""}),d.jsxs("span",{className:"text-emerald-400",children:["+",Z(z.totalIncome)]})]}),d.jsxs("div",{className:"flex justify-between text-xs lg:text-sm",children:[d.jsx("span",{className:"text-dark-500",children:""}),d.jsxs("span",{className:"text-rose-400",children:["-",Z(z.totalExpense)]})]}),d.jsxs("div",{className:"flex justify-between text-xs lg:text-sm font-medium pt-1 border-t border-dark-700",children:[d.jsx("span",{className:"text-dark-400",children:""}),d.jsxs("span",{className:z.balance>=0?"text-emerald-400":"text-rose-400",children:[z.balance>=0?"+":"",Z(z.balance)]})]})]}):re>0?d.jsx("p",{className:"text-xs lg:text-sm text-purple-400",children:" "}):d.jsx("p",{className:"text-xs lg:text-sm text-dark-600",children:" "})]}),ie&&(j.length>0||M.length>0)&&d.jsxs("div",{className:"border-t border-dark-700 p-2 lg:p-3 space-y-1.5 lg:space-y-2 max-h-48 lg:max-h-60 overflow-y-auto",children:[M.map(ae=>d.jsxs("button",{onClick:()=>s?.(ae),className:`w-full flex items-center justify-between p-1.5 lg:p-2 rounded-lg transition-colors text-left ${_g[ae.color]}`,children:[d.jsxs("div",{className:"flex items-center gap-1.5 lg:gap-2 min-w-0",children:[ae.isImportant?d.jsx(nl,{className:"w-3 h-3 text-amber-400 fill-amber-400 flex-shrink-0"}):d.jsx("div",{className:`w-1.5 h-1.5 rounded-full flex-shrink-0 ${La[ae.color]}`}),d.jsx("span",{className:"text-xs lg:text-sm text-dark-200 truncate",children:ae.title})]}),d.jsxs("span",{className:"text-[10px] lg:text-xs text-dark-500 flex-shrink-0 ml-1",children:[new Date(ae.date).getDate(),""]})]},`e-${ae.id}`)),j.map(ae=>d.jsxs("button",{onClick:()=>e(ae),className:"w-full flex items-center justify-between p-1.5 lg:p-2 rounded-lg bg-dark-900/50 hover:bg-dark-700/50 transition-colors text-left",children:[d.jsxs("div",{className:"flex items-center gap-1.5 lg:gap-2 min-w-0",children:[d.jsx("div",{className:`w-1.5 h-1.5 rounded-full flex-shrink-0 ${ae.type==="income"?"bg-emerald-500":"bg-rose-500"}`}),d.jsx("span",{className:"text-xs lg:text-sm text-dark-200 truncate",children:ae.title})]}),d.jsxs("span",{className:`text-xs lg:text-sm font-medium whitespace-nowrap ml-1 ${ae.type==="income"?"text-emerald-400":"text-rose-400"}`,children:[ae.type==="income"?"+":"-",Z(ae.amount)]})]},`${ae.id}-${ae.date}`))]})]},z.month)})}),d.jsxs("div",{className:"mt-4 lg:mt-6 pt-3 lg:pt-4 border-t border-dark-800",children:[d.jsx("h4",{className:"text-xs lg:text-sm font-medium text-dark-400 mb-2 lg:mb-3",children:" "}),d.jsx("div",{className:"flex items-end gap-0.5 lg:gap-1 h-16 lg:h-24",children:_.map(z=>{const ie=Math.max(..._.map(re=>Math.max(re.totalIncome,re.totalExpense))),j=ie>0?z.totalIncome/ie*100:0,M=ie>0?z.totalExpense/ie*100:0;return d.jsxs("div",{className:"flex-1 flex flex-col items-center gap-0.5 lg:gap-1",children:[d.jsxs("div",{className:"w-full flex gap-0.5 items-end h-12 lg:h-20",children:[d.jsx("div",{className:"flex-1 bg-emerald-500/60 rounded-t transition-all",style:{height:`${j}%`,minHeight:z.totalIncome>0?"2px":"0"}}),d.jsx("div",{className:"flex-1 bg-rose-500/60 rounded-t transition-all",style:{height:`${M}%`,minHeight:z.totalExpense>0?"2px":"0"}})]}),d.jsx("span",{className:"text-[10px] lg:text-xs text-dark-500",children:z.month})]},z.month)})}),d.jsxs("div",{className:"flex justify-center gap-3 lg:gap-4 mt-2",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-2.5 h-2.5 lg:w-3 lg:h-3 rounded bg-emerald-500/60"}),d.jsx("span",{className:"text-[10px] lg:text-xs text-dark-500",children:""})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-2.5 h-2.5 lg:w-3 lg:h-3 rounded bg-rose-500/60"}),d.jsx("span",{className:"text-[10px] lg:text-xs text-dark-500",children:""})]})]})]})]})}const Gt=[];for(let i=0;i<256;++i)Gt.push((i+256).toString(16).slice(1));function qR(i,e=0){return(Gt[i[e+0]]+Gt[i[e+1]]+Gt[i[e+2]]+Gt[i[e+3]]+"-"+Gt[i[e+4]]+Gt[i[e+5]]+"-"+Gt[i[e+6]]+Gt[i[e+7]]+"-"+Gt[i[e+8]]+Gt[i[e+9]]+"-"+Gt[i[e+10]]+Gt[i[e+11]]+Gt[i[e+12]]+Gt[i[e+13]]+Gt[i[e+14]]+Gt[i[e+15]]).toLowerCase()}let Jf;const HR=new Uint8Array(16);function FR(){if(!Jf){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Jf=crypto.getRandomValues.bind(crypto)}return Jf(HR)}const GR=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),A_={randomUUID:GR};function YR(i,e,s){i=i||{};const r=i.random??i.rng?.()??FR();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,qR(r)}function Dh(i,e,s){return A_.randomUUID&&!i?A_.randomUUID():YR(i)}function cb({transaction:i,onClose:e}){const{addTransaction:s,updateTransaction:r,currentYear:o,currentMonth:u}=dn(),[m,p]=$.useState("expense"),[x,_]=$.useState(""),[E,T]=$.useState(""),[N,B]=$.useState("other_expense"),[Z,Y]=$.useState(""),[z,ie]=$.useState("once"),[j,M]=$.useState(""),[re,X]=$.useState("");$.useEffect(()=>{i?(p(i.type),_(i.title),T(String(i.amount)),B(i.category),Y(i.date),ie(i.recurrence),M(i.recurrenceEndDate||""),X(i.memo||"")):Y(`${o}-${String(u).padStart(2,"0")}-01`)},[i,o,u]),$.useEffect(()=>{m==="income"&&!T_.includes(N)?B("salary"):m==="expense"&&!S_.includes(N)&&B("other_expense")},[m,N]);const ae=A=>{if(A.preventDefault(),!x.trim()||!E||!Z)return;const R={id:i?.id||Dh(),title:x.trim(),amount:Number(E),type:m,category:N,date:Z,recurrence:z,recurrenceEndDate:j||void 0,memo:re.trim()||void 0,createdAt:i?.createdAt||new Date().toISOString()};i?r(i.id,R):s(R),e()},I=m==="income"?T_:S_;return d.jsx("div",{className:"fixed inset-0 bg-dark-950/80 backdrop-blur-sm flex items-end sm:items-center justify-center z-50 p-0 sm:p-4",children:d.jsxs("div",{className:"card w-full sm:max-w-lg max-h-[85vh] sm:max-h-[90vh] overflow-y-auto rounded-b-none sm:rounded-b-2xl",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:[d.jsx("h3",{className:"text-lg lg:text-xl font-bold text-dark-100",children:i?" ":"  "}),d.jsx("button",{onClick:e,className:"btn btn-ghost p-2",children:d.jsx(Wo,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:ae,className:"space-y-3 lg:space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("button",{type:"button",onClick:()=>p("income"),className:`py-2.5 lg:py-3 rounded-xl font-medium text-sm lg:text-base transition-all ${m==="income"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/40":"bg-dark-800 text-dark-400 border border-dark-700 hover:border-dark-600"}`,children:""}),d.jsx("button",{type:"button",onClick:()=>p("expense"),className:`py-2.5 lg:py-3 rounded-xl font-medium text-sm lg:text-base transition-all ${m==="expense"?"bg-rose-500/20 text-rose-400 border border-rose-500/40":"bg-dark-800 text-dark-400 border border-dark-700 hover:border-dark-600"}`,children:""})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:" *"}),d.jsx("input",{type:"text",value:x,onChange:A=>_(A.target.value),placeholder:": ,  ",className:"input text-sm lg:text-base",autoFocus:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:" *"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",value:E,onChange:A=>T(A.target.value),placeholder:"0",className:"input pr-12 text-sm lg:text-base",min:"0"}),d.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-dark-400 text-sm",children:""})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 lg:gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),d.jsx("select",{value:N,onChange:A=>B(A.target.value),className:"input text-sm lg:text-base",children:I.map(A=>d.jsx("option",{value:A,children:dh[A]},A))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:" *"}),d.jsx("input",{type:"date",value:Z,onChange:A=>Y(A.target.value),className:"input text-sm lg:text-base"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),d.jsx("select",{value:z,onChange:A=>ie(A.target.value),className:"input text-sm lg:text-base",children:Object.keys(zo).map(A=>d.jsx("option",{value:A,children:zo[A]},A))})]}),z!=="once"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:"  ()"}),d.jsx("input",{type:"date",value:j,onChange:A=>M(A.target.value),className:"input text-sm lg:text-base"}),d.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mt-1",children:"  "})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),d.jsx("textarea",{value:re,onChange:A=>X(A.target.value),placeholder:"  ()",className:"input min-h-[60px] lg:min-h-[80px] resize-none text-sm lg:text-base"})]}),d.jsxs("div",{className:"flex gap-2 lg:gap-3 pt-3 lg:pt-4",children:[d.jsx("button",{type:"button",onClick:e,className:"btn btn-secondary flex-1 text-sm lg:text-base",children:""}),d.jsx("button",{type:"submit",className:`btn flex-1 text-white text-sm lg:text-base ${m==="income"?"bg-emerald-500 hover:bg-emerald-600":"bg-rose-500 hover:bg-rose-600"}`,children:i?"":""})]})]})]})})}const QR=["housing","contract","career","family","education","other"],KR=["red","orange","yellow","green","blue","purple","pink"];function ub({event:i,onClose:e}){const{addEvent:s,updateEvent:r,currentYear:o,currentMonth:u}=dn(),[m,p]=$.useState(""),[x,_]=$.useState("other"),[E,T]=$.useState(""),[N,B]=$.useState(""),[Z,Y]=$.useState(!1),[z,ie]=$.useState("blue");$.useEffect(()=>{i?(p(i.title),_(i.category),T(i.date),B(i.description||""),Y(i.isImportant),ie(i.color)):T(`${o}-${String(u).padStart(2,"0")}-01`)},[i,o,u]);const j=M=>{if(M.preventDefault(),!m.trim()||!E)return;const re={id:i?.id||Dh(),title:m.trim(),category:x,date:E,description:N.trim()||void 0,isImportant:Z,color:z,createdAt:i?.createdAt||new Date().toISOString()};i?r(i.id,re):s(re),e()};return d.jsx("div",{className:"fixed inset-0 bg-dark-950/80 backdrop-blur-sm flex items-end sm:items-center justify-center z-50 p-0 sm:p-4",children:d.jsxs("div",{className:"card w-full sm:max-w-lg max-h-[85vh] sm:max-h-[90vh] overflow-y-auto rounded-b-none sm:rounded-b-2xl",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:[d.jsx("h3",{className:"text-lg lg:text-xl font-bold text-dark-100",children:i?" ":"  "}),d.jsx("button",{onClick:e,className:"btn btn-ghost p-2",children:d.jsx(Wo,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:j,className:"space-y-3 lg:space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:"  *"}),d.jsx("input",{type:"text",value:m,onChange:M=>p(M.target.value),placeholder:":  , ,  ",className:"input text-sm lg:text-base",autoFocus:!0})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 lg:gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),d.jsx("select",{value:x,onChange:M=>_(M.target.value),className:"input text-sm lg:text-base",children:QR.map(M=>d.jsx("option",{value:M,children:qi[M]},M))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:" *"}),d.jsx("input",{type:"date",value:E,onChange:M=>T(M.target.value),className:"input text-sm lg:text-base"})]})]}),d.jsxs("div",{className:"flex items-end gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),d.jsx("div",{className:"flex gap-1.5 lg:gap-2",children:KR.map(M=>d.jsx("button",{type:"button",onClick:()=>ie(M),className:`w-6 h-6 lg:w-8 lg:h-8 rounded-full ${La[M]} transition-all ${z===M?"ring-2 ring-offset-2 ring-offset-dark-900 ring-white scale-110":"hover:scale-105"}`},M))})]}),d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer pb-0.5",children:[d.jsx("button",{type:"button",onClick:()=>Y(!Z),className:`p-1.5 lg:p-2 rounded-lg transition-all ${Z?"bg-amber-500/20 text-amber-400":"bg-dark-800 text-dark-500 hover:text-dark-300"}`,children:d.jsx(nl,{className:`w-4 h-4 lg:w-5 lg:h-5 ${Z?"fill-current":""}`})}),d.jsx("span",{className:"text-xs lg:text-sm text-dark-300",children:""})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),d.jsx("textarea",{value:N,onChange:M=>B(M.target.value),placeholder:"  ()",className:"input min-h-[60px] lg:min-h-[80px] resize-none text-sm lg:text-base"})]}),d.jsxs("div",{className:"flex gap-2 lg:gap-3 pt-3 lg:pt-4",children:[d.jsx("button",{type:"button",onClick:e,className:"btn btn-secondary flex-1 text-sm lg:text-base",children:""}),d.jsx("button",{type:"submit",className:`btn flex-1 text-white text-sm lg:text-base ${La[z]} hover:opacity-90`,children:i?"":""})]})]})]})})}function N_(){const{currentYear:i,currentMonth:e}=dn(),[s,r]=$.useState("month"),[o,u]=$.useState(null),[m,p]=$.useState(null),[x,_]=$.useState(6),[E,T]=$.useState(3),N=$.useRef(null),B=j=>{u(j)},Z=j=>{p(j)},Y=$.useCallback(j=>{j[0].isIntersecting&&(s==="month"?_(re=>re+6):T(re=>re+2))},[s]);$.useEffect(()=>{const j={root:null,rootMargin:"100px",threshold:0},M=new IntersectionObserver(Y,j);return N.current&&M.observe(N.current),()=>M.disconnect()},[Y]),$.useEffect(()=>{_(6),T(3)},[s]),$.useEffect(()=>{_(6),T(3),window.scrollTo({top:0,behavior:"smooth"})},[i,e]);const z=()=>{const j=[];let M=i,re=e;for(let X=0;X<x;X++)j.push({year:M,month:re}),re++,re>12&&(re=1,M++);return j},ie=()=>{const j=[];for(let M=0;M<E;M++)j.push(i+M);return j};return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 mb-4",children:[d.jsxs("button",{onClick:()=>r("month"),className:`btn text-xs sm:text-sm py-1.5 px-2 sm:py-2 sm:px-3 ${s==="month"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/40":"btn-secondary"}`,children:[d.jsx(Ka,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),d.jsx("span",{className:"hidden sm:inline",children:" "}),d.jsx("span",{className:"sm:hidden",children:""})]}),d.jsxs("button",{onClick:()=>r("year"),className:`btn text-xs sm:text-sm py-1.5 px-2 sm:py-2 sm:px-3 ${s==="year"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/40":"btn-secondary"}`,children:[d.jsx(xC,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),d.jsx("span",{className:"hidden sm:inline",children:" "}),d.jsx("span",{className:"sm:hidden",children:""})]})]}),d.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[s==="month"?z().map(({year:j,month:M})=>d.jsx(zR,{year:j,month:M,onEdit:B,onEditEvent:Z},`${j}-${M}`)):ie().map(j=>d.jsx(BR,{year:j,onEdit:B,onEditEvent:Z},j)),d.jsx("div",{ref:N,className:"flex justify-center py-8",children:d.jsx("div",{className:"text-dark-500 text-sm",children:"  ..."})})]}),o&&d.jsx(cb,{transaction:o,onClose:()=>u(null)}),m&&d.jsx(ub,{event:m,onClose:()=>p(null)})]})}function $R(){const{transactions:i,deleteTransaction:e}=dn(),[s,r]=$.useState(!1),[o,u]=$.useState(null),[m,p]=$.useState("all"),[x,_]=$.useState(""),E=$.useMemo(()=>i.filter(j=>{if(m!=="all"&&j.type!==m)return!1;if(x){const M=x.toLowerCase();return j.title.toLowerCase().includes(M)||dh[j.category].toLowerCase().includes(M)||j.memo&&j.memo.toLowerCase().includes(M)}return!0}).sort((j,M)=>M.createdAt.localeCompare(j.createdAt)),[i,m,x]),T=$.useMemo(()=>{const j=i.filter(re=>re.type==="income").reduce((re,X)=>X.recurrence==="monthly"?re+X.amount*12:re+X.amount,0),M=i.filter(re=>re.type==="expense").reduce((re,X)=>X.recurrence==="monthly"?re+X.amount*12:re+X.amount,0);return{income:j,expense:M,balance:j-M}},[i]),N=j=>new Intl.NumberFormat("ko-KR").format(j),B=j=>{const M=new Date(j);return`${M.getFullYear()}.${String(M.getMonth()+1).padStart(2,"0")}.${String(M.getDate()).padStart(2,"0")}`},Z=j=>{u(j),r(!0)},Y=()=>{u(null),r(!0)},z=()=>{r(!1),u(null)},ie=(j,M)=>{confirm(`"${M}"  ?`)&&e(j)};return d.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-3 gap-2 lg:gap-4",children:[d.jsxs("div",{className:"card !p-3 lg:!p-6",children:[d.jsx("p",{className:"text-dark-400 text-xs lg:text-sm mb-1",children:""}),d.jsxs("p",{className:"text-sm lg:text-2xl font-bold text-emerald-400 truncate",children:["+",N(T.income)]})]}),d.jsxs("div",{className:"card !p-3 lg:!p-6",children:[d.jsx("p",{className:"text-dark-400 text-xs lg:text-sm mb-1",children:""}),d.jsxs("p",{className:"text-sm lg:text-2xl font-bold text-rose-400 truncate",children:["-",N(T.expense)]})]}),d.jsxs("div",{className:"card !p-3 lg:!p-6",children:[d.jsx("p",{className:"text-dark-400 text-xs lg:text-sm mb-1",children:""}),d.jsxs("p",{className:`text-sm lg:text-2xl font-bold truncate ${T.balance>=0?"text-emerald-400":"text-rose-400"}`,children:[T.balance>=0?"+":"",N(T.balance)]})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(lb,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-dark-500"}),d.jsx("input",{type:"text",value:x,onChange:j=>_(j.target.value),placeholder:"...",className:"input pl-10 w-full text-sm"})]}),d.jsxs("button",{onClick:Y,className:"btn bg-emerald-500 hover:bg-emerald-600 text-white whitespace-nowrap",children:[d.jsx(kh,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:""})]})]}),d.jsxs("div",{className:"flex items-center gap-1 bg-dark-800 rounded-lg p-1 w-fit",children:[d.jsx("button",{onClick:()=>p("all"),className:`px-3 py-1.5 rounded-md text-xs lg:text-sm transition-colors ${m==="all"?"bg-dark-700 text-dark-100":"text-dark-400 hover:text-dark-200"}`,children:""}),d.jsx("button",{onClick:()=>p("income"),className:`px-3 py-1.5 rounded-md text-xs lg:text-sm transition-colors ${m==="income"?"bg-emerald-500/20 text-emerald-400":"text-dark-400 hover:text-dark-200"}`,children:""}),d.jsx("button",{onClick:()=>p("expense"),className:`px-3 py-1.5 rounded-md text-xs lg:text-sm transition-colors ${m==="expense"?"bg-rose-500/20 text-rose-400":"text-dark-400 hover:text-dark-200"}`,children:""})]})]}),d.jsx("div",{className:"card !p-0 overflow-hidden",children:E.length===0?d.jsx("div",{className:"text-center py-8 lg:py-12 text-dark-500 text-sm",children:x||m!=="all"?"  ":"  "}):d.jsx("div",{className:"divide-y divide-dark-800",children:E.map(j=>d.jsxs("div",{className:"flex items-start lg:items-center gap-3 p-3 lg:p-4 hover:bg-dark-800/50 transition-colors",children:[d.jsx("div",{className:`w-1 h-10 lg:h-12 rounded-full flex-shrink-0 ${j.type==="income"?"bg-emerald-500":"bg-rose-500"}`}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-0.5 lg:mb-1",children:[d.jsx("h3",{className:"font-medium text-dark-100 truncate text-sm lg:text-base",children:j.title}),j.recurrence!=="once"&&d.jsx("span",{className:"px-1.5 lg:px-2 py-0.5 bg-dark-700 rounded-full text-[10px] lg:text-xs text-dark-300 flex-shrink-0",children:zo[j.recurrence]})]}),d.jsxs("div",{className:"flex items-center gap-1 lg:gap-2 text-xs lg:text-sm text-dark-500 flex-wrap",children:[d.jsx("span",{children:dh[j.category]}),d.jsx("span",{className:"hidden sm:inline",children:""}),d.jsx("span",{className:"hidden sm:inline",children:B(j.date)})]})]}),d.jsxs("div",{className:`text-right font-semibold text-sm lg:text-base flex-shrink-0 ${j.type==="income"?"text-emerald-400":"text-rose-400"}`,children:[j.type==="income"?"+":"-",N(j.amount)]}),d.jsxs("div",{className:"flex items-center gap-0.5 flex-shrink-0",children:[d.jsx("button",{onClick:()=>Z(j),className:"p-1.5 lg:p-2 text-dark-500 hover:text-dark-200 transition-colors",title:"",children:d.jsx(Ih,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>ie(j.id,j.title),className:"p-1.5 lg:p-2 text-dark-500 hover:text-rose-400 transition-colors",title:"",children:d.jsx(Ha,{className:"w-4 h-4"})})]})]},j.id))})}),d.jsxs("div",{className:"text-center text-sm text-dark-500",children:[" ",E.length," ",m!=="all"&&` (${m==="income"?"":""})`]}),s&&d.jsx(cb,{transaction:o,onClose:z})]})}function XR(){const{events:i,deleteEvent:e}=dn(),[s,r]=$.useState(!1),[o,u]=$.useState(null),[m,p]=$.useState("all"),[x,_]=$.useState(""),E=$.useMemo(()=>i.filter(j=>{if(m!=="all"&&j.category!==m)return!1;if(x){const M=x.toLowerCase();return j.title.toLowerCase().includes(M)||qi[j.category].toLowerCase().includes(M)||j.description&&j.description.toLowerCase().includes(M)}return!0}).sort((j,M)=>j.date.localeCompare(M.date)),[i,m,x]),T=$.useMemo(()=>{const j={};let M=0;return i.forEach(re=>{j[re.category]=(j[re.category]||0)+1,re.isImportant&&M++}),{categoryCounts:j,importantCount:M,total:i.length}},[i]),N=j=>{const M=new Date(j);return`${M.getFullYear()}.${String(M.getMonth()+1).padStart(2,"0")}.${String(M.getDate()).padStart(2,"0")}`},B=j=>{u(j),r(!0)},Z=()=>{u(null),r(!0)},Y=()=>{r(!1),u(null)},z=(j,M)=>{confirm(`"${M}"  ?`)&&e(j)},ie=["housing","contract","career","family","education","other"];return d.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-2 lg:gap-4",children:[d.jsxs("div",{className:"card !p-3 lg:!p-6",children:[d.jsx("p",{className:"text-dark-400 text-xs lg:text-sm mb-1",children:""}),d.jsxs("p",{className:"text-xl lg:text-2xl font-bold text-dark-100",children:[T.total,""]})]}),d.jsxs("div",{className:"card !p-3 lg:!p-6",children:[d.jsx("p",{className:"text-dark-400 text-xs lg:text-sm mb-1",children:""}),d.jsxs("p",{className:"text-xl lg:text-2xl font-bold text-amber-400",children:[T.importantCount,""]})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(lb,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-dark-500"}),d.jsx("input",{type:"text",value:x,onChange:j=>_(j.target.value),placeholder:"...",className:"input pl-10 w-full text-sm"})]}),d.jsxs("button",{onClick:Z,className:"btn bg-purple-500 hover:bg-purple-600 text-white whitespace-nowrap",children:[d.jsx(kh,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:""})]})]}),d.jsxs("select",{value:m,onChange:j=>p(j.target.value),className:"input py-2 text-sm w-full sm:w-auto",children:[d.jsx("option",{value:"all",children:" "}),ie.map(j=>d.jsx("option",{value:j,children:qi[j]},j))]})]}),d.jsx("div",{className:"card !p-0 overflow-hidden",children:E.length===0?d.jsx("div",{className:"text-center py-8 lg:py-12 text-dark-500 text-sm",children:x||m!=="all"?"  ":"  .  !"}):d.jsx("div",{className:"divide-y divide-dark-800",children:E.map(j=>d.jsxs("div",{className:`flex items-start lg:items-center gap-3 p-3 lg:p-4 hover:bg-dark-800/50 transition-colors ${_g[j.color]}`,children:[d.jsx("div",{className:`w-1 h-10 lg:h-12 rounded-full flex-shrink-0 ${La[j.color]}`}),d.jsx("div",{className:`hidden sm:flex w-10 h-10 rounded-xl items-center justify-center flex-shrink-0 ${La[j.color]}/20`,children:j.isImportant?d.jsx(nl,{className:"w-5 h-5 text-amber-400 fill-amber-400"}):d.jsx(Ka,{className:"w-5 h-5 text-dark-300"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-1.5 lg:gap-2 mb-0.5 lg:mb-1 flex-wrap",children:[d.jsx("h3",{className:"font-medium text-dark-100 truncate text-sm lg:text-base",children:j.title}),j.isImportant&&d.jsx(nl,{className:"w-3.5 h-3.5 text-amber-400 fill-amber-400 sm:hidden flex-shrink-0"}),d.jsx("span",{className:`hidden sm:inline px-2 py-0.5 rounded-full text-xs ${La[j.color]}/20 text-dark-300`,children:qi[j.category]}),j.isImportant&&d.jsx("span",{className:"hidden sm:inline px-2 py-0.5 bg-amber-500/20 rounded-full text-xs text-amber-400",children:""})]}),d.jsxs("div",{className:"flex items-center gap-1 lg:gap-2 text-xs lg:text-sm text-dark-500 flex-wrap",children:[d.jsx("span",{children:N(j.date)}),d.jsxs("span",{className:"sm:hidden",children:[" ",qi[j.category]]}),j.description&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"hidden sm:inline",children:""}),d.jsx("span",{className:"hidden sm:inline truncate max-w-[300px]",children:j.description})]})]})]}),d.jsxs("div",{className:"flex items-center gap-0.5 flex-shrink-0",children:[d.jsx("button",{onClick:()=>B(j),className:"p-1.5 lg:p-2 text-dark-500 hover:text-dark-200 transition-colors",title:"",children:d.jsx(Ih,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>z(j.id,j.title),className:"p-1.5 lg:p-2 text-dark-500 hover:text-rose-400 transition-colors",title:"",children:d.jsx(Ha,{className:"w-4 h-4"})})]})]},j.id))})}),d.jsxs("div",{className:"text-center text-sm text-dark-500",children:[" ",E.length," ",m!=="all"&&` (${qi[m]})`]}),s&&d.jsx(ub,{event:o,onClose:Y})]})}const w_=["equal_principal_interest","equal_principal","bullet"];function ZR({loan:i,onClose:e}){const{addLoan:s,updateLoan:r}=dn(),[o,u]=$.useState(""),[m,p]=$.useState(""),[x,_]=$.useState(""),[E,T]=$.useState("equal_principal_interest"),[N,B]=$.useState(""),[Z,Y]=$.useState(""),[z,ie]=$.useState(""),[j,M]=$.useState("25"),[re,X]=$.useState(""),[ae,I]=$.useState(!1);$.useEffect(()=>{if(i)u(i.name),p(String(i.principal)),_(String(i.interestRate)),T(i.repaymentType),Y(String(Math.floor(i.termMonths/12))),B(String(i.termMonths%12)),ie(i.startDate),M(String(i.paymentDay)),X(i.memo||"");else{const w=new Date;ie(`${w.getFullYear()}-${String(w.getMonth()+1).padStart(2,"0")}-01`)}},[i]);const A=w=>{if(w.preventDefault(),!o.trim()||!m||!x||!z)return;const L=(parseInt(Z)||0)*12+(parseInt(N)||0);if(L<=0)return;const C={id:i?.id||Dh(),name:o.trim(),principal:Number(m),interestRate:Number(x),repaymentType:E,termMonths:L,startDate:z,paymentDay:parseInt(j)||25,memo:re.trim()||void 0,createdAt:i?.createdAt||new Date().toISOString()};i?r(i.id,C):s(C),e()},V=(()=>{const w=Number(m),L=Number(x)/100/12,C=(parseInt(Z)||0)*12+(parseInt(N)||0);if(!w||!C)return null;if(E==="equal_principal_interest")return Math.round(L===0?w/C:w*L*Math.pow(1+L,C)/(Math.pow(1+L,C)-1));if(E==="equal_principal"){const oe=w/C,ue=w*L;return Math.round(oe+ue)}else return Math.round(w*L)})();return d.jsx("div",{className:"fixed inset-0 bg-dark-950/80 backdrop-blur-sm flex items-end sm:items-center justify-center z-50 p-0 sm:p-4",children:d.jsxs("div",{className:"card w-full sm:max-w-lg max-h-[85vh] sm:max-h-[90vh] overflow-y-auto rounded-b-none sm:rounded-b-2xl",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:[d.jsx("h3",{className:"text-lg lg:text-xl font-bold text-dark-100",children:i?" ":"  "}),d.jsx("button",{onClick:e,className:"btn btn-ghost p-2",children:d.jsx(Wo,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:A,className:"space-y-3 lg:space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:" *"}),d.jsx("input",{type:"text",value:o,onChange:w=>u(w.target.value),placeholder:": , ",className:"input text-sm lg:text-base",autoFocus:!0})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 lg:gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:"  *"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",value:m,onChange:w=>p(w.target.value),placeholder:"0",className:"input pr-10 text-sm lg:text-base",min:"0"}),d.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-dark-400 text-xs lg:text-sm",children:""})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:" *"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",value:x,onChange:w=>_(w.target.value),placeholder:"0.0",className:"input pr-10 text-sm lg:text-base",min:"0",step:"0.01"}),d.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-dark-400 text-xs lg:text-sm",children:"%"})]})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1.5 lg:mb-2",children:[d.jsx("label",{className:"text-xs lg:text-sm font-medium text-dark-300",children:" "}),d.jsx("button",{type:"button",onClick:()=>I(!ae),className:"text-dark-500 hover:text-dark-300",children:d.jsx(yg,{className:"w-3.5 h-3.5 lg:w-4 lg:h-4"})})]}),ae&&d.jsx("div",{className:"mb-2 lg:mb-3 p-2 lg:p-3 bg-dark-800/50 rounded-lg text-xs lg:text-sm space-y-1.5 lg:space-y-2",children:w_.map(w=>d.jsxs("div",{children:[d.jsx("span",{className:"text-dark-200 font-medium",children:Sm[w]}),d.jsx("p",{className:"text-dark-400 text-[10px] lg:text-xs",children:OR[w]})]},w))}),d.jsx("select",{value:E,onChange:w=>T(w.target.value),className:"input text-sm lg:text-base",children:w_.map(w=>d.jsx("option",{value:w,children:Sm[w]},w))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:"  *"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 lg:gap-3",children:[d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",value:Z,onChange:w=>Y(w.target.value),placeholder:"0",className:"input pr-10 text-sm lg:text-base",min:"0"}),d.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-dark-400 text-xs lg:text-sm",children:""})]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",value:N,onChange:w=>B(w.target.value),placeholder:"0",className:"input pr-10 text-sm lg:text-base",min:"0",max:"11"}),d.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-dark-400 text-xs lg:text-sm",children:""})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 lg:gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:"  *"}),d.jsx("input",{type:"date",value:z,onChange:w=>ie(w.target.value),className:"input text-sm lg:text-base"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:" "}),d.jsx("select",{value:j,onChange:w=>M(w.target.value),className:"input text-sm lg:text-base",children:Array.from({length:28},(w,L)=>L+1).map(w=>d.jsxs("option",{value:w,children:[w,""]},w))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),d.jsx("textarea",{value:re,onChange:w=>X(w.target.value),placeholder:"  ()",className:"input min-h-[50px] lg:min-h-[60px] resize-none text-sm lg:text-base"})]}),V&&d.jsxs("div",{className:"p-3 lg:p-4 bg-blue-500/10 border border-blue-500/20 rounded-xl",children:[d.jsx("p",{className:"text-xs lg:text-sm text-dark-400 mb-1",children:"  "}),d.jsxs("p",{className:"text-lg lg:text-xl font-bold text-blue-400",children:[new Intl.NumberFormat("ko-KR").format(V),""]}),E==="equal_principal"&&d.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mt-1",children:"*    (  )"}),E==="bullet"&&d.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mt-1",children:"*  (   )"})]}),d.jsxs("div",{className:"flex gap-2 lg:gap-3 pt-3 lg:pt-4",children:[d.jsx("button",{type:"button",onClick:e,className:"btn btn-secondary flex-1 text-sm lg:text-base",children:""}),d.jsx("button",{type:"submit",className:"btn bg-blue-500 hover:bg-blue-600 text-white flex-1 text-sm lg:text-base",children:i?"":""})]})]})]})})}function JR(){const{loans:i,deleteLoan:e,getLoanPaymentsForMonth:s,currentYear:r,currentMonth:o}=dn(),[u,m]=$.useState(!1),[p,x]=$.useState(null),_=Y=>{x(Y),m(!0)},E=()=>{m(!1),x(null)},T=(Y,z)=>{confirm(`"${z}"  ?`)&&e(Y)},N=Y=>new Intl.NumberFormat("ko-KR").format(Y),B=$.useMemo(()=>s(r,o),[s,r,o]),Z=$.useMemo(()=>{const Y=i.reduce((re,X)=>re+X.principal,0),z=B,ie=z.reduce((re,X)=>re+X.totalPayment,0),j=z.reduce((re,X)=>re+X.interest,0),M=z.reduce((re,X)=>re+X.remainingPrincipal,0);return{totalPrincipal:Y,totalMonthlyPayment:ie,totalInterest:j,totalRemainingPrincipal:M}},[i,B]);return d.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 lg:gap-4",children:[d.jsxs("div",{className:"card !p-3 lg:!p-6",children:[d.jsx("p",{className:"text-xs lg:text-sm text-dark-400 mb-1",children:"  "}),d.jsx("p",{className:"text-sm lg:text-2xl font-bold text-dark-100 truncate",children:N(Z.totalPrincipal)})]}),d.jsxs("div",{className:"card !p-3 lg:!p-6",children:[d.jsx("p",{className:"text-xs lg:text-sm text-dark-400 mb-1",children:"  "}),d.jsx("p",{className:"text-sm lg:text-2xl font-bold text-blue-400 truncate",children:N(Z.totalMonthlyPayment)})]}),d.jsxs("div",{className:"card !p-3 lg:!p-6",children:[d.jsx("p",{className:"text-xs lg:text-sm text-dark-400 mb-1",children:"  "}),d.jsx("p",{className:"text-sm lg:text-2xl font-bold text-rose-400 truncate",children:N(Z.totalInterest)})]}),d.jsxs("div",{className:"card !p-3 lg:!p-6",children:[d.jsx("p",{className:"text-xs lg:text-sm text-dark-400 mb-1",children:" "}),d.jsx("p",{className:"text-sm lg:text-2xl font-bold text-amber-400 truncate",children:N(Z.totalRemainingPrincipal)})]})]}),d.jsxs("div",{className:"card !p-3 lg:!p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3 lg:mb-4",children:[d.jsx("h3",{className:"text-base lg:text-lg font-semibold text-dark-100",children:" "}),d.jsxs("button",{onClick:()=>m(!0),className:"btn bg-blue-500 hover:bg-blue-600 text-white text-xs lg:text-sm py-1.5 px-2 lg:py-2 lg:px-3",children:[d.jsx(kh,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:" "}),d.jsx("span",{className:"sm:hidden",children:""})]})]}),i.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center py-8 lg:py-12 text-dark-500",children:[d.jsx(tl,{className:"w-12 h-12 lg:w-16 lg:h-16 mb-3 lg:mb-4 opacity-50"}),d.jsx("p",{className:"text-sm lg:text-lg mb-2",children:"  "}),d.jsx("p",{className:"text-xs lg:text-sm mb-4 text-center px-4",children:"      "}),d.jsx("button",{onClick:()=>m(!0),className:"btn bg-blue-500 hover:bg-blue-600 text-white text-sm",children:"  "})]}):d.jsx("div",{className:"space-y-3 lg:space-y-4",children:i.map(Y=>{const z=B.find(M=>M.loanId===Y.id),ie=new Date(Y.startDate),j=new Date(ie);return j.setMonth(j.getMonth()+Y.termMonths),d.jsxs("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl border border-dark-700 hover:border-dark-600 transition-all",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2 lg:mb-3",children:[d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("h4",{className:"text-sm lg:text-lg font-semibold text-dark-100 truncate",children:Y.name}),d.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:Sm[Y.repaymentType]})]}),d.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[d.jsx("button",{onClick:()=>_(Y),className:"p-1.5 lg:p-2 text-dark-400 hover:text-dark-100 transition-colors",children:d.jsx(Ih,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>T(Y.id,Y.name),className:"p-1.5 lg:p-2 text-dark-400 hover:text-rose-400 transition-colors",children:d.jsx(Ha,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 lg:gap-4 mb-3 lg:mb-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mb-0.5 lg:mb-1",children:" "}),d.jsx("p",{className:"text-xs lg:text-base font-medium text-dark-200 truncate",children:N(Y.principal)})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mb-0.5 lg:mb-1",children:""}),d.jsxs("p",{className:"text-xs lg:text-base font-medium text-dark-200 flex items-center gap-1",children:[d.jsx(ZC,{className:"w-3 h-3 hidden lg:inline"}),Y.interestRate,"%"]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mb-0.5 lg:mb-1",children:" "}),d.jsxs("p",{className:"text-xs lg:text-base font-medium text-dark-200 flex items-center gap-1",children:[d.jsx(AC,{className:"w-3 h-3 hidden lg:inline"}),Math.floor(Y.termMonths/12)," ",Y.termMonths%12,""]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mb-0.5 lg:mb-1",children:"~"}),d.jsxs("p",{className:"text-xs lg:text-base font-medium text-dark-200 flex items-center gap-1",children:[d.jsx(Ka,{className:"w-3 h-3 hidden lg:inline"}),d.jsxs("span",{className:"truncate",children:[ie.getFullYear(),".",ie.getMonth()+1," ~ ",j.getFullYear(),".",j.getMonth()+1]})]})]})]}),z&&d.jsxs("div",{className:"p-2 lg:p-3 bg-dark-900/50 rounded-lg",children:[d.jsxs("p",{className:"text-[10px] lg:text-xs text-dark-500 mb-1.5 lg:mb-2",children:[r," ",o,"  (",z.monthNumber,")"]}),d.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 lg:gap-4 text-xs lg:text-sm",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-dark-500 text-[10px] lg:text-xs",children:""}),d.jsx("p",{className:"font-medium text-dark-300 truncate",children:N(z.principal)})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-dark-500 text-[10px] lg:text-xs",children:""}),d.jsx("p",{className:"font-medium text-rose-400 truncate",children:N(z.interest)})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-dark-500 text-[10px] lg:text-xs",children:" "}),d.jsx("p",{className:"font-medium text-blue-400 truncate",children:N(z.totalPayment)})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-dark-500 text-[10px] lg:text-xs",children:" "}),d.jsx("p",{className:"font-medium text-amber-400 truncate",children:N(z.remainingPrincipal)})]})]})]}),Y.memo&&d.jsx("p",{className:"mt-2 lg:mt-3 text-xs lg:text-sm text-dark-500",children:Y.memo})]},Y.id)})})]}),u&&d.jsx(ZR,{loan:p,onClose:E})]})}const WR=["real_estate","vehicle","savings","investment","other_asset"];function e3({asset:i,onClose:e}){const{addAsset:s,updateAsset:r}=dn(),[o,u]=$.useState(""),[m,p]=$.useState("real_estate"),[x,_]=$.useState(""),[E,T]=$.useState(""),[N,B]=$.useState(""),[Z,Y]=$.useState(""),[z,ie]=$.useState("");$.useEffect(()=>{i&&(u(i.name),p(i.category),_(String(i.purchaseValue)),T(String(i.currentValue)),B(i.purchaseDate||""),Y(i.description||""),ie(i.memo||""))},[i]);const j=X=>{if(X.preventDefault(),!o.trim()||!x||!E)return;const ae={id:i?.id||Dh(),name:o.trim(),category:m,purchaseValue:Number(x),currentValue:Number(E),purchaseDate:N||void 0,description:Z.trim()||void 0,memo:z.trim()||void 0,createdAt:i?.createdAt||new Date().toISOString()};i?r(i.id,ae):s(ae),e()},M=Number(E||0)-Number(x||0),re=Number(x)>0?(M/Number(x)*100).toFixed(1):"0";return d.jsx("div",{className:"fixed inset-0 bg-dark-950/80 backdrop-blur-sm flex items-end sm:items-center justify-center z-50 p-0 sm:p-4",children:d.jsxs("div",{className:"card w-full sm:max-w-lg max-h-[85vh] sm:max-h-[90vh] overflow-y-auto rounded-b-none sm:rounded-b-2xl",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:[d.jsx("h3",{className:"text-lg lg:text-xl font-bold text-dark-100",children:i?" ":"  "}),d.jsx("button",{onClick:e,className:"btn btn-ghost p-2",children:d.jsx(Wo,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:j,className:"space-y-3 lg:space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:" *"}),d.jsx("input",{type:"text",value:o,onChange:X=>u(X.target.value),placeholder:":  ,  3",className:"input text-sm lg:text-base",autoFocus:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),d.jsx("select",{value:m,onChange:X=>p(X.target.value),className:"input text-sm lg:text-base",children:WR.map(X=>d.jsx("option",{value:X,children:Am[X]},X))})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 lg:gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:" *"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",value:x,onChange:X=>_(X.target.value),placeholder:"0",className:"input pr-10 text-sm lg:text-base",min:"0"}),d.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-dark-400 text-xs lg:text-sm",children:""})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:"  *"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",value:E,onChange:X=>T(X.target.value),placeholder:"0",className:"input pr-10 text-sm lg:text-base",min:"0"}),d.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-dark-400 text-xs lg:text-sm",children:""})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),d.jsx("input",{type:"date",value:N,onChange:X=>B(X.target.value),className:"input text-sm lg:text-base",placeholder:""})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),d.jsx("input",{type:"text",value:Z,onChange:X=>Y(X.target.value),placeholder:":   , 2023",className:"input text-sm lg:text-base"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),d.jsx("textarea",{value:z,onChange:X=>ie(X.target.value),placeholder:"  ()",className:"input min-h-[50px] lg:min-h-[60px] resize-none text-sm lg:text-base"})]}),x&&E&&d.jsxs("div",{className:`p-3 lg:p-4 rounded-xl ${M>=0?"bg-emerald-500/10 border border-emerald-500/20":"bg-rose-500/10 border border-rose-500/20"}`,children:[d.jsx("p",{className:"text-xs lg:text-sm text-dark-400 mb-1",children:" "}),d.jsxs("p",{className:`text-lg lg:text-xl font-bold ${M>=0?"text-emerald-400":"text-rose-400"}`,children:[M>=0?"+":"",new Intl.NumberFormat("ko-KR").format(M),"",d.jsxs("span",{className:"text-sm lg:text-base ml-2",children:["(",M>=0?"+":"",re,"%)"]})]})]}),d.jsxs("div",{className:"flex gap-2 lg:gap-3 pt-3 lg:pt-4",children:[d.jsx("button",{type:"button",onClick:e,className:"btn btn-secondary flex-1 text-sm lg:text-base",children:""}),d.jsx("button",{type:"submit",className:"btn bg-emerald-500 hover:bg-emerald-600 text-white flex-1 text-sm lg:text-base",children:i?"":""})]})]})]})})}const C_={real_estate:Zo,vehicle:J1,savings:ib,investment:Jo,other_asset:KC};function t3(){const{assets:i,deleteAsset:e,getTotalAssetValue:s,getTotalLoanBalance:r,getNetWorth:o}=dn(),[u,m]=$.useState(!1),[p,x]=$.useState(null),_=j=>{x(j),m(!0)},E=()=>{m(!1),x(null)},T=(j,M)=>{confirm(`"${M}"  ?`)&&e(j)},N=j=>new Intl.NumberFormat("ko-KR").format(j),B=$.useMemo(()=>{const j={real_estate:[],vehicle:[],savings:[],investment:[],other_asset:[]};return i.forEach(M=>{j[M.category].push(M)}),j},[i]),Z=$.useMemo(()=>{const j={real_estate:0,vehicle:0,savings:0,investment:0,other_asset:0};return i.forEach(M=>{j[M.category]+=M.currentValue}),j},[i]),Y=s(),z=r(),ie=o();return d.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-2 lg:gap-4",children:[d.jsxs("div",{className:"card !p-4 lg:!p-6 bg-gradient-to-br from-emerald-500/10 to-teal-500/10 border-emerald-500/20",children:[d.jsx("p",{className:"text-xs lg:text-sm text-dark-400 mb-1",children:" "}),d.jsxs("p",{className:"text-lg lg:text-3xl font-bold text-emerald-400 truncate",children:[N(Y),""]})]}),d.jsxs("div",{className:"card !p-4 lg:!p-6 bg-gradient-to-br from-rose-500/10 to-pink-500/10 border-rose-500/20",children:[d.jsx("p",{className:"text-xs lg:text-sm text-dark-400 mb-1",children:"  ( )"}),d.jsxs("p",{className:"text-lg lg:text-3xl font-bold text-rose-400 truncate",children:[N(z),""]})]}),d.jsxs("div",{className:`card !p-4 lg:!p-6 ${ie>=0?"bg-gradient-to-br from-blue-500/10 to-violet-500/10 border-blue-500/20":"bg-gradient-to-br from-amber-500/10 to-orange-500/10 border-amber-500/20"}`,children:[d.jsx("p",{className:"text-xs lg:text-sm text-dark-400 mb-1",children:""}),d.jsxs("p",{className:`text-lg lg:text-3xl font-bold truncate ${ie>=0?"text-blue-400":"text-amber-400"}`,children:[ie<0&&"-",N(Math.abs(ie)),""]})]})]}),d.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-2 lg:gap-3",children:Object.keys(Z).map(j=>{const M=C_[j],re=Z[j];return d.jsxs("div",{className:"card !p-3 lg:!p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[d.jsx(M,{className:"w-4 h-4 text-dark-400"}),d.jsx("p",{className:"text-xs text-dark-400",children:Am[j]})]}),d.jsx("p",{className:"text-sm lg:text-lg font-semibold text-dark-100 truncate",children:N(re)})]},j)})}),d.jsxs("div",{className:"card !p-3 lg:!p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3 lg:mb-4",children:[d.jsx("h3",{className:"text-base lg:text-lg font-semibold text-dark-100",children:" "}),d.jsxs("button",{onClick:()=>m(!0),className:"btn bg-emerald-500 hover:bg-emerald-600 text-white text-xs lg:text-sm py-1.5 px-2 lg:py-2 lg:px-3",children:[d.jsx(kh,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:" "}),d.jsx("span",{className:"sm:hidden",children:""})]})]}),i.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center py-8 lg:py-12 text-dark-500",children:[d.jsx(Zo,{className:"w-12 h-12 lg:w-16 lg:h-16 mb-3 lg:mb-4 opacity-50"}),d.jsx("p",{className:"text-sm lg:text-lg mb-2",children:"  "}),d.jsx("p",{className:"text-xs lg:text-sm mb-4 text-center px-4",children:", ,     "}),d.jsx("button",{onClick:()=>m(!0),className:"btn bg-emerald-500 hover:bg-emerald-600 text-white text-sm",children:"  "})]}):d.jsx("div",{className:"space-y-3 lg:space-y-4",children:Object.keys(B).map(j=>{const M=B[j];if(M.length===0)return null;const re=C_[j];return d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2 lg:mb-3",children:[d.jsx(re,{className:"w-4 h-4 text-dark-400"}),d.jsx("h4",{className:"text-sm lg:text-base font-medium text-dark-300",children:Am[j]}),d.jsxs("span",{className:"text-xs text-dark-500",children:["(",M.length,")"]})]}),d.jsx("div",{className:"space-y-2 lg:space-y-3",children:M.map(X=>{const ae=X.purchaseDate?new Date(X.purchaseDate):null,I=X.currentValue-X.purchaseValue,A=X.purchaseValue>0?(I/X.purchaseValue*100).toFixed(1):"0";return d.jsxs("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl border border-dark-700 hover:border-dark-600 transition-all",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2 lg:mb-3",children:[d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("h5",{className:"text-sm lg:text-lg font-semibold text-dark-100 truncate",children:X.name}),X.description&&d.jsx("p",{className:"text-xs lg:text-sm text-dark-400 truncate",children:X.description})]}),d.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[d.jsx("button",{onClick:()=>_(X),className:"p-1.5 lg:p-2 text-dark-400 hover:text-dark-100 transition-colors",children:d.jsx(Ih,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>T(X.id,X.name),className:"p-1.5 lg:p-2 text-dark-400 hover:text-rose-400 transition-colors",children:d.jsx(Ha,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{className:`grid gap-2 lg:gap-4 ${ae?"grid-cols-2 lg:grid-cols-4":"grid-cols-3"}`,children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mb-0.5 lg:mb-1",children:""}),d.jsx("p",{className:"text-xs lg:text-base font-medium text-dark-300 truncate",children:N(X.purchaseValue)})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mb-0.5 lg:mb-1",children:" "}),d.jsx("p",{className:"text-xs lg:text-base font-medium text-emerald-400 truncate",children:N(X.currentValue)})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mb-0.5 lg:mb-1",children:""}),d.jsxs("p",{className:`text-xs lg:text-base font-medium truncate ${I>=0?"text-emerald-400":"text-rose-400"}`,children:[I>=0?"+":"",N(I)," (",I>=0?"+":"",A,"%)"]})]}),ae&&d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mb-0.5 lg:mb-1",children:""}),d.jsxs("p",{className:"text-xs lg:text-base font-medium text-dark-300 flex items-center gap-1",children:[d.jsx(Ka,{className:"w-3 h-3 hidden lg:inline"}),ae.getFullYear(),".",ae.getMonth()+1,".",ae.getDate()]})]})]}),X.memo&&d.jsx("p",{className:"mt-2 lg:mt-3 text-xs lg:text-sm text-dark-500",children:X.memo})]},X.id)})})]},j)})})]}),u&&d.jsx(e3,{asset:p,onClose:E})]})}function n3(){const{currentYear:i,currentMonth:e,getMultiMonthSummaries:s,transactions:r,events:o,getTotalAssetValue:u,getTotalLoanBalance:m,getNetWorth:p,assets:x}=dn(),_=u(),E=m(),T=p(),N=$.useMemo(()=>{const X=[5,10,15,20,25,30],ae=[];return X.forEach(I=>{const A=I*12;let R=0,V=0,w=i,L=e;for(let C=0;C<A;C++){const oe=s(w,L,1)[0];oe&&(R+=oe.totalExpense,V+=oe.totalIncome),L++,L>12&&(L=1,w++)}ae.push({years:I,totalExpense:R,totalIncome:V,balance:V-R})}),ae},[i,e,s]),[B,Z]=$.useState(3),Y=$.useRef(null),z=$.useCallback(X=>{X[0].isIntersecting&&Z(I=>I+2)},[]);$.useEffect(()=>{const X={root:null,rootMargin:"100px",threshold:0},ae=new IntersectionObserver(z,X);return Y.current&&ae.observe(Y.current),()=>ae.disconnect()},[z]);const ie=()=>{const X=[];for(let ae=0;ae<B;ae++)X.push(i+ae);return X},j=X=>new Intl.NumberFormat("ko-KR").format(X),M={salary:"",bonus:"",other_income:" ",rent:"/",insurance:"",subscription:"",utilities:"",transport:"",food:"",shopping:"",travel:"",education:"",medical:"",other_expense:" "},re=X=>X>=1e8?`${(X/1e8).toFixed(1)}`:X>=1e7?`${(X/1e7).toFixed(1)}`:X>=1e4?`${Math.round(X/1e4)}`:j(X);return d.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[(_>0||E>0)&&d.jsxs("div",{className:"card !p-4 lg:!p-6 bg-gradient-to-br from-blue-500/5 to-violet-500/5 border-blue-500/20",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/20 flex items-center justify-center",children:d.jsx(hh,{className:"w-5 h-5 text-blue-400"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-base lg:text-lg font-bold text-dark-100",children:" "}),d.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:" -  = "})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3 lg:gap-4",children:[d.jsxs("div",{className:"p-4 bg-dark-800/50 rounded-xl border border-dark-700",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Zo,{className:"w-4 h-4 text-emerald-400"}),d.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:" "})]}),d.jsxs("p",{className:"text-lg lg:text-2xl font-bold text-emerald-400",children:[j(_),""]}),d.jsxs("p",{className:"text-[10px] lg:text-xs text-dark-500 mt-1",children:[x.length,"  "]})]}),d.jsxs("div",{className:"p-4 bg-dark-800/50 rounded-xl border border-dark-700",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(tl,{className:"w-4 h-4 text-rose-400"}),d.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:"  ( )"})]}),d.jsxs("p",{className:"text-lg lg:text-2xl font-bold text-rose-400",children:[j(E),""]}),d.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mt-1",children:"   "})]}),d.jsxs("div",{className:`p-4 rounded-xl border ${T>=0?"bg-blue-500/10 border-blue-500/30":"bg-amber-500/10 border-amber-500/30"}`,children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(hh,{className:"w-4 h-4 text-blue-400"}),d.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:""})]}),d.jsxs("p",{className:`text-lg lg:text-2xl font-bold ${T>=0?"text-blue-400":"text-amber-400"}`,children:[T<0&&"-",j(Math.abs(T)),""]}),d.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mt-1",children:" - "})]})]})]}),d.jsxs("div",{className:"card !p-4 lg:!p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-500/20 flex items-center justify-center",children:d.jsx(gR,{className:"w-5 h-5 text-violet-400"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-base lg:text-lg font-bold text-dark-100",children:"  "}),d.jsxs("p",{className:"text-xs lg:text-sm text-dark-400",children:[i," ",e,"  "]})]})]}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-2 lg:gap-3",children:N.map(X=>d.jsx("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl border border-dark-700",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("p",{className:"text-xs lg:text-sm text-violet-400 font-medium mb-1",children:[X.years," "]}),d.jsxs("p",{className:"text-[10px] lg:text-xs text-dark-500 mb-2",children:["~",i+X.years,""]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] text-dark-500",children:" "}),d.jsx("p",{className:"text-sm lg:text-base font-bold text-rose-400",children:re(X.totalExpense)})]}),d.jsxs("div",{className:"border-t border-dark-700 pt-1",children:[d.jsx("p",{className:"text-[10px] text-dark-500",children:" "}),d.jsx("p",{className:"text-xs lg:text-sm font-medium text-emerald-400",children:re(X.totalIncome)})]}),d.jsxs("div",{className:"border-t border-dark-700 pt-1",children:[d.jsx("p",{className:"text-[10px] text-dark-500",children:""}),d.jsxs("p",{className:`text-xs lg:text-sm font-medium ${X.balance>=0?"text-blue-400":"text-rose-400"}`,children:[X.balance>=0?"+":"",re(X.balance)]})]})]})]})},X.years))}),d.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mt-3 text-center",children:"*         "})]}),ie().map(X=>d.jsx(s3,{year:X,getMultiMonthSummaries:s,transactions:r,events:o,formatAmount:j,categoryLabels:M},X)),d.jsx("div",{ref:Y,className:"flex justify-center py-8",children:d.jsx("div",{className:"text-dark-500 text-sm",children:"  ..."})})]})}function s3({year:i,getMultiMonthSummaries:e,transactions:s,events:r,formatAmount:o,categoryLabels:u}){const m=$.useMemo(()=>e(i,1,12),[e,i]),p=$.useMemo(()=>m.reduce((T,N)=>({income:T.income+N.totalIncome,expense:T.expense+N.totalExpense,balance:T.balance+N.balance}),{income:0,expense:0,balance:0}),[m]),x=$.useMemo(()=>r.filter(T=>new Date(T.date).getFullYear()===i).length,[r,i]),_=$.useMemo(()=>{const T={};return s.filter(N=>N.type==="expense").forEach(N=>{let B=N.amount;N.recurrence==="monthly"&&(B*=12),T[N.category]=(T[N.category]||0)+B}),Object.entries(T).sort((N,B)=>B[1]-N[1]).slice(0,5)},[s]),E=p.income>0||p.expense>0||x>0;return d.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-2 lg:gap-3 pb-2 border-b border-dark-800",children:[d.jsxs("h2",{className:"text-xl lg:text-2xl font-bold text-dark-100",children:[i," "]}),x>0&&d.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-purple-500/20 rounded-full text-[10px] lg:text-xs text-purple-400",children:[d.jsx(Po,{className:"w-3 h-3"}),x]})]}),E?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-3 gap-2 lg:gap-4",children:[d.jsxs("div",{className:"card !p-3 lg:!p-6",children:[d.jsxs("div",{className:"flex items-center gap-2 lg:gap-3 mb-2 lg:mb-3",children:[d.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 rounded-xl bg-emerald-500/20 flex items-center justify-center flex-shrink-0",children:d.jsx(Jo,{className:"w-4 h-4 lg:w-5 lg:h-5 text-emerald-400"})}),d.jsx("span",{className:"text-dark-400 text-xs lg:text-base hidden sm:inline",children:"  "}),d.jsx("span",{className:"text-dark-400 text-xs sm:hidden",children:""})]}),d.jsxs("p",{className:"text-sm lg:text-2xl font-bold text-emerald-400 truncate",children:["+",o(p.income)]})]}),d.jsxs("div",{className:"card !p-3 lg:!p-6",children:[d.jsxs("div",{className:"flex items-center gap-2 lg:gap-3 mb-2 lg:mb-3",children:[d.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 rounded-xl bg-rose-500/20 flex items-center justify-center flex-shrink-0",children:d.jsx(jh,{className:"w-4 h-4 lg:w-5 lg:h-5 text-rose-400"})}),d.jsx("span",{className:"text-dark-400 text-xs lg:text-base hidden sm:inline",children:"  "}),d.jsx("span",{className:"text-dark-400 text-xs sm:hidden",children:""})]}),d.jsxs("p",{className:"text-sm lg:text-2xl font-bold text-rose-400 truncate",children:["-",o(p.expense)]})]}),d.jsxs("div",{className:"card !p-3 lg:!p-6",children:[d.jsxs("div",{className:"flex items-center gap-2 lg:gap-3 mb-2 lg:mb-3",children:[d.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 rounded-xl bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:d.jsx(hh,{className:"w-4 h-4 lg:w-5 lg:h-5 text-blue-400"})}),d.jsx("span",{className:"text-dark-400 text-xs lg:text-base hidden sm:inline",children:" "}),d.jsx("span",{className:"text-dark-400 text-xs sm:hidden",children:""})]}),d.jsxs("p",{className:`text-sm lg:text-2xl font-bold truncate ${p.balance>=0?"text-emerald-400":"text-rose-400"}`,children:[p.balance>=0?"+":"",o(p.balance)]})]})]}),d.jsxs("div",{className:"card !p-3 lg:!p-6",children:[d.jsx("h3",{className:"text-base lg:text-lg font-semibold text-dark-100 mb-3 lg:mb-4",children:" "}),d.jsx("div",{className:"space-y-2 lg:space-y-3",children:m.map(T=>{const N=Math.max(...m.map(Y=>Math.max(Y.totalIncome,Y.totalExpense))),B=N>0?T.totalIncome/N*100:0,Z=N>0?T.totalExpense/N*100:0;return d.jsxs("div",{className:"flex items-center gap-2 lg:gap-4",children:[d.jsxs("div",{className:"w-8 lg:w-12 text-xs lg:text-sm font-medium text-dark-300",children:[T.month,""]}),d.jsxs("div",{className:"flex-1 space-y-1",children:[d.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[d.jsx("div",{className:"h-3 lg:h-4 bg-emerald-500/60 rounded",style:{width:`${B}%`,minWidth:T.totalIncome>0?"4px":"0"}}),d.jsxs("span",{className:"text-[10px] lg:text-xs text-emerald-400 min-w-[50px] lg:min-w-[80px]",children:["+",o(T.totalIncome)]})]}),d.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[d.jsx("div",{className:"h-3 lg:h-4 bg-rose-500/60 rounded",style:{width:`${Z}%`,minWidth:T.totalExpense>0?"4px":"0"}}),d.jsxs("span",{className:"text-[10px] lg:text-xs text-rose-400 min-w-[50px] lg:min-w-[80px]",children:["-",o(T.totalExpense)]})]})]}),d.jsxs("div",{className:`w-16 lg:w-24 text-right text-[10px] lg:text-sm font-medium ${T.balance>=0?"text-emerald-400":"text-rose-400"}`,children:[T.balance>=0?"+":"",o(T.balance)]})]},T.month)})})]}),_.length>0&&d.jsxs("div",{className:"card !p-3 lg:!p-6",children:[d.jsx("h3",{className:"text-base lg:text-lg font-semibold text-dark-100 mb-3 lg:mb-4",children:"  "}),d.jsx("div",{className:"space-y-2 lg:space-y-3",children:_.map(([T,N],B)=>{const Z=_[0][1],Y=N/Z*100;return d.jsxs("div",{className:"flex items-center gap-2 lg:gap-4",children:[d.jsx("div",{className:"w-5 lg:w-6 text-xs lg:text-sm font-medium text-dark-500",children:B+1}),d.jsx("div",{className:"w-16 lg:w-24 text-xs lg:text-sm text-dark-200 truncate",children:u[T]||T}),d.jsx("div",{className:"flex-1",children:d.jsx("div",{className:"h-5 lg:h-6 bg-rose-500/40 rounded flex items-center px-2",style:{width:`${Y}%`,minWidth:"50px"},children:d.jsx("span",{className:"text-[10px] lg:text-xs text-rose-200 whitespace-nowrap",children:o(N)})})})]},T)})})]})]}):d.jsx("div",{className:"card text-center py-8 lg:py-12",children:d.jsx("p",{className:"text-dark-500 text-sm lg:text-base",children:"    "})})]})}function i3(){const{transactions:i,loans:e,events:s,isSyncing:r,lastSyncTime:o,saveToFirestore:u}=dn(),{user:m,loading:p,signInWithGoogle:x,logout:_}=Rh(),[E,T]=$.useState(!1),[N,B]=$.useState(null),Z=async()=>{try{B(null),await x()}catch(ae){B(" .  ."),console.error(ae)}},Y=async()=>{try{await _()}catch(ae){console.error(ae)}},z=async()=>{try{await u(),alert(" !")}catch(ae){alert(" ."),console.error(ae)}},ie=()=>{const ae={transactions:i,loans:e,events:s,exportedAt:new Date().toISOString()},I=new Blob([JSON.stringify(ae,null,2)],{type:"application/json"}),A=URL.createObjectURL(I),R=document.createElement("a");R.href=A,R.download=`finance-backup-${new Date().toISOString().split("T")[0]}.json`,R.click(),URL.revokeObjectURL(A)},j=()=>{const ae=document.createElement("input");ae.type="file",ae.accept=".json",ae.onchange=I=>{const A=I.target.files?.[0];if(!A)return;const R=new FileReader;R.onload=V=>{try{const w=JSON.parse(V.target?.result);if(w.transactions){const L=new Date;localStorage.setItem("finance-timeline-data",JSON.stringify({transactions:w.transactions,currentYear:L.getFullYear(),currentMonth:L.getMonth()+1})),window.location.reload()}}catch{alert("  .")}},R.readAsText(A)},ae.click()},M=()=>{localStorage.removeItem("finance-timeline-data"),window.location.reload()},re={totalTransactions:i.length,incomeCount:i.filter(ae=>ae.type==="income").length,expenseCount:i.filter(ae=>ae.type==="expense").length,recurringCount:i.filter(ae=>ae.recurrence!=="once").length,loansCount:e.length,eventsCount:s.length},X=ae=>`${ae.getHours().toString().padStart(2,"0")}:${ae.getMinutes().toString().padStart(2,"0")}`;return d.jsxs("div",{className:"max-w-2xl space-y-4 lg:space-y-6",children:[d.jsxs("div",{className:"card !p-4 lg:!p-6",children:[d.jsx("h3",{className:"text-base lg:text-lg font-semibold text-dark-100 mb-3 lg:mb-4",children:" "}),p?d.jsx("div",{className:"flex items-center justify-center py-8",children:d.jsx(Co,{className:"w-6 h-6 text-dark-400 animate-spin"})}):m?d.jsxs("div",{className:"space-y-3 lg:space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3 lg:gap-4 p-3 lg:p-4 bg-dark-800/50 rounded-xl",children:[m.photoURL?d.jsx("img",{src:m.photoURL,alt:"",className:"w-10 h-10 lg:w-12 lg:h-12 rounded-full"}):d.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-full bg-violet-500/20 flex items-center justify-center",children:d.jsx(SR,{className:"w-5 h-5 lg:w-6 lg:h-6 text-violet-400"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"font-medium text-dark-100 text-sm lg:text-base truncate",children:m.displayName}),d.jsx("p",{className:"text-xs lg:text-sm text-dark-400 truncate",children:m.email})]}),d.jsxs("button",{onClick:Y,className:"btn btn-secondary text-xs lg:text-sm py-1.5 lg:py-2 px-2 lg:px-3",children:[d.jsx(FC,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:""})]})]}),d.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 bg-emerald-500/10 rounded-xl border border-emerald-500/20",children:[d.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[r?d.jsx(Co,{className:"w-4 h-4 lg:w-5 lg:h-5 text-emerald-400 animate-spin"}):d.jsx(xg,{className:"w-4 h-4 lg:w-5 lg:h-5 text-emerald-400"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm lg:text-base font-medium text-emerald-400",children:r?" ...":" "}),o&&d.jsxs("p",{className:"text-xs text-dark-400",children:[" : ",X(o)]})]})]}),d.jsxs("button",{onClick:z,disabled:r,className:"btn bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30 text-xs lg:text-sm py-1.5 lg:py-2 px-2 lg:px-3",children:[d.jsx(Co,{className:`w-4 h-4 ${r?"animate-spin":""}`}),d.jsx("span",{className:"hidden sm:inline",children:" "})]})]})]}):d.jsxs("div",{className:"space-y-3 lg:space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3 p-3 lg:p-4 bg-dark-800/50 rounded-xl",children:[d.jsx(Tm,{className:"w-5 h-5 text-dark-400"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm lg:text-base font-medium text-dark-200",children:" "}),d.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:"Google        "})]})]}),N&&d.jsx("p",{className:"text-sm text-rose-400 px-1",children:N}),d.jsxs("button",{onClick:Z,className:"w-full btn bg-white hover:bg-gray-100 text-gray-800 py-2.5 lg:py-3",children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),d.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),d.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),d.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google  "]})]})]}),d.jsxs("div",{className:"card !p-4 lg:!p-6",children:[d.jsx("h3",{className:"text-base lg:text-lg font-semibold text-dark-100 mb-3 lg:mb-4",children:" "}),d.jsxs("div",{className:"space-y-3 lg:space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 bg-dark-800/50 rounded-xl gap-3",children:[d.jsxs("div",{className:"min-w-0",children:[d.jsx("h4",{className:"font-medium text-dark-100 text-sm lg:text-base",children:" "}),d.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:"  JSON  "})]}),d.jsxs("button",{onClick:ie,className:"btn btn-secondary text-xs lg:text-sm py-1.5 lg:py-2 px-2 lg:px-3 flex-shrink-0",children:[d.jsx(IC,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:""})]})]}),d.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 bg-dark-800/50 rounded-xl gap-3",children:[d.jsxs("div",{className:"min-w-0",children:[d.jsx("h4",{className:"font-medium text-dark-100 text-sm lg:text-base",children:" "}),d.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:"   "})]}),d.jsxs("button",{onClick:j,className:"btn btn-secondary text-xs lg:text-sm py-1.5 lg:py-2 px-2 lg:px-3 flex-shrink-0",children:[d.jsx(ER,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:""})]})]}),d.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 bg-dark-800/50 rounded-xl border border-rose-500/20 gap-3",children:[d.jsxs("div",{className:"min-w-0",children:[d.jsx("h4",{className:"font-medium text-dark-100 text-sm lg:text-base",children:" "}),d.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:"  "})]}),d.jsxs("button",{onClick:()=>T(!0),className:"btn bg-rose-500/20 text-rose-400 hover:bg-rose-500/30 text-xs lg:text-sm py-1.5 lg:py-2 px-2 lg:px-3 flex-shrink-0",children:[d.jsx(Ha,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:""})]})]})]})]}),d.jsxs("div",{className:"card !p-4 lg:!p-6",children:[d.jsx("h3",{className:"text-base lg:text-lg font-semibold text-dark-100 mb-3 lg:mb-4",children:""}),d.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-2 lg:gap-4",children:[d.jsxs("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl",children:[d.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:" "}),d.jsxs("p",{className:"text-lg lg:text-2xl font-bold text-dark-100",children:[re.totalTransactions,""]})]}),d.jsxs("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl",children:[d.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:" "}),d.jsxs("p",{className:"text-lg lg:text-2xl font-bold text-emerald-400",children:[re.incomeCount,""]})]}),d.jsxs("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl",children:[d.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:" "}),d.jsxs("p",{className:"text-lg lg:text-2xl font-bold text-rose-400",children:[re.expenseCount,""]})]}),d.jsxs("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl",children:[d.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:" "}),d.jsxs("p",{className:"text-lg lg:text-2xl font-bold text-blue-400",children:[re.recurringCount,""]})]}),d.jsxs("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl",children:[d.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:""}),d.jsxs("p",{className:"text-lg lg:text-2xl font-bold text-amber-400",children:[re.loansCount,""]})]}),d.jsxs("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl",children:[d.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:""}),d.jsxs("p",{className:"text-lg lg:text-2xl font-bold text-purple-400",children:[re.eventsCount,""]})]})]})]}),E&&d.jsx("div",{className:"fixed inset-0 bg-dark-950/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"card w-full max-w-md text-center",children:[d.jsx("div",{className:"w-16 h-16 rounded-full bg-rose-500/20 flex items-center justify-center mx-auto mb-4",children:d.jsx(vR,{className:"w-8 h-8 text-rose-400"})}),d.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:" ?"}),d.jsxs("p",{className:"text-dark-400 mb-6",children:["    .",d.jsx("br",{}),"    ."]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:()=>T(!1),className:"btn btn-secondary flex-1",children:""}),d.jsx("button",{onClick:M,className:"btn bg-rose-500 hover:bg-rose-600 text-white flex-1",children:""})]})]})})]})}const a3=[{id:"timeline",icon:d.jsx(Ka,{className:"w-5 h-5"}),title:"",description:"/ , ,       .",details:[{subtitle:" ",content:"  , ,       .     ,  ,  ."},{subtitle:" ",content:"12      .        ,        ."},{subtitle:" ",content:' ""        .'},{subtitle:" /",content:"     ,      ."}]},{id:"transactions",icon:d.jsx(ab,{className:"w-5 h-5"}),title:"/",description:"     .",details:[{subtitle:" ",content:', ,        .    ""  "" .'},{subtitle:" ",content:" (, ,  )      ."},{subtitle:" ",content:'" ", "", ""    .       .'},{subtitle:"",content:" , ,  ,  , , , , ,       ."}]},{id:"events",icon:d.jsx(Po,{className:"w-5 h-5"}),title:"",description:"     .",details:[{subtitle:" ",content:"(,  ), (, ), (, ), (, ), (, )    ."},{subtitle:" ",content:"      .     ."},{subtitle:" ",content:"7        ."},{subtitle:" ",content:" ,  ,         ."}]},{id:"loans",icon:d.jsx(tl,{className:"w-5 h-5"}),title:" ",description:"       .",details:[{subtitle:" ",content:` :     (+)
 :  ,   
 :  ,    `},{subtitle:" ",content:"    .          ."},{subtitle:" ",content:"        ."},{subtitle:"  ",content:"               ."}]},{id:"assets",icon:d.jsx(Zo,{className:"w-5 h-5"}),title:" ",description:", ,       .",details:[{subtitle:" ",content:` : , ,  
 : , SUV 
 /:  ,  
 : , , ETF 
  : ,  `},{subtitle:" vs  ",content:"( )  ()        ."},{subtitle:" ",content:" =   -  ( ).       ."},{subtitle:" ",content:"        ."}]},{id:"summary",icon:d.jsx(sb,{className:"w-5 h-5"}),title:"",description:"     .",details:[{subtitle:" ",content:"   ,  ,     ."},{subtitle:" ",content:"            ."},{subtitle:" ",content:"    TOP 5   ."},{subtitle:"",content:"       ."}]},{id:"settings",icon:d.jsx(ob,{className:"w-5 h-5"}),title:"",description:" ,      .",details:[{subtitle:"Google  ",content:"Google         .    ."},{subtitle:" ",content:"  JSON     .    ."},{subtitle:" ",content:"  JSON     ."},{subtitle:" ",content:"     .      ."}]}],r3=[{icon:d.jsx(rb,{className:"w-4 h-4"}),title:"  ",content:", ,           ."},{icon:d.jsx(Jo,{className:"w-4 h-4"}),title:"  ",content:"         ."},{icon:d.jsx(jh,{className:"w-4 h-4"}),title:"  ",content:", ,            ."},{icon:d.jsx(xg,{className:"w-4 h-4"}),title:" ",content:"Google         ."},{icon:d.jsx(dR,{className:"w-4 h-4"}),title:"  ",content:'   "  "     .'}];function l3(){const[i,e]=$.useState("timeline"),s=r=>{e(i===r?null:r)};return d.jsxs("div",{className:"max-w-2xl space-y-4 lg:space-y-6",children:[d.jsxs("div",{className:"card !p-4 lg:!p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-500/20 flex items-center justify-center",children:d.jsx(yg,{className:"w-5 h-5 text-violet-400"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-bold text-dark-100",children:"  "}),d.jsx("p",{className:"text-sm text-dark-400",children:"   "})]})]}),d.jsx("p",{className:"text-sm text-dark-300 leading-relaxed",children:" , , ,              ."})]}),d.jsxs("div",{className:"card !p-0 overflow-hidden",children:[d.jsx("h3",{className:"text-base lg:text-lg font-semibold text-dark-100 p-4 lg:p-6 pb-2 lg:pb-3",children:" "}),d.jsx("div",{className:"divide-y divide-dark-800",children:a3.map(r=>d.jsxs("div",{children:[d.jsxs("button",{onClick:()=>s(r.id),className:"w-full flex items-center gap-3 p-4 lg:p-5 hover:bg-dark-800/50 transition-colors text-left",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-dark-800 flex items-center justify-center text-dark-300 flex-shrink-0",children:r.icon}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h4",{className:"font-medium text-dark-100 text-sm lg:text-base",children:r.title}),d.jsx("p",{className:"text-xs lg:text-sm text-dark-400 truncate",children:r.description})]}),i===r.id?d.jsx(eb,{className:"w-5 h-5 text-dark-400 flex-shrink-0"}):d.jsx(W1,{className:"w-5 h-5 text-dark-400 flex-shrink-0"})]}),i===r.id&&d.jsx("div",{className:"px-4 lg:px-5 pb-4 lg:pb-5 space-y-3",children:r.details.map((o,u)=>d.jsxs("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl",children:[d.jsx("h5",{className:"font-medium text-violet-400 text-sm mb-1.5",children:o.subtitle}),d.jsx("p",{className:"text-xs lg:text-sm text-dark-300 whitespace-pre-line leading-relaxed",children:o.content})]},u))})]},r.id))})]}),d.jsxs("div",{className:"card !p-4 lg:!p-6",children:[d.jsx("h3",{className:"text-base lg:text-lg font-semibold text-dark-100 mb-3 lg:mb-4",children:"  "}),d.jsx("div",{className:"space-y-2 lg:space-y-3",children:r3.map((r,o)=>d.jsxs("div",{className:"flex items-start gap-3 p-3 bg-dark-800/50 rounded-xl",children:[d.jsx("div",{className:"w-8 h-8 rounded-lg bg-amber-500/20 flex items-center justify-center text-amber-400 flex-shrink-0",children:r.icon}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-dark-100 text-sm mb-0.5",children:r.title}),d.jsx("p",{className:"text-xs text-dark-400",children:r.content})]})]},o))})]}),d.jsxs("div",{className:"card !p-4 lg:!p-6 bg-gradient-to-br from-violet-500/10 to-purple-500/10 border-violet-500/20",children:[d.jsx("p",{className:"text-sm text-dark-300 text-center",children:"    "}),d.jsx("p",{className:"text-xs text-dark-500 text-center mt-2",children:"Made by "})]})]})}const R_="plan-my-life-offline-mode",o3={timeline:"",transactions:"/ ",events:" ",loans:" ",assets:" ",summary:"",settings:"",help:""};function c3(){const[i,e]=$.useState("timeline"),[s,r]=$.useState(!1),{setCurrentDate:o}=dn(),u=()=>{switch(i){case"timeline":return d.jsx(N_,{});case"transactions":return d.jsx($R,{});case"events":return d.jsx(XR,{});case"loans":return d.jsx(JR,{});case"assets":return d.jsx(t3,{});case"summary":return d.jsx(n3,{});case"settings":return d.jsx(i3,{});case"help":return d.jsx(l3,{});default:return d.jsx(N_,{})}},m=()=>{const x=new Date;o(x.getFullYear(),x.getMonth()+1),window.scrollTo({top:0,behavior:"smooth"})},p=i==="timeline";return d.jsxs("div",{className:"min-h-screen bg-dark-950",children:[d.jsx(jR,{activeTab:i,onTabChange:e,isOpen:s,onClose:()=>r(!1)}),d.jsxs("main",{className:"lg:ml-64 min-h-screen",children:[d.jsx(DR,{title:o3[i],onTodayClick:m,showTodayButton:p,onMenuClick:()=>r(!0)}),d.jsx("div",{className:"p-4 lg:p-6",children:u()})]})]})}function u3(){const{user:i,loading:e}=Rh(),[s,r]=$.useState(null);$.useEffect(()=>{const u=localStorage.getItem(R_);r(u==="true")},[]);const o=()=>{localStorage.setItem(R_,"true"),r(!0)};return e||s===null?d.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:d.jsx("div",{className:"w-8 h-8 border-2 border-violet-500 border-t-transparent rounded-full animate-spin"})}):!i&&!s?d.jsx(MR,{onContinueOffline:o}):d.jsx(uC,{children:d.jsx(c3,{})})}function h3(){return d.jsx(rC,{children:d.jsx(u3,{})})}XE.createRoot(document.getElementById("root")).render(d.jsx($.StrictMode,{children:d.jsx(h3,{})}));
