(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const m of u.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function s(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=s(o);fetch(o.href,u)}})();var Mf={exports:{}},go={};var By;function qE(){if(By)return go;By=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(r,o,u){var m=null;if(u!==void 0&&(m=""+u),o.key!==void 0&&(m=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:i,type:r,key:m,ref:o!==void 0?o:null,props:u}}return go.Fragment=e,go.jsx=s,go.jsxs=s,go}var qy;function HE(){return qy||(qy=1,Mf.exports=qE()),Mf.exports}var d=HE(),Of={exports:{}},we={};var Hy;function FE(){if(Hy)return we;Hy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),N=Symbol.iterator;function B(j){return j===null||typeof j!="object"?null:(j=N&&j[N]||j["@@iterator"],typeof j=="function"?j:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,z={};function ie(j,W,ce){this.props=j,this.context=W,this.refs=z,this.updater=ce||J}ie.prototype.isReactComponent={},ie.prototype.setState=function(j,W){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,W,"setState")},ie.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function D(){}D.prototype=ie.prototype;function M(j,W,ce){this.props=j,this.context=W,this.refs=z,this.updater=ce||J}var ae=M.prototype=new D;ae.constructor=M,Y(ae,ie.prototype),ae.isPureReactComponent=!0;var Z=Array.isArray;function oe(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(j,W,ce){var he=ce.ref;return{$$typeof:i,type:j,key:W,ref:he!==void 0?he:null,props:ce}}function L(j,W){return R(j.type,W,j.props)}function w(j){return typeof j=="object"&&j!==null&&j.$$typeof===i}function V(j){var W={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ce){return W[ce]})}var C=/\/+/g;function qe(j,W){return typeof j=="object"&&j!==null&&j.key!=null?V(""+j.key):W.toString(36)}function ot(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(oe,oe):(j.status="pending",j.then(function(W){j.status==="pending"&&(j.status="fulfilled",j.value=W)},function(W){j.status==="pending"&&(j.status="rejected",j.reason=W)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function U(j,W,ce,he,be){var Se=typeof j;(Se==="undefined"||Se==="boolean")&&(j=null);var je=!1;if(j===null)je=!0;else switch(Se){case"bigint":case"string":case"number":je=!0;break;case"object":switch(j.$$typeof){case i:case e:je=!0;break;case E:return je=j._init,U(je(j._payload),W,ce,he,be)}}if(je)return be=be(j),je=he===""?"."+qe(j,0):he,Z(be)?(ce="",je!=null&&(ce=je.replace(C,"$&/")+"/"),U(be,W,ce,"",function(ta){return ta})):be!=null&&(w(be)&&(be=L(be,ce+(be.key==null||j&&j.key===be.key?"":(""+be.key).replace(C,"$&/")+"/")+je)),W.push(be)),1;je=0;var ct=he===""?".":he+":";if(Z(j))for(var at=0;at<j.length;at++)he=j[at],Se=ct+qe(he,at),je+=U(he,W,ce,Se,be);else if(at=B(j),typeof at=="function")for(j=at.call(j),at=0;!(he=j.next()).done;)he=he.value,Se=ct+qe(he,at++),je+=U(he,W,ce,Se,be);else if(Se==="object"){if(typeof j.then=="function")return U(ot(j),W,ce,he,be);throw W=String(j),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return je}function $(j,W,ce){if(j==null)return j;var he=[],be=0;return U(j,he,"","",function(Se){return W.call(ce,Se,be++)}),he}function re(j){if(j._status===-1){var W=j._result;W=W(),W.then(function(ce){(j._status===0||j._status===-1)&&(j._status=1,j._result=ce)},function(ce){(j._status===0||j._status===-1)&&(j._status=2,j._result=ce)}),j._status===-1&&(j._status=0,j._result=W)}if(j._status===1)return j._result.default;throw j._result}var de=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},pe={map:$,forEach:function(j,W,ce){$(j,function(){W.apply(this,arguments)},ce)},count:function(j){var W=0;return $(j,function(){W++}),W},toArray:function(j){return $(j,function(W){return W})||[]},only:function(j){if(!w(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return we.Activity=T,we.Children=pe,we.Component=ie,we.Fragment=s,we.Profiler=o,we.PureComponent=M,we.StrictMode=r,we.Suspense=y,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,we.__COMPILER_RUNTIME={__proto__:null,c:function(j){return I.H.useMemoCache(j)}},we.cache=function(j){return function(){return j.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(j,W,ce){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var he=Y({},j.props),be=j.key;if(W!=null)for(Se in W.key!==void 0&&(be=""+W.key),W)!A.call(W,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&W.ref===void 0||(he[Se]=W[Se]);var Se=arguments.length-2;if(Se===1)he.children=ce;else if(1<Se){for(var je=Array(Se),ct=0;ct<Se;ct++)je[ct]=arguments[ct+2];he.children=je}return R(j.type,be,he)},we.createContext=function(j){return j={$$typeof:m,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:u,_context:j},j},we.createElement=function(j,W,ce){var he,be={},Se=null;if(W!=null)for(he in W.key!==void 0&&(Se=""+W.key),W)A.call(W,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(be[he]=W[he]);var je=arguments.length-2;if(je===1)be.children=ce;else if(1<je){for(var ct=Array(je),at=0;at<je;at++)ct[at]=arguments[at+2];be.children=ct}if(j&&j.defaultProps)for(he in je=j.defaultProps,je)be[he]===void 0&&(be[he]=je[he]);return R(j,Se,be)},we.createRef=function(){return{current:null}},we.forwardRef=function(j){return{$$typeof:p,render:j}},we.isValidElement=w,we.lazy=function(j){return{$$typeof:E,_payload:{_status:-1,_result:j},_init:re}},we.memo=function(j,W){return{$$typeof:_,type:j,compare:W===void 0?null:W}},we.startTransition=function(j){var W=I.T,ce={};I.T=ce;try{var he=j(),be=I.S;be!==null&&be(ce,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(oe,de)}catch(Se){de(Se)}finally{W!==null&&ce.types!==null&&(W.types=ce.types),I.T=W}},we.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},we.use=function(j){return I.H.use(j)},we.useActionState=function(j,W,ce){return I.H.useActionState(j,W,ce)},we.useCallback=function(j,W){return I.H.useCallback(j,W)},we.useContext=function(j){return I.H.useContext(j)},we.useDebugValue=function(){},we.useDeferredValue=function(j,W){return I.H.useDeferredValue(j,W)},we.useEffect=function(j,W){return I.H.useEffect(j,W)},we.useEffectEvent=function(j){return I.H.useEffectEvent(j)},we.useId=function(){return I.H.useId()},we.useImperativeHandle=function(j,W,ce){return I.H.useImperativeHandle(j,W,ce)},we.useInsertionEffect=function(j,W){return I.H.useInsertionEffect(j,W)},we.useLayoutEffect=function(j,W){return I.H.useLayoutEffect(j,W)},we.useMemo=function(j,W){return I.H.useMemo(j,W)},we.useOptimistic=function(j,W){return I.H.useOptimistic(j,W)},we.useReducer=function(j,W,ce){return I.H.useReducer(j,W,ce)},we.useRef=function(j){return I.H.useRef(j)},we.useState=function(j){return I.H.useState(j)},we.useSyncExternalStore=function(j,W,ce){return I.H.useSyncExternalStore(j,W,ce)},we.useTransition=function(){return I.H.useTransition()},we.version="19.2.1",we}var Fy;function Cm(){return Fy||(Fy=1,Of.exports=FE()),Of.exports}var X=Cm(),Vf={exports:{}},po={},Lf={exports:{}},Uf={};var Gy;function GE(){return Gy||(Gy=1,(function(i){function e(U,$){var re=U.length;U.push($);e:for(;0<re;){var de=re-1>>>1,pe=U[de];if(0<o(pe,$))U[de]=$,U[re]=pe,re=de;else break e}}function s(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var $=U[0],re=U.pop();if(re!==$){U[0]=re;e:for(var de=0,pe=U.length,j=pe>>>1;de<j;){var W=2*(de+1)-1,ce=U[W],he=W+1,be=U[he];if(0>o(ce,re))he<pe&&0>o(be,ce)?(U[de]=be,U[he]=re,de=he):(U[de]=ce,U[W]=re,de=W);else if(he<pe&&0>o(be,re))U[de]=be,U[he]=re,de=he;else break e}}return $}function o(U,$){var re=U.sortIndex-$.sortIndex;return re!==0?re:U.id-$.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var m=Date,p=m.now();i.unstable_now=function(){return m.now()-p}}var y=[],_=[],E=1,T=null,N=3,B=!1,J=!1,Y=!1,z=!1,ie=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function ae(U){for(var $=s(_);$!==null;){if($.callback===null)r(_);else if($.startTime<=U)r(_),$.sortIndex=$.expirationTime,e(y,$);else break;$=s(_)}}function Z(U){if(Y=!1,ae(U),!J)if(s(y)!==null)J=!0,oe||(oe=!0,V());else{var $=s(_);$!==null&&ot(Z,$.startTime-U)}}var oe=!1,I=-1,A=5,R=-1;function L(){return z?!0:!(i.unstable_now()-R<A)}function w(){if(z=!1,oe){var U=i.unstable_now();R=U;var $=!0;try{e:{J=!1,Y&&(Y=!1,D(I),I=-1),B=!0;var re=N;try{t:{for(ae(U),T=s(y);T!==null&&!(T.expirationTime>U&&L());){var de=T.callback;if(typeof de=="function"){T.callback=null,N=T.priorityLevel;var pe=de(T.expirationTime<=U);if(U=i.unstable_now(),typeof pe=="function"){T.callback=pe,ae(U),$=!0;break t}T===s(y)&&r(y),ae(U)}else r(y);T=s(y)}if(T!==null)$=!0;else{var j=s(_);j!==null&&ot(Z,j.startTime-U),$=!1}}break e}finally{T=null,N=re,B=!1}$=void 0}}finally{$?V():oe=!1}}}var V;if(typeof M=="function")V=function(){M(w)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,qe=C.port2;C.port1.onmessage=w,V=function(){qe.postMessage(null)}}else V=function(){ie(w,0)};function ot(U,$){I=ie(function(){U(i.unstable_now())},$)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(U){U.callback=null},i.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<U?Math.floor(1e3/U):5},i.unstable_getCurrentPriorityLevel=function(){return N},i.unstable_next=function(U){switch(N){case 1:case 2:case 3:var $=3;break;default:$=N}var re=N;N=$;try{return U()}finally{N=re}},i.unstable_requestPaint=function(){z=!0},i.unstable_runWithPriority=function(U,$){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var re=N;N=U;try{return $()}finally{N=re}},i.unstable_scheduleCallback=function(U,$,re){var de=i.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?de+re:de):re=de,U){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=re+pe,U={id:E++,callback:$,priorityLevel:U,startTime:re,expirationTime:pe,sortIndex:-1},re>de?(U.sortIndex=re,e(_,U),s(y)===null&&U===s(_)&&(Y?(D(I),I=-1):Y=!0,ot(Z,re-de))):(U.sortIndex=pe,e(y,U),J||B||(J=!0,oe||(oe=!0,V()))),U},i.unstable_shouldYield=L,i.unstable_wrapCallback=function(U){var $=N;return function(){var re=N;N=$;try{return U.apply(this,arguments)}finally{N=re}}}})(Uf)),Uf}var Yy;function YE(){return Yy||(Yy=1,Lf.exports=GE()),Lf.exports}var Pf={exports:{}},$t={};var Qy;function QE(){if(Qy)return $t;Qy=1;var i=Cm();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,_,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:y,containerInfo:_,implementation:E}}var m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$t.createPortal=function(y,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(y,_,null,E)},$t.flushSync=function(y){var _=m.T,E=r.p;try{if(m.T=null,r.p=2,y)return y()}finally{m.T=_,r.p=E,r.d.f()}},$t.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(y,_))},$t.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},$t.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var E=_.as,T=p(E,_.crossOrigin),N=typeof _.integrity=="string"?_.integrity:void 0,B=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?r.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:T,integrity:N,fetchPriority:B}):E==="script"&&r.d.X(y,{crossOrigin:T,integrity:N,fetchPriority:B,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},$t.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=p(_.as,_.crossOrigin);r.d.M(y,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(y)},$t.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,T=p(E,_.crossOrigin);r.d.L(y,E,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},$t.preloadModule=function(y,_){if(typeof y=="string")if(_){var E=p(_.as,_.crossOrigin);r.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(y)},$t.requestFormReset=function(y){r.d.r(y)},$t.unstable_batchedUpdates=function(y,_){return y(_)},$t.useFormState=function(y,_,E){return m.H.useFormState(y,_,E)},$t.useFormStatus=function(){return m.H.useHostTransitionStatus()},$t.version="19.2.1",$t}var Ky;function KE(){if(Ky)return Pf.exports;Ky=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Pf.exports=QE(),Pf.exports}var $y;function $E(){if($y)return po;$y=1;var i=YE(),e=Cm(),s=KE();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function m(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),t;if(f===l)return y(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=f;else{for(var x=!1,b=h.child;b;){if(b===a){x=!0,a=h,l=f;break}if(b===l){x=!0,l=h,a=f;break}b=b.sibling}if(!x){for(b=f.child;b;){if(b===a){x=!0,a=f,l=h;break}if(b===l){x=!0,l=f,a=h;break}b=b.sibling}if(!x)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var T=Object.assign,N=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),M=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),w=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=w&&t[w]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function qe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case ie:return"Profiler";case z:return"StrictMode";case Z:return"Suspense";case oe:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case M:return t.displayName||"Context";case D:return(t._context.displayName||"Context")+".Consumer";case ae:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:qe(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return qe(t(n))}catch{}}return null}var ot=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},de=[],pe=-1;function j(t){return{current:t}}function W(t){0>pe||(t.current=de[pe],de[pe]=null,pe--)}function ce(t,n){pe++,de[pe]=t.current,t.current=n}var he=j(null),be=j(null),Se=j(null),je=j(null);function ct(t,n){switch(ce(Se,n),ce(be,t),ce(he,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?uy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=uy(n),t=hy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(he),ce(he,t)}function at(){W(he),W(be),W(Se)}function ta(t){t.memoizedState!==null&&ce(je,t);var n=he.current,a=hy(n,t.type);n!==a&&(ce(be,t),ce(he,a))}function $a(t){be.current===t&&(W(he),W(be)),je.current===t&&(W(je),uo._currentValue=re)}var Xa,Za;function es(t){if(Xa===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Xa=n&&n[1]||"",Za=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xa+t+Za}var ul=!1;function na(t,n){if(!t||ul)return"";ul=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(K){var G=K}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(K){G=K}t.call(ne.prototype)}}else{try{throw Error()}catch(K){G=K}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),x=f[0],b=f[1];if(x&&b){var k=x.split(`
`),F=b.split(`
`);for(h=l=0;l<k.length&&!k[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===k.length||h===F.length)for(l=k.length-1,h=F.length-1;1<=l&&0<=h&&k[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(k[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||k[l]!==F[h]){var ee=`
`+k[l].replace(" at new "," at ");return t.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",t.displayName)),ee}while(1<=l&&0<=h);break}}}finally{ul=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?es(a):""}function hl(t,n){switch(t.tag){case 26:case 27:case 5:return es(t.type);case 16:return es("Lazy");case 13:return t.child!==n&&n!==null?es("Suspense Fallback"):es("Suspense");case 19:return es("SuspenseList");case 0:case 15:return na(t.type,!1);case 11:return na(t.type.render,!1);case 1:return na(t.type,!0);case 31:return es("Activity");default:return""}}function dl(t){try{var n="",a=null;do n+=hl(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _t=Object.prototype.hasOwnProperty,It=i.unstable_scheduleCallback,ai=i.unstable_cancelCallback,Oh=i.unstable_shouldYield,tc=i.unstable_requestPaint,en=i.unstable_now,sa=i.unstable_getCurrentPriorityLevel,fl=i.unstable_ImmediatePriority,ml=i.unstable_UserBlockingPriority,ri=i.unstable_NormalPriority,Vh=i.unstable_LowPriority,nc=i.unstable_IdlePriority,sc=i.log,ic=i.unstable_setDisableYieldValue,Un=null,Pt=null;function En(t){if(typeof sc=="function"&&ic(t),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(Un,t)}catch{}}var mt=Math.clz32?Math.clz32:rc,ac=Math.log,Ja=Math.LN2;function rc(t){return t>>>=0,t===0?32:31-(ac(t)/Ja|0)|0}var ts=256,ia=262144,vt=4194304;function ns(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ss(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,x=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~f,l!==0?h=ns(l):(x&=b,x!==0?h=ns(x):a||(a=b&~t,a!==0&&(h=ns(a))))):(b=l&~f,b!==0?h=ns(b):x!==0?h=ns(x):a||(a=l&~t,a!==0&&(h=ns(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Pn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Lh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lc(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function is(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function aa(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Uh(t,n,a,l,h,f){var x=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,k=t.expirationTimes,F=t.hiddenUpdates;for(a=x&~a;0<a;){var ee=31-mt(a),ne=1<<ee;b[ee]=0,k[ee]=-1;var G=F[ee];if(G!==null)for(F[ee]=null,ee=0;ee<G.length;ee++){var K=G[ee];K!==null&&(K.lane&=-536870913)}a&=~ne}l!==0&&ra(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(x&~n))}function ra(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-mt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function gl(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-mt(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function pl(t,n){var a=n&-n;return a=(a&42)!==0?1:la(a),(a&(t.suspendedLanes|n))!==0?0:a}function la(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ks(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function oc(){var t=$.p;return t!==0?t:(t=window.event,t===void 0?32:My(t.type))}function zn(t,n){var a=$.p;try{return $.p=t,n()}finally{$.p=a}}var Bn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Bn,Mt="__reactProps$"+Bn,as="__reactContainer$"+Bn,Wa="__reactEvents$"+Bn,Ph="__reactListeners$"+Bn,cc="__reactHandles$"+Bn,uc="__reactResources$"+Bn,rs="__reactMarker$"+Bn;function er(t){delete t[bt],delete t[Mt],delete t[Wa],delete t[Ph],delete t[cc]}function ls(t){var n=t[bt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[as]||a[bt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=xy(t);t!==null;){if(a=t[bt])return a;t=xy(t)}return n}t=a,a=t.parentNode}return null}function Tn(t){if(t=t[bt]||t[as]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function fn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function os(t){var n=t[uc];return n||(n=t[uc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Et(t){t[rs]=!0}var yl=new Set,xl={};function cs(t,n){us(t,n),us(t+"Capture",n)}function us(t,n){for(xl[t]=n,t=0;t<n.length;t++)yl.add(n[t])}var _l=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vl={},bl={};function hc(t){return _t.call(bl,t)?!0:_t.call(vl,t)?!1:_l.test(t)?bl[t]=!0:(vl[t]=!0,!1)}function tr(t,n,a){if(hc(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function mn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Tt(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Ot(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function li(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function El(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(x){a=""+x,f.call(this,x)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(x){a=""+x},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ke(t){if(!t._valueTracker){var n=li(t)?"checked":"value";t._valueTracker=El(t,n,""+t[n])}}function oa(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=li(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function hs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ca=/[\n"\\]/g;function sn(t){return t.replace(ca,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function nr(t,n,a,l,h,f,x,b){t.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.type=x:t.removeAttribute("type"),n!=null?x==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ot(n)):t.value!==""+Ot(n)&&(t.value=""+Ot(n)):x!=="submit"&&x!=="reset"||t.removeAttribute("value"),n!=null?Tl(t,x,Ot(n)):a!=null?Tl(t,x,Ot(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Ot(b):t.removeAttribute("name")}function dc(t,n,a,l,h,f,x,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ke(t);return}a=a!=null?""+Ot(a):"",n=n!=null?""+Ot(n):a,b||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(t.name=x),Ke(t)}function Tl(t,n,a){n==="number"&&hs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function oi(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ot(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function fc(t,n,a){if(n!=null&&(n=""+Ot(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ot(a):""}function ci(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(ot(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ot(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function an(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var mc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||mc.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Al(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Sl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Sl(t,f,n[f])}function sr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ui=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ir(t){return ui.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function qn(){}var Nl=null;function Sn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hi=null,ds=null;function ua(t){var n=Tn(t);if(n&&(t=n.stateNode)){var a=t[Mt]||null;e:switch(t=n.stateNode,n.type){case"input":if(nr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[Mt]||null;if(!h)throw Error(r(90));nr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&oa(l)}break e;case"textarea":fc(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&oi(t,!!a.multiple,n,!1)}}}var ar=!1;function di(t,n,a){if(ar)return t(n,a);ar=!0;try{var l=t(n);return l}finally{if(ar=!1,(hi!==null||ds!==null)&&(ou(),hi&&(n=hi,t=ds,ds=hi=null,ua(n),t)))for(n=0;n<t.length;n++)ua(t[n])}}function Hn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Mt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ha=!1;if(An)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){ha=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{ha=!1}var fs=null,wl=null,da=null;function Cl(){if(da)return da;var t,n=wl,a=n.length,l,h="value"in fs?fs.value:fs.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var x=a-t;for(l=1;l<=x&&n[a-l]===h[f-l];l++);return da=h.slice(t,1<l?1-l:void 0)}function fa(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function js(){return!0}function Fn(){return!1}function zt(t){function n(a,l,h,f,x){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=x,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?js:Fn,this.isPropagationStopped=Fn,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=js)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=js)},persist:function(){},isPersistent:js}),n}var Ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ms=zt(Ds),fi=T({},Ds,{view:0,detail:0}),Rl=zt(fi),mi,rr,gs,lr=T({},fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gs&&(gs&&t.type==="mousemove"?(mi=t.screenX-gs.screenX,rr=t.screenY-gs.screenY):rr=mi=0,gs=t),mi)},movementY:function(t){return"movementY"in t?t.movementY:rr}}),Il=zt(lr),ma=T({},lr,{dataTransfer:0}),pc=zt(ma),yc=T({},fi,{relatedTarget:0}),ga=zt(yc),kl=T({},Ds,{animationName:0,elapsedTime:0,pseudoElement:0}),xc=zt(kl),or=T({},Ds,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_c=zt(or),vc=T({},Ds,{data:0}),ps=zt(vc),bc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ec={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sc(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Tc[t])?!!n[t]:!1}function gi(){return Sc}var tn=T({},fi,{key:function(t){if(t.key){var n=bc[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=fa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ec[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gi,charCode:function(t){return t.type==="keypress"?fa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ac=zt(tn),Nc=T({},lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ms=zt(Nc),c=T({},fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gi}),g=zt(c),v=T({},Ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=zt(v),q=T({},lr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=zt(q),ue=T({},Ds,{newState:0,oldState:0}),Re=zt(ue),gt=[9,13,27,32],Ge=An&&"CompositionEvent"in window,rt=null;An&&"documentMode"in document&&(rt=document.documentMode);var Nn=An&&"TextEvent"in window&&!rt,ys=An&&(!Ge||rt&&8<rt&&11>=rt),Gn=" ",Yn=!1;function pa(t,n){switch(t){case"keyup":return gt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ur=!1;function db(t,n){switch(t){case"compositionend":return cr(n);case"keypress":return n.which!==32?null:(Yn=!0,Gn);case"textInput":return t=n.data,t===Gn&&Yn?null:t;default:return null}}function fb(t,n){if(ur)return t==="compositionend"||!Ge&&pa(t,n)?(t=Cl(),da=wl=fs=null,ur=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ys&&n.locale!=="ko"?null:n.data;default:return null}}var mb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!mb[t.type]:n==="textarea"}function Eg(t,n,a,l){hi?ds?ds.push(l):ds=[l]:hi=l,n=gu(n,"onChange"),0<n.length&&(a=new ms("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var jl=null,Dl=null;function gb(t){iy(t,0)}function wc(t){var n=fn(t);if(oa(n))return t}function Tg(t,n){if(t==="change")return n}var Sg=!1;if(An){var zh;if(An){var Bh="oninput"in document;if(!Bh){var Ag=document.createElement("div");Ag.setAttribute("oninput","return;"),Bh=typeof Ag.oninput=="function"}zh=Bh}else zh=!1;Sg=zh&&(!document.documentMode||9<document.documentMode)}function Ng(){jl&&(jl.detachEvent("onpropertychange",wg),Dl=jl=null)}function wg(t){if(t.propertyName==="value"&&wc(Dl)){var n=[];Eg(n,Dl,t,Sn(t)),di(gb,n)}}function pb(t,n,a){t==="focusin"?(Ng(),jl=n,Dl=a,jl.attachEvent("onpropertychange",wg)):t==="focusout"&&Ng()}function yb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wc(Dl)}function xb(t,n){if(t==="click")return wc(n)}function _b(t,n){if(t==="input"||t==="change")return wc(n)}function vb(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var gn=typeof Object.is=="function"?Object.is:vb;function Ml(t,n){if(gn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!_t.call(n,h)||!gn(t[h],n[h]))return!1}return!0}function Cg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rg(t,n){var a=Cg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Cg(a)}}function Ig(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Ig(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function kg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=hs(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=hs(t.document)}return n}function qh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var bb=An&&"documentMode"in document&&11>=document.documentMode,hr=null,Hh=null,Ol=null,Fh=!1;function jg(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Fh||hr==null||hr!==hs(l)||(l=hr,"selectionStart"in l&&qh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ol&&Ml(Ol,l)||(Ol=l,l=gu(Hh,"onSelect"),0<l.length&&(n=new ms("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=hr)))}function ya(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var dr={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionrun:ya("Transition","TransitionRun"),transitionstart:ya("Transition","TransitionStart"),transitioncancel:ya("Transition","TransitionCancel"),transitionend:ya("Transition","TransitionEnd")},Gh={},Dg={};An&&(Dg=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);function xa(t){if(Gh[t])return Gh[t];if(!dr[t])return t;var n=dr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Dg)return Gh[t]=n[a];return t}var Mg=xa("animationend"),Og=xa("animationiteration"),Vg=xa("animationstart"),Eb=xa("transitionrun"),Tb=xa("transitionstart"),Sb=xa("transitioncancel"),Lg=xa("transitionend"),Ug=new Map,Yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yh.push("scrollEnd");function Qn(t,n){Ug.set(t,n),cs(n,[t])}var Cc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},wn=[],fr=0,Qh=0;function Rc(){for(var t=fr,n=Qh=fr=0;n<t;){var a=wn[n];wn[n++]=null;var l=wn[n];wn[n++]=null;var h=wn[n];wn[n++]=null;var f=wn[n];if(wn[n++]=null,l!==null&&h!==null){var x=l.pending;x===null?h.next=h:(h.next=x.next,x.next=h),l.pending=h}f!==0&&Pg(a,h,f)}}function Ic(t,n,a,l){wn[fr++]=t,wn[fr++]=n,wn[fr++]=a,wn[fr++]=l,Qh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Kh(t,n,a,l){return Ic(t,n,a,l),kc(t)}function _a(t,n){return Ic(t,null,null,n),kc(t)}function Pg(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-mt(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function kc(t){if(50<so)throw so=0,sf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var mr={};function Ab(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,n,a,l){return new Ab(t,n,a,l)}function $h(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Os(t,n){var a=t.alternate;return a===null?(a=pn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function zg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function jc(t,n,a,l,h,f){var x=0;if(l=t,typeof t=="function")$h(t)&&(x=1);else if(typeof t=="string")x=IE(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=pn(31,a,n,h),t.elementType=R,t.lanes=f,t;case Y:return va(a.children,h,f,n);case z:x=8,h|=24;break;case ie:return t=pn(12,a,n,h|2),t.elementType=ie,t.lanes=f,t;case Z:return t=pn(13,a,n,h),t.elementType=Z,t.lanes=f,t;case oe:return t=pn(19,a,n,h),t.elementType=oe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case M:x=10;break e;case D:x=9;break e;case ae:x=11;break e;case I:x=14;break e;case A:x=16,l=null;break e}x=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=pn(x,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function va(t,n,a,l){return t=pn(7,t,l,n),t.lanes=a,t}function Xh(t,n,a){return t=pn(6,t,null,n),t.lanes=a,t}function Bg(t){var n=pn(18,null,null,0);return n.stateNode=t,n}function Zh(t,n,a){return n=pn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var qg=new WeakMap;function Cn(t,n){if(typeof t=="object"&&t!==null){var a=qg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:dl(n)},qg.set(t,n),n)}return{value:t,source:n,stack:dl(n)}}var gr=[],pr=0,Dc=null,Vl=0,Rn=[],In=0,pi=null,xs=1,_s="";function Vs(t,n){gr[pr++]=Vl,gr[pr++]=Dc,Dc=t,Vl=n}function Hg(t,n,a){Rn[In++]=xs,Rn[In++]=_s,Rn[In++]=pi,pi=t;var l=xs;t=_s;var h=32-mt(l)-1;l&=~(1<<h),a+=1;var f=32-mt(n)+h;if(30<f){var x=h-h%5;f=(l&(1<<x)-1).toString(32),l>>=x,h-=x,xs=1<<32-mt(n)+h|a<<h|l,_s=f+t}else xs=1<<f|a<<h|l,_s=t}function Jh(t){t.return!==null&&(Vs(t,1),Hg(t,1,0))}function Wh(t){for(;t===Dc;)Dc=gr[--pr],gr[pr]=null,Vl=gr[--pr],gr[pr]=null;for(;t===pi;)pi=Rn[--In],Rn[In]=null,_s=Rn[--In],Rn[In]=null,xs=Rn[--In],Rn[In]=null}function Fg(t,n){Rn[In++]=xs,Rn[In++]=_s,Rn[In++]=pi,xs=n.id,_s=n.overflow,pi=t}var Bt=null,nt=null,ze=!1,yi=null,kn=!1,ed=Error(r(519));function xi(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ll(Cn(n,t)),ed}function Gg(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[bt]=t,n[Mt]=l,a){case"dialog":Me("cancel",n),Me("close",n);break;case"iframe":case"object":case"embed":Me("load",n);break;case"video":case"audio":for(a=0;a<ao.length;a++)Me(ao[a],n);break;case"source":Me("error",n);break;case"img":case"image":case"link":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"input":Me("invalid",n),dc(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Me("invalid",n);break;case"textarea":Me("invalid",n),ci(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||oy(n.textContent,a)?(l.popover!=null&&(Me("beforetoggle",n),Me("toggle",n)),l.onScroll!=null&&Me("scroll",n),l.onScrollEnd!=null&&Me("scrollend",n),l.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||xi(t,!0)}function Yg(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:Bt=Bt.return}}function yr(t){if(t!==Bt)return!1;if(!ze)return Yg(t),ze=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||_f(t.type,t.memoizedProps)),a=!a),a&&nt&&xi(t),Yg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));nt=yy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));nt=yy(t)}else n===27?(n=nt,ji(t.type)?(t=Sf,Sf=null,nt=t):nt=n):nt=Bt?Dn(t.stateNode.nextSibling):null;return!0}function ba(){nt=Bt=null,ze=!1}function td(){var t=yi;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),yi=null),t}function Ll(t){yi===null?yi=[t]:yi.push(t)}var nd=j(null),Ea=null,Ls=null;function _i(t,n,a){ce(nd,n._currentValue),n._currentValue=a}function Us(t){t._currentValue=nd.current,W(nd)}function sd(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function id(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var x=h.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=h;for(var k=0;k<n.length;k++)if(b.context===n[k]){f.lanes|=a,b=f.alternate,b!==null&&(b.lanes|=a),sd(f.return,a,t),l||(x=null);break e}f=b.next}}else if(h.tag===18){if(x=h.return,x===null)throw Error(r(341));x.lanes|=a,f=x.alternate,f!==null&&(f.lanes|=a),sd(x,a,t),x=null}else x=h.child;if(x!==null)x.return=h;else for(x=h;x!==null;){if(x===t){x=null;break}if(h=x.sibling,h!==null){h.return=x.return,x=h;break}x=x.return}h=x}}function xr(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var x=h.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var b=h.type;gn(h.pendingProps.value,x.value)||(t!==null?t.push(b):t=[b])}}else if(h===je.current){if(x=h.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(uo):t=[uo])}h=h.return}t!==null&&id(n,t,a,l),n.flags|=262144}function Mc(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ta(t){Ea=t,Ls=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return Qg(Ea,t)}function Oc(t,n){return Ea===null&&Ta(t),Qg(t,n)}function Qg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ls===null){if(t===null)throw Error(r(308));Ls=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ls=Ls.next=n;return a}var Nb=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},wb=i.unstable_scheduleCallback,Cb=i.unstable_NormalPriority,St={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ad(){return{controller:new Nb,data:new Map,refCount:0}}function Ul(t){t.refCount--,t.refCount===0&&wb(Cb,function(){t.controller.abort()})}var Pl=null,rd=0,_r=0,vr=null;function Rb(t,n){if(Pl===null){var a=Pl=[];rd=0,_r=uf(),vr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return rd++,n.then(Kg,Kg),n}function Kg(){if(--rd===0&&Pl!==null){vr!==null&&(vr.status="fulfilled");var t=Pl;Pl=null,_r=0,vr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Ib(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var $g=U.S;U.S=function(t,n){j0=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Rb(t,n),$g!==null&&$g(t,n)};var Sa=j(null);function ld(){var t=Sa.current;return t!==null?t:tt.pooledCache}function Vc(t,n){n===null?ce(Sa,Sa.current):ce(Sa,n.pool)}function Xg(){var t=ld();return t===null?null:{parent:St._currentValue,pool:t}}var br=Error(r(460)),od=Error(r(474)),Lc=Error(r(542)),Uc={then:function(){}};function Zg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Jg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(qn,qn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ep(t),t;default:if(typeof n.status=="string")n.then(qn,qn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ep(t),t}throw Na=n,br}}function Aa(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Na=a,br):a}}var Na=null;function Wg(){if(Na===null)throw Error(r(459));var t=Na;return Na=null,t}function ep(t){if(t===br||t===Lc)throw Error(r(483))}var Er=null,zl=0;function Pc(t){var n=zl;return zl+=1,Er===null&&(Er=[]),Jg(Er,t,n)}function Bl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function zc(t,n){throw n.$$typeof===N?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function tp(t){function n(P,O){if(t){var H=P.deletions;H===null?(P.deletions=[O],P.flags|=16):H.push(O)}}function a(P,O){if(!t)return null;for(;O!==null;)n(P,O),O=O.sibling;return null}function l(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(P,O){return P=Os(P,O),P.index=0,P.sibling=null,P}function f(P,O,H){return P.index=H,t?(H=P.alternate,H!==null?(H=H.index,H<O?(P.flags|=67108866,O):H):(P.flags|=67108866,O)):(P.flags|=1048576,O)}function x(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function b(P,O,H,te){return O===null||O.tag!==6?(O=Xh(H,P.mode,te),O.return=P,O):(O=h(O,H),O.return=P,O)}function k(P,O,H,te){var xe=H.type;return xe===Y?ee(P,O,H.props.children,te,H.key):O!==null&&(O.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===A&&Aa(xe)===O.type)?(O=h(O,H.props),Bl(O,H),O.return=P,O):(O=jc(H.type,H.key,H.props,null,P.mode,te),Bl(O,H),O.return=P,O)}function F(P,O,H,te){return O===null||O.tag!==4||O.stateNode.containerInfo!==H.containerInfo||O.stateNode.implementation!==H.implementation?(O=Zh(H,P.mode,te),O.return=P,O):(O=h(O,H.children||[]),O.return=P,O)}function ee(P,O,H,te,xe){return O===null||O.tag!==7?(O=va(H,P.mode,te,xe),O.return=P,O):(O=h(O,H),O.return=P,O)}function ne(P,O,H){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Xh(""+O,P.mode,H),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case B:return H=jc(O.type,O.key,O.props,null,P.mode,H),Bl(H,O),H.return=P,H;case J:return O=Zh(O,P.mode,H),O.return=P,O;case A:return O=Aa(O),ne(P,O,H)}if(ot(O)||V(O))return O=va(O,P.mode,H,null),O.return=P,O;if(typeof O.then=="function")return ne(P,Pc(O),H);if(O.$$typeof===M)return ne(P,Oc(P,O),H);zc(P,O)}return null}function G(P,O,H,te){var xe=O!==null?O.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return xe!==null?null:b(P,O,""+H,te);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case B:return H.key===xe?k(P,O,H,te):null;case J:return H.key===xe?F(P,O,H,te):null;case A:return H=Aa(H),G(P,O,H,te)}if(ot(H)||V(H))return xe!==null?null:ee(P,O,H,te,null);if(typeof H.then=="function")return G(P,O,Pc(H),te);if(H.$$typeof===M)return G(P,O,Oc(P,H),te);zc(P,H)}return null}function K(P,O,H,te,xe){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return P=P.get(H)||null,b(O,P,""+te,xe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case B:return P=P.get(te.key===null?H:te.key)||null,k(O,P,te,xe);case J:return P=P.get(te.key===null?H:te.key)||null,F(O,P,te,xe);case A:return te=Aa(te),K(P,O,H,te,xe)}if(ot(te)||V(te))return P=P.get(H)||null,ee(O,P,te,xe,null);if(typeof te.then=="function")return K(P,O,H,Pc(te),xe);if(te.$$typeof===M)return K(P,O,H,Oc(O,te),xe);zc(O,te)}return null}function me(P,O,H,te){for(var xe=null,He=null,ge=O,ke=O=0,Ve=null;ge!==null&&ke<H.length;ke++){ge.index>ke?(Ve=ge,ge=null):Ve=ge.sibling;var Fe=G(P,ge,H[ke],te);if(Fe===null){ge===null&&(ge=Ve);break}t&&ge&&Fe.alternate===null&&n(P,ge),O=f(Fe,O,ke),He===null?xe=Fe:He.sibling=Fe,He=Fe,ge=Ve}if(ke===H.length)return a(P,ge),ze&&Vs(P,ke),xe;if(ge===null){for(;ke<H.length;ke++)ge=ne(P,H[ke],te),ge!==null&&(O=f(ge,O,ke),He===null?xe=ge:He.sibling=ge,He=ge);return ze&&Vs(P,ke),xe}for(ge=l(ge);ke<H.length;ke++)Ve=K(ge,P,ke,H[ke],te),Ve!==null&&(t&&Ve.alternate!==null&&ge.delete(Ve.key===null?ke:Ve.key),O=f(Ve,O,ke),He===null?xe=Ve:He.sibling=Ve,He=Ve);return t&&ge.forEach(function(Li){return n(P,Li)}),ze&&Vs(P,ke),xe}function ve(P,O,H,te){if(H==null)throw Error(r(151));for(var xe=null,He=null,ge=O,ke=O=0,Ve=null,Fe=H.next();ge!==null&&!Fe.done;ke++,Fe=H.next()){ge.index>ke?(Ve=ge,ge=null):Ve=ge.sibling;var Li=G(P,ge,Fe.value,te);if(Li===null){ge===null&&(ge=Ve);break}t&&ge&&Li.alternate===null&&n(P,ge),O=f(Li,O,ke),He===null?xe=Li:He.sibling=Li,He=Li,ge=Ve}if(Fe.done)return a(P,ge),ze&&Vs(P,ke),xe;if(ge===null){for(;!Fe.done;ke++,Fe=H.next())Fe=ne(P,Fe.value,te),Fe!==null&&(O=f(Fe,O,ke),He===null?xe=Fe:He.sibling=Fe,He=Fe);return ze&&Vs(P,ke),xe}for(ge=l(ge);!Fe.done;ke++,Fe=H.next())Fe=K(ge,P,ke,Fe.value,te),Fe!==null&&(t&&Fe.alternate!==null&&ge.delete(Fe.key===null?ke:Fe.key),O=f(Fe,O,ke),He===null?xe=Fe:He.sibling=Fe,He=Fe);return t&&ge.forEach(function(BE){return n(P,BE)}),ze&&Vs(P,ke),xe}function et(P,O,H,te){if(typeof H=="object"&&H!==null&&H.type===Y&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case B:e:{for(var xe=H.key;O!==null;){if(O.key===xe){if(xe=H.type,xe===Y){if(O.tag===7){a(P,O.sibling),te=h(O,H.props.children),te.return=P,P=te;break e}}else if(O.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===A&&Aa(xe)===O.type){a(P,O.sibling),te=h(O,H.props),Bl(te,H),te.return=P,P=te;break e}a(P,O);break}else n(P,O);O=O.sibling}H.type===Y?(te=va(H.props.children,P.mode,te,H.key),te.return=P,P=te):(te=jc(H.type,H.key,H.props,null,P.mode,te),Bl(te,H),te.return=P,P=te)}return x(P);case J:e:{for(xe=H.key;O!==null;){if(O.key===xe)if(O.tag===4&&O.stateNode.containerInfo===H.containerInfo&&O.stateNode.implementation===H.implementation){a(P,O.sibling),te=h(O,H.children||[]),te.return=P,P=te;break e}else{a(P,O);break}else n(P,O);O=O.sibling}te=Zh(H,P.mode,te),te.return=P,P=te}return x(P);case A:return H=Aa(H),et(P,O,H,te)}if(ot(H))return me(P,O,H,te);if(V(H)){if(xe=V(H),typeof xe!="function")throw Error(r(150));return H=xe.call(H),ve(P,O,H,te)}if(typeof H.then=="function")return et(P,O,Pc(H),te);if(H.$$typeof===M)return et(P,O,Oc(P,H),te);zc(P,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,O!==null&&O.tag===6?(a(P,O.sibling),te=h(O,H),te.return=P,P=te):(a(P,O),te=Xh(H,P.mode,te),te.return=P,P=te),x(P)):a(P,O)}return function(P,O,H,te){try{zl=0;var xe=et(P,O,H,te);return Er=null,xe}catch(ge){if(ge===br||ge===Lc)throw ge;var He=pn(29,ge,null,P.mode);return He.lanes=te,He.return=P,He}finally{}}}var wa=tp(!0),np=tp(!1),vi=!1;function cd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ud(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function bi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ei(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=kc(t),Pg(t,null,a),n}return Ic(t,l,n,a),kc(t)}function ql(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,gl(t,a)}}function hd(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var x={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=x:f=f.next=x,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var dd=!1;function Hl(){if(dd){var t=vr;if(t!==null)throw t}}function Fl(t,n,a,l){dd=!1;var h=t.updateQueue;vi=!1;var f=h.firstBaseUpdate,x=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var k=b,F=k.next;k.next=null,x===null?f=F:x.next=F,x=k;var ee=t.alternate;ee!==null&&(ee=ee.updateQueue,b=ee.lastBaseUpdate,b!==x&&(b===null?ee.firstBaseUpdate=F:b.next=F,ee.lastBaseUpdate=k))}if(f!==null){var ne=h.baseState;x=0,ee=F=k=null,b=f;do{var G=b.lane&-536870913,K=G!==b.lane;if(K?(Oe&G)===G:(l&G)===G){G!==0&&G===_r&&(dd=!0),ee!==null&&(ee=ee.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var me=t,ve=b;G=n;var et=a;switch(ve.tag){case 1:if(me=ve.payload,typeof me=="function"){ne=me.call(et,ne,G);break e}ne=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ve.payload,G=typeof me=="function"?me.call(et,ne,G):me,G==null)break e;ne=T({},ne,G);break e;case 2:vi=!0}}G=b.callback,G!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[G]:K.push(G))}else K={lane:G,tag:b.tag,payload:b.payload,callback:b.callback,next:null},ee===null?(F=ee=K,k=ne):ee=ee.next=K,x|=G;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;K=b,b=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);ee===null&&(k=ne),h.baseState=k,h.firstBaseUpdate=F,h.lastBaseUpdate=ee,f===null&&(h.shared.lanes=0),wi|=x,t.lanes=x,t.memoizedState=ne}}function sp(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function ip(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)sp(a[t],n)}var Tr=j(null),Bc=j(0);function ap(t,n){t=Qs,ce(Bc,t),ce(Tr,n),Qs=t|n.baseLanes}function fd(){ce(Bc,Qs),ce(Tr,Tr.current)}function md(){Qs=Bc.current,W(Tr),W(Bc)}var yn=j(null),jn=null;function Ti(t){var n=t.alternate;ce(pt,pt.current&1),ce(yn,t),jn===null&&(n===null||Tr.current!==null||n.memoizedState!==null)&&(jn=t)}function gd(t){ce(pt,pt.current),ce(yn,t),jn===null&&(jn=t)}function rp(t){t.tag===22?(ce(pt,pt.current),ce(yn,t),jn===null&&(jn=t)):Si()}function Si(){ce(pt,pt.current),ce(yn,yn.current)}function xn(t){W(yn),jn===t&&(jn=null),W(pt)}var pt=j(0);function qc(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ef(a)||Tf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ps=0,Ie=null,Je=null,At=null,Hc=!1,Sr=!1,Ca=!1,Fc=0,Gl=0,Ar=null,kb=0;function dt(){throw Error(r(321))}function pd(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!gn(t[a],n[a]))return!1;return!0}function yd(t,n,a,l,h,f){return Ps=f,Ie=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,U.H=t===null||t.memoizedState===null?Hp:jd,Ca=!1,f=a(l,h),Ca=!1,Sr&&(f=op(n,a,l,h)),lp(t),f}function lp(t){U.H=Kl;var n=Je!==null&&Je.next!==null;if(Ps=0,At=Je=Ie=null,Hc=!1,Gl=0,Ar=null,n)throw Error(r(300));t===null||Nt||(t=t.dependencies,t!==null&&Mc(t)&&(Nt=!0))}function op(t,n,a,l){Ie=t;var h=0;do{if(Sr&&(Ar=null),Gl=0,Sr=!1,25<=h)throw Error(r(301));if(h+=1,At=Je=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}U.H=Fp,f=n(a,l)}while(Sr);return f}function jb(){var t=U.H,n=t.useState()[0];return n=typeof n.then=="function"?Yl(n):n,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Ie.flags|=1024),n}function xd(){var t=Fc!==0;return Fc=0,t}function _d(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function vd(t){if(Hc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Hc=!1}Ps=0,At=Je=Ie=null,Sr=!1,Gl=Fc=0,Ar=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Ie.memoizedState=At=t:At=At.next=t,At}function yt(){if(Je===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var n=At===null?Ie.memoizedState:At.next;if(n!==null)At=n,Je=t;else{if(t===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},At===null?Ie.memoizedState=At=t:At=At.next=t}return At}function Gc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yl(t){var n=Gl;return Gl+=1,Ar===null&&(Ar=[]),t=Jg(Ar,t,n),n=Ie,(At===null?n.memoizedState:At.next)===null&&(n=n.alternate,U.H=n===null||n.memoizedState===null?Hp:jd),t}function Yc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Yl(t);if(t.$$typeof===M)return qt(t)}throw Error(r(438,String(t)))}function bd(t){var n=null,a=Ie.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Gc(),Ie.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=L;return n.index++,a}function zs(t,n){return typeof n=="function"?n(t):n}function Qc(t){var n=yt();return Ed(n,Je,t)}function Ed(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var x=h.next;h.next=f.next,f.next=x}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var b=x=null,k=null,F=n,ee=!1;do{var ne=F.lane&-536870913;if(ne!==F.lane?(Oe&ne)===ne:(Ps&ne)===ne){var G=F.revertLane;if(G===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ne===_r&&(ee=!0);else if((Ps&G)===G){F=F.next,G===_r&&(ee=!0);continue}else ne={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},k===null?(b=k=ne,x=f):k=k.next=ne,Ie.lanes|=G,wi|=G;ne=F.action,Ca&&a(f,ne),f=F.hasEagerState?F.eagerState:a(f,ne)}else G={lane:ne,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},k===null?(b=k=G,x=f):k=k.next=G,Ie.lanes|=ne,wi|=ne;F=F.next}while(F!==null&&F!==n);if(k===null?x=f:k.next=b,!gn(f,t.memoizedState)&&(Nt=!0,ee&&(a=vr,a!==null)))throw a;t.memoizedState=f,t.baseState=x,t.baseQueue=k,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Td(t){var n=yt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var x=h=h.next;do f=t(f,x.action),x=x.next;while(x!==h);gn(f,n.memoizedState)||(Nt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function cp(t,n,a){var l=Ie,h=yt(),f=ze;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var x=!gn((Je||h).memoizedState,a);if(x&&(h.memoizedState=a,Nt=!0),h=h.queue,Nd(dp.bind(null,l,h,t),[t]),h.getSnapshot!==n||x||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,Nr(9,{destroy:void 0},hp.bind(null,l,h,a,n),null),tt===null)throw Error(r(349));f||(Ps&127)!==0||up(l,n,a)}return a}function up(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ie.updateQueue,n===null?(n=Gc(),Ie.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function hp(t,n,a,l){n.value=a,n.getSnapshot=l,fp(n)&&mp(t)}function dp(t,n,a){return a(function(){fp(n)&&mp(t)})}function fp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!gn(t,a)}catch{return!0}}function mp(t){var n=_a(t,2);n!==null&&un(n,t,2)}function Sd(t){var n=nn();if(typeof t=="function"){var a=t;if(t=a(),Ca){En(!0);try{a()}finally{En(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:t},n}function gp(t,n,a,l){return t.baseState=a,Ed(t,Je,typeof l=="function"?l:zs)}function Db(t,n,a,l,h){if(Xc(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){f.listeners.push(x)}};U.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,pp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function pp(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=U.T,x={};U.T=x;try{var b=a(h,l),k=U.S;k!==null&&k(x,b),yp(t,n,b)}catch(F){Ad(t,n,F)}finally{f!==null&&x.types!==null&&(f.types=x.types),U.T=f}}else try{f=a(h,l),yp(t,n,f)}catch(F){Ad(t,n,F)}}function yp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){xp(t,n,l)},function(l){return Ad(t,n,l)}):xp(t,n,a)}function xp(t,n,a){n.status="fulfilled",n.value=a,_p(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,pp(t,a)))}function Ad(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,_p(n),n=n.next;while(n!==l)}t.action=null}function _p(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function vp(t,n){return n}function bp(t,n){if(ze){var a=tt.formState;if(a!==null){e:{var l=Ie;if(ze){if(nt){t:{for(var h=nt,f=kn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Dn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){nt=Dn(h.nextSibling),l=h.data==="F!";break e}}xi(l)}l=!1}l&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vp,lastRenderedState:n},a.queue=l,a=zp.bind(null,Ie,l),l.dispatch=a,l=Sd(!1),f=kd.bind(null,Ie,!1,l.queue),l=nn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=Db.bind(null,Ie,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Ep(t){var n=yt();return Tp(n,Je,t)}function Tp(t,n,a){if(n=Ed(t,n,vp)[0],t=Qc(zs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Yl(n)}catch(x){throw x===br?Lc:x}else l=n;n=yt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Ie.flags|=2048,Nr(9,{destroy:void 0},Mb.bind(null,h,a),null)),[l,f,t]}function Mb(t,n){t.action=n}function Sp(t){var n=yt(),a=Je;if(a!==null)return Tp(n,a,t);yt(),n=n.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Nr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Ie.updateQueue,n===null&&(n=Gc(),Ie.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Ap(){return yt().memoizedState}function Kc(t,n,a,l){var h=nn();Ie.flags|=t,h.memoizedState=Nr(1|n,{destroy:void 0},a,l===void 0?null:l)}function $c(t,n,a,l){var h=yt();l=l===void 0?null:l;var f=h.memoizedState.inst;Je!==null&&l!==null&&pd(l,Je.memoizedState.deps)?h.memoizedState=Nr(n,f,a,l):(Ie.flags|=t,h.memoizedState=Nr(1|n,f,a,l))}function Np(t,n){Kc(8390656,8,t,n)}function Nd(t,n){$c(2048,8,t,n)}function Ob(t){Ie.flags|=4;var n=Ie.updateQueue;if(n===null)n=Gc(),Ie.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function wp(t){var n=yt().memoizedState;return Ob({ref:n,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Cp(t,n){return $c(4,2,t,n)}function Rp(t,n){return $c(4,4,t,n)}function Ip(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function kp(t,n,a){a=a!=null?a.concat([t]):null,$c(4,4,Ip.bind(null,n,t),a)}function wd(){}function jp(t,n){var a=yt();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&pd(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Dp(t,n){var a=yt();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&pd(n,l[1]))return l[0];if(l=t(),Ca){En(!0);try{t()}finally{En(!1)}}return a.memoizedState=[l,n],l}function Cd(t,n,a){return a===void 0||(Ps&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=M0(),Ie.lanes|=t,wi|=t,a)}function Mp(t,n,a,l){return gn(a,n)?a:Tr.current!==null?(t=Cd(t,a,l),gn(t,n)||(Nt=!0),t):(Ps&42)===0||(Ps&1073741824)!==0&&(Oe&261930)===0?(Nt=!0,t.memoizedState=a):(t=M0(),Ie.lanes|=t,wi|=t,n)}function Op(t,n,a,l,h){var f=$.p;$.p=f!==0&&8>f?f:8;var x=U.T,b={};U.T=b,kd(t,!1,n,a);try{var k=h(),F=U.S;if(F!==null&&F(b,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var ee=Ib(k,l);Ql(t,n,ee,bn(t))}else Ql(t,n,l,bn(t))}catch(ne){Ql(t,n,{then:function(){},status:"rejected",reason:ne},bn())}finally{$.p=f,x!==null&&b.types!==null&&(x.types=b.types),U.T=x}}function Vb(){}function Rd(t,n,a,l){if(t.tag!==5)throw Error(r(476));var h=Vp(t).queue;Op(t,h,n,re,a===null?Vb:function(){return Lp(t),a(l)})}function Vp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:re},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Lp(t){var n=Vp(t);n.next===null&&(n=t.alternate.memoizedState),Ql(t,n.next.queue,{},bn())}function Id(){return qt(uo)}function Up(){return yt().memoizedState}function Pp(){return yt().memoizedState}function Lb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=bn();t=bi(a);var l=Ei(n,t,a);l!==null&&(un(l,n,a),ql(l,n,a)),n={cache:ad()},t.payload=n;return}n=n.return}}function Ub(t,n,a){var l=bn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Xc(t)?Bp(n,a):(a=Kh(t,n,a,l),a!==null&&(un(a,t,l),qp(a,n,l)))}function zp(t,n,a){var l=bn();Ql(t,n,a,l)}function Ql(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Xc(t))Bp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var x=n.lastRenderedState,b=f(x,a);if(h.hasEagerState=!0,h.eagerState=b,gn(b,x))return Ic(t,n,h,0),tt===null&&Rc(),!1}catch{}finally{}if(a=Kh(t,n,h,l),a!==null)return un(a,t,l),qp(a,n,l),!0}return!1}function kd(t,n,a,l){if(l={lane:2,revertLane:uf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Xc(t)){if(n)throw Error(r(479))}else n=Kh(t,a,l,2),n!==null&&un(n,t,2)}function Xc(t){var n=t.alternate;return t===Ie||n!==null&&n===Ie}function Bp(t,n){Sr=Hc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function qp(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,gl(t,a)}}var Kl={readContext:qt,use:Yc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};Kl.useEffectEvent=dt;var Hp={readContext:qt,use:Yc,useCallback:function(t,n){return nn().memoizedState=[t,n===void 0?null:n],t},useContext:qt,useEffect:Np,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Kc(4194308,4,Ip.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Kc(4194308,4,t,n)},useInsertionEffect:function(t,n){Kc(4,2,t,n)},useMemo:function(t,n){var a=nn();n=n===void 0?null:n;var l=t();if(Ca){En(!0);try{t()}finally{En(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=nn();if(a!==void 0){var h=a(n);if(Ca){En(!0);try{a(n)}finally{En(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Ub.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var n=nn();return t={current:t},n.memoizedState=t},useState:function(t){t=Sd(t);var n=t.queue,a=zp.bind(null,Ie,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:wd,useDeferredValue:function(t,n){var a=nn();return Cd(a,t,n)},useTransition:function(){var t=Sd(!1);return t=Op.bind(null,Ie,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Ie,h=nn();if(ze){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),tt===null)throw Error(r(349));(Oe&127)!==0||up(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Np(dp.bind(null,l,f,t),[t]),l.flags|=2048,Nr(9,{destroy:void 0},hp.bind(null,l,f,a,n),null),a},useId:function(){var t=nn(),n=tt.identifierPrefix;if(ze){var a=_s,l=xs;a=(l&~(1<<32-mt(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Fc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=kb++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Id,useFormState:bp,useActionState:bp,useOptimistic:function(t){var n=nn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=kd.bind(null,Ie,!0,a),a.dispatch=n,[t,n]},useMemoCache:bd,useCacheRefresh:function(){return nn().memoizedState=Lb.bind(null,Ie)},useEffectEvent:function(t){var n=nn(),a={impl:t};return n.memoizedState=a,function(){if((Ye&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},jd={readContext:qt,use:Yc,useCallback:jp,useContext:qt,useEffect:Nd,useImperativeHandle:kp,useInsertionEffect:Cp,useLayoutEffect:Rp,useMemo:Dp,useReducer:Qc,useRef:Ap,useState:function(){return Qc(zs)},useDebugValue:wd,useDeferredValue:function(t,n){var a=yt();return Mp(a,Je.memoizedState,t,n)},useTransition:function(){var t=Qc(zs)[0],n=yt().memoizedState;return[typeof t=="boolean"?t:Yl(t),n]},useSyncExternalStore:cp,useId:Up,useHostTransitionStatus:Id,useFormState:Ep,useActionState:Ep,useOptimistic:function(t,n){var a=yt();return gp(a,Je,t,n)},useMemoCache:bd,useCacheRefresh:Pp};jd.useEffectEvent=wp;var Fp={readContext:qt,use:Yc,useCallback:jp,useContext:qt,useEffect:Nd,useImperativeHandle:kp,useInsertionEffect:Cp,useLayoutEffect:Rp,useMemo:Dp,useReducer:Td,useRef:Ap,useState:function(){return Td(zs)},useDebugValue:wd,useDeferredValue:function(t,n){var a=yt();return Je===null?Cd(a,t,n):Mp(a,Je.memoizedState,t,n)},useTransition:function(){var t=Td(zs)[0],n=yt().memoizedState;return[typeof t=="boolean"?t:Yl(t),n]},useSyncExternalStore:cp,useId:Up,useHostTransitionStatus:Id,useFormState:Sp,useActionState:Sp,useOptimistic:function(t,n){var a=yt();return Je!==null?gp(a,Je,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:bd,useCacheRefresh:Pp};Fp.useEffectEvent=wp;function Dd(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:T({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Md={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=bn(),h=bi(l);h.payload=n,a!=null&&(h.callback=a),n=Ei(t,h,l),n!==null&&(un(n,t,l),ql(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=bn(),h=bi(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ei(t,h,l),n!==null&&(un(n,t,l),ql(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=bn(),l=bi(a);l.tag=2,n!=null&&(l.callback=n),n=Ei(t,l,a),n!==null&&(un(n,t,a),ql(n,t,a))}};function Gp(t,n,a,l,h,f,x){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,x):n.prototype&&n.prototype.isPureReactComponent?!Ml(a,l)||!Ml(h,f):!0}function Yp(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Md.enqueueReplaceState(n,n.state,null)}function Ra(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Qp(t){Cc(t)}function Kp(t){console.error(t)}function $p(t){Cc(t)}function Zc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Xp(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Od(t,n,a){return a=bi(a),a.tag=3,a.payload={element:null},a.callback=function(){Zc(t,n)},a}function Zp(t){return t=bi(t),t.tag=3,t}function Jp(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Xp(n,a,l)}}var x=a.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(t.callback=function(){Xp(n,a,l),typeof h!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function Pb(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&xr(n,a,h,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return jn===null?cu():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Uc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),lf(t,l,h)),!1;case 22:return a.flags|=65536,l===Uc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),lf(t,l,h)),!1}throw Error(r(435,a.tag))}return lf(t,l,h),cu(),!1}if(ze)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==ed&&(t=Error(r(422),{cause:l}),Ll(Cn(t,a)))):(l!==ed&&(n=Error(r(423),{cause:l}),Ll(Cn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Cn(l,a),h=Od(t.stateNode,l,h),hd(t,h),ft!==4&&(ft=2)),!1;var f=Error(r(520),{cause:l});if(f=Cn(f,a),no===null?no=[f]:no.push(f),ft!==4&&(ft=2),n===null)return!0;l=Cn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Od(a.stateNode,l,t),hd(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ci===null||!Ci.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Zp(h),Jp(h,t,a,l),hd(a,h),!1}a=a.return}while(a!==null);return!1}var Vd=Error(r(461)),Nt=!1;function Ht(t,n,a,l){n.child=t===null?np(n,null,a,l):wa(n,t.child,a,l)}function Wp(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var x={};for(var b in l)b!=="ref"&&(x[b]=l[b])}else x=l;return Ta(n),l=yd(t,n,a,x,f,h),b=xd(),t!==null&&!Nt?(_d(t,n,h),Bs(t,n,h)):(ze&&b&&Jh(n),n.flags|=1,Ht(t,n,l,h),n.child)}function e0(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!$h(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,t0(t,n,f,l,h)):(t=jc(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Fd(t,h)){var x=f.memoizedProps;if(a=a.compare,a=a!==null?a:Ml,a(x,l)&&t.ref===n.ref)return Bs(t,n,h)}return n.flags|=1,t=Os(f,l),t.ref=n.ref,t.return=n,n.child=t}function t0(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(Ml(f,l)&&t.ref===n.ref)if(Nt=!1,n.pendingProps=l=f,Fd(t,h))(t.flags&131072)!==0&&(Nt=!0);else return n.lanes=t.lanes,Bs(t,n,h)}return Ld(t,n,a,l,h)}function n0(t,n,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return s0(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Vc(n,f!==null?f.cachePool:null),f!==null?ap(n,f):fd(),rp(n);else return l=n.lanes=536870912,s0(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Vc(n,f.cachePool),ap(n,f),Si(),n.memoizedState=null):(t!==null&&Vc(n,null),fd(),Si());return Ht(t,n,h,a),n.child}function $l(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function s0(t,n,a,l,h){var f=ld();return f=f===null?null:{parent:St._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Vc(n,null),fd(),rp(n),t!==null&&xr(t,n,l,!0),n.childLanes=h,null}function Jc(t,n){return n=eu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function i0(t,n,a){return wa(n,t.child,null,a),t=Jc(n,n.pendingProps),t.flags|=2,xn(n),n.memoizedState=null,t}function zb(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(ze){if(l.mode==="hidden")return t=Jc(n,l),n.lanes=536870912,$l(null,t);if(gd(n),(t=nt)?(t=py(t,kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:pi!==null?{id:xs,overflow:_s}:null,retryLane:536870912,hydrationErrors:null},a=Bg(t),a.return=n,n.child=a,Bt=n,nt=null)):t=null,t===null)throw xi(n);return n.lanes=536870912,null}return Jc(n,l)}var f=t.memoizedState;if(f!==null){var x=f.dehydrated;if(gd(n),h)if(n.flags&256)n.flags&=-257,n=i0(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Nt||xr(t,n,a,!1),h=(a&t.childLanes)!==0,Nt||h){if(l=tt,l!==null&&(x=pl(l,a),x!==0&&x!==f.retryLane))throw f.retryLane=x,_a(t,x),un(l,t,x),Vd;cu(),n=i0(t,n,a)}else t=f.treeContext,nt=Dn(x.nextSibling),Bt=n,ze=!0,yi=null,kn=!1,t!==null&&Fg(n,t),n=Jc(n,l),n.flags|=4096;return n}return t=Os(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Wc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Ld(t,n,a,l,h){return Ta(n),a=yd(t,n,a,l,void 0,h),l=xd(),t!==null&&!Nt?(_d(t,n,h),Bs(t,n,h)):(ze&&l&&Jh(n),n.flags|=1,Ht(t,n,a,h),n.child)}function a0(t,n,a,l,h,f){return Ta(n),n.updateQueue=null,a=op(n,l,a,h),lp(t),l=xd(),t!==null&&!Nt?(_d(t,n,f),Bs(t,n,f)):(ze&&l&&Jh(n),n.flags|=1,Ht(t,n,a,f),n.child)}function r0(t,n,a,l,h){if(Ta(n),n.stateNode===null){var f=mr,x=a.contextType;typeof x=="object"&&x!==null&&(f=qt(x)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Md,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},cd(n),x=a.contextType,f.context=typeof x=="object"&&x!==null?qt(x):mr,f.state=n.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(Dd(n,a,x,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(x=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),x!==f.state&&Md.enqueueReplaceState(f,f.state,null),Fl(n,l,f,h),Hl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var b=n.memoizedProps,k=Ra(a,b);f.props=k;var F=f.context,ee=a.contextType;x=mr,typeof ee=="object"&&ee!==null&&(x=qt(ee));var ne=a.getDerivedStateFromProps;ee=typeof ne=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,ee||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||F!==x)&&Yp(n,f,l,x),vi=!1;var G=n.memoizedState;f.state=G,Fl(n,l,f,h),Hl(),F=n.memoizedState,b||G!==F||vi?(typeof ne=="function"&&(Dd(n,a,ne,l),F=n.memoizedState),(k=vi||Gp(n,a,k,l,G,F,x))?(ee||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=x,l=k):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,ud(t,n),x=n.memoizedProps,ee=Ra(a,x),f.props=ee,ne=n.pendingProps,G=f.context,F=a.contextType,k=mr,typeof F=="object"&&F!==null&&(k=qt(F)),b=a.getDerivedStateFromProps,(F=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(x!==ne||G!==k)&&Yp(n,f,l,k),vi=!1,G=n.memoizedState,f.state=G,Fl(n,l,f,h),Hl();var K=n.memoizedState;x!==ne||G!==K||vi||t!==null&&t.dependencies!==null&&Mc(t.dependencies)?(typeof b=="function"&&(Dd(n,a,b,l),K=n.memoizedState),(ee=vi||Gp(n,a,ee,l,G,K,k)||t!==null&&t.dependencies!==null&&Mc(t.dependencies))?(F||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,K,k),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,K,k)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||x===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=K),f.props=l,f.state=K,f.context=k,l=ee):(typeof f.componentDidUpdate!="function"||x===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Wc(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=wa(n,t.child,null,h),n.child=wa(n,null,a,h)):Ht(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Bs(t,n,h),t}function l0(t,n,a,l){return ba(),n.flags|=256,Ht(t,n,a,l),n.child}var Ud={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pd(t){return{baseLanes:t,cachePool:Xg()}}function zd(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=vn),t}function o0(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,x;if((x=f)||(x=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),x&&(h=!0,n.flags&=-129),x=(n.flags&32)!==0,n.flags&=-33,t===null){if(ze){if(h?Ti(n):Si(),(t=nt)?(t=py(t,kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:pi!==null?{id:xs,overflow:_s}:null,retryLane:536870912,hydrationErrors:null},a=Bg(t),a.return=n,n.child=a,Bt=n,nt=null)):t=null,t===null)throw xi(n);return Tf(t)?n.lanes=32:n.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(Si(),h=n.mode,b=eu({mode:"hidden",children:b},h),l=va(l,h,a,null),b.return=n,l.return=n,b.sibling=l,n.child=b,l=n.child,l.memoizedState=Pd(a),l.childLanes=zd(t,x,a),n.memoizedState=Ud,$l(null,l)):(Ti(n),Bd(n,b))}var k=t.memoizedState;if(k!==null&&(b=k.dehydrated,b!==null)){if(f)n.flags&256?(Ti(n),n.flags&=-257,n=qd(t,n,a)):n.memoizedState!==null?(Si(),n.child=t.child,n.flags|=128,n=null):(Si(),b=l.fallback,h=n.mode,l=eu({mode:"visible",children:l.children},h),b=va(b,h,a,null),b.flags|=2,l.return=n,b.return=n,l.sibling=b,n.child=l,wa(n,t.child,null,a),l=n.child,l.memoizedState=Pd(a),l.childLanes=zd(t,x,a),n.memoizedState=Ud,n=$l(null,l));else if(Ti(n),Tf(b)){if(x=b.nextSibling&&b.nextSibling.dataset,x)var F=x.dgst;x=F,l=Error(r(419)),l.stack="",l.digest=x,Ll({value:l,source:null,stack:null}),n=qd(t,n,a)}else if(Nt||xr(t,n,a,!1),x=(a&t.childLanes)!==0,Nt||x){if(x=tt,x!==null&&(l=pl(x,a),l!==0&&l!==k.retryLane))throw k.retryLane=l,_a(t,l),un(x,t,l),Vd;Ef(b)||cu(),n=qd(t,n,a)}else Ef(b)?(n.flags|=192,n.child=t.child,n=null):(t=k.treeContext,nt=Dn(b.nextSibling),Bt=n,ze=!0,yi=null,kn=!1,t!==null&&Fg(n,t),n=Bd(n,l.children),n.flags|=4096);return n}return h?(Si(),b=l.fallback,h=n.mode,k=t.child,F=k.sibling,l=Os(k,{mode:"hidden",children:l.children}),l.subtreeFlags=k.subtreeFlags&65011712,F!==null?b=Os(F,b):(b=va(b,h,a,null),b.flags|=2),b.return=n,l.return=n,l.sibling=b,n.child=l,$l(null,l),l=n.child,b=t.child.memoizedState,b===null?b=Pd(a):(h=b.cachePool,h!==null?(k=St._currentValue,h=h.parent!==k?{parent:k,pool:k}:h):h=Xg(),b={baseLanes:b.baseLanes|a,cachePool:h}),l.memoizedState=b,l.childLanes=zd(t,x,a),n.memoizedState=Ud,$l(t.child,l)):(Ti(n),a=t.child,t=a.sibling,a=Os(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(x=n.deletions,x===null?(n.deletions=[t],n.flags|=16):x.push(t)),n.child=a,n.memoizedState=null,a)}function Bd(t,n){return n=eu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function eu(t,n){return t=pn(22,t,null,n),t.lanes=0,t}function qd(t,n,a){return wa(n,t.child,null,a),t=Bd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function c0(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),sd(t.return,n,a)}function Hd(t,n,a,l,h,f){var x=t.memoizedState;x===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(x.isBackwards=n,x.rendering=null,x.renderingStartTime=0,x.last=l,x.tail=a,x.tailMode=h,x.treeForkCount=f)}function u0(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var x=pt.current,b=(x&2)!==0;if(b?(x=x&1|2,n.flags|=128):x&=1,ce(pt,x),Ht(t,n,l,a),l=ze?Vl:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&c0(t,a,n);else if(t.tag===19)c0(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&qc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Hd(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&qc(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Hd(n,!0,a,null,f,l);break;case"together":Hd(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Bs(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),wi|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(xr(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Os(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Os(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Fd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Mc(t)))}function Bb(t,n,a){switch(n.tag){case 3:ct(n,n.stateNode.containerInfo),_i(n,St,t.memoizedState.cache),ba();break;case 27:case 5:ta(n);break;case 4:ct(n,n.stateNode.containerInfo);break;case 10:_i(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,gd(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ti(n),n.flags|=128,null):(a&n.child.childLanes)!==0?o0(t,n,a):(Ti(n),t=Bs(t,n,a),t!==null?t.sibling:null);Ti(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(xr(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return u0(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ce(pt,pt.current),l)break;return null;case 22:return n.lanes=0,n0(t,n,a,n.pendingProps);case 24:_i(n,St,t.memoizedState.cache)}return Bs(t,n,a)}function h0(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Nt=!0;else{if(!Fd(t,a)&&(n.flags&128)===0)return Nt=!1,Bb(t,n,a);Nt=(t.flags&131072)!==0}else Nt=!1,ze&&(n.flags&1048576)!==0&&Hg(n,Vl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Aa(n.elementType),n.type=t,typeof t=="function")$h(t)?(l=Ra(t,l),n.tag=1,n=r0(null,n,t,l,a)):(n.tag=0,n=Ld(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ae){n.tag=11,n=Wp(null,n,t,l,a);break e}else if(h===I){n.tag=14,n=e0(null,n,t,l,a);break e}}throw n=qe(t)||t,Error(r(306,n,""))}}return n;case 0:return Ld(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Ra(l,n.pendingProps),r0(t,n,l,h,a);case 3:e:{if(ct(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,ud(t,n),Fl(n,l,null,a);var x=n.memoizedState;if(l=x.cache,_i(n,St,l),l!==f.cache&&id(n,[St],a,!0),Hl(),l=x.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:x.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=l0(t,n,l,a);break e}else if(l!==h){h=Cn(Error(r(424)),n),Ll(h),n=l0(t,n,l,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(nt=Dn(t.firstChild),Bt=n,ze=!0,yi=null,kn=!0,a=np(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ba(),l===h){n=Bs(t,n,a);break e}Ht(t,n,l,a)}n=n.child}return n;case 26:return Wc(t,n),t===null?(a=Ey(n.type,null,n.pendingProps,null))?n.memoizedState=a:ze||(a=n.type,t=n.pendingProps,l=pu(Se.current).createElement(a),l[bt]=n,l[Mt]=t,Ft(l,a,t),Et(l),n.stateNode=l):n.memoizedState=Ey(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ta(n),t===null&&ze&&(l=n.stateNode=_y(n.type,n.pendingProps,Se.current),Bt=n,kn=!0,h=nt,ji(n.type)?(Sf=h,nt=Dn(l.firstChild)):nt=h),Ht(t,n,n.pendingProps.children,a),Wc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ze&&((h=l=nt)&&(l=yE(l,n.type,n.pendingProps,kn),l!==null?(n.stateNode=l,Bt=n,nt=Dn(l.firstChild),kn=!1,h=!0):h=!1),h||xi(n)),ta(n),h=n.type,f=n.pendingProps,x=t!==null?t.memoizedProps:null,l=f.children,_f(h,f)?l=null:x!==null&&_f(h,x)&&(n.flags|=32),n.memoizedState!==null&&(h=yd(t,n,jb,null,null,a),uo._currentValue=h),Wc(t,n),Ht(t,n,l,a),n.child;case 6:return t===null&&ze&&((t=a=nt)&&(a=xE(a,n.pendingProps,kn),a!==null?(n.stateNode=a,Bt=n,nt=null,t=!0):t=!1),t||xi(n)),null;case 13:return o0(t,n,a);case 4:return ct(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=wa(n,null,l,a):Ht(t,n,l,a),n.child;case 11:return Wp(t,n,n.type,n.pendingProps,a);case 7:return Ht(t,n,n.pendingProps,a),n.child;case 8:return Ht(t,n,n.pendingProps.children,a),n.child;case 12:return Ht(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,_i(n,n.type,l.value),Ht(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ta(n),h=qt(h),l=l(h),n.flags|=1,Ht(t,n,l,a),n.child;case 14:return e0(t,n,n.type,n.pendingProps,a);case 15:return t0(t,n,n.type,n.pendingProps,a);case 19:return u0(t,n,a);case 31:return zb(t,n,a);case 22:return n0(t,n,a,n.pendingProps);case 24:return Ta(n),l=qt(St),t===null?(h=ld(),h===null&&(h=tt,f=ad(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},cd(n),_i(n,St,h)):((t.lanes&a)!==0&&(ud(t,n),Fl(n,null,null,a),Hl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),_i(n,St,l)):(l=f.cache,_i(n,St,l),l!==h.cache&&id(n,[St],a,!0))),Ht(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function qs(t){t.flags|=4}function Gd(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(U0())t.flags|=8192;else throw Na=Uc,od}else t.flags&=-16777217}function d0(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!wy(n))if(U0())t.flags|=8192;else throw Na=Uc,od}function tu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?lc():536870912,t.lanes|=n,Ir|=n)}function Xl(t,n){if(!ze)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function qb(t,n,a){var l=n.pendingProps;switch(Wh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(n),null;case 1:return st(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Us(St),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(yr(n)?qs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,td())),st(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(qs(n),f!==null?(st(n),d0(n,f)):(st(n),Gd(n,h,null,l,a))):f?f!==t.memoizedState?(qs(n),st(n),d0(n,f)):(st(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&qs(n),st(n),Gd(n,h,t,l,a)),null;case 27:if($a(n),a=Se.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&qs(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return st(n),null}t=he.current,yr(n)?Gg(n):(t=_y(h,l,a),n.stateNode=t,qs(n))}return st(n),null;case 5:if($a(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&qs(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return st(n),null}if(f=he.current,yr(n))Gg(n);else{var x=pu(Se.current);switch(f){case 1:f=x.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=x.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=x.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=x.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=x.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?x.createElement("select",{is:l.is}):x.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?x.createElement(h,{is:l.is}):x.createElement(h)}}f[bt]=n,f[Mt]=l;e:for(x=n.child;x!==null;){if(x.tag===5||x.tag===6)f.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===n)break e;for(;x.sibling===null;){if(x.return===null||x.return===n)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}n.stateNode=f;e:switch(Ft(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&qs(n)}}return st(n),Gd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&qs(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=Se.current,yr(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[bt]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||oy(t.nodeValue,a)),t||xi(n,!0)}else t=pu(t).createTextNode(l),t[bt]=n,n.stateNode=t}return st(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=yr(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[bt]=n}else ba(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;st(n),t=!1}else a=td(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(xn(n),n):(xn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return st(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=yr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[bt]=n}else ba(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;st(n),h=!1}else h=td(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(xn(n),n):(xn(n),null)}return xn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),tu(n,n.updateQueue),st(n),null);case 4:return at(),t===null&&mf(n.stateNode.containerInfo),st(n),null;case 10:return Us(n.type),st(n),null;case 19:if(W(pt),l=n.memoizedState,l===null)return st(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Xl(l,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=qc(t),f!==null){for(n.flags|=128,Xl(l,!1),t=f.updateQueue,n.updateQueue=t,tu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)zg(a,t),a=a.sibling;return ce(pt,pt.current&1|2),ze&&Vs(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&en()>ru&&(n.flags|=128,h=!0,Xl(l,!1),n.lanes=4194304)}else{if(!h)if(t=qc(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,tu(n,t),Xl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!ze)return st(n),null}else 2*en()-l.renderingStartTime>ru&&a!==536870912&&(n.flags|=128,h=!0,Xl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,a=pt.current,ce(pt,h?a&1|2:a&1),ze&&Vs(n,l.treeForkCount),t):(st(n),null);case 22:case 23:return xn(n),md(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(st(n),n.subtreeFlags&6&&(n.flags|=8192)):st(n),a=n.updateQueue,a!==null&&tu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&W(Sa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Us(St),st(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function Hb(t,n){switch(Wh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Us(St),at(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return $a(n),null;case 31:if(n.memoizedState!==null){if(xn(n),n.alternate===null)throw Error(r(340));ba()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(xn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ba()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return W(pt),null;case 4:return at(),null;case 10:return Us(n.type),null;case 22:case 23:return xn(n),md(),t!==null&&W(Sa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Us(St),null;case 25:return null;default:return null}}function f0(t,n){switch(Wh(n),n.tag){case 3:Us(St),at();break;case 26:case 27:case 5:$a(n);break;case 4:at();break;case 31:n.memoizedState!==null&&xn(n);break;case 13:xn(n);break;case 19:W(pt);break;case 10:Us(n.type);break;case 22:case 23:xn(n),md(),t!==null&&W(Sa);break;case 24:Us(St)}}function Zl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,x=a.inst;l=f(),x.destroy=l}a=a.next}while(a!==h)}}catch(b){Xe(n,n.return,b)}}function Ai(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var x=l.inst,b=x.destroy;if(b!==void 0){x.destroy=void 0,h=n;var k=a,F=b;try{F()}catch(ee){Xe(h,k,ee)}}}l=l.next}while(l!==f)}}catch(ee){Xe(n,n.return,ee)}}function m0(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{ip(n,a)}catch(l){Xe(t,t.return,l)}}}function g0(t,n,a){a.props=Ra(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,n,l)}}function Jl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Xe(t,n,h)}}function vs(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Xe(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xe(t,n,h)}else a.current=null}function p0(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Xe(t,t.return,h)}}function Yd(t,n,a){try{var l=t.stateNode;hE(l,t.type,a,n),l[Mt]=n}catch(h){Xe(t,t.return,h)}}function y0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ji(t.type)||t.tag===4}function Qd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||y0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ji(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kd(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=qn));else if(l!==4&&(l===27&&ji(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Kd(t,n,a),t=t.sibling;t!==null;)Kd(t,n,a),t=t.sibling}function nu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&ji(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(nu(t,n,a),t=t.sibling;t!==null;)nu(t,n,a),t=t.sibling}function x0(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ft(n,l,a),n[bt]=t,n[Mt]=a}catch(f){Xe(t,t.return,f)}}var Hs=!1,wt=!1,$d=!1,_0=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function Fb(t,n){if(t=t.containerInfo,yf=Tu,t=kg(t),qh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var x=0,b=-1,k=-1,F=0,ee=0,ne=t,G=null;t:for(;;){for(var K;ne!==a||h!==0&&ne.nodeType!==3||(b=x+h),ne!==f||l!==0&&ne.nodeType!==3||(k=x+l),ne.nodeType===3&&(x+=ne.nodeValue.length),(K=ne.firstChild)!==null;)G=ne,ne=K;for(;;){if(ne===t)break t;if(G===a&&++F===h&&(b=x),G===f&&++ee===l&&(k=x),(K=ne.nextSibling)!==null)break;ne=G,G=ne.parentNode}ne=K}a=b===-1||k===-1?null:{start:b,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(xf={focusedElem:t,selectionRange:a},Tu=!1,Vt=n;Vt!==null;)if(n=Vt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Vt=t;else for(;Vt!==null;){switch(n=Vt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var me=Ra(a.type,h);t=l.getSnapshotBeforeUpdate(me,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){Xe(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)bf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":bf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Vt=t;break}Vt=n.return}}function v0(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Gs(t,a),l&4&&Zl(5,a);break;case 1:if(Gs(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(x){Xe(a,a.return,x)}else{var h=Ra(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(x){Xe(a,a.return,x)}}l&64&&m0(a),l&512&&Jl(a,a.return);break;case 3:if(Gs(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{ip(t,n)}catch(x){Xe(a,a.return,x)}}break;case 27:n===null&&l&4&&x0(a);case 26:case 5:Gs(t,a),n===null&&l&4&&p0(a),l&512&&Jl(a,a.return);break;case 12:Gs(t,a);break;case 31:Gs(t,a),l&4&&T0(t,a);break;case 13:Gs(t,a),l&4&&S0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Wb.bind(null,a),_E(t,a))));break;case 22:if(l=a.memoizedState!==null||Hs,!l){n=n!==null&&n.memoizedState!==null||wt,h=Hs;var f=wt;Hs=l,(wt=n)&&!f?Ys(t,a,(a.subtreeFlags&8772)!==0):Gs(t,a),Hs=h,wt=f}break;case 30:break;default:Gs(t,a)}}function b0(t){var n=t.alternate;n!==null&&(t.alternate=null,b0(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&er(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,rn=!1;function Fs(t,n,a){for(a=a.child;a!==null;)E0(t,n,a),a=a.sibling}function E0(t,n,a){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Un,a)}catch{}switch(a.tag){case 26:wt||vs(a,n),Fs(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:wt||vs(a,n);var l=lt,h=rn;ji(a.type)&&(lt=a.stateNode,rn=!1),Fs(t,n,a),lo(a.stateNode),lt=l,rn=h;break;case 5:wt||vs(a,n);case 6:if(l=lt,h=rn,lt=null,Fs(t,n,a),lt=l,rn=h,lt!==null)if(rn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(f){Xe(a,n,f)}else try{lt.removeChild(a.stateNode)}catch(f){Xe(a,n,f)}break;case 18:lt!==null&&(rn?(t=lt,my(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ur(t)):my(lt,a.stateNode));break;case 4:l=lt,h=rn,lt=a.stateNode.containerInfo,rn=!0,Fs(t,n,a),lt=l,rn=h;break;case 0:case 11:case 14:case 15:Ai(2,a,n),wt||Ai(4,a,n),Fs(t,n,a);break;case 1:wt||(vs(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&g0(a,n,l)),Fs(t,n,a);break;case 21:Fs(t,n,a);break;case 22:wt=(l=wt)||a.memoizedState!==null,Fs(t,n,a),wt=l;break;default:Fs(t,n,a)}}function T0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ur(t)}catch(a){Xe(n,n.return,a)}}}function S0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ur(t)}catch(a){Xe(n,n.return,a)}}function Gb(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new _0),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new _0),n;default:throw Error(r(435,t.tag))}}function su(t,n){var a=Gb(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=eE.bind(null,t,l);l.then(h,h)}})}function ln(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,x=n,b=x;e:for(;b!==null;){switch(b.tag){case 27:if(ji(b.type)){lt=b.stateNode,rn=!1;break e}break;case 5:lt=b.stateNode,rn=!1;break e;case 3:case 4:lt=b.stateNode.containerInfo,rn=!0;break e}b=b.return}if(lt===null)throw Error(r(160));E0(f,x,h),lt=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)A0(n,t),n=n.sibling}var Kn=null;function A0(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),on(t),l&4&&(Ai(3,t,t.return),Zl(3,t),Ai(5,t,t.return));break;case 1:ln(n,t),on(t),l&512&&(wt||a===null||vs(a,a.return)),l&64&&Hs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Kn;if(ln(n,t),on(t),l&512&&(wt||a===null||vs(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[rs]||f[bt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Ft(f,l,a),f[bt]=t,Et(f),l=f;break e;case"link":var x=Ay("link","href",h).get(l+(a.href||""));if(x){for(var b=0;b<x.length;b++)if(f=x[b],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){x.splice(b,1);break t}}f=h.createElement(l),Ft(f,l,a),h.head.appendChild(f);break;case"meta":if(x=Ay("meta","content",h).get(l+(a.content||""))){for(b=0;b<x.length;b++)if(f=x[b],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){x.splice(b,1);break t}}f=h.createElement(l),Ft(f,l,a),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[bt]=t,Et(f),l=f}t.stateNode=l}else Ny(h,t.type,t.stateNode);else t.stateNode=Sy(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Ny(h,t.type,t.stateNode):Sy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Yd(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(n,t),on(t),l&512&&(wt||a===null||vs(a,a.return)),a!==null&&l&4&&Yd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(n,t),on(t),l&512&&(wt||a===null||vs(a,a.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(me){Xe(t,t.return,me)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Yd(t,h,a!==null?a.memoizedProps:h)),l&1024&&($d=!0);break;case 6:if(ln(n,t),on(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(me){Xe(t,t.return,me)}}break;case 3:if(_u=null,h=Kn,Kn=yu(n.containerInfo),ln(n,t),Kn=h,on(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ur(n.containerInfo)}catch(me){Xe(t,t.return,me)}$d&&($d=!1,N0(t));break;case 4:l=Kn,Kn=yu(t.stateNode.containerInfo),ln(n,t),on(t),Kn=l;break;case 12:ln(n,t),on(t);break;case 31:ln(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,su(t,l)));break;case 13:ln(n,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(au=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,su(t,l)));break;case 22:h=t.memoizedState!==null;var k=a!==null&&a.memoizedState!==null,F=Hs,ee=wt;if(Hs=F||h,wt=ee||k,ln(n,t),wt=ee,Hs=F,on(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||k||Hs||wt||Ia(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){k=a=n;try{if(f=k.stateNode,h)x=f.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{b=k.stateNode;var ne=k.memoizedProps.style,G=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;b.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(me){Xe(k,k.return,me)}}}else if(n.tag===6){if(a===null){k=n;try{k.stateNode.nodeValue=h?"":k.memoizedProps}catch(me){Xe(k,k.return,me)}}}else if(n.tag===18){if(a===null){k=n;try{var K=k.stateNode;h?gy(K,!0):gy(k.stateNode,!1)}catch(me){Xe(k,k.return,me)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,su(t,a))));break;case 19:ln(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,su(t,l)));break;case 30:break;case 21:break;default:ln(n,t),on(t)}}function on(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(y0(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Qd(t);nu(t,f,h);break;case 5:var x=a.stateNode;a.flags&32&&(an(x,""),a.flags&=-33);var b=Qd(t);nu(t,b,x);break;case 3:case 4:var k=a.stateNode.containerInfo,F=Qd(t);Kd(t,F,k);break;default:throw Error(r(161))}}catch(ee){Xe(t,t.return,ee)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function N0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;N0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Gs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)v0(t,n.alternate,n),n=n.sibling}function Ia(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ai(4,n,n.return),Ia(n);break;case 1:vs(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&g0(n,n.return,a),Ia(n);break;case 27:lo(n.stateNode);case 26:case 5:vs(n,n.return),Ia(n);break;case 22:n.memoizedState===null&&Ia(n);break;case 30:Ia(n);break;default:Ia(n)}t=t.sibling}}function Ys(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,x=f.flags;switch(f.tag){case 0:case 11:case 15:Ys(h,f,a),Zl(4,f);break;case 1:if(Ys(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){Xe(l,l.return,F)}if(l=f,h=l.updateQueue,h!==null){var b=l.stateNode;try{var k=h.shared.hiddenCallbacks;if(k!==null)for(h.shared.hiddenCallbacks=null,h=0;h<k.length;h++)sp(k[h],b)}catch(F){Xe(l,l.return,F)}}a&&x&64&&m0(f),Jl(f,f.return);break;case 27:x0(f);case 26:case 5:Ys(h,f,a),a&&l===null&&x&4&&p0(f),Jl(f,f.return);break;case 12:Ys(h,f,a);break;case 31:Ys(h,f,a),a&&x&4&&T0(h,f);break;case 13:Ys(h,f,a),a&&x&4&&S0(h,f);break;case 22:f.memoizedState===null&&Ys(h,f,a),Jl(f,f.return);break;case 30:break;default:Ys(h,f,a)}n=n.sibling}}function Xd(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ul(a))}function Zd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ul(t))}function $n(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)w0(t,n,a,l),n=n.sibling}function w0(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:$n(t,n,a,l),h&2048&&Zl(9,n);break;case 1:$n(t,n,a,l);break;case 3:$n(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ul(t)));break;case 12:if(h&2048){$n(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,x=f.id,b=f.onPostCommit;typeof b=="function"&&b(x,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(k){Xe(n,n.return,k)}}else $n(t,n,a,l);break;case 31:$n(t,n,a,l);break;case 13:$n(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,x=n.alternate,n.memoizedState!==null?f._visibility&2?$n(t,n,a,l):Wl(t,n):f._visibility&2?$n(t,n,a,l):(f._visibility|=2,wr(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Xd(x,n);break;case 24:$n(t,n,a,l),h&2048&&Zd(n.alternate,n);break;default:$n(t,n,a,l)}}function wr(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,x=n,b=a,k=l,F=x.flags;switch(x.tag){case 0:case 11:case 15:wr(f,x,b,k,h),Zl(8,x);break;case 23:break;case 22:var ee=x.stateNode;x.memoizedState!==null?ee._visibility&2?wr(f,x,b,k,h):Wl(f,x):(ee._visibility|=2,wr(f,x,b,k,h)),h&&F&2048&&Xd(x.alternate,x);break;case 24:wr(f,x,b,k,h),h&&F&2048&&Zd(x.alternate,x);break;default:wr(f,x,b,k,h)}n=n.sibling}}function Wl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:Wl(a,l),h&2048&&Xd(l.alternate,l);break;case 24:Wl(a,l),h&2048&&Zd(l.alternate,l);break;default:Wl(a,l)}n=n.sibling}}var eo=8192;function Cr(t,n,a){if(t.subtreeFlags&eo)for(t=t.child;t!==null;)C0(t,n,a),t=t.sibling}function C0(t,n,a){switch(t.tag){case 26:Cr(t,n,a),t.flags&eo&&t.memoizedState!==null&&kE(a,Kn,t.memoizedState,t.memoizedProps);break;case 5:Cr(t,n,a);break;case 3:case 4:var l=Kn;Kn=yu(t.stateNode.containerInfo),Cr(t,n,a),Kn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=eo,eo=16777216,Cr(t,n,a),eo=l):Cr(t,n,a));break;default:Cr(t,n,a)}}function R0(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function to(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Vt=l,k0(l,t)}R0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)I0(t),t=t.sibling}function I0(t){switch(t.tag){case 0:case 11:case 15:to(t),t.flags&2048&&Ai(9,t,t.return);break;case 3:to(t);break;case 12:to(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,iu(t)):to(t);break;default:to(t)}}function iu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Vt=l,k0(l,t)}R0(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ai(8,n,n.return),iu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,iu(n));break;default:iu(n)}t=t.sibling}}function k0(t,n){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:Ai(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ul(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Vt=l;else e:for(a=t;Vt!==null;){l=Vt;var h=l.sibling,f=l.return;if(b0(l),l===a){Vt=null;break e}if(h!==null){h.return=f,Vt=h;break e}Vt=f}}}var Yb={getCacheForType:function(t){var n=qt(St),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return qt(St).controller.signal}},Qb=typeof WeakMap=="function"?WeakMap:Map,Ye=0,tt=null,De=null,Oe=0,$e=0,_n=null,Ni=!1,Rr=!1,Jd=!1,Qs=0,ft=0,wi=0,ka=0,Wd=0,vn=0,Ir=0,no=null,cn=null,ef=!1,au=0,j0=0,ru=1/0,lu=null,Ci=null,kt=0,Ri=null,kr=null,Ks=0,tf=0,nf=null,D0=null,so=0,sf=null;function bn(){return(Ye&2)!==0&&Oe!==0?Oe&-Oe:U.T!==null?uf():oc()}function M0(){if(vn===0)if((Oe&536870912)===0||ze){var t=ia;ia<<=1,(ia&3932160)===0&&(ia=262144),vn=t}else vn=536870912;return t=yn.current,t!==null&&(t.flags|=32),vn}function un(t,n,a){(t===tt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(jr(t,0),Ii(t,Oe,vn,!1)),aa(t,a),((Ye&2)===0||t!==tt)&&(t===tt&&((Ye&2)===0&&(ka|=a),ft===4&&Ii(t,Oe,vn,!1)),bs(t))}function O0(t,n,a){if((Ye&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Pn(t,n),h=l?Xb(t,n):rf(t,n,!0),f=l;do{if(h===0){Rr&&!l&&Ii(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!Kb(a)){h=rf(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var x=0;else x=t.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){n=x;e:{var b=t;h=no;var k=b.current.memoizedState.isDehydrated;if(k&&(jr(b,x).flags|=256),x=rf(b,x,!1),x!==2){if(Jd&&!k){b.errorRecoveryDisabledLanes|=f,ka|=f,h=4;break e}f=cn,cn=h,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}h=x}if(f=!1,h!==2)continue}}if(h===1){jr(t,0),Ii(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ii(l,n,vn,!Ni);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=au+300-en(),10<h)){if(Ii(l,n,vn,!Ni),ss(l,0,!0)!==0)break e;Ks=n,l.timeoutHandle=dy(V0.bind(null,l,a,cn,lu,ef,n,vn,ka,Ir,Ni,f,"Throttled",-0,0),h);break e}V0(l,a,cn,lu,ef,n,vn,ka,Ir,Ni,f,null,-0,0)}}break}while(!0);bs(t)}function V0(t,n,a,l,h,f,x,b,k,F,ee,ne,G,K){if(t.timeoutHandle=-1,ne=n.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},C0(n,f,ne);var me=(f&62914560)===f?au-en():(f&4194048)===f?j0-en():0;if(me=jE(ne,me),me!==null){Ks=f,t.cancelPendingCommit=me(F0.bind(null,t,n,f,a,l,h,x,b,k,ee,ne,null,G,K)),Ii(t,f,x,!F);return}}F0(t,n,f,a,l,h,x,b,k)}function Kb(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ii(t,n,a,l){n&=~Wd,n&=~ka,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-mt(h),x=1<<f;l[f]=-1,h&=~x}a!==0&&ra(t,a,n)}function ou(){return(Ye&6)===0?(io(0),!1):!0}function af(){if(De!==null){if($e===0)var t=De.return;else t=De,Ls=Ea=null,vd(t),Er=null,zl=0,t=De;for(;t!==null;)f0(t.alternate,t),t=t.return;De=null}}function jr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,mE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ks=0,af(),tt=t,De=a=Os(t.current,null),Oe=n,$e=0,_n=null,Ni=!1,Rr=Pn(t,n),Jd=!1,Ir=vn=Wd=ka=wi=ft=0,cn=no=null,ef=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-mt(l),f=1<<h;n|=t[h],l&=~f}return Qs=n,Rc(),a}function L0(t,n){Ie=null,U.H=Kl,n===br||n===Lc?(n=Wg(),$e=3):n===od?(n=Wg(),$e=4):$e=n===Vd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,De===null&&(ft=1,Zc(t,Cn(n,t.current)))}function U0(){var t=yn.current;return t===null?!0:(Oe&4194048)===Oe?jn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===jn:!1}function P0(){var t=U.H;return U.H=Kl,t===null?Kl:t}function z0(){var t=U.A;return U.A=Yb,t}function cu(){ft=4,Ni||(Oe&4194048)!==Oe&&yn.current!==null||(Rr=!0),(wi&134217727)===0&&(ka&134217727)===0||tt===null||Ii(tt,Oe,vn,!1)}function rf(t,n,a){var l=Ye;Ye|=2;var h=P0(),f=z0();(tt!==t||Oe!==n)&&(lu=null,jr(t,n)),n=!1;var x=ft;e:do try{if($e!==0&&De!==null){var b=De,k=_n;switch($e){case 8:af(),x=6;break e;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var F=$e;if($e=0,_n=null,Dr(t,b,k,F),a&&Rr){x=0;break e}break;default:F=$e,$e=0,_n=null,Dr(t,b,k,F)}}$b(),x=ft;break}catch(ee){L0(t,ee)}while(!0);return n&&t.shellSuspendCounter++,Ls=Ea=null,Ye=l,U.H=h,U.A=f,De===null&&(tt=null,Oe=0,Rc()),x}function $b(){for(;De!==null;)B0(De)}function Xb(t,n){var a=Ye;Ye|=2;var l=P0(),h=z0();tt!==t||Oe!==n?(lu=null,ru=en()+500,jr(t,n)):Rr=Pn(t,n);e:do try{if($e!==0&&De!==null){n=De;var f=_n;t:switch($e){case 1:$e=0,_n=null,Dr(t,n,f,1);break;case 2:case 9:if(Zg(f)){$e=0,_n=null,q0(n);break}n=function(){$e!==2&&$e!==9||tt!==t||($e=7),bs(t)},f.then(n,n);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Zg(f)?($e=0,_n=null,q0(n)):($e=0,_n=null,Dr(t,n,f,7));break;case 5:var x=null;switch(De.tag){case 26:x=De.memoizedState;case 5:case 27:var b=De;if(x?wy(x):b.stateNode.complete){$e=0,_n=null;var k=b.sibling;if(k!==null)De=k;else{var F=b.return;F!==null?(De=F,uu(F)):De=null}break t}}$e=0,_n=null,Dr(t,n,f,5);break;case 6:$e=0,_n=null,Dr(t,n,f,6);break;case 8:af(),ft=6;break e;default:throw Error(r(462))}}Zb();break}catch(ee){L0(t,ee)}while(!0);return Ls=Ea=null,U.H=l,U.A=h,Ye=a,De!==null?0:(tt=null,Oe=0,Rc(),ft)}function Zb(){for(;De!==null&&!Oh();)B0(De)}function B0(t){var n=h0(t.alternate,t,Qs);t.memoizedProps=t.pendingProps,n===null?uu(t):De=n}function q0(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=a0(a,n,n.pendingProps,n.type,void 0,Oe);break;case 11:n=a0(a,n,n.pendingProps,n.type.render,n.ref,Oe);break;case 5:vd(n);default:f0(a,n),n=De=zg(n,Qs),n=h0(a,n,Qs)}t.memoizedProps=t.pendingProps,n===null?uu(t):De=n}function Dr(t,n,a,l){Ls=Ea=null,vd(n),Er=null,zl=0;var h=n.return;try{if(Pb(t,h,n,a,Oe)){ft=1,Zc(t,Cn(a,t.current)),De=null;return}}catch(f){if(h!==null)throw De=h,f;ft=1,Zc(t,Cn(a,t.current)),De=null;return}n.flags&32768?(ze||l===1?t=!0:Rr||(Oe&536870912)!==0?t=!1:(Ni=t=!0,(l===2||l===9||l===3||l===6)&&(l=yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),H0(n,t)):uu(n)}function uu(t){var n=t;do{if((n.flags&32768)!==0){H0(n,Ni);return}t=n.return;var a=qb(n.alternate,n,Qs);if(a!==null){De=a;return}if(n=n.sibling,n!==null){De=n;return}De=n=t}while(n!==null);ft===0&&(ft=5)}function H0(t,n){do{var a=Hb(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ft=6,De=null}function F0(t,n,a,l,h,f,x,b,k){t.cancelPendingCommit=null;do hu();while(kt!==0);if((Ye&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Qh,Uh(t,a,f,x,b,k),t===tt&&(De=tt=null,Oe=0),kr=n,Ri=t,Ks=a,tf=f,nf=h,D0=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,tE(ri,function(){return $0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=U.T,U.T=null,h=$.p,$.p=2,x=Ye,Ye|=4;try{Fb(t,n,a)}finally{Ye=x,$.p=h,U.T=l}}kt=1,G0(),Y0(),Q0()}}function G0(){if(kt===1){kt=0;var t=Ri,n=kr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var l=$.p;$.p=2;var h=Ye;Ye|=4;try{A0(n,t);var f=xf,x=kg(t.containerInfo),b=f.focusedElem,k=f.selectionRange;if(x!==b&&b&&b.ownerDocument&&Ig(b.ownerDocument.documentElement,b)){if(k!==null&&qh(b)){var F=k.start,ee=k.end;if(ee===void 0&&(ee=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(ee,b.value.length);else{var ne=b.ownerDocument||document,G=ne&&ne.defaultView||window;if(G.getSelection){var K=G.getSelection(),me=b.textContent.length,ve=Math.min(k.start,me),et=k.end===void 0?ve:Math.min(k.end,me);!K.extend&&ve>et&&(x=et,et=ve,ve=x);var P=Rg(b,ve),O=Rg(b,et);if(P&&O&&(K.rangeCount!==1||K.anchorNode!==P.node||K.anchorOffset!==P.offset||K.focusNode!==O.node||K.focusOffset!==O.offset)){var H=ne.createRange();H.setStart(P.node,P.offset),K.removeAllRanges(),ve>et?(K.addRange(H),K.extend(O.node,O.offset)):(H.setEnd(O.node,O.offset),K.addRange(H))}}}}for(ne=[],K=b;K=K.parentNode;)K.nodeType===1&&ne.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ne.length;b++){var te=ne[b];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Tu=!!yf,xf=yf=null}finally{Ye=h,$.p=l,U.T=a}}t.current=n,kt=2}}function Y0(){if(kt===2){kt=0;var t=Ri,n=kr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var l=$.p;$.p=2;var h=Ye;Ye|=4;try{v0(t,n.alternate,n)}finally{Ye=h,$.p=l,U.T=a}}kt=3}}function Q0(){if(kt===4||kt===3){kt=0,tc();var t=Ri,n=kr,a=Ks,l=D0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?kt=5:(kt=0,kr=Ri=null,K0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ci=null),ks(a),n=n.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=U.T,h=$.p,$.p=2,U.T=null;try{for(var f=t.onRecoverableError,x=0;x<l.length;x++){var b=l[x];f(b.value,{componentStack:b.stack})}}finally{U.T=n,$.p=h}}(Ks&3)!==0&&hu(),bs(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===sf?so++:(so=0,sf=t):so=0,io(0)}}function K0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ul(n)))}function hu(){return G0(),Y0(),Q0(),$0()}function $0(){if(kt!==5)return!1;var t=Ri,n=tf;tf=0;var a=ks(Ks),l=U.T,h=$.p;try{$.p=32>a?32:a,U.T=null,a=nf,nf=null;var f=Ri,x=Ks;if(kt=0,kr=Ri=null,Ks=0,(Ye&6)!==0)throw Error(r(331));var b=Ye;if(Ye|=4,I0(f.current),w0(f,f.current,x,a),Ye=b,io(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Un,f)}catch{}return!0}finally{$.p=h,U.T=l,K0(t,n)}}function X0(t,n,a){n=Cn(a,n),n=Od(t.stateNode,n,2),t=Ei(t,n,2),t!==null&&(aa(t,2),bs(t))}function Xe(t,n,a){if(t.tag===3)X0(t,t,a);else for(;n!==null;){if(n.tag===3){X0(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ci===null||!Ci.has(l))){t=Cn(a,t),a=Zp(2),l=Ei(n,a,2),l!==null&&(Jp(a,l,n,t),aa(l,2),bs(l));break}}n=n.return}}function lf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Qb;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(Jd=!0,h.add(a),t=Jb.bind(null,t,n,a),n.then(t,t))}function Jb(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(Oe&a)===a&&(ft===4||ft===3&&(Oe&62914560)===Oe&&300>en()-au?(Ye&2)===0&&jr(t,0):Wd|=a,Ir===Oe&&(Ir=0)),bs(t)}function Z0(t,n){n===0&&(n=lc()),t=_a(t,n),t!==null&&(aa(t,n),bs(t))}function Wb(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Z0(t,a)}function eE(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Z0(t,a)}function tE(t,n){return It(t,n)}var du=null,Mr=null,of=!1,fu=!1,cf=!1,ki=0;function bs(t){t!==Mr&&t.next===null&&(Mr===null?du=Mr=t:Mr=Mr.next=t),fu=!0,of||(of=!0,sE())}function io(t,n){if(!cf&&fu){cf=!0;do for(var a=!1,l=du;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var x=l.suspendedLanes,b=l.pingedLanes;f=(1<<31-mt(42|t)+1)-1,f&=h&~(x&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,ty(l,f))}else f=Oe,f=ss(l,l===tt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Pn(l,f)||(a=!0,ty(l,f));l=l.next}while(a);cf=!1}}function nE(){J0()}function J0(){fu=of=!1;var t=0;ki!==0&&fE()&&(t=ki);for(var n=en(),a=null,l=du;l!==null;){var h=l.next,f=W0(l,n);f===0?(l.next=null,a===null?du=h:a.next=h,h===null&&(Mr=a)):(a=l,(t!==0||(f&3)!==0)&&(fu=!0)),l=h}kt!==0&&kt!==5||io(t),ki!==0&&(ki=0)}function W0(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var x=31-mt(f),b=1<<x,k=h[x];k===-1?((b&a)===0||(b&l)!==0)&&(h[x]=Lh(b,n)):k<=n&&(t.expiredLanes|=b),f&=~b}if(n=tt,a=Oe,a=ss(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ai(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Pn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&ai(l),ks(a)){case 2:case 8:a=ml;break;case 32:a=ri;break;case 268435456:a=nc;break;default:a=ri}return l=ey.bind(null,t),a=It(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&ai(l),t.callbackPriority=2,t.callbackNode=null,2}function ey(t,n){if(kt!==0&&kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(hu()&&t.callbackNode!==a)return null;var l=Oe;return l=ss(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(O0(t,l,n),W0(t,en()),t.callbackNode!=null&&t.callbackNode===a?ey.bind(null,t):null)}function ty(t,n){if(hu())return null;O0(t,n,!0)}function sE(){gE(function(){(Ye&6)!==0?It(fl,nE):J0()})}function uf(){if(ki===0){var t=_r;t===0&&(t=ts,ts<<=1,(ts&261888)===0&&(ts=256)),ki=t}return ki}function ny(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ir(""+t)}function sy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function iE(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=ny((h[Mt]||null).action),x=l.submitter;x&&(n=(n=x[Mt]||null)?ny(n.formAction):x.getAttribute("formAction"),n!==null&&(f=n,x=null));var b=new ms("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ki!==0){var k=x?sy(h,x):new FormData(h);Rd(a,{pending:!0,data:k,method:h.method,action:f},null,k)}}else typeof f=="function"&&(b.preventDefault(),k=x?sy(h,x):new FormData(h),Rd(a,{pending:!0,data:k,method:h.method,action:f},f,k))},currentTarget:h}]})}}for(var hf=0;hf<Yh.length;hf++){var df=Yh[hf],aE=df.toLowerCase(),rE=df[0].toUpperCase()+df.slice(1);Qn(aE,"on"+rE)}Qn(Mg,"onAnimationEnd"),Qn(Og,"onAnimationIteration"),Qn(Vg,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(Eb,"onTransitionRun"),Qn(Tb,"onTransitionStart"),Qn(Sb,"onTransitionCancel"),Qn(Lg,"onTransitionEnd"),us("onMouseEnter",["mouseout","mouseover"]),us("onMouseLeave",["mouseout","mouseover"]),us("onPointerEnter",["pointerout","pointerover"]),us("onPointerLeave",["pointerout","pointerover"]),cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cs("onBeforeInput",["compositionend","keypress","textInput","paste"]),cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ao));function iy(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var x=l.length-1;0<=x;x--){var b=l[x],k=b.instance,F=b.currentTarget;if(b=b.listener,k!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=F;try{f(h)}catch(ee){Cc(ee)}h.currentTarget=null,f=k}else for(x=0;x<l.length;x++){if(b=l[x],k=b.instance,F=b.currentTarget,b=b.listener,k!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=F;try{f(h)}catch(ee){Cc(ee)}h.currentTarget=null,f=k}}}}function Me(t,n){var a=n[Wa];a===void 0&&(a=n[Wa]=new Set);var l=t+"__bubble";a.has(l)||(ay(n,t,2,!1),a.add(l))}function ff(t,n,a){var l=0;n&&(l|=4),ay(a,t,l,n)}var mu="_reactListening"+Math.random().toString(36).slice(2);function mf(t){if(!t[mu]){t[mu]=!0,yl.forEach(function(a){a!=="selectionchange"&&(lE.has(a)||ff(a,!1,t),ff(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[mu]||(n[mu]=!0,ff("selectionchange",!1,n))}}function ay(t,n,a,l){switch(My(n)){case 2:var h=OE;break;case 8:h=VE;break;default:h=Rf}a=h.bind(null,n,a,t),h=void 0,!ha||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function gf(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var x=l.tag;if(x===3||x===4){var b=l.stateNode.containerInfo;if(b===h)break;if(x===4)for(x=l.return;x!==null;){var k=x.tag;if((k===3||k===4)&&x.stateNode.containerInfo===h)return;x=x.return}for(;b!==null;){if(x=ls(b),x===null)return;if(k=x.tag,k===5||k===6||k===26||k===27){l=f=x;continue e}b=b.parentNode}}l=l.return}di(function(){var F=f,ee=Sn(a),ne=[];e:{var G=Ug.get(t);if(G!==void 0){var K=ms,me=t;switch(t){case"keypress":if(fa(a)===0)break e;case"keydown":case"keyup":K=Ac;break;case"focusin":me="focus",K=ga;break;case"focusout":me="blur",K=ga;break;case"beforeblur":case"afterblur":K=ga;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=pc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=g;break;case Mg:case Og:case Vg:K=xc;break;case Lg:K=S;break;case"scroll":case"scrollend":K=Rl;break;case"wheel":K=Q;break;case"copy":case"cut":case"paste":K=_c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Ms;break;case"toggle":case"beforetoggle":K=Re}var ve=(n&4)!==0,et=!ve&&(t==="scroll"||t==="scrollend"),P=ve?G!==null?G+"Capture":null:G;ve=[];for(var O=F,H;O!==null;){var te=O;if(H=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||H===null||P===null||(te=Hn(O,P),te!=null&&ve.push(ro(O,te,H))),et)break;O=O.return}0<ve.length&&(G=new K(G,me,null,a,ee),ne.push({event:G,listeners:ve}))}}if((n&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",G&&a!==Nl&&(me=a.relatedTarget||a.fromElement)&&(ls(me)||me[as]))break e;if((K||G)&&(G=ee.window===ee?ee:(G=ee.ownerDocument)?G.defaultView||G.parentWindow:window,K?(me=a.relatedTarget||a.toElement,K=F,me=me?ls(me):null,me!==null&&(et=u(me),ve=me.tag,me!==et||ve!==5&&ve!==27&&ve!==6)&&(me=null)):(K=null,me=F),K!==me)){if(ve=Il,te="onMouseLeave",P="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Ms,te="onPointerLeave",P="onPointerEnter",O="pointer"),et=K==null?G:fn(K),H=me==null?G:fn(me),G=new ve(te,O+"leave",K,a,ee),G.target=et,G.relatedTarget=H,te=null,ls(ee)===F&&(ve=new ve(P,O+"enter",me,a,ee),ve.target=H,ve.relatedTarget=et,te=ve),et=te,K&&me)t:{for(ve=oE,P=K,O=me,H=0,te=P;te;te=ve(te))H++;te=0;for(var xe=O;xe;xe=ve(xe))te++;for(;0<H-te;)P=ve(P),H--;for(;0<te-H;)O=ve(O),te--;for(;H--;){if(P===O||O!==null&&P===O.alternate){ve=P;break t}P=ve(P),O=ve(O)}ve=null}else ve=null;K!==null&&ry(ne,G,K,ve,!1),me!==null&&et!==null&&ry(ne,et,me,ve,!0)}}e:{if(G=F?fn(F):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var He=Tg;else if(bg(G))if(Sg)He=_b;else{He=yb;var ge=pb}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&sr(F.elementType)&&(He=Tg):He=xb;if(He&&(He=He(t,F))){Eg(ne,He,a,ee);break e}ge&&ge(t,G,F),t==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&Tl(G,"number",G.value)}switch(ge=F?fn(F):window,t){case"focusin":(bg(ge)||ge.contentEditable==="true")&&(hr=ge,Hh=F,Ol=null);break;case"focusout":Ol=Hh=hr=null;break;case"mousedown":Fh=!0;break;case"contextmenu":case"mouseup":case"dragend":Fh=!1,jg(ne,a,ee);break;case"selectionchange":if(bb)break;case"keydown":case"keyup":jg(ne,a,ee)}var ke;if(Ge)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else ur?pa(t,a)&&(Ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ve="onCompositionStart");Ve&&(ys&&a.locale!=="ko"&&(ur||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&ur&&(ke=Cl()):(fs=ee,wl="value"in fs?fs.value:fs.textContent,ur=!0)),ge=gu(F,Ve),0<ge.length&&(Ve=new ps(Ve,t,null,a,ee),ne.push({event:Ve,listeners:ge}),ke?Ve.data=ke:(ke=cr(a),ke!==null&&(Ve.data=ke)))),(ke=Nn?db(t,a):fb(t,a))&&(Ve=gu(F,"onBeforeInput"),0<Ve.length&&(ge=new ps("onBeforeInput","beforeinput",null,a,ee),ne.push({event:ge,listeners:Ve}),ge.data=ke)),iE(ne,t,F,a,ee)}iy(ne,n)})}function ro(t,n,a){return{instance:t,listener:n,currentTarget:a}}function gu(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Hn(t,a),h!=null&&l.unshift(ro(t,h,f)),h=Hn(t,n),h!=null&&l.push(ro(t,h,f))),t.tag===3)return l;t=t.return}return[]}function oE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ry(t,n,a,l,h){for(var f=n._reactName,x=[];a!==null&&a!==l;){var b=a,k=b.alternate,F=b.stateNode;if(b=b.tag,k!==null&&k===l)break;b!==5&&b!==26&&b!==27||F===null||(k=F,h?(F=Hn(a,f),F!=null&&x.unshift(ro(a,F,k))):h||(F=Hn(a,f),F!=null&&x.push(ro(a,F,k)))),a=a.return}x.length!==0&&t.push({event:n,listeners:x})}var cE=/\r\n?/g,uE=/\u0000|\uFFFD/g;function ly(t){return(typeof t=="string"?t:""+t).replace(cE,`
`).replace(uE,"")}function oy(t,n){return n=ly(n),ly(t)===n}function We(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&an(t,""+l);break;case"className":mn(t,"class",l);break;case"tabIndex":mn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(t,a,l);break;case"style":Al(t,l,f);break;case"data":if(n!=="object"){mn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ir(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&We(t,n,"name",h.name,h,null),We(t,n,"formEncType",h.formEncType,h,null),We(t,n,"formMethod",h.formMethod,h,null),We(t,n,"formTarget",h.formTarget,h,null)):(We(t,n,"encType",h.encType,h,null),We(t,n,"method",h.method,h,null),We(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ir(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=qn);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ir(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),tr(t,"popover",l);break;case"xlinkActuate":Tt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Tt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Tt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Tt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Tt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Tt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":tr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=gc.get(a)||a,tr(t,a,l))}}function pf(t,n,a,l,h,f){switch(a){case"style":Al(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Mt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):tr(t,a,l)}}}function Ft(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var x=a[f];if(x!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:We(t,n,f,x,a,null)}}h&&We(t,n,"srcSet",a.srcSet,a,null),l&&We(t,n,"src",a.src,a,null);return;case"input":Me("invalid",t);var b=f=x=h=null,k=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var ee=a[l];if(ee!=null)switch(l){case"name":h=ee;break;case"type":x=ee;break;case"checked":k=ee;break;case"defaultChecked":F=ee;break;case"value":f=ee;break;case"defaultValue":b=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,n));break;default:We(t,n,l,ee,a,null)}}dc(t,f,b,k,F,x,h,!1);return;case"select":Me("invalid",t),l=x=f=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":x=b;break;case"multiple":l=b;default:We(t,n,h,b,a,null)}n=f,a=x,t.multiple=!!l,n!=null?oi(t,!!l,n,!1):a!=null&&oi(t,!!l,a,!0);return;case"textarea":Me("invalid",t),f=h=l=null;for(x in a)if(a.hasOwnProperty(x)&&(b=a[x],b!=null))switch(x){case"value":l=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:We(t,n,x,b,a,null)}ci(t,l,h,f);return;case"option":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,n,k,l,a,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<ao.length;l++)Me(ao[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:We(t,n,F,l,a,null)}return;default:if(sr(n)){for(ee in a)a.hasOwnProperty(ee)&&(l=a[ee],l!==void 0&&pf(t,n,ee,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&We(t,n,b,l,a,null))}function hE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,x=null,b=null,k=null,F=null,ee=null;for(K in a){var ne=a[K];if(a.hasOwnProperty(K)&&ne!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":k=ne;default:l.hasOwnProperty(K)||We(t,n,K,null,l,ne)}}for(var G in l){var K=l[G];if(ne=a[G],l.hasOwnProperty(G)&&(K!=null||ne!=null))switch(G){case"type":f=K;break;case"name":h=K;break;case"checked":F=K;break;case"defaultChecked":ee=K;break;case"value":x=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,n));break;default:K!==ne&&We(t,n,G,K,l,ne)}}nr(t,x,b,k,F,ee,f,h);return;case"select":K=x=b=G=null;for(f in a)if(k=a[f],a.hasOwnProperty(f)&&k!=null)switch(f){case"value":break;case"multiple":K=k;default:l.hasOwnProperty(f)||We(t,n,f,null,l,k)}for(h in l)if(f=l[h],k=a[h],l.hasOwnProperty(h)&&(f!=null||k!=null))switch(h){case"value":G=f;break;case"defaultValue":b=f;break;case"multiple":x=f;default:f!==k&&We(t,n,h,f,l,k)}n=b,a=x,l=K,G!=null?oi(t,!!a,G,!1):!!l!=!!a&&(n!=null?oi(t,!!a,n,!0):oi(t,!!a,a?[]:"",!1));return;case"textarea":K=G=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:We(t,n,b,null,l,h)}for(x in l)if(h=l[x],f=a[x],l.hasOwnProperty(x)&&(h!=null||f!=null))switch(x){case"value":G=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&We(t,n,x,h,l,f)}fc(t,G,K);return;case"option":for(var me in a)if(G=a[me],a.hasOwnProperty(me)&&G!=null&&!l.hasOwnProperty(me))switch(me){case"selected":t.selected=!1;break;default:We(t,n,me,null,l,G)}for(k in l)if(G=l[k],K=a[k],l.hasOwnProperty(k)&&G!==K&&(G!=null||K!=null))switch(k){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:We(t,n,k,G,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)G=a[ve],a.hasOwnProperty(ve)&&G!=null&&!l.hasOwnProperty(ve)&&We(t,n,ve,null,l,G);for(F in l)if(G=l[F],K=a[F],l.hasOwnProperty(F)&&G!==K&&(G!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:We(t,n,F,G,l,K)}return;default:if(sr(n)){for(var et in a)G=a[et],a.hasOwnProperty(et)&&G!==void 0&&!l.hasOwnProperty(et)&&pf(t,n,et,void 0,l,G);for(ee in l)G=l[ee],K=a[ee],!l.hasOwnProperty(ee)||G===K||G===void 0&&K===void 0||pf(t,n,ee,G,l,K);return}}for(var P in a)G=a[P],a.hasOwnProperty(P)&&G!=null&&!l.hasOwnProperty(P)&&We(t,n,P,null,l,G);for(ne in l)G=l[ne],K=a[ne],!l.hasOwnProperty(ne)||G===K||G==null&&K==null||We(t,n,ne,G,l,K)}function cy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,x=h.initiatorType,b=h.duration;if(f&&b&&cy(x)){for(x=0,b=h.responseEnd,l+=1;l<a.length;l++){var k=a[l],F=k.startTime;if(F>b)break;var ee=k.transferSize,ne=k.initiatorType;ee&&cy(ne)&&(k=k.responseEnd,x+=ee*(k<b?1:(b-F)/(k-F)))}if(--l,n+=8*(f+x)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var yf=null,xf=null;function pu(t){return t.nodeType===9?t:t.ownerDocument}function uy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function _f(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var vf=null;function fE(){var t=window.event;return t&&t.type==="popstate"?t===vf?!1:(vf=t,!0):(vf=null,!1)}var dy=typeof setTimeout=="function"?setTimeout:void 0,mE=typeof clearTimeout=="function"?clearTimeout:void 0,fy=typeof Promise=="function"?Promise:void 0,gE=typeof queueMicrotask=="function"?queueMicrotask:typeof fy<"u"?function(t){return fy.resolve(null).then(t).catch(pE)}:dy;function pE(t){setTimeout(function(){throw t})}function ji(t){return t==="head"}function my(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Ur(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")lo(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,lo(a);for(var f=a.firstChild;f;){var x=f.nextSibling,b=f.nodeName;f[rs]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=x}}else a==="body"&&lo(t.ownerDocument.body);a=h}while(a);Ur(n)}function gy(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function bf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bf(a),er(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function yE(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[rs])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Dn(t.nextSibling),t===null)break}return null}function xE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Dn(t.nextSibling),t===null))return null;return t}function py(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Dn(t.nextSibling),t===null))return null;return t}function Ef(t){return t.data==="$?"||t.data==="$~"}function Tf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function _E(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Dn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Sf=null;function yy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Dn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function xy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function _y(t,n,a){switch(n=pu(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function lo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);er(t)}var Mn=new Map,vy=new Set;function yu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var $s=$.d;$.d={f:vE,r:bE,D:EE,C:TE,L:SE,m:AE,X:wE,S:NE,M:CE};function vE(){var t=$s.f(),n=ou();return t||n}function bE(t){var n=Tn(t);n!==null&&n.tag===5&&n.type==="form"?Lp(n):$s.r(t)}var Or=typeof document>"u"?null:document;function by(t,n,a){var l=Or;if(l&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),vy.has(h)||(vy.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ft(n,"link",t),Et(n),l.head.appendChild(n)))}}function EE(t){$s.D(t),by("dns-prefetch",t,null)}function TE(t,n){$s.C(t,n),by("preconnect",t,n)}function SE(t,n,a){$s.L(t,n,a);var l=Or;if(l&&t&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(t)+'"]';var f=h;switch(n){case"style":f=Vr(t);break;case"script":f=Lr(t)}Mn.has(f)||(t=T({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Mn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(oo(f))||n==="script"&&l.querySelector(co(f))||(n=l.createElement("link"),Ft(n,"link",t),Et(n),l.head.appendChild(n)))}}function AE(t,n){$s.m(t,n);var a=Or;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Lr(t)}if(!Mn.has(f)&&(t=T({rel:"modulepreload",href:t},n),Mn.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(co(f)))return}l=a.createElement("link"),Ft(l,"link",t),Et(l),a.head.appendChild(l)}}}function NE(t,n,a){$s.S(t,n,a);var l=Or;if(l&&t){var h=os(l).hoistableStyles,f=Vr(t);n=n||"default";var x=h.get(f);if(!x){var b={loading:0,preload:null};if(x=l.querySelector(oo(f)))b.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Mn.get(f))&&Af(t,a);var k=x=l.createElement("link");Et(k),Ft(k,"link",t),k._p=new Promise(function(F,ee){k.onload=F,k.onerror=ee}),k.addEventListener("load",function(){b.loading|=1}),k.addEventListener("error",function(){b.loading|=2}),b.loading|=4,xu(x,n,l)}x={type:"stylesheet",instance:x,count:1,state:b},h.set(f,x)}}}function wE(t,n){$s.X(t,n);var a=Or;if(a&&t){var l=os(a).hoistableScripts,h=Lr(t),f=l.get(h);f||(f=a.querySelector(co(h)),f||(t=T({src:t,async:!0},n),(n=Mn.get(h))&&Nf(t,n),f=a.createElement("script"),Et(f),Ft(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function CE(t,n){$s.M(t,n);var a=Or;if(a&&t){var l=os(a).hoistableScripts,h=Lr(t),f=l.get(h);f||(f=a.querySelector(co(h)),f||(t=T({src:t,async:!0,type:"module"},n),(n=Mn.get(h))&&Nf(t,n),f=a.createElement("script"),Et(f),Ft(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Ey(t,n,a,l){var h=(h=Se.current)?yu(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Vr(a.href),a=os(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Vr(a.href);var f=os(h).hoistableStyles,x=f.get(t);if(x||(h=h.ownerDocument||h,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,x),(f=h.querySelector(oo(t)))&&!f._p&&(x.instance=f,x.state.loading=5),Mn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(t,a),f||RE(h,t,a,x.state))),n&&l===null)throw Error(r(528,""));return x}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Lr(a),a=os(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Vr(t){return'href="'+sn(t)+'"'}function oo(t){return'link[rel="stylesheet"]['+t+"]"}function Ty(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function RE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ft(n,"link",a),Et(n),t.head.appendChild(n))}function Lr(t){return'[src="'+sn(t)+'"]'}function co(t){return"script[async]"+t}function Sy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+sn(a.href)+'"]');if(l)return n.instance=l,Et(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Et(l),Ft(l,"style",h),xu(l,a.precedence,t),n.instance=l;case"stylesheet":h=Vr(a.href);var f=t.querySelector(oo(h));if(f)return n.state.loading|=4,n.instance=f,Et(f),f;l=Ty(a),(h=Mn.get(h))&&Af(l,h),f=(t.ownerDocument||t).createElement("link"),Et(f);var x=f;return x._p=new Promise(function(b,k){x.onload=b,x.onerror=k}),Ft(f,"link",l),n.state.loading|=4,xu(f,a.precedence,t),n.instance=f;case"script":return f=Lr(a.src),(h=t.querySelector(co(f)))?(n.instance=h,Et(h),h):(l=a,(h=Mn.get(f))&&(l=T({},a),Nf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Et(h),Ft(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,xu(l,a.precedence,t));return n.instance}function xu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,x=0;x<l.length;x++){var b=l[x];if(b.dataset.precedence===n)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Af(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Nf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var _u=null;function Ay(t,n,a){if(_u===null){var l=new Map,h=_u=new Map;h.set(a,l)}else h=_u,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[rs]||f[bt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var x=f.getAttribute(n)||"";x=t+x;var b=l.get(x);b?b.push(f):l.set(x,[f])}}return l}function Ny(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function IE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function wy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function kE(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Vr(l.href),f=n.querySelector(oo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=vu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Et(f);return}f=n.ownerDocument||n,l=Ty(l),(h=Mn.get(h))&&Af(l,h),f=f.createElement("link"),Et(f);var x=f;x._p=new Promise(function(b,k){x.onload=b,x.onerror=k}),Ft(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=vu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var wf=0;function jE(t,n){return t.stylesheets&&t.count===0&&Eu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Eu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&wf===0&&(wf=62500*dE());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Eu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>wf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function vu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Eu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bu=null;function Eu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bu=new Map,n.forEach(DE,t),bu=null,vu.call(t))}function DE(t,n){if(!(n.state.loading&4)){var a=bu.get(t);if(a)var l=a.get(null);else{a=new Map,bu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var x=h[f];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(a.set(x.dataset.precedence,x),l=x)}l&&a.set(null,l)}h=n.instance,x=h.getAttribute("data-precedence"),f=a.get(x)||l,f===l&&a.set(null,h),a.set(x,h),this.count++,l=vu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var uo={$$typeof:M,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function ME(t,n,a,l,h,f,x,b,k){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=is(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=is(0),this.hiddenUpdates=is(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function Cy(t,n,a,l,h,f,x,b,k,F,ee,ne){return t=new ME(t,n,a,x,k,F,ee,ne,b),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),t.current=f,f.stateNode=t,n=ad(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},cd(f),t}function Ry(t){return t?(t=mr,t):mr}function Iy(t,n,a,l,h,f){h=Ry(h),l.context===null?l.context=h:l.pendingContext=h,l=bi(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Ei(t,l,n),a!==null&&(un(a,t,n),ql(a,t,n))}function ky(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Cf(t,n){ky(t,n),(t=t.alternate)&&ky(t,n)}function jy(t){if(t.tag===13||t.tag===31){var n=_a(t,67108864);n!==null&&un(n,t,67108864),Cf(t,67108864)}}function Dy(t){if(t.tag===13||t.tag===31){var n=bn();n=la(n);var a=_a(t,n);a!==null&&un(a,t,n),Cf(t,n)}}var Tu=!0;function OE(t,n,a,l){var h=U.T;U.T=null;var f=$.p;try{$.p=2,Rf(t,n,a,l)}finally{$.p=f,U.T=h}}function VE(t,n,a,l){var h=U.T;U.T=null;var f=$.p;try{$.p=8,Rf(t,n,a,l)}finally{$.p=f,U.T=h}}function Rf(t,n,a,l){if(Tu){var h=If(l);if(h===null)gf(t,n,l,Su,a),Oy(t,l);else if(UE(h,t,n,a,l))l.stopPropagation();else if(Oy(t,l),n&4&&-1<LE.indexOf(t)){for(;h!==null;){var f=Tn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var x=ns(f.pendingLanes);if(x!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;x;){var k=1<<31-mt(x);b.entanglements[1]|=k,x&=~k}bs(f),(Ye&6)===0&&(ru=en()+500,io(0))}}break;case 31:case 13:b=_a(f,2),b!==null&&un(b,f,2),ou(),Cf(f,2)}if(f=If(l),f===null&&gf(t,n,l,Su,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else gf(t,n,l,null,a)}}function If(t){return t=Sn(t),kf(t)}var Su=null;function kf(t){if(Su=null,t=ls(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=m(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Su=t,null}function My(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sa()){case fl:return 2;case ml:return 8;case ri:case Vh:return 32;case nc:return 268435456;default:return 32}default:return 32}}var jf=!1,Di=null,Mi=null,Oi=null,ho=new Map,fo=new Map,Vi=[],LE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Oy(t,n){switch(t){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":Mi=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":ho.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fo.delete(n.pointerId)}}function mo(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Tn(n),n!==null&&jy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function UE(t,n,a,l,h){switch(n){case"focusin":return Di=mo(Di,t,n,a,l,h),!0;case"dragenter":return Mi=mo(Mi,t,n,a,l,h),!0;case"mouseover":return Oi=mo(Oi,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return ho.set(f,mo(ho.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,fo.set(f,mo(fo.get(f)||null,t,n,a,l,h)),!0}return!1}function Vy(t){var n=ls(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=m(a),n!==null){t.blockedOn=n,zn(t.priority,function(){Dy(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,zn(t.priority,function(){Dy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Au(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=If(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Nl=l,a.target.dispatchEvent(l),Nl=null}else return n=Tn(a),n!==null&&jy(n),t.blockedOn=a,!1;n.shift()}return!0}function Ly(t,n,a){Au(t)&&a.delete(n)}function PE(){jf=!1,Di!==null&&Au(Di)&&(Di=null),Mi!==null&&Au(Mi)&&(Mi=null),Oi!==null&&Au(Oi)&&(Oi=null),ho.forEach(Ly),fo.forEach(Ly)}function Nu(t,n){t.blockedOn===n&&(t.blockedOn=null,jf||(jf=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,PE)))}var wu=null;function Uy(t){wu!==t&&(wu=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){wu===t&&(wu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(kf(l||a)===null)continue;break}var f=Tn(a);f!==null&&(t.splice(n,3),n-=3,Rd(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ur(t){function n(k){return Nu(k,t)}Di!==null&&Nu(Di,t),Mi!==null&&Nu(Mi,t),Oi!==null&&Nu(Oi,t),ho.forEach(n),fo.forEach(n);for(var a=0;a<Vi.length;a++){var l=Vi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Vi.length&&(a=Vi[0],a.blockedOn===null);)Vy(a),a.blockedOn===null&&Vi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],x=h[Mt]||null;if(typeof f=="function")x||Uy(a);else if(x){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,x=f[Mt]||null)b=x.formAction;else if(kf(h)!==null)continue}else b=x.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),Uy(a)}}}function Py(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(x){return h=x})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Df(t){this._internalRoot=t}Cu.prototype.render=Df.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=bn();Iy(a,l,t,n,null,null)},Cu.prototype.unmount=Df.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Iy(t.current,2,null,t,null,null),ou(),n[as]=null}};function Cu(t){this._internalRoot=t}Cu.prototype.unstable_scheduleHydration=function(t){if(t){var n=oc();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Vi.length&&n!==0&&n<Vi[a].priority;a++);Vi.splice(a,0,t),a===0&&Vy(t)}};var zy=e.version;if(zy!=="19.2.1")throw Error(r(527,zy,"19.2.1"));$.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var zE={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ru.isDisabled&&Ru.supportsFiber)try{Un=Ru.inject(zE),Pt=Ru}catch{}}return po.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",h=Qp,f=Kp,x=$p;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(x=n.onRecoverableError)),n=Cy(t,1,!1,null,null,a,l,null,h,f,x,Py),t[as]=n.current,mf(t),new Df(n)},po.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,h="",f=Qp,x=Kp,b=$p,k=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(k=a.formState)),n=Cy(t,1,!0,n,a??null,l,h,k,f,x,b,Py),n.context=Ry(null),a=n.current,l=bn(),l=la(l),h=bi(l),h.callback=null,Ei(a,h,l),a=l,n.current.lanes=a,aa(n,a),bs(n),t[as]=n.current,mf(t),new Cu(n)},po.version="19.2.1",po}var Xy;function XE(){if(Xy)return Vf.exports;Xy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Vf.exports=$E(),Vf.exports}var ZE=XE();const JE=()=>{};var Zy={};const k_=function(i){const e=[];let s=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[s++]=o:o<2048?(e[s++]=o>>6|192,e[s++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[s++]=o>>18|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128,e[s++]=o&63|128):(e[s++]=o>>12|224,e[s++]=o>>6&63|128,e[s++]=o&63|128)}return e},WE=function(i){const e=[];let s=0,r=0;for(;s<i.length;){const o=i[s++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[s++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[s++],m=i[s++],p=i[s++],y=((o&7)<<18|(u&63)<<12|(m&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const u=i[s++],m=i[s++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|m&63)}}return e.join("")},j_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const u=i[o],m=o+1<i.length,p=m?i[o+1]:0,y=o+2<i.length,_=y?i[o+2]:0,E=u>>2,T=(u&3)<<4|p>>4;let N=(p&15)<<2|_>>6,B=_&63;y||(B=64,m||(N=64)),r.push(s[E],s[T],s[N],s[B])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(k_(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):WE(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const u=s[i.charAt(o++)],p=o<i.length?s[i.charAt(o)]:0;++o;const _=o<i.length?s[i.charAt(o)]:64;++o;const T=o<i.length?s[i.charAt(o)]:64;if(++o,u==null||p==null||_==null||T==null)throw new e2;const N=u<<2|p>>4;if(r.push(N),_!==64){const B=p<<4&240|_>>2;if(r.push(B),T!==64){const J=_<<6&192|T;r.push(J)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class e2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const t2=function(i){const e=k_(i);return j_.encodeByteArray(e,!0)},Yu=function(i){return t2(i).replace(/\./g,"")},D_=function(i){try{return j_.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function n2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const s2=()=>n2().__FIREBASE_DEFAULTS__,i2=()=>{if(typeof process>"u"||typeof Zy>"u")return;const i=Zy.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},a2=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&D_(i[1]);return e&&JSON.parse(e)},mh=()=>{try{return JE()||s2()||i2()||a2()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},M_=i=>mh()?.emulatorHosts?.[i],r2=i=>{const e=M_(i);if(!e)return;const s=e.lastIndexOf(":");if(s<=0||s+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(s+1),10);return e[0]==="["?[e.substring(1,s-1),r]:[e.substring(0,s),r]},O_=()=>mh()?.config,V_=i=>mh()?.[`_${i}`];class l2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,r))}}}function sl(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function L_(i){return(await fetch(i,{credentials:"include"})).ok}function o2(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Yu(JSON.stringify(s)),Yu(JSON.stringify(m)),""].join(".")}const bo={};function c2(){const i={prod:[],emulator:[]};for(const e of Object.keys(bo))bo[e]?i.emulator.push(e):i.prod.push(e);return i}function u2(i){let e=document.getElementById(i),s=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),s=!0),{created:s,element:e}}let Jy=!1;function U_(i,e){if(typeof window>"u"||typeof document>"u"||!sl(window.location.host)||bo[i]===e||bo[i]||Jy)return;bo[i]=e;function s(N){return`__firebase__banner__${N}`}const r="__firebase__banner",u=c2().prod.length>0;function m(){const N=document.getElementById(r);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function y(N,B){N.setAttribute("width","24"),N.setAttribute("id",B),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function _(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{Jy=!0,m()},N}function E(N,B){N.setAttribute("id",B),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function T(){const N=u2(r),B=s("text"),J=document.getElementById(B)||document.createElement("span"),Y=s("learnmore"),z=document.getElementById(Y)||document.createElement("a"),ie=s("preprendIcon"),D=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const M=N.element;p(M),E(z,Y);const ae=_();y(D,ie),M.append(D,J,z,ae),document.body.appendChild(M)}u?(J.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function h2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function d2(){const i=mh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function f2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function m2(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function g2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function p2(){const i=Wt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function y2(){return!d2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x2(){try{return typeof indexedDB=="object"}catch{return!1}}function _2(){return new Promise((i,e)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),s||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{s=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(s){e(s)}})}const v2="FirebaseError";class ii extends Error{constructor(e,s,r){super(s),this.code=e,this.customData=r,this.name=v2,Object.setPrototypeOf(this,ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bo.prototype.create)}}class Bo{constructor(e,s,r){this.service=e,this.serviceName=s,this.errors=r}create(e,...s){const r=s[0]||{},o=`${this.service}/${e}`,u=this.errors[e],m=u?b2(u,r):"Error",p=`${this.serviceName}: ${m} (${o}).`;return new ii(o,p,r)}}function b2(i,e){return i.replace(E2,(s,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const E2=/\{\$([^}]+)}/g;function T2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Ua(i,e){if(i===e)return!0;const s=Object.keys(i),r=Object.keys(e);for(const o of s){if(!r.includes(o))return!1;const u=i[o],m=e[o];if(Wy(u)&&Wy(m)){if(!Ua(u,m))return!1}else if(u!==m)return!1}for(const o of r)if(!s.includes(o))return!1;return!0}function Wy(i){return i!==null&&typeof i=="object"}function qo(i){const e=[];for(const[s,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function S2(i,e){const s=new A2(i,e);return s.subscribe.bind(s)}class A2{constructor(e,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(s=>{s.next(e)})}error(e){this.forEachObserver(s=>{s.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,s,r){let o;if(e===void 0&&s===void 0&&r===void 0)throw new Error("Missing Observer.");N2(e,["next","error","complete"])?o=e:o={next:e,error:s,complete:r},o.next===void 0&&(o.next=zf),o.error===void 0&&(o.error=zf),o.complete===void 0&&(o.complete=zf);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,e)}sendOne(e,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{s(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function N2(i,e){if(typeof i!="object"||i===null)return!1;for(const s of e)if(s in i&&typeof i[s]=="function")return!0;return!1}function zf(){}function Ln(i){return i&&i._delegate?i._delegate:i}class Pa{constructor(e,s,r){this.name=e,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ja="[DEFAULT]";class w2{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const r=new l2;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:s});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){const s=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(R2(e))try{this.getOrInitializeService({instanceIdentifier:ja})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ja){return this.instances.has(e)}getOptions(e=ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[u,m]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&m.resolve(o)}return o}onInit(e,s){const r=this.normalizeInstanceIdentifier(s),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,s){const r=this.onInitCallbacks.get(s);if(r)for(const o of r)try{o(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:C2(e),options:s}),this.instances.set(e,r),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ja){return this.component?this.component.multipleInstances?e:ja:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function C2(i){return i===ja?void 0:i}function R2(i){return i.instantiationMode==="EAGER"}class I2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new w2(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}var Le;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Le||(Le={}));const k2={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},j2=Le.INFO,D2={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},M2=(i,e,...s)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=D2[e];if(o)console[o](`[${r}]  ${i.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rm{constructor(e){this.name=e,this._logLevel=j2,this._logHandler=M2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?k2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const O2=(i,e)=>e.some(s=>i instanceof s);let ex,tx;function V2(){return ex||(ex=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function L2(){return tx||(tx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P_=new WeakMap,em=new WeakMap,z_=new WeakMap,Bf=new WeakMap,Im=new WeakMap;function U2(i){const e=new Promise((s,r)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",m)},u=()=>{s(Fi(i.result)),o()},m=()=>{r(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",m)});return e.then(s=>{s instanceof IDBCursor&&P_.set(s,i)}).catch(()=>{}),Im.set(e,i),e}function P2(i){if(em.has(i))return;const e=new Promise((s,r)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",m),i.removeEventListener("abort",m)},u=()=>{s(),o()},m=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",m),i.addEventListener("abort",m)});em.set(i,e)}let tm={get(i,e,s){if(i instanceof IDBTransaction){if(e==="done")return em.get(i);if(e==="objectStoreNames")return i.objectStoreNames||z_.get(i);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Fi(i[e])},set(i,e,s){return i[e]=s,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function z2(i){tm=i(tm)}function B2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const r=i.call(qf(this),e,...s);return z_.set(r,e.sort?e.sort():[e]),Fi(r)}:L2().includes(i)?function(...e){return i.apply(qf(this),e),Fi(P_.get(this))}:function(...e){return Fi(i.apply(qf(this),e))}}function q2(i){return typeof i=="function"?B2(i):(i instanceof IDBTransaction&&P2(i),O2(i,V2())?new Proxy(i,tm):i)}function Fi(i){if(i instanceof IDBRequest)return U2(i);if(Bf.has(i))return Bf.get(i);const e=q2(i);return e!==i&&(Bf.set(i,e),Im.set(e,i)),e}const qf=i=>Im.get(i);function H2(i,e,{blocked:s,upgrade:r,blocking:o,terminated:u}={}){const m=indexedDB.open(i,e),p=Fi(m);return r&&m.addEventListener("upgradeneeded",y=>{r(Fi(m.result),y.oldVersion,y.newVersion,Fi(m.transaction),y)}),s&&m.addEventListener("blocked",y=>s(y.oldVersion,y.newVersion,y)),p.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const F2=["get","getKey","getAll","getAllKeys","count"],G2=["put","add","delete","clear"],Hf=new Map;function nx(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Hf.get(e))return Hf.get(e);const s=e.replace(/FromIndex$/,""),r=e!==s,o=G2.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(o||F2.includes(s)))return;const u=async function(m,...p){const y=this.transaction(m,o?"readwrite":"readonly");let _=y.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[s](...p),o&&y.done]))[0]};return Hf.set(e,u),u}z2(i=>({...i,get:(e,s,r)=>nx(e,s)||i.get(e,s,r),has:(e,s)=>!!nx(e,s)||i.has(e,s)}));class Y2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(Q2(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function Q2(i){return i.getComponent()?.type==="VERSION"}const nm="@firebase/app",sx="0.14.6";const ei=new Rm("@firebase/app"),K2="@firebase/app-compat",$2="@firebase/analytics-compat",X2="@firebase/analytics",Z2="@firebase/app-check-compat",J2="@firebase/app-check",W2="@firebase/auth",eT="@firebase/auth-compat",tT="@firebase/database",nT="@firebase/data-connect",sT="@firebase/database-compat",iT="@firebase/functions",aT="@firebase/functions-compat",rT="@firebase/installations",lT="@firebase/installations-compat",oT="@firebase/messaging",cT="@firebase/messaging-compat",uT="@firebase/performance",hT="@firebase/performance-compat",dT="@firebase/remote-config",fT="@firebase/remote-config-compat",mT="@firebase/storage",gT="@firebase/storage-compat",pT="@firebase/firestore",yT="@firebase/ai",xT="@firebase/firestore-compat",_T="firebase",vT="12.6.0";const sm="[DEFAULT]",bT={[nm]:"fire-core",[K2]:"fire-core-compat",[X2]:"fire-analytics",[$2]:"fire-analytics-compat",[J2]:"fire-app-check",[Z2]:"fire-app-check-compat",[W2]:"fire-auth",[eT]:"fire-auth-compat",[tT]:"fire-rtdb",[nT]:"fire-data-connect",[sT]:"fire-rtdb-compat",[iT]:"fire-fn",[aT]:"fire-fn-compat",[rT]:"fire-iid",[lT]:"fire-iid-compat",[oT]:"fire-fcm",[cT]:"fire-fcm-compat",[uT]:"fire-perf",[hT]:"fire-perf-compat",[dT]:"fire-rc",[fT]:"fire-rc-compat",[mT]:"fire-gcs",[gT]:"fire-gcs-compat",[pT]:"fire-fst",[xT]:"fire-fst-compat",[yT]:"fire-vertex","fire-js":"fire-js",[_T]:"fire-js-all"};const Qu=new Map,ET=new Map,im=new Map;function ix(i,e){try{i.container.addComponent(e)}catch(s){ei.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,s)}}function Qr(i){const e=i.name;if(im.has(e))return ei.debug(`There were multiple attempts to register component ${e}.`),!1;im.set(e,i);for(const s of Qu.values())ix(s,i);for(const s of ET.values())ix(s,i);return!0}function km(i,e){const s=i.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),i.container.getProvider(e)}function Xn(i){return i==null?!1:i.settings!==void 0}const TT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gi=new Bo("app","Firebase",TT);class ST{constructor(e,s,r){this._isDeleted=!1,this._options={...e},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}}const il=vT;function B_(i,e={}){let s=i;typeof e!="object"&&(e={name:e});const r={name:sm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Gi.create("bad-app-name",{appName:String(o)});if(s||(s=O_()),!s)throw Gi.create("no-options");const u=Qu.get(o);if(u){if(Ua(s,u.options)&&Ua(r,u.config))return u;throw Gi.create("duplicate-app",{appName:o})}const m=new I2(o);for(const y of im.values())m.addComponent(y);const p=new ST(s,r,m);return Qu.set(o,p),p}function q_(i=sm){const e=Qu.get(i);if(!e&&i===sm&&O_())return B_();if(!e)throw Gi.create("no-app",{appName:i});return e}function Yi(i,e,s){let r=bT[i]??i;s&&(r+=`-${s}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const m=[`Unable to register library "${r}" with version "${e}":`];o&&m.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&m.push("and"),u&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ei.warn(m.join(" "));return}Qr(new Pa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const AT="firebase-heartbeat-database",NT=1,Ro="firebase-heartbeat-store";let Ff=null;function H_(){return Ff||(Ff=H2(AT,NT,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Ro)}catch(s){console.warn(s)}}}}).catch(i=>{throw Gi.create("idb-open",{originalErrorMessage:i.message})})),Ff}async function wT(i){try{const s=(await H_()).transaction(Ro),r=await s.objectStore(Ro).get(F_(i));return await s.done,r}catch(e){if(e instanceof ii)ei.warn(e.message);else{const s=Gi.create("idb-get",{originalErrorMessage:e?.message});ei.warn(s.message)}}}async function ax(i,e){try{const r=(await H_()).transaction(Ro,"readwrite");await r.objectStore(Ro).put(e,F_(i)),await r.done}catch(s){if(s instanceof ii)ei.warn(s.message);else{const r=Gi.create("idb-set",{originalErrorMessage:s?.message});ei.warn(r.message)}}}function F_(i){return`${i.name}!${i.options.appId}`}const CT=1024,RT=30;class IT{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new jT(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=rx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>RT){const o=DT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ei.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=rx(),{heartbeatsToSend:s,unsentEntries:r}=kT(this._heartbeatsCache.heartbeats),o=Yu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ei.warn(e),""}}}function rx(){return new Date().toISOString().substring(0,10)}function kT(i,e=CT){const s=[];let r=i.slice();for(const o of i){const u=s.find(m=>m.agent===o.agent);if(u){if(u.dates.push(o.date),lx(s)>e){u.dates.pop();break}}else if(s.push({agent:o.agent,dates:[o.date]}),lx(s)>e){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class jT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return x2()?_2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await wT(this.app);return s?.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ax(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ax(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function lx(i){return Yu(JSON.stringify({version:2,heartbeats:i})).length}function DT(i){if(i.length===0)return-1;let e=0,s=i[0].date;for(let r=1;r<i.length;r++)i[r].date<s&&(s=i[r].date,e=r);return e}function MT(i){Qr(new Pa("platform-logger",e=>new Y2(e),"PRIVATE")),Qr(new Pa("heartbeat",e=>new IT(e),"PRIVATE")),Yi(nm,sx,i),Yi(nm,sx,"esm2020"),Yi("fire-js","")}MT("");function G_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OT=G_,Y_=new Bo("auth","Firebase",G_());const Ku=new Rm("@firebase/auth");function VT(i,...e){Ku.logLevel<=Le.WARN&&Ku.warn(`Auth (${il}): ${i}`,...e)}function Vu(i,...e){Ku.logLevel<=Le.ERROR&&Ku.error(`Auth (${il}): ${i}`,...e)}function Cs(i,...e){throw Dm(i,...e)}function Wn(i,...e){return Dm(i,...e)}function jm(i,e,s){const r={...OT(),[e]:s};return new Bo("auth","Firebase",r).create(e,{appName:i.name})}function Oa(i){return jm(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function LT(i,e,s){const r=s;if(!(e instanceof r))throw r.name!==e.constructor.name&&Cs(i,"argument-error"),jm(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dm(i,...e){if(typeof i!="string"){const s=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(s,...r)}return Y_.create(i,...e)}function Ae(i,e,...s){if(!i)throw Dm(e,...s)}function Zs(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Vu(e),new Error(e)}function ti(i,e){i||Zs(e)}function am(){return typeof self<"u"&&self.location?.href||""}function UT(){return ox()==="http:"||ox()==="https:"}function ox(){return typeof self<"u"&&self.location?.protocol||null}function PT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UT()||m2()||"connection"in navigator)?navigator.onLine:!0}function zT(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Ho{constructor(e,s){this.shortDelay=e,this.longDelay=s,ti(s>e,"Short delay should be less than long delay!"),this.isMobile=h2()||g2()}get(){return PT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mm(i,e){ti(i.emulator,"Emulator should always be set here");const{url:s}=i.emulator;return e?`${s}${e.startsWith("/")?e.slice(1):e}`:s}class Q_{static initialize(e,s,r){this.fetchImpl=e,s&&(this.headersImpl=s),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const BT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const qT=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HT=new Ho(3e4,6e4);function Om(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function al(i,e,s,r,o={}){return K_(i,o,async()=>{let u={},m={};r&&(e==="GET"?m=r:u={body:JSON.stringify(r)});const p=qo({key:i.config.apiKey,...m}).slice(1),y=await i._getAdditionalHeaders();y["Content-Type"]="application/json",i.languageCode&&(y["X-Firebase-Locale"]=i.languageCode);const _={method:e,headers:y,...u};return f2()||(_.referrerPolicy="no-referrer"),i.emulatorConfig&&sl(i.emulatorConfig.host)&&(_.credentials="include"),Q_.fetch()(await $_(i,i.config.apiHost,s,p),_)})}async function K_(i,e,s){i._canInitEmulator=!1;const r={...BT,...e};try{const o=new GT(i),u=await Promise.race([s(),o.promise]);o.clearNetworkTimeout();const m=await u.json();if("needConfirmation"in m)throw Iu(i,"account-exists-with-different-credential",m);if(u.ok&&!("errorMessage"in m))return m;{const p=u.ok?m.errorMessage:m.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Iu(i,"credential-already-in-use",m);if(y==="EMAIL_EXISTS")throw Iu(i,"email-already-in-use",m);if(y==="USER_DISABLED")throw Iu(i,"user-disabled",m);const E=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw jm(i,E,_);Cs(i,E)}}catch(o){if(o instanceof ii)throw o;Cs(i,"network-request-failed",{message:String(o)})}}async function FT(i,e,s,r,o={}){const u=await al(i,e,s,r,o);return"mfaPendingCredential"in u&&Cs(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function $_(i,e,s,r){const o=`${e}${s}?${r}`,u=i,m=u.config.emulator?Mm(i.config,o):`${i.config.apiScheme}://${o}`;return qT.includes(s)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(m).toString():m}class GT{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((s,r)=>{this.timer=setTimeout(()=>r(Wn(this.auth,"network-request-failed")),HT.get())})}}function Iu(i,e,s){const r={appName:i.name};s.email&&(r.email=s.email),s.phoneNumber&&(r.phoneNumber=s.phoneNumber);const o=Wn(i,e,r);return o.customData._tokenResponse=s,o}async function YT(i,e){return al(i,"POST","/v1/accounts:delete",e)}async function $u(i,e){return al(i,"POST","/v1/accounts:lookup",e)}function Eo(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QT(i,e=!1){const s=Ln(i),r=await s.getIdToken(e),o=Vm(r);Ae(o&&o.exp&&o.auth_time&&o.iat,s.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,m=u?.sign_in_provider;return{claims:o,token:r,authTime:Eo(Gf(o.auth_time)),issuedAtTime:Eo(Gf(o.iat)),expirationTime:Eo(Gf(o.exp)),signInProvider:m||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Gf(i){return Number(i)*1e3}function Vm(i){const[e,s,r]=i.split(".");if(e===void 0||s===void 0||r===void 0)return Vu("JWT malformed, contained fewer than 3 sections"),null;try{const o=D_(s);return o?JSON.parse(o):(Vu("Failed to decode base64 JWT payload"),null)}catch(o){return Vu("Caught error parsing JWT payload as JSON",o?.toString()),null}}function cx(i){const e=Vm(i);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Io(i,e,s=!1){if(s)return e;try{return await e}catch(r){throw r instanceof ii&&KT(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function KT({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class $T{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const s=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class rm{constructor(e,s){this.createdAt=e,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eo(this.lastLoginAt),this.creationTime=Eo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xu(i){const e=i.auth,s=await i.getIdToken(),r=await Io(i,$u(e,{idToken:s}));Ae(r?.users.length,e,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?X_(o.providerUserInfo):[],m=ZT(i.providerData,u),p=i.isAnonymous,y=!(i.email&&o.passwordHash)&&!m?.length,_=p?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:m,metadata:new rm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(i,E)}async function XT(i){const e=Ln(i);await Xu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZT(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function X_(i){return i.map(({providerId:e,...s})=>({providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}))}async function JT(i,e){const s=await K_(i,{},async()=>{const r=qo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,m=await $_(i,o,"/v1/token",`key=${u}`),p=await i._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:r};return i.emulatorConfig&&sl(i.emulatorConfig.host)&&(y.credentials="include"),Q_.fetch()(m,y)});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function WT(i,e){return al(i,"POST","/v2/accounts:revokeToken",Om(i,e))}class Hr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const s="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,s)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const s=cx(e);this.updateTokensAndExpiration(e,null,s)}async getToken(e,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,s){const{accessToken:r,refreshToken:o,expiresIn:u}=await JT(e,s);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,s,r){this.refreshToken=s||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,s){const{refreshToken:r,accessToken:o,expirationTime:u}=s,m=new Hr;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),m.refreshToken=r),o&&(Ae(typeof o=="string","internal-error",{appName:e}),m.accessToken=o),u&&(Ae(typeof u=="number","internal-error",{appName:e}),m.expirationTime=u),m}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hr,this.toJSON())}_performRefresh(){return Zs("not implemented")}}function Ui(i,e){Ae(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Zn{constructor({uid:e,auth:s,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new $T(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new rm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const s=await Io(this,this.stsTokenManager.getToken(this.auth,e));return Ae(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(e){return QT(this,e)}reload(){return XT(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(s=>({...s})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const s=new Zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return s.metadata._copy(this.metadata),s}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,s=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),s&&await Xu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(Oa(this.auth));const e=await this.getIdToken();return await Io(this,YT(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,s){const r=s.displayName??void 0,o=s.email??void 0,u=s.phoneNumber??void 0,m=s.photoURL??void 0,p=s.tenantId??void 0,y=s._redirectEventId??void 0,_=s.createdAt??void 0,E=s.lastLoginAt??void 0,{uid:T,emailVerified:N,isAnonymous:B,providerData:J,stsTokenManager:Y}=s;Ae(T&&Y,e,"internal-error");const z=Hr.fromJSON(this.name,Y);Ae(typeof T=="string",e,"internal-error"),Ui(r,e.name),Ui(o,e.name),Ae(typeof N=="boolean",e,"internal-error"),Ae(typeof B=="boolean",e,"internal-error"),Ui(u,e.name),Ui(m,e.name),Ui(p,e.name),Ui(y,e.name),Ui(_,e.name),Ui(E,e.name);const ie=new Zn({uid:T,auth:e,email:o,emailVerified:N,displayName:r,isAnonymous:B,photoURL:m,phoneNumber:u,tenantId:p,stsTokenManager:z,createdAt:_,lastLoginAt:E});return J&&Array.isArray(J)&&(ie.providerData=J.map(D=>({...D}))),y&&(ie._redirectEventId=y),ie}static async _fromIdTokenResponse(e,s,r=!1){const o=new Hr;o.updateFromServerResponse(s);const u=new Zn({uid:s.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Xu(u),u}static async _fromGetAccountInfoResponse(e,s,r){const o=s.users[0];Ae(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?X_(o.providerUserInfo):[],m=!(o.email&&o.passwordHash)&&!u?.length,p=new Hr;p.updateFromIdToken(r);const y=new Zn({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:m}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new rm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,_),y}}const ux=new Map;function Js(i){ti(i instanceof Function,"Expected a class definition");let e=ux.get(i);return e?(ti(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,ux.set(i,e),e)}class Z_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,s){this.storage[e]=s}async _get(e){const s=this.storage[e];return s===void 0?null:s}async _remove(e){delete this.storage[e]}_addListener(e,s){}_removeListener(e,s){}}Z_.type="NONE";const hx=Z_;function Lu(i,e,s){return`firebase:${i}:${e}:${s}`}class Fr{constructor(e,s,r){this.persistence=e,this.auth=s,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Lu(this.userKey,o.apiKey,u),this.fullPersistenceKey=Lu("persistence",o.apiKey,u),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const s=await $u(this.auth,{idToken:e}).catch(()=>{});return s?Zn._fromGetAccountInfoResponse(this.auth,s,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,s,r="authUser"){if(!s.length)return new Fr(Js(hx),e,r);const o=(await Promise.all(s.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||Js(hx);const m=Lu(r,e.config.apiKey,e.name);let p=null;for(const _ of s)try{const E=await _._get(m);if(E){let T;if(typeof E=="string"){const N=await $u(e,{idToken:E}).catch(()=>{});if(!N)break;T=await Zn._fromGetAccountInfoResponse(e,N,E)}else T=Zn._fromJSON(e,E);_!==u&&(p=T),u=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Fr(u,e,r):(u=y[0],p&&await u._set(m,p.toJSON()),await Promise.all(s.map(async _=>{if(_!==u)try{await _._remove(m)}catch{}})),new Fr(u,e,r))}}function dx(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(J_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sv(e))return"Blackberry";if(iv(e))return"Webos";if(W_(e))return"Safari";if((e.includes("chrome/")||ev(e))&&!e.includes("edge/"))return"Chrome";if(nv(e))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(s);if(r?.length===2)return r[1]}return"Other"}function J_(i=Wt()){return/firefox\//i.test(i)}function W_(i=Wt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ev(i=Wt()){return/crios\//i.test(i)}function tv(i=Wt()){return/iemobile/i.test(i)}function nv(i=Wt()){return/android/i.test(i)}function sv(i=Wt()){return/blackberry/i.test(i)}function iv(i=Wt()){return/webos/i.test(i)}function Lm(i=Wt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function eS(i=Wt()){return Lm(i)&&!!window.navigator?.standalone}function tS(){return p2()&&document.documentMode===10}function av(i=Wt()){return Lm(i)||nv(i)||iv(i)||sv(i)||/windows phone/i.test(i)||tv(i)}function rv(i,e=[]){let s;switch(i){case"Browser":s=dx(Wt());break;case"Worker":s=`${dx(Wt())}-${i}`;break;default:s=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${s}/JsCore/${il}/${r}`}class nS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,s){const r=u=>new Promise((m,p)=>{try{const y=e(u);m(y)}catch(y){p(y)}});r.onAbort=s,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const s=[];try{for(const r of this.queue)await r(e),r.onAbort&&s.push(r.onAbort)}catch(r){s.reverse();for(const o of s)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function sS(i,e={}){return al(i,"GET","/v2/passwordPolicy",Om(i,e))}const iS=6;class aS{constructor(e){const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=s.minPasswordLength??iS,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=s.meetsMinPasswordLength??!0),s.isValid&&(s.isValid=s.meetsMaxPasswordLength??!0),s.isValid&&(s.isValid=s.containsLowercaseLetter??!0),s.isValid&&(s.isValid=s.containsUppercaseLetter??!0),s.isValid&&(s.isValid=s.containsNumericCharacter??!0),s.isValid&&(s.isValid=s.containsNonAlphanumericCharacter??!0),s}validatePasswordLengthOptions(e,s){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(s.meetsMinPasswordLength=e.length>=r),o&&(s.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(s,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,s,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class rS{constructor(e,s,r,o){this.app=e,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fx(this),this.idTokenSubscription=new fx(this),this.beforeStateQueue=new nS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Y_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,s){return s&&(this._popupRedirectResolver=Js(s)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fr.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const s=await $u(this,{idToken:e}),r=await Zn._fromGetAccountInfoResponse(this,s,e);await this.directlySetCurrentUser(r)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Xn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let r=s,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,m=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===m)&&p?.user&&(r=p.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(e){try{await Xu(e)}catch(s){if(s?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zT()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xn(this.app))return Promise.reject(Oa(this));const s=e?Ln(e):null;return s&&Ae(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(e,s=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(Oa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xn(this.app)?Promise.reject(Oa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Js(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sS(this),s=new aS(e);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bo("auth","Firebase",e())}onAuthStateChanged(e,s,r){return this.registerStateListener(this.authStateSubscription,e,s,r)}beforeAuthStateChanged(e,s){return this.beforeStateQueue.pushCallback(e,s)}onIdTokenChanged(e,s,r){return this.registerStateListener(this.idTokenSubscription,e,s,r)}authStateReady(){return new Promise((e,s)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},s)}})}async revokeAccessToken(e){if(this.currentUser){const s=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:s};this.tenantId!=null&&(r.tenantId=this.tenantId),await WT(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,s){const r=await this.getOrInitRedirectPersistenceManager(s);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const s=e&&Js(e)||this._popupRedirectResolver;Ae(s,this,"argument-error"),this.redirectPersistenceManager=await Fr.create(this,[Js(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,s,r,o){if(this._deleted)return()=>{};const u=typeof s=="function"?s:s.next.bind(s);let m=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(p,this,"internal-error"),p.then(()=>{m||u(this.currentUser)}),typeof s=="function"){const y=e.addObserver(s,r,o);return()=>{m=!0,y()}}else{const y=e.addObserver(s);return()=>{m=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();s&&(e["X-Firebase-Client"]=s);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&VT(`Error while retrieving App Check token: ${e.error}`),e?.token}}function gh(i){return Ln(i)}class fx{constructor(e){this.auth=e,this.observer=null,this.addObserver=S2(s=>this.observer=s)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lS(i){Um=i}function oS(i){return Um.loadJS(i)}function cS(){return Um.gapiScript}function uS(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function hS(i,e){const s=km(i,"auth");if(s.isInitialized()){const o=s.getImmediate(),u=s.getOptions();if(Ua(u,e??{}))return o;Cs(o,"already-initialized")}return s.initialize({options:e})}function dS(i,e){const s=e?.persistence||[],r=(Array.isArray(s)?s:[s]).map(Js);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e?.popupRedirectResolver)}function fS(i,e,s){const r=gh(i);Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=lv(e),{host:m,port:p}=mS(e),y=p===null?"":`:${p}`,_={url:`${u}//${m}${y}/`},E=Object.freeze({host:m,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ae(Ua(_,r.config.emulator)&&Ua(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,sl(m)?(L_(`${u}//${m}${y}`),U_("Auth",!0)):gS()}function lv(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function mS(i){const e=lv(i),s=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!s)return{host:"",port:null};const r=s[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:mx(r.substr(u.length+1))}}else{const[u,m]=r.split(":");return{host:u,port:mx(m)}}}function mx(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function gS(){function i(){const e=document.createElement("p"),s=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class ov{constructor(e,s){this.providerId=e,this.signInMethod=s}toJSON(){return Zs("not implemented")}_getIdTokenResponse(e){return Zs("not implemented")}_linkToIdToken(e,s){return Zs("not implemented")}_getReauthenticationResolver(e){return Zs("not implemented")}}async function Gr(i,e){return FT(i,"POST","/v1/accounts:signInWithIdp",Om(i,e))}const pS="http://localhost";class za extends ov{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const s=new za(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(s.idToken=e.idToken),e.accessToken&&(s.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(s.nonce=e.nonce),e.pendingToken&&(s.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(s.accessToken=e.oauthToken,s.secret=e.oauthTokenSecret):Cs("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=s;if(!r||!o)return null;const m=new za(r,o);return m.idToken=u.idToken||void 0,m.accessToken=u.accessToken||void 0,m.secret=u.secret,m.nonce=u.nonce,m.pendingToken=u.pendingToken||null,m}_getIdTokenResponse(e){const s=this.buildRequest();return Gr(e,s)}_linkToIdToken(e,s){const r=this.buildRequest();return r.idToken=s,Gr(e,r)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,Gr(e,s)}buildRequest(){const e={requestUri:pS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),e.postBody=qo(s)}return e}}class Pm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Fo extends Pm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Pi extends Fo{constructor(){super("facebook.com")}static credential(e){return za._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pi.credential(e.oauthAccessToken)}catch{return null}}}Pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pi.PROVIDER_ID="facebook.com";class Xs extends Fo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,s){return za._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:s})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:r}=e;if(!s&&!r)return null;try{return Xs.credential(s,r)}catch{return null}}}Xs.GOOGLE_SIGN_IN_METHOD="google.com";Xs.PROVIDER_ID="google.com";class zi extends Fo{constructor(){super("github.com")}static credential(e){return za._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.GITHUB_SIGN_IN_METHOD="github.com";zi.PROVIDER_ID="github.com";class Bi extends Fo{constructor(){super("twitter.com")}static credential(e,s){return za._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:s})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:s,oauthTokenSecret:r}=e;if(!s||!r)return null;try{return Bi.credential(s,r)}catch{return null}}}Bi.TWITTER_SIGN_IN_METHOD="twitter.com";Bi.PROVIDER_ID="twitter.com";class Kr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,s,r,o=!1){const u=await Zn._fromIdTokenResponse(e,r,o),m=gx(r);return new Kr({user:u,providerId:m,_tokenResponse:r,operationType:s})}static async _forOperation(e,s,r){await e._updateTokensIfNecessary(r,!0);const o=gx(r);return new Kr({user:e,providerId:o,_tokenResponse:r,operationType:s})}}function gx(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Zu extends ii{constructor(e,s,r,o){super(s.code,s.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Zu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:s.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,s,r,o){return new Zu(e,s,r,o)}}function cv(i,e,s,r){return(e==="reauthenticate"?s._getReauthenticationResolver(i):s._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Zu._fromErrorAndOperation(i,u,e,r):u})}async function yS(i,e,s=!1){const r=await Io(i,e._linkToIdToken(i.auth,await i.getIdToken()),s);return Kr._forOperation(i,"link",r)}async function xS(i,e,s=!1){const{auth:r}=i;if(Xn(r.app))return Promise.reject(Oa(r));const o="reauthenticate";try{const u=await Io(i,cv(r,o,e,i),s);Ae(u.idToken,r,"internal-error");const m=Vm(u.idToken);Ae(m,r,"internal-error");const{sub:p}=m;return Ae(i.uid===p,r,"user-mismatch"),Kr._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Cs(r,"user-mismatch"),u}}async function _S(i,e,s=!1){if(Xn(i.app))return Promise.reject(Oa(i));const r="signIn",o=await cv(i,r,e),u=await Kr._fromIdTokenResponse(i,r,o);return s||await i._updateCurrentUser(u.user),u}function vS(i,e,s,r){return Ln(i).onIdTokenChanged(e,s,r)}function bS(i,e,s){return Ln(i).beforeAuthStateChanged(e,s)}function ES(i,e,s,r){return Ln(i).onAuthStateChanged(e,s,r)}function TS(i){return Ln(i).signOut()}const Ju="__sak";class uv{constructor(e,s){this.storageRetriever=e,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(Ju,"1"),this.storage.removeItem(Ju),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,s){return this.storage.setItem(e,JSON.stringify(s)),Promise.resolve()}_get(e){const s=this.storage.getItem(e);return Promise.resolve(s?JSON.parse(s):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const SS=1e3,AS=10;class hv extends uv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,s)=>this.onStorageEvent(e,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=av(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const s of Object.keys(this.listeners)){const r=this.storage.getItem(s),o=this.localCache[s];r!==o&&e(s,o,r)}}onStorageEvent(e,s=!1){if(!e.key){this.forAllChangedKeys((m,p,y)=>{this.notifyListeners(m,y)});return}const r=e.key;s?this.detachListener():this.stopPolling();const o=()=>{const m=this.storage.getItem(r);!s&&this.localCache[r]===m||this.notifyListeners(r,m)},u=this.storage.getItem(r);tS()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,AS):o()}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,s,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:s,newValue:r}),!0)})},SS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,s){await super._set(e,s),this.localCache[e]=JSON.stringify(s)}async _get(e){const s=await super._get(e);return this.localCache[e]=JSON.stringify(s),s}async _remove(e){await super._remove(e),delete this.localCache[e]}}hv.type="LOCAL";const NS=hv;class dv extends uv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,s){}_removeListener(e,s){}}dv.type="SESSION";const fv=dv;function wS(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(s){return{fulfilled:!1,reason:s}}}))}class ph{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const s=this.receivers.find(o=>o.isListeningto(e));if(s)return s;const r=new ph(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const s=e,{eventId:r,eventType:o,data:u}=s.data,m=this.handlersMap[o];if(!m?.size)return;s.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(m).map(async _=>_(s.origin,u)),y=await wS(p);s.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:y})}_subscribe(e,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(s)}_unsubscribe(e,s){this.handlersMap[e]&&s&&this.handlersMap[e].delete(s),(!s||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ph.receivers=[];function zm(i="",e=10){let s="";for(let r=0;r<e;r++)s+=Math.floor(Math.random()*10);return i+s}class CS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,s,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,m;return new Promise((p,y)=>{const _=zm("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},r);m={messageChannel:o,onMessage(T){const N=T;if(N.data.eventId===_)switch(N.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(N.data.response);break;default:clearTimeout(E),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(m),o.port1.addEventListener("message",m.onMessage),this.target.postMessage({eventType:e,eventId:_,data:s},[o.port2])}).finally(()=>{m&&this.removeMessageHandler(m)})}}function Ts(){return window}function RS(i){Ts().location.href=i}function mv(){return typeof Ts().WorkerGlobalScope<"u"&&typeof Ts().importScripts=="function"}async function IS(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kS(){return navigator?.serviceWorker?.controller||null}function jS(){return mv()?self:null}const gv="firebaseLocalStorageDb",DS=1,Wu="firebaseLocalStorage",pv="fbase_key";class Go{constructor(e){this.request=e}toPromise(){return new Promise((e,s)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function yh(i,e){return i.transaction([Wu],e?"readwrite":"readonly").objectStore(Wu)}function MS(){const i=indexedDB.deleteDatabase(gv);return new Go(i).toPromise()}function lm(){const i=indexedDB.open(gv,DS);return new Promise((e,s)=>{i.addEventListener("error",()=>{s(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(Wu,{keyPath:pv})}catch(o){s(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(Wu)?e(r):(r.close(),await MS(),e(await lm()))})})}async function px(i,e,s){const r=yh(i,!0).put({[pv]:e,value:s});return new Go(r).toPromise()}async function OS(i,e){const s=yh(i,!1).get(e),r=await new Go(s).toPromise();return r===void 0?null:r.value}function yx(i,e){const s=yh(i,!0).delete(e);return new Go(s).toPromise()}const VS=800,LS=3;class yv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lm(),this.db)}async _withRetries(e){let s=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(s++>LS)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ph._getInstance(jS()),this.receiver._subscribe("keyChanged",async(e,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(e,s)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await IS(),!this.activeServiceWorker)return;this.sender=new CS(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lm();return await px(e,Ju,"1"),await yx(e,Ju),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,s){return this._withPendingWrite(async()=>(await this._withRetries(r=>px(r,e,s)),this.localCache[e]=s,this.notifyServiceWorker(e)))}async _get(e){const s=await this._withRetries(r=>OS(r,e));return this.localCache[e]=s,s}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(s=>yx(s,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=yh(o,!1).getAll();return new Go(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const s=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),s.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),s.push(o));return s}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yv.type="LOCAL";const US=yv;new Ho(3e4,6e4);function xv(i,e){return e?Js(e):(Ae(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Bm extends ov{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gr(e,this._buildIdpRequest())}_linkToIdToken(e,s){return Gr(e,this._buildIdpRequest(s))}_getReauthenticationResolver(e){return Gr(e,this._buildIdpRequest())}_buildIdpRequest(e){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(s.idToken=e),s}}function PS(i){return _S(i.auth,new Bm(i),i.bypassAuthState)}function zS(i){const{auth:e,user:s}=i;return Ae(s,e,"internal-error"),xS(s,new Bm(i),i.bypassAuthState)}async function BS(i){const{auth:e,user:s}=i;return Ae(s,e,"internal-error"),yS(s,new Bm(i),i.bypassAuthState)}class _v{constructor(e,s,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(e,s)=>{this.pendingPromise={resolve:e,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:s,sessionId:r,postBody:o,tenantId:u,error:m,type:p}=e;if(m){this.reject(m);return}const y={auth:this.auth,requestUri:s,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PS;case"linkViaPopup":case"linkViaRedirect":return BS;case"reauthViaPopup":case"reauthViaRedirect":return zS;default:Cs(this.auth,"internal-error")}}resolve(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qS=new Ho(2e3,1e4);async function HS(i,e,s){if(Xn(i.app))return Promise.reject(Wn(i,"operation-not-supported-in-this-environment"));const r=gh(i);LT(i,e,Pm);const o=xv(r,s);return new Da(r,"signInViaPopup",e,o).executeNotNull()}class Da extends _v{constructor(e,s,r,o,u){super(e,s,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Da.currentPopupAction&&Da.currentPopupAction.cancel(),Da.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){ti(this.filter.length===1,"Popup operations only handle one event");const e=zm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(Wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Da.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qS.get())};e()}}Da.currentPopupAction=null;const FS="pendingRedirect",Uu=new Map;class GS extends _v{constructor(e,s,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,r),this.eventId=null}async execute(){let e=Uu.get(this.auth._key());if(!e){try{const r=await YS(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(s){e=()=>Promise.reject(s)}Uu.set(this.auth._key(),e)}return this.bypassAuthState||Uu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const s=await this.auth._redirectUserForId(e.eventId);if(s)return this.user=s,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YS(i,e){const s=$S(e),r=KS(i);if(!await r._isAvailable())return!1;const o=await r._get(s)==="true";return await r._remove(s),o}function QS(i,e){Uu.set(i._key(),e)}function KS(i){return Js(i._redirectPersistence)}function $S(i){return Lu(FS,i.config.apiKey,i.name)}async function XS(i,e,s=!1){if(Xn(i.app))return Promise.reject(Oa(i));const r=gh(i),o=xv(r,e),m=await new GS(r,o,s).execute();return m&&!s&&(delete m.user._redirectEventId,await r._persistUserIfCurrent(m.user),await r._setRedirectUser(null,e)),m}const ZS=600*1e3;class JS{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let s=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(s=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WS(e)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=e,s=!0)),s}sendToConsumer(e,s){if(e.error&&!vv(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";s.onError(Wn(this.auth,r))}else s.onAuthEvent(e)}isEventForConsumer(e,s){const r=s.eventId===null||!!e.eventId&&e.eventId===s.eventId;return s.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZS&&this.cachedEventUids.clear(),this.cachedEventUids.has(xx(e))}saveEventToCache(e){this.cachedEventUids.add(xx(e)),this.lastProcessedEventTime=Date.now()}}function xx(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function vv({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function WS(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vv(i);default:return!1}}async function eA(i,e={}){return al(i,"GET","/v1/projects",e)}const tA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nA=/^https?/;async function sA(i){if(i.config.emulator)return;const{authorizedDomains:e}=await eA(i);for(const s of e)try{if(iA(s))return}catch{}Cs(i,"unauthorized-domain")}function iA(i){const e=am(),{protocol:s,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const m=new URL(i);return m.hostname===""&&r===""?s==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):s==="chrome-extension:"&&m.hostname===r}if(!nA.test(s))return!1;if(tA.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const aA=new Ho(3e4,6e4);function _x(){const i=Ts().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let s=0;s<i.CP.length;s++)i.CP[s]=null}}function rA(i){return new Promise((e,s)=>{function r(){_x(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_x(),s(Wn(i,"network-request-failed"))},timeout:aA.get()})}if(Ts().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ts().gapi?.load)r();else{const o=uS("iframefcb");return Ts()[o]=()=>{gapi.load?r():s(Wn(i,"network-request-failed"))},oS(`${cS()}?onload=${o}`).catch(u=>s(u))}}).catch(e=>{throw Pu=null,e})}let Pu=null;function lA(i){return Pu=Pu||rA(i),Pu}const oA=new Ho(5e3,15e3),cA="__/auth/iframe",uA="emulator/auth/iframe",hA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fA(i){const e=i.config;Ae(e.authDomain,i,"auth-domain-config-required");const s=e.emulator?Mm(e,uA):`https://${i.config.authDomain}/${cA}`,r={apiKey:e.apiKey,appName:i.name,v:il},o=dA.get(i.config.apiHost);o&&(r.eid=o);const u=i._getFrameworks();return u.length&&(r.fw=u.join(",")),`${s}?${qo(r).slice(1)}`}async function mA(i){const e=await lA(i),s=Ts().gapi;return Ae(s,i,"internal-error"),e.open({where:document.body,url:fA(i),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hA,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const m=Wn(i,"network-request-failed"),p=Ts().setTimeout(()=>{u(m)},oA.get());function y(){Ts().clearTimeout(p),o(r)}r.ping(y).then(y,()=>{u(m)})}))}const gA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pA=500,yA=600,xA="_blank",_A="http://localhost";class vx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vA(i,e,s,r=pA,o=yA){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),m=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const y={...gA,width:r.toString(),height:o.toString(),top:u,left:m},_=Wt().toLowerCase();s&&(p=ev(_)?xA:s),J_(_)&&(e=e||_A,y.scrollbars="yes");const E=Object.entries(y).reduce((N,[B,J])=>`${N}${B}=${J},`,"");if(eS(_)&&p!=="_self")return bA(e||"",p),new vx(null);const T=window.open(e||"",p,E);Ae(T,i,"popup-blocked");try{T.focus()}catch{}return new vx(T)}function bA(i,e){const s=document.createElement("a");s.href=i,s.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(r)}const EA="__/auth/handler",TA="emulator/auth/handler",SA=encodeURIComponent("fac");async function bx(i,e,s,r,o,u){Ae(i.config.authDomain,i,"auth-domain-config-required"),Ae(i.config.apiKey,i,"invalid-api-key");const m={apiKey:i.config.apiKey,appName:i.name,authType:s,redirectUrl:r,v:il,eventId:o};if(e instanceof Pm){e.setDefaultLanguage(i.languageCode),m.providerId=e.providerId||"",T2(e.getCustomParameters())||(m.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))m[E]=T}if(e instanceof Fo){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(m.scopes=E.join(","))}i.tenantId&&(m.tid=i.tenantId);const p=m;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const y=await i._getAppCheckToken(),_=y?`#${SA}=${encodeURIComponent(y)}`:"";return`${AA(i)}?${qo(p).slice(1)}${_}`}function AA({config:i}){return i.emulator?Mm(i,TA):`https://${i.authDomain}/${EA}`}const Yf="webStorageSupport";class NA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fv,this._completeRedirectFn=XS,this._overrideRedirectResult=QS}async _openPopup(e,s,r,o){ti(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await bx(e,s,r,am(),o);return vA(e,u,zm())}async _openRedirect(e,s,r,o){await this._originValidation(e);const u=await bx(e,s,r,am(),o);return RS(u),new Promise(()=>{})}_initialize(e){const s=e._key();if(this.eventManagers[s]){const{manager:o,promise:u}=this.eventManagers[s];return o?Promise.resolve(o):(ti(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[s]={promise:r},r.catch(()=>{delete this.eventManagers[s]}),r}async initAndGetManager(e){const s=await mA(e),r=new JS(e);return s.register("authEvent",o=>(Ae(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=s,r}_isIframeWebStorageSupported(e,s){this.iframes[e._key()].send(Yf,{type:Yf},o=>{const u=o?.[0]?.[Yf];u!==void 0&&s(!!u),Cs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=sA(e)),this.originValidationPromises[s]}get _shouldInitProactively(){return av()||W_()||Lm()}}const wA=NA;var Ex="@firebase/auth",Tx="1.11.1";class CA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const s=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,s),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const s=this.internalListeners.get(e);s&&(this.internalListeners.delete(e),s(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function RA(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IA(i){Qr(new Pa("auth",(e,{options:s})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:m,authDomain:p}=r.options;Ae(m&&!m.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:m,authDomain:p,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rv(i)},_=new rS(r,o,u,y);return dS(_,s),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,s,r)=>{e.getProvider("auth-internal").initialize()})),Qr(new Pa("auth-internal",e=>{const s=gh(e.getProvider("auth").getImmediate());return(r=>new CA(r))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yi(Ex,Tx,RA(i)),Yi(Ex,Tx,"esm2020")}const kA=300,jA=V_("authIdTokenMaxAge")||kA;let Sx=null;const DA=i=>async e=>{const s=e&&await e.getIdTokenResult(),r=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(r&&r>jA)return;const o=s?.token;Sx!==o&&(Sx=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function MA(i=q_()){const e=km(i,"auth");if(e.isInitialized())return e.getImmediate();const s=hS(i,{popupRedirectResolver:wA,persistence:[US,NS,fv]}),r=V_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const m=DA(u.toString());bS(s,m,()=>m(s.currentUser)),vS(s,p=>m(p))}}const o=M_("auth");return o&&fS(s,`http://${o}`),s}function OA(){return document.getElementsByTagName("head")?.[0]??document}lS({loadJS(i){return new Promise((e,s)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=o=>{const u=Wn("internal-error");u.customData=o,s(u)},r.type="text/javascript",r.charset="UTF-8",OA().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IA("Browser");var VA="firebase",LA="12.6.0";Yi(VA,LA,"app");var Ax=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qi,bv;(function(){var i;function e(I,A){function R(){}R.prototype=A.prototype,I.F=A.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(L,w,V){for(var C=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)C[qe-2]=arguments[qe];return A.prototype[w].apply(L,C)}}function s(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,s),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,A,R){R||(R=0);const L=Array(16);if(typeof A=="string")for(var w=0;w<16;++w)L[w]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(w=0;w<16;++w)L[w]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=I.g[0],R=I.g[1],w=I.g[2];let V=I.g[3],C;C=A+(V^R&(w^V))+L[0]+3614090360&4294967295,A=R+(C<<7&4294967295|C>>>25),C=V+(w^A&(R^w))+L[1]+3905402710&4294967295,V=A+(C<<12&4294967295|C>>>20),C=w+(R^V&(A^R))+L[2]+606105819&4294967295,w=V+(C<<17&4294967295|C>>>15),C=R+(A^w&(V^A))+L[3]+3250441966&4294967295,R=w+(C<<22&4294967295|C>>>10),C=A+(V^R&(w^V))+L[4]+4118548399&4294967295,A=R+(C<<7&4294967295|C>>>25),C=V+(w^A&(R^w))+L[5]+1200080426&4294967295,V=A+(C<<12&4294967295|C>>>20),C=w+(R^V&(A^R))+L[6]+2821735955&4294967295,w=V+(C<<17&4294967295|C>>>15),C=R+(A^w&(V^A))+L[7]+4249261313&4294967295,R=w+(C<<22&4294967295|C>>>10),C=A+(V^R&(w^V))+L[8]+1770035416&4294967295,A=R+(C<<7&4294967295|C>>>25),C=V+(w^A&(R^w))+L[9]+2336552879&4294967295,V=A+(C<<12&4294967295|C>>>20),C=w+(R^V&(A^R))+L[10]+4294925233&4294967295,w=V+(C<<17&4294967295|C>>>15),C=R+(A^w&(V^A))+L[11]+2304563134&4294967295,R=w+(C<<22&4294967295|C>>>10),C=A+(V^R&(w^V))+L[12]+1804603682&4294967295,A=R+(C<<7&4294967295|C>>>25),C=V+(w^A&(R^w))+L[13]+4254626195&4294967295,V=A+(C<<12&4294967295|C>>>20),C=w+(R^V&(A^R))+L[14]+2792965006&4294967295,w=V+(C<<17&4294967295|C>>>15),C=R+(A^w&(V^A))+L[15]+1236535329&4294967295,R=w+(C<<22&4294967295|C>>>10),C=A+(w^V&(R^w))+L[1]+4129170786&4294967295,A=R+(C<<5&4294967295|C>>>27),C=V+(R^w&(A^R))+L[6]+3225465664&4294967295,V=A+(C<<9&4294967295|C>>>23),C=w+(A^R&(V^A))+L[11]+643717713&4294967295,w=V+(C<<14&4294967295|C>>>18),C=R+(V^A&(w^V))+L[0]+3921069994&4294967295,R=w+(C<<20&4294967295|C>>>12),C=A+(w^V&(R^w))+L[5]+3593408605&4294967295,A=R+(C<<5&4294967295|C>>>27),C=V+(R^w&(A^R))+L[10]+38016083&4294967295,V=A+(C<<9&4294967295|C>>>23),C=w+(A^R&(V^A))+L[15]+3634488961&4294967295,w=V+(C<<14&4294967295|C>>>18),C=R+(V^A&(w^V))+L[4]+3889429448&4294967295,R=w+(C<<20&4294967295|C>>>12),C=A+(w^V&(R^w))+L[9]+568446438&4294967295,A=R+(C<<5&4294967295|C>>>27),C=V+(R^w&(A^R))+L[14]+3275163606&4294967295,V=A+(C<<9&4294967295|C>>>23),C=w+(A^R&(V^A))+L[3]+4107603335&4294967295,w=V+(C<<14&4294967295|C>>>18),C=R+(V^A&(w^V))+L[8]+1163531501&4294967295,R=w+(C<<20&4294967295|C>>>12),C=A+(w^V&(R^w))+L[13]+2850285829&4294967295,A=R+(C<<5&4294967295|C>>>27),C=V+(R^w&(A^R))+L[2]+4243563512&4294967295,V=A+(C<<9&4294967295|C>>>23),C=w+(A^R&(V^A))+L[7]+1735328473&4294967295,w=V+(C<<14&4294967295|C>>>18),C=R+(V^A&(w^V))+L[12]+2368359562&4294967295,R=w+(C<<20&4294967295|C>>>12),C=A+(R^w^V)+L[5]+4294588738&4294967295,A=R+(C<<4&4294967295|C>>>28),C=V+(A^R^w)+L[8]+2272392833&4294967295,V=A+(C<<11&4294967295|C>>>21),C=w+(V^A^R)+L[11]+1839030562&4294967295,w=V+(C<<16&4294967295|C>>>16),C=R+(w^V^A)+L[14]+4259657740&4294967295,R=w+(C<<23&4294967295|C>>>9),C=A+(R^w^V)+L[1]+2763975236&4294967295,A=R+(C<<4&4294967295|C>>>28),C=V+(A^R^w)+L[4]+1272893353&4294967295,V=A+(C<<11&4294967295|C>>>21),C=w+(V^A^R)+L[7]+4139469664&4294967295,w=V+(C<<16&4294967295|C>>>16),C=R+(w^V^A)+L[10]+3200236656&4294967295,R=w+(C<<23&4294967295|C>>>9),C=A+(R^w^V)+L[13]+681279174&4294967295,A=R+(C<<4&4294967295|C>>>28),C=V+(A^R^w)+L[0]+3936430074&4294967295,V=A+(C<<11&4294967295|C>>>21),C=w+(V^A^R)+L[3]+3572445317&4294967295,w=V+(C<<16&4294967295|C>>>16),C=R+(w^V^A)+L[6]+76029189&4294967295,R=w+(C<<23&4294967295|C>>>9),C=A+(R^w^V)+L[9]+3654602809&4294967295,A=R+(C<<4&4294967295|C>>>28),C=V+(A^R^w)+L[12]+3873151461&4294967295,V=A+(C<<11&4294967295|C>>>21),C=w+(V^A^R)+L[15]+530742520&4294967295,w=V+(C<<16&4294967295|C>>>16),C=R+(w^V^A)+L[2]+3299628645&4294967295,R=w+(C<<23&4294967295|C>>>9),C=A+(w^(R|~V))+L[0]+4096336452&4294967295,A=R+(C<<6&4294967295|C>>>26),C=V+(R^(A|~w))+L[7]+1126891415&4294967295,V=A+(C<<10&4294967295|C>>>22),C=w+(A^(V|~R))+L[14]+2878612391&4294967295,w=V+(C<<15&4294967295|C>>>17),C=R+(V^(w|~A))+L[5]+4237533241&4294967295,R=w+(C<<21&4294967295|C>>>11),C=A+(w^(R|~V))+L[12]+1700485571&4294967295,A=R+(C<<6&4294967295|C>>>26),C=V+(R^(A|~w))+L[3]+2399980690&4294967295,V=A+(C<<10&4294967295|C>>>22),C=w+(A^(V|~R))+L[10]+4293915773&4294967295,w=V+(C<<15&4294967295|C>>>17),C=R+(V^(w|~A))+L[1]+2240044497&4294967295,R=w+(C<<21&4294967295|C>>>11),C=A+(w^(R|~V))+L[8]+1873313359&4294967295,A=R+(C<<6&4294967295|C>>>26),C=V+(R^(A|~w))+L[15]+4264355552&4294967295,V=A+(C<<10&4294967295|C>>>22),C=w+(A^(V|~R))+L[6]+2734768916&4294967295,w=V+(C<<15&4294967295|C>>>17),C=R+(V^(w|~A))+L[13]+1309151649&4294967295,R=w+(C<<21&4294967295|C>>>11),C=A+(w^(R|~V))+L[4]+4149444226&4294967295,A=R+(C<<6&4294967295|C>>>26),C=V+(R^(A|~w))+L[11]+3174756917&4294967295,V=A+(C<<10&4294967295|C>>>22),C=w+(A^(V|~R))+L[2]+718787259&4294967295,w=V+(C<<15&4294967295|C>>>17),C=R+(V^(w|~A))+L[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(w+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+w&4294967295,I.g[3]=I.g[3]+V&4294967295}r.prototype.v=function(I,A){A===void 0&&(A=I.length);const R=A-this.blockSize,L=this.C;let w=this.h,V=0;for(;V<A;){if(w==0)for(;V<=R;)o(this,I,V),V+=this.blockSize;if(typeof I=="string"){for(;V<A;)if(L[w++]=I.charCodeAt(V++),w==this.blockSize){o(this,L),w=0;break}}else for(;V<A;)if(L[w++]=I[V++],w==this.blockSize){o(this,L),w=0;break}}this.h=w,this.o+=A},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,R=0;R<4;++R)for(let L=0;L<32;L+=8)I[A++]=this.g[R]>>>L&255;return I};function u(I,A){var R=p;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=A(I)}function m(I,A){this.h=A;const R=[];let L=!0;for(let w=I.length-1;w>=0;w--){const V=I[w]|0;L&&V==A||(R[w]=V,L=!1)}this.g=R}var p={};function y(I){return-128<=I&&I<128?u(I,function(A){return new m([A|0],A<0?-1:0)}):new m([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return T;if(I<0)return z(_(-I));const A=[];let R=1;for(let L=0;I>=R;L++)A[L]=I/R|0,R*=4294967296;return new m(A,0)}function E(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return z(E(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(A,8));let L=T;for(let V=0;V<I.length;V+=8){var w=Math.min(8,I.length-V);const C=parseInt(I.substring(V,V+w),A);w<8?(w=_(Math.pow(A,w)),L=L.j(w).add(_(C))):(L=L.j(R),L=L.add(_(C)))}return L}var T=y(0),N=y(1),B=y(16777216);i=m.prototype,i.m=function(){if(Y(this))return-z(this).m();let I=0,A=1;for(let R=0;R<this.g.length;R++){const L=this.i(R);I+=(L>=0?L:4294967296+L)*A,A*=4294967296}return I},i.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(J(this))return"0";if(Y(this))return"-"+z(this).toString(I);const A=_(Math.pow(I,6));var R=this;let L="";for(;;){const w=ae(R,A).g;R=ie(R,w.j(A));let V=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=w,J(R))return V+L;for(;V.length<6;)V="0"+V;L=V+L}},i.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function J(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function Y(I){return I.h==-1}i.l=function(I){return I=ie(this,I),Y(I)?-1:J(I)?0:1};function z(I){const A=I.g.length,R=[];for(let L=0;L<A;L++)R[L]=~I.g[L];return new m(R,~I.h).add(N)}i.abs=function(){return Y(this)?z(this):this},i.add=function(I){const A=Math.max(this.g.length,I.g.length),R=[];let L=0;for(let w=0;w<=A;w++){let V=L+(this.i(w)&65535)+(I.i(w)&65535),C=(V>>>16)+(this.i(w)>>>16)+(I.i(w)>>>16);L=C>>>16,V&=65535,C&=65535,R[w]=C<<16|V}return new m(R,R[R.length-1]&-2147483648?-1:0)};function ie(I,A){return I.add(z(A))}i.j=function(I){if(J(this)||J(I))return T;if(Y(this))return Y(I)?z(this).j(z(I)):z(z(this).j(I));if(Y(I))return z(this.j(z(I)));if(this.l(B)<0&&I.l(B)<0)return _(this.m()*I.m());const A=this.g.length+I.g.length,R=[];for(var L=0;L<2*A;L++)R[L]=0;for(L=0;L<this.g.length;L++)for(let w=0;w<I.g.length;w++){const V=this.i(L)>>>16,C=this.i(L)&65535,qe=I.i(w)>>>16,ot=I.i(w)&65535;R[2*L+2*w]+=C*ot,D(R,2*L+2*w),R[2*L+2*w+1]+=V*ot,D(R,2*L+2*w+1),R[2*L+2*w+1]+=C*qe,D(R,2*L+2*w+1),R[2*L+2*w+2]+=V*qe,D(R,2*L+2*w+2)}for(I=0;I<A;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=A;I<2*A;I++)R[I]=0;return new m(R,0)};function D(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function M(I,A){this.g=I,this.h=A}function ae(I,A){if(J(A))throw Error("division by zero");if(J(I))return new M(T,T);if(Y(I))return A=ae(z(I),A),new M(z(A.g),z(A.h));if(Y(A))return A=ae(I,z(A)),new M(z(A.g),A.h);if(I.g.length>30){if(Y(I)||Y(A))throw Error("slowDivide_ only works with positive integers.");for(var R=N,L=A;L.l(I)<=0;)R=Z(R),L=Z(L);var w=oe(R,1),V=oe(L,1);for(L=oe(L,2),R=oe(R,2);!J(L);){var C=V.add(L);C.l(I)<=0&&(w=w.add(R),V=C),L=oe(L,1),R=oe(R,1)}return A=ie(I,w.j(A)),new M(w,A)}for(w=T;I.l(A)>=0;){for(R=Math.max(1,Math.floor(I.m()/A.m())),L=Math.ceil(Math.log(R)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),V=_(R),C=V.j(A);Y(C)||C.l(I)>0;)R-=L,V=_(R),C=V.j(A);J(V)&&(V=N),w=w.add(V),I=ie(I,C)}return new M(w,I)}i.B=function(I){return ae(this,I).h},i.and=function(I){const A=Math.max(this.g.length,I.g.length),R=[];for(let L=0;L<A;L++)R[L]=this.i(L)&I.i(L);return new m(R,this.h&I.h)},i.or=function(I){const A=Math.max(this.g.length,I.g.length),R=[];for(let L=0;L<A;L++)R[L]=this.i(L)|I.i(L);return new m(R,this.h|I.h)},i.xor=function(I){const A=Math.max(this.g.length,I.g.length),R=[];for(let L=0;L<A;L++)R[L]=this.i(L)^I.i(L);return new m(R,this.h^I.h)};function Z(I){const A=I.g.length+1,R=[];for(let L=0;L<A;L++)R[L]=I.i(L)<<1|I.i(L-1)>>>31;return new m(R,I.h)}function oe(I,A){const R=A>>5;A%=32;const L=I.g.length-R,w=[];for(let V=0;V<L;V++)w[V]=A>0?I.i(V+R)>>>A|I.i(V+R+1)<<32-A:I.i(V+R);return new m(w,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,bv=r,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.B,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=_,m.fromString=E,Qi=m}).apply(typeof Ax<"u"?Ax:typeof self<"u"?self:typeof window<"u"?window:{});var ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ev,yo,Tv,zu,om,Sv,Av,Nv;(function(){var i,e=Object.defineProperty;function s(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ku=="object"&&ku];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=s(this);function o(c,g){if(g)e:{var v=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var q=c[S];if(!(q in v))break e;v=v[q]}c=c[c.length-1],S=v[c],g=g(S),g!=S&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var v=[],S;for(S in g)Object.prototype.hasOwnProperty.call(g,S)&&v.push([S,g[S]]);return v}});var u=u||{},m=this||self;function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function y(c,g,v){return c.call.apply(c.bind,arguments)}function _(c,g,v){return _=y,_.apply(null,arguments)}function E(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function T(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,q,Q){for(var ue=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)ue[Re-2]=arguments[Re];return g.prototype[q].apply(S,ue)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function B(c){const g=c.length;if(g>0){const v=Array(g);for(let S=0;S<g;S++)v[S]=c[S];return v}return[]}function J(c,g){for(let S=1;S<arguments.length;S++){const q=arguments[S];var v=typeof q;if(v=v!="object"?v:q?Array.isArray(q)?"array":v:"null",v=="array"||v=="object"&&typeof q.length=="number"){v=c.length||0;const Q=q.length||0;c.length=v+Q;for(let ue=0;ue<Q;ue++)c[v+ue]=q[ue]}else c.push(q)}}class Y{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function z(c){m.setTimeout(()=>{throw c},0)}function ie(){var c=I;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class D{constructor(){this.h=this.g=null}add(g,v){const S=M.get();S.set(g,v),this.h?this.h.next=S:this.g=S,this.h=S}}var M=new Y(()=>new ae,c=>c.reset());class ae{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,oe=!1,I=new D,A=()=>{const c=Promise.resolve(void 0);Z=()=>{c.then(R)}};function R(){for(var c;c=ie();){try{c.h.call(c.g)}catch(v){z(v)}var g=M;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}oe=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function qe(c,g){w.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}T(qe,w),qe.prototype.init=function(c,g){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&qe.Z.h.call(this)},qe.prototype.h=function(){qe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ot="closure_listenable_"+(Math.random()*1e6|0),U=0;function $(c,g,v,S,q){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!S,this.ha=q,this.key=++U,this.da=this.fa=!1}function re(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function de(c,g,v){for(const S in c)g.call(v,c[S],S,c)}function pe(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function j(c){const g={};for(const v in c)g[v]=c[v];return g}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(c,g){let v,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(v in S)c[v]=S[v];for(let Q=0;Q<W.length;Q++)v=W[Q],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function he(c){this.src=c,this.g={},this.h=0}he.prototype.add=function(c,g,v,S,q){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const ue=Se(c,g,S,q);return ue>-1?(g=c[ue],v||(g.fa=!1)):(g=new $(g,this.src,Q,!!S,q),g.fa=v,c.push(g)),g};function be(c,g){const v=g.type;if(v in c.g){var S=c.g[v],q=Array.prototype.indexOf.call(S,g,void 0),Q;(Q=q>=0)&&Array.prototype.splice.call(S,q,1),Q&&(re(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Se(c,g,v,S){for(let q=0;q<c.length;++q){const Q=c[q];if(!Q.da&&Q.listener==g&&Q.capture==!!v&&Q.ha==S)return q}return-1}var je="closure_lm_"+(Math.random()*1e6|0),ct={};function at(c,g,v,S,q){if(Array.isArray(g)){for(let Q=0;Q<g.length;Q++)at(c,g[Q],v,S,q);return null}return v=dl(v),c&&c[ot]?c.J(g,v,p(S)?!!S.capture:!1,q):ta(c,g,v,!1,S,q)}function ta(c,g,v,S,q,Q){if(!g)throw Error("Invalid event type");const ue=p(q)?!!q.capture:!!q;let Re=na(c);if(Re||(c[je]=Re=new he(c)),v=Re.add(g,v,S,ue,Q),v.proxy)return v;if(S=$a(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)V||(q=ue),q===void 0&&(q=!1),c.addEventListener(g.toString(),S,q);else if(c.attachEvent)c.attachEvent(es(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function $a(){function c(v){return g.call(c.src,c.listener,v)}const g=ul;return c}function Xa(c,g,v,S,q){if(Array.isArray(g))for(var Q=0;Q<g.length;Q++)Xa(c,g[Q],v,S,q);else S=p(S)?!!S.capture:!!S,v=dl(v),c&&c[ot]?(c=c.i,Q=String(g).toString(),Q in c.g&&(g=c.g[Q],v=Se(g,v,S,q),v>-1&&(re(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[Q],c.h--)))):c&&(c=na(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Se(g,v,S,q)),(v=c>-1?g[c]:null)&&Za(v))}function Za(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ot])be(g.i,c);else{var v=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(v,S,c.capture):g.detachEvent?g.detachEvent(es(v),S):g.addListener&&g.removeListener&&g.removeListener(S),(v=na(g))?(be(v,c),v.h==0&&(v.src=null,g[je]=null)):re(c)}}}function es(c){return c in ct?ct[c]:ct[c]="on"+c}function ul(c,g){if(c.da)c=!0;else{g=new qe(g,this);const v=c.listener,S=c.ha||c.src;c.fa&&Za(c),c=v.call(S,g)}return c}function na(c){return c=c[je],c instanceof he?c:null}var hl="__closure_events_fn_"+(Math.random()*1e9>>>0);function dl(c){return typeof c=="function"?c:(c[hl]||(c[hl]=function(g){return c.handleEvent(g)}),c[hl])}function _t(){L.call(this),this.i=new he(this),this.M=this,this.G=null}T(_t,L),_t.prototype[ot]=!0,_t.prototype.removeEventListener=function(c,g,v,S){Xa(this,c,g,v,S)};function It(c,g){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new w(g,c);else if(g instanceof w)g.target=g.target||c;else{var q=g;g=new w(S,c),ce(g,q)}q=!0;let Q,ue;if(v)for(ue=v.length-1;ue>=0;ue--)Q=g.g=v[ue],q=ai(Q,S,!0,g)&&q;if(Q=g.g=c,q=ai(Q,S,!0,g)&&q,q=ai(Q,S,!1,g)&&q,v)for(ue=0;ue<v.length;ue++)Q=g.g=v[ue],q=ai(Q,S,!1,g)&&q}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let S=0;S<v.length;S++)re(v[S]);delete c.g[g],c.h--}}this.G=null},_t.prototype.J=function(c,g,v,S){return this.i.add(String(c),g,!1,v,S)},_t.prototype.K=function(c,g,v,S){return this.i.add(String(c),g,!0,v,S)};function ai(c,g,v,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let q=!0;for(let Q=0;Q<g.length;++Q){const ue=g[Q];if(ue&&!ue.da&&ue.capture==v){const Re=ue.listener,gt=ue.ha||ue.src;ue.fa&&be(c.i,ue),q=Re.call(gt,S)!==!1&&q}}return q&&!S.defaultPrevented}function Oh(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:m.setTimeout(c,g||0)}function tc(c){c.g=Oh(()=>{c.g=null,c.i&&(c.i=!1,tc(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class en extends L{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:tc(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sa(c){L.call(this),this.h=c,this.g={}}T(sa,L);var fl=[];function ml(c){de(c.g,function(g,v){this.g.hasOwnProperty(v)&&Za(g)},c),c.g={}}sa.prototype.N=function(){sa.Z.N.call(this),ml(this)},sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ri=m.JSON.stringify,Vh=m.JSON.parse,nc=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function sc(){}function ic(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pt(){w.call(this,"d")}T(Pt,w);function En(){w.call(this,"c")}T(En,w);var mt={},ac=null;function Ja(){return ac=ac||new _t}mt.Ia="serverreachability";function rc(c){w.call(this,mt.Ia,c)}T(rc,w);function ts(c){const g=Ja();It(g,new rc(g))}mt.STAT_EVENT="statevent";function ia(c,g){w.call(this,mt.STAT_EVENT,c),this.stat=g}T(ia,w);function vt(c){const g=Ja();It(g,new ia(g,c))}mt.Ja="timingevent";function ns(c,g){w.call(this,mt.Ja,c),this.size=g}T(ns,w);function ss(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function Lh(c,g,v,S,q,Q){c.info(function(){if(c.g)if(Q){var ue="",Re=Q.split("&");for(let Ge=0;Ge<Re.length;Ge++){var gt=Re[Ge].split("=");if(gt.length>1){const rt=gt[0];gt=gt[1];const Nn=rt.split("_");ue=Nn.length>=2&&Nn[1]=="type"?ue+(rt+"="+gt+"&"):ue+(rt+"=redacted&")}}}else ue=null;else ue=Q;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+g+`
`+v+`
`+ue})}function lc(c,g,v,S,q,Q,ue){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+g+`
`+v+`
`+Q+" "+ue})}function is(c,g,v,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Uh(c,v)+(S?" "+S:"")})}function aa(c,g){c.info(function(){return"TIMEOUT: "+g})}Pn.prototype.info=function(){};function Uh(c,g){if(!c.g)return g;if(!g)return null;try{const Q=JSON.parse(g);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var v=Q[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var q=S[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ue=1;ue<S.length;ue++)S[ue]=""}}}}return ri(Q)}catch{return g}}var ra={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},pl;function la(){}T(la,sc),la.prototype.g=function(){return new XMLHttpRequest},pl=new la;function ks(c){return encodeURIComponent(String(c))}function oc(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function zn(c,g,v,S){this.j=c,this.i=g,this.l=v,this.S=S||1,this.V=new sa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var bt={},Mt={};function as(c,g,v){c.M=1,c.A=oa(Tt(g)),c.u=v,c.R=!0,Wa(c,null)}function Wa(c,g){c.F=Date.now(),rs(c),c.B=Tt(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),sr(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Bn,c.g=Tc(c.j,v?g:null,!c.u),c.P>0&&(c.O=new en(_(c.Y,c,c.g),c.P)),g=c.V,v=c.g,S=c.ba;var q="readystatechange";Array.isArray(q)||(q&&(fl[0]=q.toString()),q=fl);for(let Q=0;Q<q.length;Q++){const ue=at(v,q[Q],S||g.handleEvent,!1,g.h||g);if(!ue)break;g.g[ue.key]=ue}g=c.J?j(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),ts(),Lh(c.i,c.v,c.B,c.l,c.S,c.u)}zn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Fn(c)==3?g.j():this.Y(c)},zn.prototype.Y=function(c){try{if(c==this.g)e:{const Re=Fn(this.g),gt=this.g.ya(),Ge=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||zt(this.g)))){this.K||Re!=4||gt==7||(gt==8||Ge<=0?ts(3):ts(2)),ls(this);var g=this.g.ca();this.X=g;var v=Ph(this);if(this.o=g==200,lc(this.i,this.v,this.B,this.l,this.S,Re,g),this.o){if(this.U&&!this.L){t:{if(this.g){var S,q=this.g;if((S=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var Q=S;break t}}Q=null}if(c=Q)is(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,os(this,c);else{this.o=!1,this.m=3,vt(12),fn(this),Tn(this);break e}}if(this.R){c=!0;let rt;for(;!this.K&&this.C<v.length;)if(rt=uc(this,v),rt==Mt){Re==4&&(this.m=4,vt(14),c=!1),is(this.i,this.l,null,"[Incomplete Response]");break}else if(rt==bt){this.m=4,vt(15),is(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else is(this.i,this.l,rt,null),os(this,rt);if(cc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||v.length!=0||this.h.h||(this.m=1,vt(16),c=!1),this.o=this.o&&c,!c)is(this.i,this.l,v,"[Invalid Chunked Response]"),fn(this),Tn(this);else if(v.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),kl(ue),ue.P=!0,vt(11))}}else is(this.i,this.l,v,null),os(this,v);Re==4&&fn(this),this.o&&!this.K&&(Re==4?_c(this.j,this):(this.o=!1,rs(this)))}else Ds(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),fn(this),Tn(this)}}}catch{}finally{}};function Ph(c){if(!cc(c))return c.g.la();const g=zt(c.g);if(g==="")return"";let v="";const S=g.length,q=Fn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return fn(c),Tn(c),"";c.h.i=new m.TextDecoder}for(let Q=0;Q<S;Q++)c.h.h=!0,v+=c.h.i.decode(g[Q],{stream:!(q&&Q==S-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function cc(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function uc(c,g){var v=c.C,S=g.indexOf(`
`,v);return S==-1?Mt:(v=Number(g.substring(v,S)),isNaN(v)?bt:(S+=1,S+v>g.length?Mt:(g=g.slice(S,S+v),c.C=S+v,g)))}zn.prototype.cancel=function(){this.K=!0,fn(this)};function rs(c){c.T=Date.now()+c.H,er(c,c.H)}function er(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ss(_(c.aa,c),g)}function ls(c){c.D&&(m.clearTimeout(c.D),c.D=null)}zn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(aa(this.i,this.B),this.M!=2&&(ts(),vt(17)),fn(this),this.m=2,Tn(this)):er(this,this.T-c)};function Tn(c){c.j.I==0||c.K||_c(c.j,c)}function fn(c){ls(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,ml(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function os(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||us(v.h,c))){if(!c.L&&us(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)or(v),mi(v);else break e;ga(v),vt(18)}}else v.xa=q[1],0<v.xa-v.K&&q[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ss(_(v.Va,v),6e3));cs(v.h)<=1&&v.ta&&(v.ta=void 0)}else ps(v,11)}else if((c.L||v.g==c)&&or(v),!C(g))for(q=v.Ba.g.parse(g),g=0;g<q.length;g++){let Ge=q[g];const rt=Ge[0];if(!(rt<=v.K))if(v.K=rt,Ge=Ge[1],v.I==2)if(Ge[0]=="c"){v.M=Ge[1],v.ba=Ge[2];const Nn=Ge[3];Nn!=null&&(v.ka=Nn,v.j.info("VER="+v.ka));const ys=Ge[4];ys!=null&&(v.za=ys,v.j.info("SVER="+v.za));const Gn=Ge[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(S=1.5*Gn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Yn=c.g;if(Yn){const pa=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pa){var Q=S.h;Q.g||pa.indexOf("spdy")==-1&&pa.indexOf("quic")==-1&&pa.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(_l(Q,Q.h),Q.h=null))}if(S.G){const cr=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;cr&&(S.wa=cr,Ke(S.J,S.G,cr))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var ue=c;if(S.na=Ec(S,S.L?S.ba:null,S.W),ue.L){vl(S.h,ue);var Re=ue,gt=S.O;gt&&(Re.H=gt),Re.D&&(ls(Re),rs(Re)),S.g=ue}else yc(S);v.i.length>0&&gs(v)}else Ge[0]!="stop"&&Ge[0]!="close"||ps(v,7);else v.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?ps(v,7):Rl(v):Ge[0]!="noop"&&v.l&&v.l.qa(Ge),v.A=0)}}ts(4)}catch{}}var Et=class{constructor(c,g){this.g=c,this.map=g}};function yl(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function cs(c){return c.h?1:c.g?c.g.size:0}function us(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function _l(c,g){c.g?c.g.add(g):c.h=g}function vl(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}yl.prototype.cancel=function(){if(this.i=bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function bl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return B(c.i)}var hc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tr(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let q,Q=null;S>=0?(q=c[v].substring(0,S),Q=c[v].substring(S+1)):q=c[v],g(q,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function mn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof mn?(this.l=c.l,Ot(this,c.j),this.o=c.o,this.g=c.g,li(this,c.u),this.h=c.h,El(this,gc(c.i)),this.m=c.m):c&&(g=String(c).match(hc))?(this.l=!1,Ot(this,g[1]||"",!0),this.o=hs(g[2]||""),this.g=hs(g[3]||"",!0),li(this,g[4]),this.h=hs(g[5]||"",!0),El(this,g[6]||"",!0),this.m=hs(g[7]||"")):(this.l=!1,this.i=new ci(null,this.l))}mn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(ca(g,nr,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ca(g,nr,!0),"@"),c.push(ks(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ca(v,v.charAt(0)=="/"?Tl:dc,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ca(v,fc)),c.join("")},mn.prototype.resolve=function(c){const g=Tt(this);let v=!!c.j;v?Ot(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var S=c.h;if(v)li(g,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var q=g.h.lastIndexOf("/");q!=-1&&(S=g.h.slice(0,q+1)+S)}if(q=S,q==".."||q==".")S="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){S=q.lastIndexOf("/",0)==0,q=q.split("/");const Q=[];for(let ue=0;ue<q.length;){const Re=q[ue++];Re=="."?S&&ue==q.length&&Q.push(""):Re==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),S&&ue==q.length&&Q.push("")):(Q.push(Re),S=!0)}S=Q.join("/")}else S=q}return v?g.h=S:v=c.i.toString()!=="",v?El(g,gc(c.i)):v=!!c.m,v&&(g.m=c.m),g};function Tt(c){return new mn(c)}function Ot(c,g,v){c.j=v?hs(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function li(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function El(c,g,v){g instanceof ci?(c.i=g,ir(c.i,c.l)):(v||(g=ca(g,oi)),c.i=new ci(g,c.l))}function Ke(c,g,v){c.i.set(g,v)}function oa(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function hs(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ca(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,sn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var nr=/[#\/\?@]/g,dc=/[#\?:]/g,Tl=/[#\?]/g,oi=/[#\?@]/g,fc=/#/g;function ci(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function an(c){c.g||(c.g=new Map,c.h=0,c.i&&tr(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}i=ci.prototype,i.add=function(c,g){an(this),this.i=null,c=ui(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function mc(c,g){an(c),g=ui(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Sl(c,g){return an(c),g=ui(c,g),c.g.has(g)}i.forEach=function(c,g){an(this),this.g.forEach(function(v,S){v.forEach(function(q){c.call(g,q,S,this)},this)},this)};function Al(c,g){an(c);let v=[];if(typeof g=="string")Sl(c,g)&&(v=v.concat(c.g.get(ui(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}i.set=function(c,g){return an(this),this.i=null,c=ui(this,c),Sl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},i.get=function(c,g){return c?(c=Al(this,c),c.length>0?String(c[0]):g):g};function sr(c,g,v){mc(c,g),v.length>0&&(c.i=null,c.g.set(ui(c,g),B(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let S=0;S<g.length;S++){var v=g[S];const q=ks(v);v=Al(this,v);for(let Q=0;Q<v.length;Q++){let ue=q;v[Q]!==""&&(ue+="="+ks(v[Q])),c.push(ue)}}return this.i=c.join("&")};function gc(c){const g=new ci;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function ui(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function ir(c,g){g&&!c.j&&(an(c),c.i=null,c.g.forEach(function(v,S){const q=S.toLowerCase();S!=q&&(mc(this,S),sr(this,q,v))},c)),c.j=g}function qn(c,g){const v=new Pn;if(m.Image){const S=new Image;S.onload=E(Sn,v,"TestLoadImage: loaded",!0,g,S),S.onerror=E(Sn,v,"TestLoadImage: error",!1,g,S),S.onabort=E(Sn,v,"TestLoadImage: abort",!1,g,S),S.ontimeout=E(Sn,v,"TestLoadImage: timeout",!1,g,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function Nl(c,g){const v=new Pn,S=new AbortController,q=setTimeout(()=>{S.abort(),Sn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(Q=>{clearTimeout(q),Q.ok?Sn(v,"TestPingServer: ok",!0,g):Sn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(q),Sn(v,"TestPingServer: error",!1,g)})}function Sn(c,g,v,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(v)}catch{}}function hi(){this.g=new nc}function ds(c){this.i=c.Sb||null,this.h=c.ab||!1}T(ds,sc),ds.prototype.g=function(){return new ua(this.i,this.h)};function ua(c,g){_t.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(ua,_t),i=ua.prototype,i.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Hn(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||m).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,di(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ar(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ar(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?di(this):Hn(this),this.readyState==3&&ar(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,di(this))},i.Na=function(c){this.g&&(this.response=c,di(this))},i.ga=function(){this.g&&di(this)};function di(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Hn(c)}i.setRequestHeader=function(c,g){this.A.append(c,g)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Hn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ua.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function An(c){let g="";return de(c,function(v,S){g+=S,g+=":",g+=v,g+=`\r
`}),g}function ha(c,g,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=An(v),typeof c=="string"?v!=null&&ks(v):Ke(c,g,v))}function Ze(c){_t.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Ze,_t);var fs=/^https?$/i,wl=["POST","PUT"];i=Ze.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,g,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():pl.g(),this.g.onreadystatechange=N(_(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Q){da(this,Q);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)v.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())v.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=m.FormData&&c instanceof m.FormData,!(Array.prototype.indexOf.call(wl,g,void 0)>=0)||S||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ue]of v)this.g.setRequestHeader(Q,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){da(this,Q)}};function da(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Cl(c),js(c)}function Cl(c){c.A||(c.A=!0,It(c,"complete"),It(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,It(this,"complete"),It(this,"abort"),js(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),js(this,!0)),Ze.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?fa(this):this.Xa())},i.Xa=function(){fa(this)};function fa(c){if(c.h&&typeof u<"u"){if(c.v&&Fn(c)==4)setTimeout(c.Ca.bind(c),0);else if(It(c,"readystatechange"),Fn(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var S;if(S=Q===0){let ue=String(c.D).match(hc)[1]||null;!ue&&m.self&&m.self.location&&(ue=m.self.location.protocol.slice(0,-1)),S=!fs.test(ue?ue.toLowerCase():"")}v=S}if(v)It(c,"complete"),It(c,"success");else{c.o=6;try{var q=Fn(c)>2?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.ca()+"]",Cl(c)}}finally{js(c)}}}}function js(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||It(c,"ready");try{v.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Vh(g)}};function zt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ds(c){const g={};c=(c.g&&Fn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(C(c[S]))continue;var v=oc(c[S]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=g[q]||[];g[q]=Q,Q.push(v)}pe(g,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ms(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function fi(c){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ms("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ms("baseRetryDelayMs",5e3,c),this.Za=ms("retryDelaySeedMs",1e4,c),this.Ta=ms("forwardChannelMaxRetries",2,c),this.va=ms("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new yl(c&&c.concurrentRequestLimit),this.Ba=new hi,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=fi.prototype,i.ka=8,i.I=1,i.connect=function(c,g,v,S){vt(0),this.W=c,this.H=g||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Ec(this,null,this.W),gs(this)};function Rl(c){if(rr(c),c.I==3){var g=c.V++,v=Tt(c.J);if(Ke(v,"SID",c.M),Ke(v,"RID",g),Ke(v,"TYPE","terminate"),ma(c,v),g=new zn(c,c.j,g),g.M=2,g.A=oa(Tt(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.A,v=!0),v||(g.g=Tc(g.j,null),g.g.ea(g.A)),g.F=Date.now(),rs(g)}bc(c)}function mi(c){c.g&&(kl(c),c.g.cancel(),c.g=null)}function rr(c){mi(c),c.v&&(m.clearTimeout(c.v),c.v=null),or(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&m.clearTimeout(c.m),c.m=null)}function gs(c){if(!xl(c.h)&&!c.m){c.m=!0;var g=c.Ea;Z||A(),oe||(Z(),oe=!0),I.add(g,c),c.D=0}}function lr(c,g){return cs(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ss(_(c.Ea,c,g),vc(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const q=new zn(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=j(Q),ce(Q,this.U)):Q=this.U),this.u!==null||this.R||(q.J=Q,Q=null),this.S)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,g>4096){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=pc(this,q,g),v=Tt(this.J),Ke(v,"RID",c),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),ma(this,v),Q&&(this.R?g="headers="+ks(An(Q))+"&"+g:this.u&&ha(v,this.u,Q)),_l(this.h,q),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",g),Ke(v,"SID","null"),q.U=!0,as(q,v,null)):as(q,v,g),this.I=2}}else this.I==3&&(c?Il(this,c):this.i.length==0||xl(this.h)||Il(this))};function Il(c,g){var v;g?v=g.l:v=c.V++;const S=Tt(c.J);Ke(S,"SID",c.M),Ke(S,"RID",v),Ke(S,"AID",c.K),ma(c,S),c.u&&c.o&&ha(S,c.u,c.o),v=new zn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=pc(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),_l(c.h,v),as(v,S,g)}function ma(c,g){c.H&&de(c.H,function(v,S){Ke(g,S,v)}),c.l&&de({},function(v,S){Ke(g,S,v)})}function pc(c,g,v){v=Math.min(c.i.length,v);const S=c.l?_(c.l.Ka,c.l,c):null;e:{var q=c.i;let Re=-1;for(;;){const gt=["count="+v];Re==-1?v>0?(Re=q[0].g,gt.push("ofs="+Re)):Re=0:gt.push("ofs="+Re);let Ge=!0;for(let rt=0;rt<v;rt++){var Q=q[rt].g;const Nn=q[rt].map;if(Q-=Re,Q<0)Re=Math.max(0,q[rt].g-100),Ge=!1;else try{Q="req"+Q+"_"||"";try{var ue=Nn instanceof Map?Nn:Object.entries(Nn);for(const[ys,Gn]of ue){let Yn=Gn;p(Gn)&&(Yn=ri(Gn)),gt.push(Q+ys+"="+encodeURIComponent(Yn))}}catch(ys){throw gt.push(Q+"type="+encodeURIComponent("_badmap")),ys}}catch{S&&S(Nn)}}if(Ge){ue=gt.join("&");break e}}ue=void 0}return c=c.i.splice(0,v),g.G=c,ue}function yc(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;Z||A(),oe||(Z(),oe=!0),I.add(g,c),c.A=0}}function ga(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ss(_(c.Da,c),vc(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,xc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ss(_(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),mi(this),xc(this))};function kl(c){c.B!=null&&(m.clearTimeout(c.B),c.B=null)}function xc(c){c.g=new zn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=Tt(c.na);Ke(g,"RID","rpc"),Ke(g,"SID",c.M),Ke(g,"AID",c.K),Ke(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(g,"TO",c.ia),Ke(g,"TYPE","xmlhttp"),ma(c,g),c.u&&c.o&&ha(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=oa(Tt(g)),v.u=null,v.R=!0,Wa(v,c)}i.Va=function(){this.C!=null&&(this.C=null,mi(this),ga(this),vt(19))};function or(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function _c(c,g){var v=null;if(c.g==g){or(c),kl(c),c.g=null;var S=2}else if(us(c.h,g))v=g.G,vl(c.h,g),S=1;else return;if(c.I!=0){if(g.o)if(S==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var q=c.D;S=Ja(),It(S,new ns(S,v)),gs(c)}else yc(c);else if(q=g.m,q==3||q==0&&g.X>0||!(S==1&&lr(c,g)||S==2&&ga(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),q){case 1:ps(c,5);break;case 4:ps(c,10);break;case 3:ps(c,6);break;default:ps(c,2)}}}function vc(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function ps(c,g){if(c.j.info("Error code "+g),g==2){var v=_(c.bb,c),S=c.Ua;const q=!S;S=new mn(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ot(S,"https"),oa(S),q?qn(S.toString(),v):Nl(S.toString(),v)}else vt(2);c.I=0,c.l&&c.l.pa(g),bc(c),rr(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function bc(c){if(c.I=0,c.ja=[],c.l){const g=bl(c.h);(g.length!=0||c.i.length!=0)&&(J(c.ja,g),J(c.ja,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.oa()}}function Ec(c,g,v){var S=v instanceof mn?Tt(v):new mn(v);if(S.g!="")g&&(S.g=g+"."+S.g),li(S,S.u);else{var q=m.location;S=q.protocol,g=g?g+"."+q.hostname:q.hostname,q=+q.port;const Q=new mn(null);S&&Ot(Q,S),g&&(Q.g=g),q&&li(Q,q),v&&(Q.h=v),S=Q}return v=c.G,g=c.wa,v&&g&&Ke(S,v,g),Ke(S,"VER",c.ka),ma(c,S),S}function Tc(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new Ze(new ds({ab:v})):new Ze(c.ma),g.Fa(c.L),g}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sc(){}i=Sc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function gi(){}gi.prototype.g=function(c,g){return new tn(c,g)};function tn(c,g){_t.call(this),this.g=new fi(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!C(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!C(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Ms(this)}T(tn,_t),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Rl(this.g)},tn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=ri(c),c=v);g.i.push(new Et(g.Ya++,c)),g.I==3&&gs(g)},tn.prototype.N=function(){this.g.l=null,delete this.j,Rl(this.g),delete this.g,tn.Z.N.call(this)};function Ac(c){Pt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}T(Ac,Pt);function Nc(){En.call(this),this.status=1}T(Nc,En);function Ms(c){this.g=c}T(Ms,Sc),Ms.prototype.ra=function(){It(this.g,"a")},Ms.prototype.qa=function(c){It(this.g,new Ac(c))},Ms.prototype.pa=function(c){It(this.g,new Nc)},Ms.prototype.oa=function(){It(this.g,"b")},gi.prototype.createWebChannel=gi.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,Nv=function(){return new gi},Av=function(){return Ja()},Sv=mt,om={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ra.NO_ERROR=0,ra.TIMEOUT=8,ra.HTTP_ERROR=6,zu=ra,gl.COMPLETE="complete",Tv=gl,ic.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",_t.prototype.listen=_t.prototype.J,yo=ic,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,Ev=Ze}).apply(typeof ku<"u"?ku:typeof self<"u"?self:typeof window<"u"?window:{});const Nx="@firebase/firestore",wx="4.9.2";let Zt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let rl="12.3.0";const Ba=new Rm("@firebase/firestore");function Pr(){return Ba.logLevel}function fe(i,...e){if(Ba.logLevel<=Le.DEBUG){const s=e.map(qm);Ba.debug(`Firestore (${rl}): ${i}`,...s)}}function ni(i,...e){if(Ba.logLevel<=Le.ERROR){const s=e.map(qm);Ba.error(`Firestore (${rl}): ${i}`,...s)}}function $r(i,...e){if(Ba.logLevel<=Le.WARN){const s=e.map(qm);Ba.warn(`Firestore (${rl}): ${i}`,...s)}}function qm(i){if(typeof i=="string")return i;try{return(function(s){return JSON.stringify(s)})(i)}catch{return i}}function Ee(i,e,s){let r="Unexpected state";typeof e=="string"?r=e:s=e,wv(i,r,s)}function wv(i,e,s){let r=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(s!==void 0)try{r+=" CONTEXT: "+JSON.stringify(s)}catch{r+=" CONTEXT: "+s}throw ni(r),new Error(r)}function Qe(i,e,s,r){let o="Unexpected state";typeof s=="string"?o=s:r=s,i||wv(e,o,r)}function Ce(i,e){return i}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends ii{constructor(e,s){super(e,s),this.code=e,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ki{constructor(){this.promise=new Promise(((e,s)=>{this.resolve=e,this.reject=s}))}}class Cv{constructor(e,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,s){e.enqueueRetryable((()=>s(Zt.UNAUTHENTICATED)))}shutdown(){}}class PA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,s){this.changeListener=s,e.enqueueRetryable((()=>s(this.token.user)))}shutdown(){this.changeListener=null}}class zA{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,s){Qe(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,s(y)):Promise.resolve();let u=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ki,e.enqueueRetryable((()=>o(this.currentUser)))};const m=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},p=y=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ki)}}),0),m()}getToken(){const e=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then((r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string",31837,{l:r}),new Cv(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class BA{constructor(e,s,r){this.P=e,this.T=s,this.I=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qA{constructor(e,s,r){this.P=e,this.T=s,this.I=r}getToken(){return Promise.resolve(new BA(this.P,this.T,this.I))}start(e,s){e.enqueueRetryable((()=>s(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Cx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HA{constructor(e,s){this.V=s,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,s){Qe(this.o===void 0,3512);const r=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const m=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?s(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Cx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((s=>s?(Qe(typeof s.token=="string",44558,{tokenResult:s}),this.m=s.token,new Cx(s.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function FA(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(s);else for(let r=0;r<i;r++)s[r]=Math.floor(256*Math.random());return s}class Hm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=FA(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<s&&(r+=e.charAt(o[u]%62))}return r}}function Ue(i,e){return i<e?-1:i>e?1:0}function cm(i,e){const s=Math.min(i.length,e.length);for(let r=0;r<s;r++){const o=i.charAt(r),u=e.charAt(r);if(o!==u)return Qf(o)===Qf(u)?Ue(o,u):Qf(o)?1:-1}return Ue(i.length,e.length)}const GA=55296,YA=57343;function Qf(i){const e=i.charCodeAt(0);return e>=GA&&e<=YA}function Xr(i,e,s){return i.length===e.length&&i.every(((r,o)=>s(r,e[o])))}const Rx="__name__";class Es{constructor(e,s,r){s===void 0?s=0:s>e.length&&Ee(637,{offset:s,range:e.length}),r===void 0?r=e.length-s:r>e.length-s&&Ee(1746,{length:r,range:e.length-s}),this.segments=e,this.offset=s,this.len=r}get length(){return this.len}isEqual(e){return Es.comparator(this,e)===0}child(e){const s=this.segments.slice(this.offset,this.limit());return e instanceof Es?e.forEach((r=>{s.push(r)})):s.push(e),this.construct(s)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}forEach(e){for(let s=this.offset,r=this.limit();s<r;s++)e(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,s){const r=Math.min(e.length,s.length);for(let o=0;o<r;o++){const u=Es.compareSegments(e.get(o),s.get(o));if(u!==0)return u}return Ue(e.length,s.length)}static compareSegments(e,s){const r=Es.isNumericId(e),o=Es.isNumericId(s);return r&&!o?-1:!r&&o?1:r&&o?Es.extractNumericId(e).compare(Es.extractNumericId(s)):cm(e,s)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qi.fromString(e.substring(4,e.length-2))}}class ut extends Es{construct(e,s,r){return new ut(e,s,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const s=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);s.push(...r.split("/").filter((o=>o.length>0)))}return new ut(s)}static emptyPath(){return new ut([])}}const QA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Es{construct(e,s,r){return new Qt(e,s,r)}static isValidIdentifier(e){return QA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Rx}static keyField(){return new Qt([Rx])}static fromServerFormat(e){const s=[];let r="",o=0;const u=()=>{if(r.length===0)throw new ye(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(r),r=""};let m=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ye(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ye(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,o+=2}else p==="`"?(m=!m,o++):p!=="."||m?(r+=p,o++):(u(),o++)}if(u(),m)throw new ye(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(s)}static emptyPath(){return new Qt([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ut.fromString(e))}static fromName(e){return new _e(ut.fromString(e).popFirst(5))}static empty(){return new _e(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,s){return ut.comparator(e.path,s.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ut(e.slice()))}}function KA(i,e,s){if(!s)throw new ye(le.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function $A(i,e,s,r){if(e===!0&&r===!0)throw new ye(le.INVALID_ARGUMENT,`${i} and ${s} cannot be used together.`)}function Ix(i){if(!_e.isDocumentKey(i))throw new ye(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Rv(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Fm(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee(12329,{type:typeof i})}function ko(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ye(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=Fm(i);throw new ye(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${s}`)}}return i}function Rt(i,e){const s={typeString:i};return e&&(s.value=e),s}function Yo(i,e){if(!Rv(i))throw new ye(le.INVALID_ARGUMENT,"JSON must be an object");let s;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){s=`JSON missing required field: '${r}'`;break}const m=i[r];if(o&&typeof m!==o){s=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&m!==u.value){s=`Expected '${r}' field to equal '${u.value}'`;break}}if(s)throw new ye(le.INVALID_ARGUMENT,s);return!0}const kx=-62135596800,jx=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const s=Math.floor(e/1e3),r=Math.floor((e-1e3*s)*jx);return new it(s,r)}constructor(e,s){if(this.seconds=e,this.nanoseconds=s,s<0)throw new ye(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new ye(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(e<kx)throw new ye(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jx}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Yo(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-kx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Rt("string",it._jsonSchemaVersion),seconds:Rt("number"),nanoseconds:Rt("number")};class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new it(0,0))}static max(){return new Ne(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const jo=-1;function XA(i,e){const s=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=Ne.fromTimestamp(r===1e9?new it(s+1,0):new it(s,r));return new $i(o,_e.empty(),e)}function ZA(i){return new $i(i.readTime,i.key,jo)}class $i{constructor(e,s,r){this.readTime=e,this.documentKey=s,this.largestBatchId=r}static min(){return new $i(Ne.min(),_e.empty(),jo)}static max(){return new $i(Ne.max(),_e.empty(),jo)}}function JA(i,e){let s=i.readTime.compareTo(e.readTime);return s!==0?s:(s=_e.comparator(i.documentKey,e.documentKey),s!==0?s:Ue(i.largestBatchId,e.largestBatchId))}const WA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ll(i){if(i.code!==le.FAILED_PRECONDITION||i.message!==WA)throw i;fe("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)}),(s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)}))}catch(e){return this.next(void 0,e)}next(e,s){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(e,this.result):new se(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(s,u).next(r,o)}}))}toPromise(){return new Promise(((e,s)=>{this.next(e,s)}))}wrapUserFunction(e){try{const s=e();return s instanceof se?s:se.resolve(s)}catch(s){return se.reject(s)}}wrapSuccess(e,s){return e?this.wrapUserFunction((()=>e(s))):se.resolve(s)}wrapFailure(e,s){return e?this.wrapUserFunction((()=>e(s))):se.reject(s)}static resolve(e){return new se(((s,r)=>{s(e)}))}static reject(e){return new se(((s,r)=>{r(e)}))}static waitFor(e){return new se(((s,r)=>{let o=0,u=0,m=!1;e.forEach((p=>{++o,p.next((()=>{++u,m&&u===o&&s()}),(y=>r(y)))})),m=!0,u===o&&s()}))}static or(e){let s=se.resolve(!1);for(const r of e)s=s.next((o=>o?se.resolve(o):r()));return s}static forEach(e,s){const r=[];return e.forEach(((o,u)=>{r.push(s.call(this,o,u))})),this.waitFor(r)}static mapArray(e,s){return new se(((r,o)=>{const u=e.length,m=new Array(u);let p=0;for(let y=0;y<u;y++){const _=y;s(e[_]).next((E=>{m[_]=E,++p,p===u&&r(m)}),(E=>o(E)))}}))}static doWhile(e,s){return new se(((r,o)=>{const u=()=>{e()===!0?s().next((()=>{u()}),o):r()};u()}))}}function tN(i){const e=i.match(/Android ([\d.]+)/i),s=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(s)}function ol(i){return i.name==="IndexedDbTransactionError"}class xh{constructor(e,s){this.previousValue=e,s&&(s.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>s.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}xh.ce=-1;const Gm=-1;function _h(i){return i==null}function eh(i){return i===0&&1/i==-1/0}function nN(i){return typeof i=="number"&&Number.isInteger(i)&&!eh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Iv="";function sN(i){let e="";for(let s=0;s<i.length;s++)e.length>0&&(e=Dx(e)),e=iN(i.get(s),e);return Dx(e)}function iN(i,e){let s=e;const r=i.length;for(let o=0;o<r;o++){const u=i.charAt(o);switch(u){case"\0":s+="";break;case Iv:s+="";break;default:s+=u}}return s}function Dx(i){return i+Iv+""}function Mx(i){let e=0;for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&e++;return e}function Fa(i,e){for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&e(s,i[s])}function kv(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ht{constructor(e,s){this.comparator=e,this.root=s||Yt.EMPTY}insert(e,s){return new ht(this.comparator,this.root.insert(e,s,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return s.value;r<0?s=s.left:r>0&&(s=s.right)}return null}indexOf(e){let s=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return s+r.left.size;o<0?r=r.left:(s+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((s,r)=>(e(s,r),!1)))}toString(){const e=[];return this.inorderTraversal(((s,r)=>(e.push(`${s}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ju(this.root,e,this.comparator,!0)}}class ju{constructor(e,s,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=s?r(e.key,s):1,s&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const s={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,s,r,o,u){this.key=e,this.value=s,this.color=r??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,s,r,o,u){return new Yt(e??this.key,s??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,s,r),null):u===0?o.copy(null,s,null,null,null):o.copy(null,null,null,null,o.right.insert(e,s,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,s){let r,o=this;if(s(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,s),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),s(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,s))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,s,r,o,u){return this}insert(e,s,r){return new Yt(e,s)}remove(e,s){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((s,r)=>(e(s),!1)))}forEachInRange(e,s){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;s(o.key)}}forEachWhile(e,s){let r;for(r=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const s=this.data.getIteratorFrom(e);return s.hasNext()?s.getNext().key:null}getIterator(){return new Ox(this.data.getIterator())}getIteratorFrom(e){return new Ox(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let s=this;return s.size<e.size&&(s=e,e=this),e.forEach((r=>{s=s.add(r)})),s}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const s=this.data.getIterator(),r=e.data.getIterator();for(;s.hasNext();){const o=s.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((s=>{e.push(s)})),e}toString(){const e=[];return this.forEach((s=>e.push(s))),"SortedSet("+e.toString()+")"}copy(e){const s=new Dt(this.comparator);return s.data=e,s}}class Ox{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Jn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Jn([])}unionWith(e){let s=new Dt(Qt.comparator);for(const r of this.fields)s=s.add(r);for(const r of e)s=s.add(r);return new Jn(s.toArray())}covers(e){for(const s of this.fields)if(s.isPrefixOf(e))return!0;return!1}isEqual(e){return Xr(this.fields,e.fields,((s,r)=>s.isEqual(r)))}}class jv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const s=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new jv("Invalid base64 string: "+u):u}})(e);return new Kt(s)}static fromUint8Array(e){const s=(function(o){let u="";for(let m=0;m<o.length;++m)u+=String.fromCharCode(o[m]);return u})(e);return new Kt(s)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(s){return btoa(s)})(this.binaryString)}toUint8Array(){return(function(s){const r=new Uint8Array(s.length);for(let o=0;o<s.length;o++)r[o]=s.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const aN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xi(i){if(Qe(!!i,39018),typeof i=="string"){let e=0;const s=aN.exec(i);if(Qe(!!s,46558,{timestamp:i}),s[1]){let o=s[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(i.seconds),nanos:xt(i.nanos)}}function xt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Zi(i){return typeof i=="string"?Kt.fromBase64String(i):Kt.fromUint8Array(i)}const Dv="server_timestamp",Mv="__type__",Ov="__previous_value__",Vv="__local_write_time__";function Ym(i){return(i?.mapValue?.fields||{})[Mv]?.stringValue===Dv}function vh(i){const e=i.mapValue.fields[Ov];return Ym(e)?vh(e):e}function Do(i){const e=Xi(i.mapValue.fields[Vv].timestampValue);return new it(e.seconds,e.nanos)}class rN{constructor(e,s,r,o,u,m,p,y,_,E){this.databaseId=e,this.appId=s,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=m,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=E}}const th="(default)";class Mo{constructor(e,s){this.projectId=e,this.database=s||th}static empty(){return new Mo("","")}get isDefaultDatabase(){return this.database===th}isEqual(e){return e instanceof Mo&&e.projectId===this.projectId&&e.database===this.database}}const Lv="__type__",lN="__max__",Du={mapValue:{}},Uv="__vector__",nh="value";function Ji(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ym(i)?4:cN(i)?9007199254740991:oN(i)?10:11:Ee(28295,{value:i})}function Rs(i,e){if(i===e)return!0;const s=Ji(i);if(s!==Ji(e))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Do(i).isEqual(Do(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const m=Xi(o.timestampValue),p=Xi(u.timestampValue);return m.seconds===p.seconds&&m.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Zi(o.bytesValue).isEqual(Zi(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return xt(o.geoPointValue.latitude)===xt(u.geoPointValue.latitude)&&xt(o.geoPointValue.longitude)===xt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return xt(o.integerValue)===xt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const m=xt(o.doubleValue),p=xt(u.doubleValue);return m===p?eh(m)===eh(p):isNaN(m)&&isNaN(p)}return!1})(i,e);case 9:return Xr(i.arrayValue.values||[],e.arrayValue.values||[],Rs);case 10:case 11:return(function(o,u){const m=o.mapValue.fields||{},p=u.mapValue.fields||{};if(Mx(m)!==Mx(p))return!1;for(const y in m)if(m.hasOwnProperty(y)&&(p[y]===void 0||!Rs(m[y],p[y])))return!1;return!0})(i,e);default:return Ee(52216,{left:i})}}function Oo(i,e){return(i.values||[]).find((s=>Rs(s,e)))!==void 0}function Zr(i,e){if(i===e)return 0;const s=Ji(i),r=Ji(e);if(s!==r)return Ue(s,r);switch(s){case 0:case 9007199254740991:return 0;case 1:return Ue(i.booleanValue,e.booleanValue);case 2:return(function(u,m){const p=xt(u.integerValue||u.doubleValue),y=xt(m.integerValue||m.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(i,e);case 3:return Vx(i.timestampValue,e.timestampValue);case 4:return Vx(Do(i),Do(e));case 5:return cm(i.stringValue,e.stringValue);case 6:return(function(u,m){const p=Zi(u),y=Zi(m);return p.compareTo(y)})(i.bytesValue,e.bytesValue);case 7:return(function(u,m){const p=u.split("/"),y=m.split("/");for(let _=0;_<p.length&&_<y.length;_++){const E=Ue(p[_],y[_]);if(E!==0)return E}return Ue(p.length,y.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,m){const p=Ue(xt(u.latitude),xt(m.latitude));return p!==0?p:Ue(xt(u.longitude),xt(m.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return Lx(i.arrayValue,e.arrayValue);case 10:return(function(u,m){const p=u.fields||{},y=m.fields||{},_=p[nh]?.arrayValue,E=y[nh]?.arrayValue,T=Ue(_?.values?.length||0,E?.values?.length||0);return T!==0?T:Lx(_,E)})(i.mapValue,e.mapValue);case 11:return(function(u,m){if(u===Du.mapValue&&m===Du.mapValue)return 0;if(u===Du.mapValue)return 1;if(m===Du.mapValue)return-1;const p=u.fields||{},y=Object.keys(p),_=m.fields||{},E=Object.keys(_);y.sort(),E.sort();for(let T=0;T<y.length&&T<E.length;++T){const N=cm(y[T],E[T]);if(N!==0)return N;const B=Zr(p[y[T]],_[E[T]]);if(B!==0)return B}return Ue(y.length,E.length)})(i.mapValue,e.mapValue);default:throw Ee(23264,{he:s})}}function Vx(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ue(i,e);const s=Xi(i),r=Xi(e),o=Ue(s.seconds,r.seconds);return o!==0?o:Ue(s.nanos,r.nanos)}function Lx(i,e){const s=i.values||[],r=e.values||[];for(let o=0;o<s.length&&o<r.length;++o){const u=Zr(s[o],r[o]);if(u)return u}return Ue(s.length,r.length)}function Jr(i){return um(i)}function um(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(s){const r=Xi(s);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(s){return Zi(s).toBase64()})(i.bytesValue):"referenceValue"in i?(function(s){return _e.fromName(s).toString()})(i.referenceValue):"geoPointValue"in i?(function(s){return`geo(${s.latitude},${s.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(s){let r="[",o=!0;for(const u of s.values||[])o?o=!1:r+=",",r+=um(u);return r+"]"})(i.arrayValue):"mapValue"in i?(function(s){const r=Object.keys(s.fields||{}).sort();let o="{",u=!0;for(const m of r)u?u=!1:o+=",",o+=`${m}:${um(s.fields[m])}`;return o+"}"})(i.mapValue):Ee(61005,{value:i})}function Bu(i){switch(Ji(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vh(i);return e?16+Bu(e):16;case 5:return 2*i.stringValue.length;case 6:return Zi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Bu(u)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return Fa(r.fields,((u,m)=>{o+=u.length+Bu(m)})),o})(i.mapValue);default:throw Ee(13486,{value:i})}}function hm(i){return!!i&&"integerValue"in i}function Qm(i){return!!i&&"arrayValue"in i}function Ux(i){return!!i&&"nullValue"in i}function Px(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function qu(i){return!!i&&"mapValue"in i}function oN(i){return(i?.mapValue?.fields||{})[Lv]?.stringValue===Uv}function To(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Fa(i.mapValue.fields,((s,r)=>e.mapValue.fields[s]=To(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let s=0;s<(i.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=To(i.arrayValue.values[s]);return e}return{...i}}function cN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===lN}class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let s=this.value;for(let r=0;r<e.length-1;++r)if(s=(s.mapValue.fields||{})[e.get(r)],!qu(s))return null;return s=(s.mapValue.fields||{})[e.lastSegment()],s||null}}set(e,s){this.getFieldsMap(e.popLast())[e.lastSegment()]=To(s)}setAll(e){let s=Qt.emptyPath(),r={},o=[];e.forEach(((m,p)=>{if(!s.isImmediateParentOf(p)){const y=this.getFieldsMap(s);this.applyChanges(y,r,o),r={},o=[],s=p.popLast()}m?r[p.lastSegment()]=To(m):o.push(p.lastSegment())}));const u=this.getFieldsMap(s);this.applyChanges(u,r,o)}delete(e){const s=this.field(e.popLast());qu(s)&&s.mapValue.fields&&delete s.mapValue.fields[e.lastSegment()]}isEqual(e){return Rs(this.value,e.value)}getFieldsMap(e){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=s.mapValue.fields[e.get(r)];qu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},s.mapValue.fields[e.get(r)]=o),s=o}return s.mapValue.fields}applyChanges(e,s,r){Fa(s,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new On(To(this.value))}}function Pv(i){const e=[];return Fa(i.fields,((s,r)=>{const o=new Qt([s]);if(qu(r)){const u=Pv(r.mapValue).fields;if(u.length===0)e.push(o);else for(const m of u)e.push(o.child(m))}else e.push(o)})),new Jn(e)}class Jt{constructor(e,s,r,o,u,m,p){this.key=e,this.documentType=s,this.version=r,this.readTime=o,this.createTime=u,this.data=m,this.documentState=p}static newInvalidDocument(e){return new Jt(e,0,Ne.min(),Ne.min(),Ne.min(),On.empty(),0)}static newFoundDocument(e,s,r,o){return new Jt(e,1,s,Ne.min(),r,o,0)}static newNoDocument(e,s){return new Jt(e,2,s,Ne.min(),Ne.min(),On.empty(),0)}static newUnknownDocument(e,s){return new Jt(e,3,s,Ne.min(),Ne.min(),On.empty(),2)}convertToFoundDocument(e,s){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sh{constructor(e,s){this.position=e,this.inclusive=s}}function zx(i,e,s){let r=0;for(let o=0;o<i.position.length;o++){const u=e[o],m=i.position[o];if(u.field.isKeyField()?r=_e.comparator(_e.fromName(m.referenceValue),s.key):r=Zr(m,s.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function Bx(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let s=0;s<i.position.length;s++)if(!Rs(i.position[s],e.position[s]))return!1;return!0}class ih{constructor(e,s="asc"){this.field=e,this.dir=s}}function uN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class zv{}class jt extends zv{constructor(e,s,r){super(),this.field=e,this.op=s,this.value=r}static create(e,s,r){return e.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(e,s,r):new dN(e,s,r):s==="array-contains"?new gN(e,r):s==="in"?new pN(e,r):s==="not-in"?new yN(e,r):s==="array-contains-any"?new xN(e,r):new jt(e,s,r)}static createKeyFieldInFilter(e,s,r){return s==="in"?new fN(e,r):new mN(e,r)}matches(e){const s=e.data.field(this.field);return this.op==="!="?s!==null&&s.nullValue===void 0&&this.matchesComparison(Zr(s,this.value)):s!==null&&Ji(this.value)===Ji(s)&&this.matchesComparison(Zr(s,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Is extends zv{constructor(e,s){super(),this.filters=e,this.op=s,this.Pe=null}static create(e,s){return new Is(e,s)}matches(e){return Bv(this)?this.filters.find((s=>!s.matches(e)))===void 0:this.filters.find((s=>s.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,s)=>e.concat(s.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Bv(i){return i.op==="and"}function qv(i){return hN(i)&&Bv(i)}function hN(i){for(const e of i.filters)if(e instanceof Is)return!1;return!0}function dm(i){if(i instanceof jt)return i.field.canonicalString()+i.op.toString()+Jr(i.value);if(qv(i))return i.filters.map((e=>dm(e))).join(",");{const e=i.filters.map((s=>dm(s))).join(",");return`${i.op}(${e})`}}function Hv(i,e){return i instanceof jt?(function(r,o){return o instanceof jt&&r.op===o.op&&r.field.isEqual(o.field)&&Rs(r.value,o.value)})(i,e):i instanceof Is?(function(r,o){return o instanceof Is&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,m,p)=>u&&Hv(m,o.filters[p])),!0):!1})(i,e):void Ee(19439)}function Fv(i){return i instanceof jt?(function(s){return`${s.field.canonicalString()} ${s.op} ${Jr(s.value)}`})(i):i instanceof Is?(function(s){return s.op.toString()+" {"+s.getFilters().map(Fv).join(" ,")+"}"})(i):"Filter"}class dN extends jt{constructor(e,s,r){super(e,s,r),this.key=_e.fromName(r.referenceValue)}matches(e){const s=_e.comparator(e.key,this.key);return this.matchesComparison(s)}}class fN extends jt{constructor(e,s){super(e,"in",s),this.keys=Gv("in",s)}matches(e){return this.keys.some((s=>s.isEqual(e.key)))}}class mN extends jt{constructor(e,s){super(e,"not-in",s),this.keys=Gv("not-in",s)}matches(e){return!this.keys.some((s=>s.isEqual(e.key)))}}function Gv(i,e){return(e.arrayValue?.values||[]).map((s=>_e.fromName(s.referenceValue)))}class gN extends jt{constructor(e,s){super(e,"array-contains",s)}matches(e){const s=e.data.field(this.field);return Qm(s)&&Oo(s.arrayValue,this.value)}}class pN extends jt{constructor(e,s){super(e,"in",s)}matches(e){const s=e.data.field(this.field);return s!==null&&Oo(this.value.arrayValue,s)}}class yN extends jt{constructor(e,s){super(e,"not-in",s)}matches(e){if(Oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=e.data.field(this.field);return s!==null&&s.nullValue===void 0&&!Oo(this.value.arrayValue,s)}}class xN extends jt{constructor(e,s){super(e,"array-contains-any",s)}matches(e){const s=e.data.field(this.field);return!(!Qm(s)||!s.arrayValue.values)&&s.arrayValue.values.some((r=>Oo(this.value.arrayValue,r)))}}class _N{constructor(e,s=null,r=[],o=[],u=null,m=null,p=null){this.path=e,this.collectionGroup=s,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=m,this.endAt=p,this.Te=null}}function qx(i,e=null,s=[],r=[],o=null,u=null,m=null){return new _N(i,e,s,r,o,u,m)}function Km(i){const e=Ce(i);if(e.Te===null){let s=e.path.canonicalString();e.collectionGroup!==null&&(s+="|cg:"+e.collectionGroup),s+="|f:",s+=e.filters.map((r=>dm(r))).join(","),s+="|ob:",s+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),_h(e.limit)||(s+="|l:",s+=e.limit),e.startAt&&(s+="|lb:",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((r=>Jr(r))).join(",")),e.endAt&&(s+="|ub:",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((r=>Jr(r))).join(",")),e.Te=s}return e.Te}function $m(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<i.orderBy.length;s++)if(!uN(i.orderBy[s],e.orderBy[s]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let s=0;s<i.filters.length;s++)if(!Hv(i.filters[s],e.filters[s]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Bx(i.startAt,e.startAt)&&Bx(i.endAt,e.endAt)}function fm(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class bh{constructor(e,s=null,r=[],o=[],u=null,m="F",p=null,y=null){this.path=e,this.collectionGroup=s,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=m,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function vN(i,e,s,r,o,u,m,p){return new bh(i,e,s,r,o,u,m,p)}function Xm(i){return new bh(i)}function Hx(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function bN(i){return i.collectionGroup!==null}function So(i){const e=Ce(i);if(e.Ie===null){e.Ie=[];const s=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),s.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(m){let p=new Dt(Qt.comparator);return m.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((u=>{s.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new ih(u,r))})),s.has(Qt.keyField().canonicalString())||e.Ie.push(new ih(Qt.keyField(),r))}return e.Ie}function Ss(i){const e=Ce(i);return e.Ee||(e.Ee=EN(e,So(i))),e.Ee}function EN(i,e){if(i.limitType==="F")return qx(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new ih(o.field,u)}));const s=i.endAt?new sh(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new sh(i.startAt.position,i.startAt.inclusive):null;return qx(i.path,i.collectionGroup,e,i.filters,i.limit,s,r)}}function mm(i,e,s){return new bh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,s,i.startAt,i.endAt)}function Eh(i,e){return $m(Ss(i),Ss(e))&&i.limitType===e.limitType}function Yv(i){return`${Km(Ss(i))}|lt:${i.limitType}`}function zr(i){return`Query(target=${(function(s){let r=s.path.canonicalString();return s.collectionGroup!==null&&(r+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(r+=`, filters: [${s.filters.map((o=>Fv(o))).join(", ")}]`),_h(s.limit)||(r+=", limit: "+s.limit),s.orderBy.length>0&&(r+=`, orderBy: [${s.orderBy.map((o=>(function(m){return`${m.field.canonicalString()} (${m.dir})`})(o))).join(", ")}]`),s.startAt&&(r+=", startAt: ",r+=s.startAt.inclusive?"b:":"a:",r+=s.startAt.position.map((o=>Jr(o))).join(",")),s.endAt&&(r+=", endAt: ",r+=s.endAt.inclusive?"a:":"b:",r+=s.endAt.position.map((o=>Jr(o))).join(",")),`Target(${r})`})(Ss(i))}; limitType=${i.limitType})`}function Th(i,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):_e.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(i,e)&&(function(r,o){for(const u of So(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(r,o){return!(r.startAt&&!(function(m,p,y){const _=zx(m,p,y);return m.inclusive?_<=0:_<0})(r.startAt,So(r),o)||r.endAt&&!(function(m,p,y){const _=zx(m,p,y);return m.inclusive?_>=0:_>0})(r.endAt,So(r),o))})(i,e)}function TN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Qv(i){return(e,s)=>{let r=!1;for(const o of So(i)){const u=SN(o,e,s);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function SN(i,e,s){const r=i.field.isKeyField()?_e.comparator(e.key,s.key):(function(u,m,p){const y=m.data.field(u),_=p.data.field(u);return y!==null&&_!==null?Zr(y,_):Ee(42886)})(i.field,e,s);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:i.dir})}}class Ga{constructor(e,s){this.mapKeyFn=e,this.equalsFn=s,this.inner={},this.innerSize=0}get(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,s){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,s]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,s]);o.push([e,s]),this.innerSize++}delete(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[s]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Fa(this.inner,((s,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return kv(this.inner)}size(){return this.innerSize}}const AN=new ht(_e.comparator);function si(){return AN}const Kv=new ht(_e.comparator);function xo(...i){let e=Kv;for(const s of i)e=e.insert(s.key,s);return e}function $v(i){let e=Kv;return i.forEach(((s,r)=>e=e.insert(s,r.overlayedDocument))),e}function Ma(){return Ao()}function Xv(){return Ao()}function Ao(){return new Ga((i=>i.toString()),((i,e)=>i.isEqual(e)))}const NN=new ht(_e.comparator),wN=new Dt(_e.comparator);function Pe(...i){let e=wN;for(const s of i)e=e.add(s);return e}const CN=new Dt(Ue);function RN(){return CN}function Zm(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eh(e)?"-0":e}}function Zv(i){return{integerValue:""+i}}function IN(i,e){return nN(e)?Zv(e):Zm(i,e)}class Sh{constructor(){this._=void 0}}function kN(i,e,s){return i instanceof ah?(function(o,u){const m={fields:{[Mv]:{stringValue:Dv},[Vv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ym(u)&&(u=vh(u)),u&&(m.fields[Ov]=u),{mapValue:m}})(s,e):i instanceof Vo?Wv(i,e):i instanceof Lo?e1(i,e):(function(o,u){const m=Jv(o,u),p=Fx(m)+Fx(o.Ae);return hm(m)&&hm(o.Ae)?Zv(p):Zm(o.serializer,p)})(i,e)}function jN(i,e,s){return i instanceof Vo?Wv(i,e):i instanceof Lo?e1(i,e):s}function Jv(i,e){return i instanceof rh?(function(r){return hm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class ah extends Sh{}class Vo extends Sh{constructor(e){super(),this.elements=e}}function Wv(i,e){const s=t1(e);for(const r of i.elements)s.some((o=>Rs(o,r)))||s.push(r);return{arrayValue:{values:s}}}class Lo extends Sh{constructor(e){super(),this.elements=e}}function e1(i,e){let s=t1(e);for(const r of i.elements)s=s.filter((o=>!Rs(o,r)));return{arrayValue:{values:s}}}class rh extends Sh{constructor(e,s){super(),this.serializer=e,this.Ae=s}}function Fx(i){return xt(i.integerValue||i.doubleValue)}function t1(i){return Qm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function DN(i,e){return i.field.isEqual(e.field)&&(function(r,o){return r instanceof Vo&&o instanceof Vo||r instanceof Lo&&o instanceof Lo?Xr(r.elements,o.elements,Rs):r instanceof rh&&o instanceof rh?Rs(r.Ae,o.Ae):r instanceof ah&&o instanceof ah})(i.transform,e.transform)}class MN{constructor(e,s){this.version=e,this.transformResults=s}}class Ws{constructor(e,s){this.updateTime=e,this.exists=s}static none(){return new Ws}static exists(e){return new Ws(void 0,e)}static updateTime(e){return new Ws(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hu(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Ah{}function n1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new i1(i.key,Ws.none()):new Qo(i.key,i.data,Ws.none());{const s=i.data,r=On.empty();let o=new Dt(Qt.comparator);for(let u of e.fields)if(!o.has(u)){let m=s.field(u);m===null&&u.length>1&&(u=u.popLast(),m=s.field(u)),m===null?r.delete(u):r.set(u,m),o=o.add(u)}return new Ya(i.key,r,new Jn(o.toArray()),Ws.none())}}function ON(i,e,s){i instanceof Qo?(function(o,u,m){const p=o.value.clone(),y=Yx(o.fieldTransforms,u,m.transformResults);p.setAll(y),u.convertToFoundDocument(m.version,p).setHasCommittedMutations()})(i,e,s):i instanceof Ya?(function(o,u,m){if(!Hu(o.precondition,u))return void u.convertToUnknownDocument(m.version);const p=Yx(o.fieldTransforms,u,m.transformResults),y=u.data;y.setAll(s1(o)),y.setAll(p),u.convertToFoundDocument(m.version,y).setHasCommittedMutations()})(i,e,s):(function(o,u,m){u.convertToNoDocument(m.version).setHasCommittedMutations()})(0,e,s)}function No(i,e,s,r){return i instanceof Qo?(function(u,m,p,y){if(!Hu(u.precondition,m))return p;const _=u.value.clone(),E=Qx(u.fieldTransforms,y,m);return _.setAll(E),m.convertToFoundDocument(m.version,_).setHasLocalMutations(),null})(i,e,s,r):i instanceof Ya?(function(u,m,p,y){if(!Hu(u.precondition,m))return p;const _=Qx(u.fieldTransforms,y,m),E=m.data;return E.setAll(s1(u)),E.setAll(_),m.convertToFoundDocument(m.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,e,s,r):(function(u,m,p){return Hu(u.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):p})(i,e,s)}function VN(i,e){let s=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),u=Jv(r.transform,o||null);u!=null&&(s===null&&(s=On.empty()),s.set(r.field,u))}return s||null}function Gx(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Xr(r,o,((u,m)=>DN(u,m)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Qo extends Ah{constructor(e,s,r,o=[]){super(),this.key=e,this.value=s,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ya extends Ah{constructor(e,s,r,o,u=[]){super(),this.key=e,this.data=s,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function s1(i){const e=new Map;return i.fieldMask.fields.forEach((s=>{if(!s.isEmpty()){const r=i.data.field(s);e.set(s,r)}})),e}function Yx(i,e,s){const r=new Map;Qe(i.length===s.length,32656,{Re:s.length,Ve:i.length});for(let o=0;o<s.length;o++){const u=i[o],m=u.transform,p=e.data.field(u.field);r.set(u.field,jN(m,p,s[o]))}return r}function Qx(i,e,s){const r=new Map;for(const o of i){const u=o.transform,m=s.data.field(o.field);r.set(o.field,kN(u,m,e))}return r}class i1 extends Ah{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LN extends Ah{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class UN{constructor(e,s,r,o){this.batchId=e,this.localWriteTime=s,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,s){const r=s.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&ON(u,e,r[o])}}applyToLocalView(e,s){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(s=No(r,e,s,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(s=No(r,e,s,this.localWriteTime));return s}applyToLocalDocumentSet(e,s){const r=Xv();return this.mutations.forEach((o=>{const u=e.get(o.key),m=u.overlayedDocument;let p=this.applyToLocalView(m,u.mutatedFields);p=s.has(o.key)?null:p;const y=n1(m,p);y!==null&&r.set(o.key,y),m.isValidDocument()||m.convertToNoDocument(Ne.min())})),r}keys(){return this.mutations.reduce(((e,s)=>e.add(s.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&Xr(this.mutations,e.mutations,((s,r)=>Gx(s,r)))&&Xr(this.baseMutations,e.baseMutations,((s,r)=>Gx(s,r)))}}class Jm{constructor(e,s,r,o){this.batch=e,this.commitVersion=s,this.mutationResults=r,this.docVersions=o}static from(e,s,r){Qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return NN})();const u=e.mutations;for(let m=0;m<u.length;m++)o=o.insert(u[m].key,r[m].version);return new Jm(e,s,r,o)}}class PN{constructor(e,s){this.largestBatchId=e,this.mutation=s}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class zN{constructor(e,s){this.count=e,this.unchangedNames=s}}var Ct,Be;function BN(i){switch(i){case le.OK:return Ee(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Ee(15467,{code:i})}}function a1(i){if(i===void 0)return ni("GRPC error has no .code"),le.UNKNOWN;switch(i){case Ct.OK:return le.OK;case Ct.CANCELLED:return le.CANCELLED;case Ct.UNKNOWN:return le.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return le.INTERNAL;case Ct.UNAVAILABLE:return le.UNAVAILABLE;case Ct.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Ct.NOT_FOUND:return le.NOT_FOUND;case Ct.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Ct.ABORTED:return le.ABORTED;case Ct.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Ct.DATA_LOSS:return le.DATA_LOSS;default:return Ee(39323,{code:i})}}(Be=Ct||(Ct={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";function qN(){return new TextEncoder}const HN=new Qi([4294967295,4294967295],0);function Kx(i){const e=qN().encode(i),s=new bv;return s.update(e),new Uint8Array(s.digest())}function $x(i){const e=new DataView(i.buffer),s=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Qi([s,r],0),new Qi([o,u],0)]}class Wm{constructor(e,s,r){if(this.bitmap=e,this.padding=s,this.hashCount=r,s<0||s>=8)throw new _o(`Invalid padding: ${s}`);if(r<0)throw new _o(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _o(`Invalid hash count: ${r}`);if(e.length===0&&s!==0)throw new _o(`Invalid padding when bitmap length is 0: ${s}`);this.ge=8*e.length-s,this.pe=Qi.fromNumber(this.ge)}ye(e,s,r){let o=e.add(s.multiply(Qi.fromNumber(r)));return o.compare(HN)===1&&(o=new Qi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const s=Kx(e),[r,o]=$x(s);for(let u=0;u<this.hashCount;u++){const m=this.ye(r,o,u);if(!this.we(m))return!1}return!0}static create(e,s,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),m=new Wm(u,o,s);return r.forEach((p=>m.insert(p))),m}insert(e){if(this.ge===0)return;const s=Kx(e),[r,o]=$x(s);for(let u=0;u<this.hashCount;u++){const m=this.ye(r,o,u);this.Se(m)}}Se(e){const s=Math.floor(e/8),r=e%8;this.bitmap[s]|=1<<r}}class _o extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nh{constructor(e,s,r,o,u){this.snapshotVersion=e,this.targetChanges=s,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,s,r){const o=new Map;return o.set(e,Ko.createSynthesizedTargetChangeForCurrentChange(e,s,r)),new Nh(Ne.min(),o,new ht(Ue),si(),Pe())}}class Ko{constructor(e,s,r,o,u){this.resumeToken=e,this.current=s,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,s,r){return new Ko(r,s,Pe(),Pe(),Pe())}}class Fu{constructor(e,s,r,o){this.be=e,this.removedTargetIds=s,this.key=r,this.De=o}}class r1{constructor(e,s){this.targetId=e,this.Ce=s}}class l1{constructor(e,s,r=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=s,this.resumeToken=r,this.cause=o}}class Xx{constructor(){this.ve=0,this.Fe=Zx(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),s=Pe(),r=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:s=s.add(o);break;case 1:r=r.add(o);break;default:Ee(38017,{changeType:u})}})),new Ko(this.Me,this.xe,e,s,r)}qe(){this.Oe=!1,this.Fe=Zx()}Qe(e,s){this.Oe=!0,this.Fe=this.Fe.insert(e,s)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class FN{constructor(e){this.Ge=e,this.ze=new Map,this.je=si(),this.Je=Mu(),this.He=Mu(),this.Ye=new ht(Ue)}Ze(e){for(const s of e.be)e.De&&e.De.isFoundDocument()?this.Xe(s,e.De):this.et(s,e.key,e.De);for(const s of e.removedTargetIds)this.et(s,e.key,e.De)}tt(e){this.forEachTarget(e,(s=>{const r=this.nt(s);switch(e.state){case 0:this.rt(s)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(s);break;case 3:this.rt(s)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(s)&&(this.it(s),r.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,s){e.targetIds.length>0?e.targetIds.forEach(s):this.ze.forEach(((r,o)=>{this.rt(o)&&s(o)}))}st(e){const s=e.targetId,r=e.Ce.count,o=this.ot(s);if(o){const u=o.target;if(fm(u))if(r===0){const m=new _e(u.path);this.et(s,m,Jt.newNoDocument(m,Ne.min()))}else Qe(r===1,20013,{expectedCount:r});else{const m=this._t(s);if(m!==r){const p=this.ut(e),y=p?this.ct(p,e,m):1;if(y!==0){this.it(s);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(s,_)}}}}}ut(e){const s=e.Ce.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=s;let m,p;try{m=Zi(r).toUint8Array()}catch(y){if(y instanceof jv)return $r("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Wm(m,o,u)}catch(y){return $r(y instanceof _o?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,s,r){return s.Ce.count===r-this.Pt(e,s.targetId)?0:2}Pt(e,s){const r=this.Ge.getRemoteKeysForTarget(s);let o=0;return r.forEach((u=>{const m=this.Ge.ht(),p=`projects/${m.projectId}/databases/${m.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(s,u,null),o++)})),o}Tt(e){const s=new Map;this.ze.forEach(((u,m)=>{const p=this.ot(m);if(p){if(u.current&&fm(p.target)){const y=new _e(p.target.path);this.It(y).has(m)||this.Et(m,y)||this.et(m,y,Jt.newNoDocument(y,e))}u.Be&&(s.set(m,u.ke()),u.qe())}}));let r=Pe();this.He.forEach(((u,m)=>{let p=!0;m.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,m)=>m.setReadTime(e)));const o=new Nh(e,s,this.Ye,this.je,r);return this.je=si(),this.Je=Mu(),this.He=Mu(),this.Ye=new ht(Ue),o}Xe(e,s){if(!this.rt(e))return;const r=this.Et(e,s.key)?2:0;this.nt(e).Qe(s.key,r),this.je=this.je.insert(s.key,s),this.Je=this.Je.insert(s.key,this.It(s.key).add(e)),this.He=this.He.insert(s.key,this.dt(s.key).add(e))}et(e,s,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,s)?o.Qe(s,1):o.$e(s),this.He=this.He.insert(s,this.dt(s).delete(e)),this.He=this.He.insert(s,this.dt(s).add(e)),r&&(this.je=this.je.insert(s,r))}removeTarget(e){this.ze.delete(e)}_t(e){const s=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+s.addedDocuments.size-s.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let s=this.ze.get(e);return s||(s=new Xx,this.ze.set(e,s)),s}dt(e){let s=this.He.get(e);return s||(s=new Dt(Ue),this.He=this.He.insert(e,s)),s}It(e){let s=this.Je.get(e);return s||(s=new Dt(Ue),this.Je=this.Je.insert(e,s)),s}rt(e){const s=this.ot(e)!==null;return s||fe("WatchChangeAggregator","Detected inactive target",e),s}ot(e){const s=this.ze.get(e);return s&&s.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Xx),this.Ge.getRemoteKeysForTarget(e).forEach((s=>{this.et(e,s,null)}))}Et(e,s){return this.Ge.getRemoteKeysForTarget(e).has(s)}}function Mu(){return new ht(_e.comparator)}function Zx(){return new ht(_e.comparator)}const GN={asc:"ASCENDING",desc:"DESCENDING"},YN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QN={and:"AND",or:"OR"};class KN{constructor(e,s){this.databaseId=e,this.useProto3Json=s}}function gm(i,e){return i.useProto3Json||_h(e)?e:{value:e}}function lh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function o1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function $N(i,e){return lh(i,e.toTimestamp())}function As(i){return Qe(!!i,49232),Ne.fromTimestamp((function(s){const r=Xi(s);return new it(r.seconds,r.nanos)})(i))}function eg(i,e){return pm(i,e).canonicalString()}function pm(i,e){const s=(function(o){return new ut(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?s:s.child(e)}function c1(i){const e=ut.fromString(i);return Qe(m1(e),10190,{key:e.toString()}),e}function ym(i,e){return eg(i.databaseId,e.path)}function Kf(i,e){const s=c1(e);if(s.get(1)!==i.databaseId.projectId)throw new ye(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+i.databaseId.projectId);if(s.get(3)!==i.databaseId.database)throw new ye(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+i.databaseId.database);return new _e(h1(s))}function u1(i,e){return eg(i.databaseId,e)}function XN(i){const e=c1(i);return e.length===4?ut.emptyPath():h1(e)}function xm(i){return new ut(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function h1(i){return Qe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Jx(i,e,s){return{name:ym(i,e),fields:s.value.mapValue.fields}}function ZN(i,e){let s;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ee(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(_,E){return _.useProto3Json?(Qe(E===void 0||typeof E=="string",58123),Kt.fromBase64String(E||"")):(Qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Kt.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),m=e.targetChange.cause,p=m&&(function(_){const E=_.code===void 0?le.UNKNOWN:a1(_.code);return new ye(E,_.message||"")})(m);s=new l1(r,o,u,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Kf(i,r.document.name),u=As(r.document.updateTime),m=r.document.createTime?As(r.document.createTime):Ne.min(),p=new On({mapValue:{fields:r.document.fields}}),y=Jt.newFoundDocument(o,u,m,p),_=r.targetIds||[],E=r.removedTargetIds||[];s=new Fu(_,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Kf(i,r.document),u=r.readTime?As(r.readTime):Ne.min(),m=Jt.newNoDocument(o,u),p=r.removedTargetIds||[];s=new Fu([],p,m.key,m)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Kf(i,r.document),u=r.removedTargetIds||[];s=new Fu([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,m=new zN(o,u),p=r.targetId;s=new r1(p,m)}}return s}function JN(i,e){let s;if(e instanceof Qo)s={update:Jx(i,e.key,e.value)};else if(e instanceof i1)s={delete:ym(i,e.key)};else if(e instanceof Ya)s={update:Jx(i,e.key,e.data),updateMask:lw(e.fieldMask)};else{if(!(e instanceof LN))return Ee(16599,{Vt:e.type});s={verify:ym(i,e.key)}}return e.fieldTransforms.length>0&&(s.updateTransforms=e.fieldTransforms.map((r=>(function(u,m){const p=m.transform;if(p instanceof ah)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Vo)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Lo)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof rh)return{fieldPath:m.field.canonicalString(),increment:p.Ae};throw Ee(20930,{transform:m.transform})})(0,r)))),e.precondition.isNone||(s.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:$N(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(i,e.precondition)),s}function WN(i,e){return i&&i.length>0?(Qe(e!==void 0,14353),i.map((s=>(function(o,u){let m=o.updateTime?As(o.updateTime):As(u);return m.isEqual(Ne.min())&&(m=As(u)),new MN(m,o.transformResults||[])})(s,e)))):[]}function ew(i,e){return{documents:[u1(i,e.path)]}}function tw(i,e){const s={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,s.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),s.structuredQuery.from=[{collectionId:r.lastSegment()}]),s.parent=u1(i,o);const u=(function(_){if(_.length!==0)return f1(Is.create(_,"and"))})(e.filters);u&&(s.structuredQuery.where=u);const m=(function(_){if(_.length!==0)return _.map((E=>(function(N){return{field:Br(N.field),direction:iw(N.dir)}})(E)))})(e.orderBy);m&&(s.structuredQuery.orderBy=m);const p=gm(i,e.limit);return p!==null&&(s.structuredQuery.limit=p),e.startAt&&(s.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(s.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:s,parent:o}}function nw(i){let e=XN(i.parent);const s=i.structuredQuery,r=s.from?s.from.length:0;let o=null;if(r>0){Qe(r===1,65062);const E=s.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];s.where&&(u=(function(T){const N=d1(T);return N instanceof Is&&qv(N)?N.getFilters():[N]})(s.where));let m=[];s.orderBy&&(m=(function(T){return T.map((N=>(function(J){return new ih(qr(J.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(N)))})(s.orderBy));let p=null;s.limit&&(p=(function(T){let N;return N=typeof T=="object"?T.value:T,_h(N)?null:N})(s.limit));let y=null;s.startAt&&(y=(function(T){const N=!!T.before,B=T.values||[];return new sh(B,N)})(s.startAt));let _=null;return s.endAt&&(_=(function(T){const N=!T.before,B=T.values||[];return new sh(B,N)})(s.endAt)),vN(e,o,m,u,p,"F",y,_)}function sw(i,e){const s=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return s==null?null:{"goog-listen-tags":s}}function d1(i){return i.unaryFilter!==void 0?(function(s){switch(s.unaryFilter.op){case"IS_NAN":const r=qr(s.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=qr(s.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=qr(s.unaryFilter.field);return jt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=qr(s.unaryFilter.field);return jt.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(i):i.fieldFilter!==void 0?(function(s){return jt.create(qr(s.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(s.fieldFilter.op),s.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(s){return Is.create(s.compositeFilter.filters.map((r=>d1(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(s.compositeFilter.op))})(i):Ee(30097,{filter:i})}function iw(i){return GN[i]}function aw(i){return YN[i]}function rw(i){return QN[i]}function Br(i){return{fieldPath:i.canonicalString()}}function qr(i){return Qt.fromServerFormat(i.fieldPath)}function f1(i){return i instanceof jt?(function(s){if(s.op==="=="){if(Px(s.value))return{unaryFilter:{field:Br(s.field),op:"IS_NAN"}};if(Ux(s.value))return{unaryFilter:{field:Br(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(Px(s.value))return{unaryFilter:{field:Br(s.field),op:"IS_NOT_NAN"}};if(Ux(s.value))return{unaryFilter:{field:Br(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Br(s.field),op:aw(s.op),value:s.value}}})(i):i instanceof Is?(function(s){const r=s.getFilters().map((o=>f1(o)));return r.length===1?r[0]:{compositeFilter:{op:rw(s.op),filters:r}}})(i):Ee(54877,{filter:i})}function lw(i){const e=[];return i.fields.forEach((s=>e.push(s.canonicalString()))),{fieldPaths:e}}function m1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class Hi{constructor(e,s,r,o,u=Ne.min(),m=Ne.min(),p=Kt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=s,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new Hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,s){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ow{constructor(e){this.yt=e}}function cw(i){const e=nw({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?mm(e,e.limit,"L"):e}class uw{constructor(){this.Cn=new hw}addToCollectionParentIndex(e,s){return this.Cn.add(s),se.resolve()}getCollectionParents(e,s){return se.resolve(this.Cn.getEntries(s))}addFieldIndex(e,s){return se.resolve()}deleteFieldIndex(e,s){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,s){return se.resolve()}getDocumentsMatchingTarget(e,s){return se.resolve(null)}getIndexType(e,s){return se.resolve(0)}getFieldIndexes(e,s){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,s){return se.resolve($i.min())}getMinOffsetFromCollectionGroup(e,s){return se.resolve($i.min())}updateCollectionGroup(e,s,r){return se.resolve()}updateIndexEntries(e,s){return se.resolve()}}class hw{constructor(){this.index={}}add(e){const s=e.lastSegment(),r=e.popLast(),o=this.index[s]||new Dt(ut.comparator),u=!o.has(r);return this.index[s]=o.add(r),u}has(e){const s=e.lastSegment(),r=e.popLast(),o=this.index[s];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Dt(ut.comparator)).toArray()}}const Wx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},g1=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,s,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=r}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(g1,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class Wr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Wr(0)}static cr(){return new Wr(-1)}}const e_="LruGarbageCollector",dw=1048576;function t_([i,e],[s,r]){const o=Ue(i,s);return o===0?Ue(e,r):o}class fw{constructor(e){this.Ir=e,this.buffer=new Dt(t_),this.Er=0}dr(){return++this.Er}Ar(e){const s=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(s);else{const r=this.buffer.last();t_(s,r)<0&&(this.buffer=this.buffer.delete(r).add(s))}}get maxValue(){return this.buffer.last()[0]}}class mw{constructor(e,s,r){this.garbageCollector=e,this.asyncQueue=s,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(e_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(s){ol(s)?fe(e_,"Ignoring IndexedDB error during garbage collection: ",s):await ll(s)}await this.Vr(3e5)}))}}class gw{constructor(e,s){this.mr=e,this.params=s}calculateTargetCount(e,s){return this.mr.gr(e).next((r=>Math.floor(s/100*r)))}nthSequenceNumber(e,s){if(s===0)return se.resolve(xh.ce);const r=new fw(s);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,s,r){return this.mr.removeTargets(e,s,r)}removeOrphanedDocuments(e,s){return this.mr.removeOrphanedDocuments(e,s)}collect(e,s){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(Wx)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wx):this.yr(e,s)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,s){let r,o,u,m,p,y,_;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,m=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(r=T,p=Date.now(),this.removeTargets(e,r,s)))).next((T=>(u=T,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((T=>(_=Date.now(),Pr()<=Le.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-E}ms
	Determined least recently used ${o} in `+(p-m)+`ms
	Removed ${u} targets in `+(y-p)+`ms
	Removed ${T} documents in `+(_-y)+`ms
Total Duration: ${_-E}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function pw(i,e){return new gw(i,e)}class yw{constructor(){this.changes=new Ga((e=>e.toString()),((e,s)=>e.isEqual(s))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,s){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(s))}getEntry(e,s){this.assertNotApplied();const r=this.changes.get(s);return r!==void 0?se.resolve(r):this.getFromCache(e,s)}getEntries(e,s){return this.getAllFromCache(e,s)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xw{constructor(e,s){this.overlayedDocument=e,this.mutatedFields=s}}class _w{constructor(e,s,r,o){this.remoteDocumentCache=e,this.mutationQueue=s,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,s){let r=null;return this.documentOverlayCache.getOverlay(e,s).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,s)))).next((o=>(r!==null&&No(r.mutation,o,Jn.empty(),it.now()),o)))}getDocuments(e,s){return this.remoteDocumentCache.getEntries(e,s).next((r=>this.getLocalViewOfDocuments(e,r,Pe()).next((()=>r))))}getLocalViewOfDocuments(e,s,r=Pe()){const o=Ma();return this.populateOverlays(e,o,s).next((()=>this.computeViews(e,s,o,r).next((u=>{let m=xo();return u.forEach(((p,y)=>{m=m.insert(p,y.overlayedDocument)})),m}))))}getOverlayedDocuments(e,s){const r=Ma();return this.populateOverlays(e,r,s).next((()=>this.computeViews(e,s,r,Pe())))}populateOverlays(e,s,r){const o=[];return r.forEach((u=>{s.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((m,p)=>{s.set(m,p)}))}))}computeViews(e,s,r,o){let u=si();const m=Ao(),p=(function(){return Ao()})();return s.forEach(((y,_)=>{const E=r.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof Ya)?u=u.insert(_.key,_):E!==void 0?(m.set(_.key,E.mutation.getFieldMask()),No(E.mutation,_,E.mutation.getFieldMask(),it.now())):m.set(_.key,Jn.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((_,E)=>m.set(_,E))),s.forEach(((_,E)=>p.set(_,new xw(E,m.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,s){const r=Ao();let o=new ht(((m,p)=>m-p)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,s).next((m=>{for(const p of m)p.keys().forEach((y=>{const _=s.get(y);if(_===null)return;let E=r.get(y)||Jn.empty();E=p.applyToLocalView(_,E),r.set(y,E);const T=(o.get(p.batchId)||Pe()).add(y);o=o.insert(p.batchId,T)}))})).next((()=>{const m=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,E=y.value,T=Xv();E.forEach((N=>{if(!u.has(N)){const B=n1(s.get(N),r.get(N));B!==null&&T.set(N,B),u=u.add(N)}})),m.push(this.documentOverlayCache.saveOverlays(e,_,T))}return se.waitFor(m)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,s){return this.remoteDocumentCache.getEntries(e,s).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,s,r,o){return(function(m){return _e.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0})(s)?this.getDocumentsMatchingDocumentQuery(e,s.path):bN(s)?this.getDocumentsMatchingCollectionGroupQuery(e,s,r,o):this.getDocumentsMatchingCollectionQuery(e,s,r,o)}getNextDocuments(e,s,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,s,r,o).next((u=>{const m=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,s,r.largestBatchId,o-u.size):se.resolve(Ma());let p=jo,y=u;return m.next((_=>se.forEach(_,((E,T)=>(p<T.largestBatchId&&(p=T.largestBatchId),u.get(E)?se.resolve():this.remoteDocumentCache.getEntry(e,E).next((N=>{y=y.insert(E,N)}))))).next((()=>this.populateOverlays(e,_,u))).next((()=>this.computeViews(e,y,_,Pe()))).next((E=>({batchId:p,changes:$v(E)})))))}))}getDocumentsMatchingDocumentQuery(e,s){return this.getDocument(e,new _e(s)).next((r=>{let o=xo();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,s,r,o){const u=s.collectionGroup;let m=xo();return this.indexManager.getCollectionParents(e,u).next((p=>se.forEach(p,(y=>{const _=(function(T,N){return new bh(N,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(s,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next((E=>{E.forEach(((T,N)=>{m=m.insert(T,N)}))}))})).next((()=>m))))}getDocumentsMatchingCollectionQuery(e,s,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,s.path,r.largestBatchId).next((m=>(u=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,s,r,u,o)))).next((m=>{u.forEach(((y,_)=>{const E=_.getKey();m.get(E)===null&&(m=m.insert(E,Jt.newInvalidDocument(E)))}));let p=xo();return m.forEach(((y,_)=>{const E=u.get(y);E!==void 0&&No(E.mutation,_,Jn.empty(),it.now()),Th(s,_)&&(p=p.insert(y,_))})),p}))}}class vw{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,s){return se.resolve(this.Lr.get(s))}saveBundleMetadata(e,s){return this.Lr.set(s.id,(function(o){return{id:o.id,version:o.version,createTime:As(o.createTime)}})(s)),se.resolve()}getNamedQuery(e,s){return se.resolve(this.kr.get(s))}saveNamedQuery(e,s){return this.kr.set(s.name,(function(o){return{name:o.name,query:cw(o.bundledQuery),readTime:As(o.readTime)}})(s)),se.resolve()}}class bw{constructor(){this.overlays=new ht(_e.comparator),this.qr=new Map}getOverlay(e,s){return se.resolve(this.overlays.get(s))}getOverlays(e,s){const r=Ma();return se.forEach(s,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,s,r){return r.forEach(((o,u)=>{this.St(e,s,u)})),se.resolve()}removeOverlaysForBatchId(e,s,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),se.resolve()}getOverlaysForCollection(e,s,r){const o=Ma(),u=s.length+1,m=new _e(s.child("")),p=this.overlays.getIteratorFrom(m);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!s.isPrefixOf(_.path))break;_.path.length===u&&y.largestBatchId>r&&o.set(y.getKey(),y)}return se.resolve(o)}getOverlaysForCollectionGroup(e,s,r,o){let u=new ht(((_,E)=>_-E));const m=this.overlays.getIterator();for(;m.hasNext();){const _=m.getNext().value;if(_.getKey().getCollectionGroup()===s&&_.largestBatchId>r){let E=u.get(_.largestBatchId);E===null&&(E=Ma(),u=u.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const p=Ma(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,E)=>p.set(_,E))),!(p.size()>=o)););return se.resolve(p)}St(e,s,r){const o=this.overlays.get(r.key);if(o!==null){const m=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,m)}this.overlays=this.overlays.insert(r.key,new PN(s,r));let u=this.qr.get(s);u===void 0&&(u=Pe(),this.qr.set(s,u)),this.qr.set(s,u.add(r.key))}}class Ew{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,s){return this.sessionToken=s,se.resolve()}}class tg{constructor(){this.Qr=new Dt(Lt.$r),this.Ur=new Dt(Lt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,s){const r=new Lt(e,s);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,s){e.forEach((r=>this.addReference(r,s)))}removeReference(e,s){this.Gr(new Lt(e,s))}zr(e,s){e.forEach((r=>this.removeReference(r,s)))}jr(e){const s=new _e(new ut([])),r=new Lt(s,e),o=new Lt(s,e+1),u=[];return this.Ur.forEachInRange([r,o],(m=>{this.Gr(m),u.push(m.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const s=new _e(new ut([])),r=new Lt(s,e),o=new Lt(s,e+1);let u=Pe();return this.Ur.forEachInRange([r,o],(m=>{u=u.add(m.key)})),u}containsKey(e){const s=new Lt(e,0),r=this.Qr.firstAfterOrEqual(s);return r!==null&&e.isEqual(r.key)}}class Lt{constructor(e,s){this.key=e,this.Yr=s}static $r(e,s){return _e.comparator(e.key,s.key)||Ue(e.Yr,s.Yr)}static Kr(e,s){return Ue(e.Yr,s.Yr)||_e.comparator(e.key,s.key)}}class Tw{constructor(e,s){this.indexManager=e,this.referenceDelegate=s,this.mutationQueue=[],this.tr=1,this.Zr=new Dt(Lt.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,s,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new UN(u,s,r,o);this.mutationQueue.push(m);for(const p of o)this.Zr=this.Zr.add(new Lt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return se.resolve(m)}lookupMutationBatch(e,s){return se.resolve(this.Xr(s))}getNextMutationBatchAfterBatchId(e,s){const r=s+1,o=this.ei(r),u=o<0?0:o;return se.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Gm:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,s){const r=new Lt(s,0),o=new Lt(s,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(m=>{const p=this.Xr(m.Yr);u.push(p)})),se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,s){let r=new Dt(Ue);return s.forEach((o=>{const u=new Lt(o,0),m=new Lt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,m],(p=>{r=r.add(p.Yr)}))})),se.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,s){const r=s.path,o=r.length+1;let u=r;_e.isDocumentKey(u)||(u=u.child(""));const m=new Lt(new _e(u),0);let p=new Dt(Ue);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(p=p.add(y.Yr)),!0)}),m),se.resolve(this.ti(p))}ti(e){const s=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&s.push(o)})),s}removeMutationBatch(e,s){Qe(this.ni(s.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return se.forEach(s.mutations,(o=>{const u=new Lt(o.key,s.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,s){const r=new Lt(s,0),o=this.Zr.firstAfterOrEqual(r);return se.resolve(s.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,s){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const s=this.ei(e);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}class Sw{constructor(e){this.ri=e,this.docs=(function(){return new ht(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,s){const r=s.key,o=this.docs.get(r),u=o?o.size:0,m=this.ri(s);return this.docs=this.docs.insert(r,{document:s.mutableCopy(),size:m}),this.size+=m-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const s=this.docs.get(e);s&&(this.docs=this.docs.remove(e),this.size-=s.size)}getEntry(e,s){const r=this.docs.get(s);return se.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(s))}getEntries(e,s){let r=si();return s.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Jt.newInvalidDocument(o))})),se.resolve(r)}getDocumentsMatchingQuery(e,s,r,o){let u=si();const m=s.path,p=new _e(m.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:E}}=y.getNext();if(!m.isPrefixOf(_.path))break;_.path.length>m.length+1||JA(ZA(E),r)<=0||(o.has(E.key)||Th(s,E))&&(u=u.insert(E.key,E.mutableCopy()))}return se.resolve(u)}getAllFromCollectionGroup(e,s,r,o){Ee(9500)}ii(e,s){return se.forEach(this.docs,(r=>s(r)))}newChangeBuffer(e){return new Aw(this)}getSize(e){return se.resolve(this.size)}}class Aw extends yw{constructor(e){super(),this.Nr=e}applyChanges(e){const s=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?s.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),se.waitFor(s)}getFromCache(e,s){return this.Nr.getEntry(e,s)}getAllFromCache(e,s){return this.Nr.getEntries(e,s)}}class Nw{constructor(e){this.persistence=e,this.si=new Ga((s=>Km(s)),$m),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.oi=0,this._i=new tg,this.targetCount=0,this.ai=Wr.ur()}forEachTarget(e,s){return this.si.forEach(((r,o)=>s(o))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,s,r){return r&&(this.lastRemoteSnapshotVersion=r),s>this.oi&&(this.oi=s),se.resolve()}Pr(e){this.si.set(e.target,e);const s=e.targetId;s>this.highestTargetId&&(this.ai=new Wr(s),this.highestTargetId=s),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,s){return this.Pr(s),this.targetCount+=1,se.resolve()}updateTargetData(e,s){return this.Pr(s),se.resolve()}removeTargetData(e,s){return this.si.delete(s.target),this._i.jr(s.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,s,r){let o=0;const u=[];return this.si.forEach(((m,p)=>{p.sequenceNumber<=s&&r.get(p.targetId)===null&&(this.si.delete(m),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),se.waitFor(u).next((()=>o))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,s){const r=this.si.get(s)||null;return se.resolve(r)}addMatchingKeys(e,s,r){return this._i.Wr(s,r),se.resolve()}removeMatchingKeys(e,s,r){this._i.zr(s,r);const o=this.persistence.referenceDelegate,u=[];return o&&s.forEach((m=>{u.push(o.markPotentiallyOrphaned(e,m))})),se.waitFor(u)}removeMatchingKeysForTargetId(e,s){return this._i.jr(s),se.resolve()}getMatchingKeysForTargetId(e,s){const r=this._i.Hr(s);return se.resolve(r)}containsKey(e,s){return se.resolve(this._i.containsKey(s))}}class p1{constructor(e,s){this.ui={},this.overlays={},this.ci=new xh(0),this.li=!1,this.li=!0,this.hi=new Ew,this.referenceDelegate=e(this),this.Pi=new Nw(this),this.indexManager=new uw,this.remoteDocumentCache=(function(o){return new Sw(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new ow(s),this.Ii=new vw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let s=this.overlays[e.toKey()];return s||(s=new bw,this.overlays[e.toKey()]=s),s}getMutationQueue(e,s){let r=this.ui[e.toKey()];return r||(r=new Tw(s,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,s,r){fe("MemoryPersistence","Starting transaction:",e);const o=new ww(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,s){return se.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,s))))}}class ww extends eN{constructor(e){super(),this.currentSequenceNumber=e}}class ng{constructor(e){this.persistence=e,this.Ri=new tg,this.Vi=null}static mi(e){return new ng(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,s,r){return this.Ri.addReference(r,s),this.fi.delete(r.toString()),se.resolve()}removeReference(e,s,r){return this.Ri.removeReference(r,s),this.fi.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,s){return this.fi.add(s.toString()),se.resolve()}removeTarget(e,s){this.Ri.jr(s.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,s.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,s)))}Ei(){this.Vi=new Set}di(e){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(r=>{const o=_e.fromPath(r);return this.gi(e,o).next((u=>{u||s.removeEntry(o,Ne.min())}))})).next((()=>(this.Vi=null,s.apply(e))))}updateLimboDocument(e,s){return this.gi(e,s).next((r=>{r?this.fi.delete(s.toString()):this.fi.add(s.toString())}))}Ti(e){return 0}gi(e,s){return se.or([()=>se.resolve(this.Ri.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(e,s),()=>this.persistence.Ai(e,s)])}}class oh{constructor(e,s){this.persistence=e,this.pi=new Ga((r=>sN(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=pw(this,s)}static mi(e,s){return new oh(e,s)}Ei(){}di(e){return se.resolve()}forEachTarget(e,s){return this.persistence.getTargetCache().forEachTarget(e,s)}gr(e){const s=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>s.next((o=>r+o))))}wr(e){let s=0;return this.pr(e,(r=>{s++})).next((()=>s))}pr(e,s){return se.forEach(this.pi,((r,o)=>this.br(e,r,o).next((u=>u?se.resolve():s(o)))))}removeTargets(e,s,r){return this.persistence.getTargetCache().removeTargets(e,s,r)}removeOrphanedDocuments(e,s){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(m=>this.br(e,m,s).next((p=>{p||(r++,u.removeEntry(m,Ne.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,s){return this.pi.set(s,e.currentSequenceNumber),se.resolve()}removeTarget(e,s){const r=s.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,s,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,s,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,s){return this.pi.set(s,e.currentSequenceNumber),se.resolve()}Ti(e){let s=e.key.toString().length;return e.isFoundDocument()&&(s+=Bu(e.data.value)),s}br(e,s,r){return se.or([()=>this.persistence.Ai(e,s),()=>this.persistence.getTargetCache().containsKey(e,s),()=>{const o=this.pi.get(s);return se.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class sg{constructor(e,s,r,o){this.targetId=e,this.fromCache=s,this.Es=r,this.ds=o}static As(e,s){let r=Pe(),o=Pe();for(const u of s.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new sg(e,s.fromCache,r,o)}}class Cw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Rw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return y2()?8:tN(Wt())>0?6:4})()}initialize(e,s){this.ps=e,this.indexManager=s,this.Rs=!0}getDocumentsMatchingQuery(e,s,r,o){const u={result:null};return this.ys(e,s).next((m=>{u.result=m})).next((()=>{if(!u.result)return this.ws(e,s,o,r).next((m=>{u.result=m}))})).next((()=>{if(u.result)return;const m=new Cw;return this.Ss(e,s,m).next((p=>{if(u.result=p,this.Vs)return this.bs(e,s,m,p.size)}))})).next((()=>u.result))}bs(e,s,r,o){return r.documentReadCount<this.fs?(Pr()<=Le.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",zr(s),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(Pr()<=Le.DEBUG&&fe("QueryEngine","Query:",zr(s),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Pr()<=Le.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",zr(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ss(s))):se.resolve())}ys(e,s){if(Hx(s))return se.resolve(null);let r=Ss(s);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(s.limit!==null&&o===1&&(s=mm(s,null,"F"),r=Ss(s)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const m=Pe(...u);return this.ps.getDocuments(e,m).next((p=>this.indexManager.getMinOffset(e,r).next((y=>{const _=this.Ds(s,p);return this.Cs(s,_,m,y.readTime)?this.ys(e,mm(s,null,"F")):this.vs(e,_,s,y)}))))})))))}ws(e,s,r,o){return Hx(s)||o.isEqual(Ne.min())?se.resolve(null):this.ps.getDocuments(e,r).next((u=>{const m=this.Ds(s,u);return this.Cs(s,m,r,o)?se.resolve(null):(Pr()<=Le.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),zr(s)),this.vs(e,m,s,XA(o,jo)).next((p=>p)))}))}Ds(e,s){let r=new Dt(Qv(e));return s.forEach(((o,u)=>{Th(e,u)&&(r=r.add(u))})),r}Cs(e,s,r,o){if(e.limit===null)return!1;if(r.size!==s.size)return!0;const u=e.limitType==="F"?s.last():s.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,s,r){return Pr()<=Le.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",zr(s)),this.ps.getDocumentsMatchingQuery(e,s,$i.min(),r)}vs(e,s,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((u=>(s.forEach((m=>{u=u.insert(m.key,m)})),u)))}}const ig="LocalStore",Iw=3e8;class kw{constructor(e,s,r,o){this.persistence=e,this.Fs=s,this.serializer=o,this.Ms=new ht(Ue),this.xs=new Ga((u=>Km(u)),$m),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _w(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(s=>e.collect(s,this.Ms)))}}function jw(i,e,s,r){return new kw(i,e,s,r)}async function y1(i,e){const s=Ce(i);return await s.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return s.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,s.Bs(e),s.mutationQueue.getAllMutationBatches(r)))).next((u=>{const m=[],p=[];let y=Pe();for(const _ of o){m.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}for(const _ of u){p.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}return s.localDocuments.getDocuments(r,y).next((_=>({Ls:_,removedBatchIds:m,addedBatchIds:p})))}))}))}function Dw(i,e){const s=Ce(i);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=s.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,E){const T=_.batch,N=T.keys();let B=se.resolve();return N.forEach((J=>{B=B.next((()=>E.getEntry(y,J))).next((Y=>{const z=_.docVersions.get(J);Qe(z!==null,48541),Y.version.compareTo(z)<0&&(T.applyToRemoteDocument(Y,_),Y.isValidDocument()&&(Y.setReadTime(_.commitVersion),E.addEntry(Y)))}))})),B.next((()=>p.mutationQueue.removeMutationBatch(y,T)))})(s,r,e,u).next((()=>u.apply(r))).next((()=>s.mutationQueue.performConsistencyCheck(r))).next((()=>s.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let y=Pe();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(e)))).next((()=>s.localDocuments.getDocuments(r,o)))}))}function x1(i){const e=Ce(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(s=>e.Pi.getLastRemoteSnapshotVersion(s)))}function Mw(i,e){const s=Ce(i),r=e.snapshotVersion;let o=s.Ms;return s.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const m=s.Ns.newChangeBuffer({trackRemovals:!0});o=s.Ms;const p=[];e.targetChanges.forEach(((E,T)=>{const N=o.get(T);if(!N)return;p.push(s.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>s.Pi.addMatchingKeys(u,E.addedDocuments,T))));let B=N.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?B=B.withResumeToken(Kt.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):E.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(E.resumeToken,r)),o=o.insert(T,B),(function(Y,z,ie){return Y.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=Iw?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(N,B,E)&&p.push(s.Pi.updateTargetData(u,B))}));let y=si(),_=Pe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(s.persistence.referenceDelegate.updateLimboDocument(u,E))})),p.push(Ow(u,m,e.documentUpdates).next((E=>{y=E.ks,_=E.qs}))),!r.isEqual(Ne.min())){const E=s.Pi.getLastRemoteSnapshotVersion(u).next((T=>s.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(E)}return se.waitFor(p).next((()=>m.apply(u))).next((()=>s.localDocuments.getLocalViewOfDocuments(u,y,_))).next((()=>y))})).then((u=>(s.Ms=o,u)))}function Ow(i,e,s){let r=Pe(),o=Pe();return s.forEach((u=>r=r.add(u))),e.getEntries(i,r).next((u=>{let m=si();return s.forEach(((p,y)=>{const _=u.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(Ne.min())?(e.removeEntry(p,y.readTime),m=m.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),m=m.insert(p,y)):fe(ig,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:m,qs:o}}))}function Vw(i,e){const s=Ce(i);return s.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Gm),s.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Lw(i,e){const s=Ce(i);return s.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return s.Pi.getTargetData(r,e).next((u=>u?(o=u,se.resolve(o)):s.Pi.allocateTargetId(r).next((m=>(o=new Hi(e,m,"TargetPurposeListen",r.currentSequenceNumber),s.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=s.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(s.Ms=s.Ms.insert(r.targetId,r),s.xs.set(e,r.targetId)),r}))}async function _m(i,e,s){const r=Ce(i),o=r.Ms.get(e),u=s?"readwrite":"readwrite-primary";try{s||await r.persistence.runTransaction("Release target",u,(m=>r.persistence.referenceDelegate.removeTarget(m,o)))}catch(m){if(!ol(m))throw m;fe(ig,`Failed to update sequence numbers for target ${e}: ${m}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function n_(i,e,s){const r=Ce(i);let o=Ne.min(),u=Pe();return r.persistence.runTransaction("Execute query","readwrite",(m=>(function(y,_,E){const T=Ce(y),N=T.xs.get(E);return N!==void 0?se.resolve(T.Ms.get(N)):T.Pi.getTargetData(_,E)})(r,m,Ss(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(m,p.targetId).next((y=>{u=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(m,e,s?o:Ne.min(),s?u:Pe()))).next((p=>(Uw(r,TN(e),p),{documents:p,Qs:u})))))}function Uw(i,e,s){let r=i.Os.get(e)||Ne.min();s.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),i.Os.set(e,r)}class s_{constructor(){this.activeTargetIds=RN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Pw{constructor(){this.Mo=new s_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,s,r){}addLocalQueryTarget(e,s=!0){return s&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,s,r){this.xo[e]=s}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new s_,Promise.resolve()}handleUserChange(e,s,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class zw{Oo(e){}shutdown(){}}const i_="ConnectivityMonitor";class a_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(i_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(i_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ou=null;function vm(){return Ou===null?Ou=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ou++,"0x"+Ou.toString(16)}const $f="RestConnection",Bw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qw{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const s=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=s+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===th?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,s,r,o,u){const m=vm(),p=this.zo(e,s.toUriEncodedString());fe($f,`Sending RPC '${e}' ${m}:`,p,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,u);const{host:_}=new URL(p),E=sl(_);return this.Jo(e,p,y,r,E).then((T=>(fe($f,`Received RPC '${e}' ${m}: `,T),T)),(T=>{throw $r($f,`RPC '${e}' ${m} failed with error: `,T,"url: ",p,"request:",r),T}))}Ho(e,s,r,o,u,m){return this.Go(e,s,r,o,u)}jo(e,s,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}zo(e,s){const r=Bw[e];return`${this.Uo}/v1/${s}:${r}`}terminate(){}}class Hw{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xt="WebChannelConnection";class Fw extends qw{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,s,r,o,u){const m=vm();return new Promise(((p,y)=>{const _=new Ev;_.setWithCredentials(!0),_.listenOnce(Tv.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case zu.NO_ERROR:const T=_.getResponseJson();fe(Xt,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(T)),p(T);break;case zu.TIMEOUT:fe(Xt,`RPC '${e}' ${m} timed out`),y(new ye(le.DEADLINE_EXCEEDED,"Request time out"));break;case zu.HTTP_ERROR:const N=_.getStatus();if(fe(Xt,`RPC '${e}' ${m} failed with status:`,N,"response text:",_.getResponseText()),N>0){let B=_.getResponseJson();Array.isArray(B)&&(B=B[0]);const J=B?.error;if(J&&J.status&&J.message){const Y=(function(ie){const D=ie.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(D)>=0?D:le.UNKNOWN})(J.status);y(new ye(Y,J.message))}else y(new ye(le.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ye(le.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:m,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{fe(Xt,`RPC '${e}' ${m} completed.`)}}));const E=JSON.stringify(o);fe(Xt,`RPC '${e}' ${m} sending request:`,o),_.send(s,"POST",E,r,15)}))}T_(e,s,r){const o=vm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=Nv(),p=Av(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,s,r),y.encodeInitMessageHeaders=!0;const E=u.join("");fe(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,y);const T=m.createWebChannel(E,y);this.I_(T);let N=!1,B=!1;const J=new Hw({Yo:z=>{B?fe(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(N||(fe(Xt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),N=!0),fe(Xt,`RPC '${e}' stream ${o} sending:`,z),T.send(z))},Zo:()=>T.close()}),Y=(z,ie,D)=>{z.listen(ie,(M=>{try{D(M)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return Y(T,yo.EventType.OPEN,(()=>{B||(fe(Xt,`RPC '${e}' stream ${o} transport opened.`),J.o_())})),Y(T,yo.EventType.CLOSE,(()=>{B||(B=!0,fe(Xt,`RPC '${e}' stream ${o} transport closed`),J.a_(),this.E_(T))})),Y(T,yo.EventType.ERROR,(z=>{B||(B=!0,$r(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),J.a_(new ye(le.UNAVAILABLE,"The operation could not be completed")))})),Y(T,yo.EventType.MESSAGE,(z=>{if(!B){const ie=z.data[0];Qe(!!ie,16349);const D=ie,M=D?.error||D[0]?.error;if(M){fe(Xt,`RPC '${e}' stream ${o} received error:`,M);const ae=M.status;let Z=(function(A){const R=Ct[A];if(R!==void 0)return a1(R)})(ae),oe=M.message;Z===void 0&&(Z=le.INTERNAL,oe="Unknown error status: "+ae+" with message "+M.message),B=!0,J.a_(new ye(Z,oe)),T.close()}else fe(Xt,`RPC '${e}' stream ${o} received:`,ie),J.u_(ie)}})),Y(p,Sv.STAT_EVENT,(z=>{z.stat===om.PROXY?fe(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===om.NOPROXY&&fe(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((s=>s===e))}}function Xf(){return typeof document<"u"?document:null}function wh(i){return new KN(i,!0)}class _1{constructor(e,s,r=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=s,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const s=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,s-r);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${s} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const r_="PersistentStream";class v1{constructor(e,s,r,o,u,m,p,y){this.Mi=e,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _1(e,s)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,s){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():s&&s.code===le.RESOURCE_EXHAUSTED?(ni(s.toString()),ni("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):s&&s.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(s)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),s=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===s&&this.G_(r,o)}),(r=>{e((()=>{const o=new ye(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,s){const r=this.W_(this.D_);this.stream=this.j_(e,s),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(r_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return s=>{this.Mi.enqueueAndForget((()=>this.D_===e?s():(fe(r_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Gw extends v1{constructor(e,s,r,o,u,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,r,o,m),this.serializer=u}j_(e,s){return this.connection.T_("Listen",e,s)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const s=ZN(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Ne.min();const m=u.targetChange;return m.targetIds&&m.targetIds.length?Ne.min():m.readTime?As(m.readTime):Ne.min()})(e);return this.listener.H_(s,r)}Y_(e){const s={};s.database=xm(this.serializer),s.addTarget=(function(u,m){let p;const y=m.target;if(p=fm(y)?{documents:ew(u,y)}:{query:tw(u,y).ft},p.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){p.resumeToken=o1(u,m.resumeToken);const _=gm(u,m.expectedCount);_!==null&&(p.expectedCount=_)}else if(m.snapshotVersion.compareTo(Ne.min())>0){p.readTime=lh(u,m.snapshotVersion.toTimestamp());const _=gm(u,m.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const r=sw(this.serializer,e);r&&(s.labels=r),this.q_(s)}Z_(e){const s={};s.database=xm(this.serializer),s.removeTarget=e,this.q_(s)}}class Yw extends v1{constructor(e,s,r,o,u,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,r,o,m),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,s){return this.connection.T_("Write",e,s)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const s=WN(e.writeResults,e.commitTime),r=As(e.commitTime);return this.listener.na(r,s)}ra(){const e={};e.database=xm(this.serializer),this.q_(e)}ea(e){const s={streamToken:this.lastStreamToken,writes:e.map((r=>JN(this.serializer,r)))};this.q_(s)}}class Qw{}class Kw extends Qw{constructor(e,s,r,o){super(),this.authCredentials=e,this.appCheckCredentials=s,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ye(le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,s,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,m])=>this.connection.Go(e,pm(s,r),o,u,m))).catch((u=>{throw u.name==="FirebaseError"?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(le.UNKNOWN,u.toString())}))}Ho(e,s,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([m,p])=>this.connection.Ho(e,pm(s,r),o,m,p,u))).catch((m=>{throw m.name==="FirebaseError"?(m.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new ye(le.UNKNOWN,m.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $w{constructor(e,s){this.asyncQueue=e,this.onlineStateHandler=s,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const s=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ni(s),this.aa=!1):fe("OnlineStateTracker",s)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const qa="RemoteStore";class Xw{constructor(e,s,r,o,u){this.localStore=e,this.datastore=s,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((m=>{r.enqueueAndForget((async()=>{Qa(this)&&(fe(qa,"Restarting streams for network reachability change."),await(async function(y){const _=Ce(y);_.Ea.add(4),await $o(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ch(_)})(this))}))})),this.Ra=new $w(r,o)}}async function Ch(i){if(Qa(i))for(const e of i.da)await e(!0)}async function $o(i){for(const e of i.da)await e(!1)}function b1(i,e){const s=Ce(i);s.Ia.has(e.targetId)||(s.Ia.set(e.targetId,e),og(s)?lg(s):cl(s).O_()&&rg(s,e))}function ag(i,e){const s=Ce(i),r=cl(s);s.Ia.delete(e),r.O_()&&E1(s,e),s.Ia.size===0&&(r.O_()?r.L_():Qa(s)&&s.Ra.set("Unknown"))}function rg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const s=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(s)}cl(i).Y_(e)}function E1(i,e){i.Va.Ue(e),cl(i).Z_(e)}function lg(i){i.Va=new FN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),cl(i).start(),i.Ra.ua()}function og(i){return Qa(i)&&!cl(i).x_()&&i.Ia.size>0}function Qa(i){return Ce(i).Ea.size===0}function T1(i){i.Va=void 0}async function Zw(i){i.Ra.set("Online")}async function Jw(i){i.Ia.forEach(((e,s)=>{rg(i,e)}))}async function Ww(i,e){T1(i),og(i)?(i.Ra.ha(e),lg(i)):i.Ra.set("Unknown")}async function e4(i,e,s){if(i.Ra.set("Online"),e instanceof l1&&e.state===2&&e.cause)try{await(async function(o,u){const m=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,m),o.Ia.delete(p),o.Va.removeTarget(p))})(i,e)}catch(r){fe(qa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ch(i,r)}else if(e instanceof Fu?i.Va.Ze(e):e instanceof r1?i.Va.st(e):i.Va.tt(e),!s.isEqual(Ne.min()))try{const r=await x1(i.localStore);s.compareTo(r)>=0&&await(function(u,m){const p=u.Va.Tt(m);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const E=u.Ia.get(_);E&&u.Ia.set(_,E.withResumeToken(y.resumeToken,m))}})),p.targetMismatches.forEach(((y,_)=>{const E=u.Ia.get(y);if(!E)return;u.Ia.set(y,E.withResumeToken(Kt.EMPTY_BYTE_STRING,E.snapshotVersion)),E1(u,y);const T=new Hi(E.target,y,_,E.sequenceNumber);rg(u,T)})),u.remoteSyncer.applyRemoteEvent(p)})(i,s)}catch(r){fe(qa,"Failed to raise snapshot:",r),await ch(i,r)}}async function ch(i,e,s){if(!ol(e))throw e;i.Ea.add(1),await $o(i),i.Ra.set("Offline"),s||(s=()=>x1(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{fe(qa,"Retrying IndexedDB access"),await s(),i.Ea.delete(1),await Ch(i)}))}function S1(i,e){return e().catch((s=>ch(i,s,e)))}async function Rh(i){const e=Ce(i),s=Wi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gm;for(;t4(e);)try{const o=await Vw(e.localStore,r);if(o===null){e.Ta.length===0&&s.L_();break}r=o.batchId,n4(e,o)}catch(o){await ch(e,o)}A1(e)&&N1(e)}function t4(i){return Qa(i)&&i.Ta.length<10}function n4(i,e){i.Ta.push(e);const s=Wi(i);s.O_()&&s.X_&&s.ea(e.mutations)}function A1(i){return Qa(i)&&!Wi(i).x_()&&i.Ta.length>0}function N1(i){Wi(i).start()}async function s4(i){Wi(i).ra()}async function i4(i){const e=Wi(i);for(const s of i.Ta)e.ea(s.mutations)}async function a4(i,e,s){const r=i.Ta.shift(),o=Jm.from(r,e,s);await S1(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Rh(i)}async function r4(i,e){e&&Wi(i).X_&&await(async function(r,o){if((function(m){return BN(m)&&m!==le.ABORTED})(o.code)){const u=r.Ta.shift();Wi(r).B_(),await S1(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Rh(r)}})(i,e),A1(i)&&N1(i)}async function l_(i,e){const s=Ce(i);s.asyncQueue.verifyOperationInProgress(),fe(qa,"RemoteStore received new credentials");const r=Qa(s);s.Ea.add(3),await $o(s),r&&s.Ra.set("Unknown"),await s.remoteSyncer.handleCredentialChange(e),s.Ea.delete(3),await Ch(s)}async function l4(i,e){const s=Ce(i);e?(s.Ea.delete(2),await Ch(s)):e||(s.Ea.add(2),await $o(s),s.Ra.set("Unknown"))}function cl(i){return i.ma||(i.ma=(function(s,r,o){const u=Ce(s);return u.sa(),new Gw(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:Zw.bind(null,i),t_:Jw.bind(null,i),r_:Ww.bind(null,i),H_:e4.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),og(i)?lg(i):i.Ra.set("Unknown")):(await i.ma.stop(),T1(i))}))),i.ma}function Wi(i){return i.fa||(i.fa=(function(s,r,o){const u=Ce(s);return u.sa(),new Yw(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:s4.bind(null,i),r_:r4.bind(null,i),ta:i4.bind(null,i),na:a4.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Rh(i)):(await i.fa.stop(),i.Ta.length>0&&(fe(qa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class cg{constructor(e,s,r,o,u){this.asyncQueue=e,this.timerId=s,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((m=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,s,r,o,u){const m=Date.now()+r,p=new cg(e,s,m,o,u);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ug(i,e){if(ni("AsyncQueue",`${e}: ${i}`),ol(i))return new ye(le.UNAVAILABLE,`${e}: ${i}`);throw i}class Yr{static emptySet(e){return new Yr(e.comparator)}constructor(e){this.comparator=e?(s,r)=>e(s,r)||_e.comparator(s.key,r.key):(s,r)=>_e.comparator(s.key,r.key),this.keyedMap=xo(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const s=this.keyedMap.get(e);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((s,r)=>(e(s),!1)))}add(e){const s=this.delete(e.key);return s.copy(s.keyedMap.insert(e.key,e),s.sortedSet.insert(e,null))}delete(e){const s=this.get(e);return s?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(s)):this}isEqual(e){if(!(e instanceof Yr)||this.size!==e.size)return!1;const s=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;s.hasNext();){const o=s.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((s=>{e.push(s.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,s){const r=new Yr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=s,r}}class o_{constructor(){this.ga=new ht(_e.comparator)}track(e){const s=e.doc.key,r=this.ga.get(s);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(s,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(s,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(s,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(s):e.type===1&&r.type===2?this.ga=this.ga.insert(s,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(s,e)}ya(){const e=[];return this.ga.inorderTraversal(((s,r)=>{e.push(r)})),e}}class el{constructor(e,s,r,o,u,m,p,y,_){this.query=e,this.docs=s,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=m,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,s,r,o,u){const m=[];return s.forEach((p=>{m.push({type:0,doc:p})})),new el(e,s,Yr.emptySet(s),m,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const s=this.docChanges,r=e.docChanges;if(s.length!==r.length)return!1;for(let o=0;o<s.length;o++)if(s[o].type!==r[o].type||!s[o].doc.isEqual(r[o].doc))return!1;return!0}}class o4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class c4{constructor(){this.queries=c_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(s,r){const o=Ce(s),u=o.queries;o.queries=c_(),u.forEach(((m,p)=>{for(const y of p.Sa)y.onError(r)}))})(this,new ye(le.ABORTED,"Firestore shutting down"))}}function c_(){return new Ga((i=>Yv(i)),Eh)}async function u4(i,e){const s=Ce(i);let r=3;const o=e.query;let u=s.queries.get(o);u?!u.ba()&&e.Da()&&(r=2):(u=new o4,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await s.onListen(o,!0);break;case 1:u.wa=await s.onListen(o,!1);break;case 2:await s.onFirstRemoteStoreListen(o)}}catch(m){const p=ug(m,`Initialization of query '${zr(e.query)}' failed`);return void e.onError(p)}s.queries.set(o,u),u.Sa.push(e),e.va(s.onlineState),u.wa&&e.Fa(u.wa)&&hg(s)}async function h4(i,e){const s=Ce(i),r=e.query;let o=3;const u=s.queries.get(r);if(u){const m=u.Sa.indexOf(e);m>=0&&(u.Sa.splice(m,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return s.queries.delete(r),s.onUnlisten(r,!0);case 1:return s.queries.delete(r),s.onUnlisten(r,!1);case 2:return s.onLastRemoteStoreUnlisten(r);default:return}}function d4(i,e){const s=Ce(i);let r=!1;for(const o of e){const u=o.query,m=s.queries.get(u);if(m){for(const p of m.Sa)p.Fa(o)&&(r=!0);m.wa=o}}r&&hg(s)}function f4(i,e,s){const r=Ce(i),o=r.queries.get(e);if(o)for(const u of o.Sa)u.onError(s);r.queries.delete(e)}function hg(i){i.Ca.forEach((e=>{e.next()}))}var bm,u_;(u_=bm||(bm={})).Ma="default",u_.Cache="cache";class m4{constructor(e,s,r){this.query=e,this.xa=s,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new el(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let s=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),s=!0):this.La(e,this.onlineState)&&(this.ka(e),s=!0),this.Na=e,s}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let s=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),s=!0),s}La(e,s){if(!e.fromCache||!this.Da())return!0;const r=s!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||s==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const s=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}ka(e){e=el.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==bm.Cache}}class w1{constructor(e){this.key=e}}class C1{constructor(e){this.key=e}}class g4{constructor(e,s){this.query=e,this.Ya=s,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=Qv(e),this.tu=new Yr(this.eu)}get nu(){return this.Ya}ru(e,s){const r=s?s.iu:new o_,o=s?s.tu:this.tu;let u=s?s.mutatedKeys:this.mutatedKeys,m=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const N=o.get(E),B=Th(this.query,T)?T:null,J=!!N&&this.mutatedKeys.has(N.key),Y=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let z=!1;N&&B?N.data.isEqual(B.data)?J!==Y&&(r.track({type:3,doc:B}),z=!0):this.su(N,B)||(r.track({type:2,doc:B}),z=!0,(y&&this.eu(B,y)>0||_&&this.eu(B,_)<0)&&(p=!0)):!N&&B?(r.track({type:0,doc:B}),z=!0):N&&!B&&(r.track({type:1,doc:N}),z=!0,(y||_)&&(p=!0)),z&&(B?(m=m.add(B),u=Y?u.add(E):u.delete(E)):(m=m.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;m.size>this.query.limit;){const E=this.query.limitType==="F"?m.last():m.first();m=m.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{tu:m,iu:r,Cs:p,mutatedKeys:u}}su(e,s){return e.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(e,s,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const m=e.iu.ya();m.sort(((E,T)=>(function(B,J){const Y=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:z})}};return Y(B)-Y(J)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(r),o=o??!1;const p=s&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,m.length!==0||_?{snapshot:new el(this.query,e.tu,u,m,e.mutatedKeys,y===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new o_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((s=>this.Ya=this.Ya.add(s))),e.modifiedDocuments.forEach((s=>{})),e.removedDocuments.forEach((s=>this.Ya=this.Ya.delete(s))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const s=[];return e.forEach((r=>{this.Xa.has(r)||s.push(new C1(r))})),this.Xa.forEach((r=>{e.has(r)||s.push(new w1(r))})),s}cu(e){this.Ya=e.Qs,this.Xa=Pe();const s=this.ru(e.documents);return this.applyChanges(s,!0)}lu(){return el.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dg="SyncEngine";class p4{constructor(e,s,r){this.query=e,this.targetId=s,this.view=r}}class y4{constructor(e){this.key=e,this.hu=!1}}class x4{constructor(e,s,r,o,u,m){this.localStore=e,this.remoteStore=s,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=m,this.Pu={},this.Tu=new Ga((p=>Yv(p)),Eh),this.Iu=new Map,this.Eu=new Set,this.du=new ht(_e.comparator),this.Au=new Map,this.Ru=new tg,this.Vu={},this.mu=new Map,this.fu=Wr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _4(i,e,s=!0){const r=M1(i);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await R1(r,e,s,!0),o}async function v4(i,e){const s=M1(i);await R1(s,e,!0,!1)}async function R1(i,e,s,r){const o=await Lw(i.localStore,Ss(e)),u=o.targetId,m=i.sharedClientState.addLocalQueryTarget(u,s);let p;return r&&(p=await b4(i,e,u,m==="current",o.resumeToken)),i.isPrimaryClient&&s&&b1(i.remoteStore,o),p}async function b4(i,e,s,r,o){i.pu=(T,N,B)=>(async function(Y,z,ie,D){let M=z.view.ru(ie);M.Cs&&(M=await n_(Y.localStore,z.query,!1).then((({documents:I})=>z.view.ru(I,M))));const ae=D&&D.targetChanges.get(z.targetId),Z=D&&D.targetMismatches.get(z.targetId)!=null,oe=z.view.applyChanges(M,Y.isPrimaryClient,ae,Z);return d_(Y,z.targetId,oe.au),oe.snapshot})(i,T,N,B);const u=await n_(i.localStore,e,!0),m=new g4(e,u.Qs),p=m.ru(u.documents),y=Ko.createSynthesizedTargetChangeForCurrentChange(s,r&&i.onlineState!=="Offline",o),_=m.applyChanges(p,i.isPrimaryClient,y);d_(i,s,_.au);const E=new p4(e,s,m);return i.Tu.set(e,E),i.Iu.has(s)?i.Iu.get(s).push(e):i.Iu.set(s,[e]),_.snapshot}async function E4(i,e,s){const r=Ce(i),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((m=>!Eh(m,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await _m(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),s&&ag(r.remoteStore,o.targetId),Em(r,o.targetId)})).catch(ll)):(Em(r,o.targetId),await _m(r.localStore,o.targetId,!0))}async function T4(i,e){const s=Ce(i),r=s.Tu.get(e),o=s.Iu.get(r.targetId);s.isPrimaryClient&&o.length===1&&(s.sharedClientState.removeLocalQueryTarget(r.targetId),ag(s.remoteStore,r.targetId))}async function S4(i,e,s){const r=k4(i);try{const o=await(function(m,p){const y=Ce(m),_=it.now(),E=p.reduce(((B,J)=>B.add(J.key)),Pe());let T,N;return y.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let J=si(),Y=Pe();return y.Ns.getEntries(B,E).next((z=>{J=z,J.forEach(((ie,D)=>{D.isValidDocument()||(Y=Y.add(ie))}))})).next((()=>y.localDocuments.getOverlayedDocuments(B,J))).next((z=>{T=z;const ie=[];for(const D of p){const M=VN(D,T.get(D.key).overlayedDocument);M!=null&&ie.push(new Ya(D.key,M,Pv(M.value.mapValue),Ws.exists(!0)))}return y.mutationQueue.addMutationBatch(B,_,ie,p)})).next((z=>{N=z;const ie=z.applyToLocalDocumentSet(T,Y);return y.documentOverlayCache.saveOverlays(B,z.batchId,ie)}))})).then((()=>({batchId:N.batchId,changes:$v(T)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(m,p,y){let _=m.Vu[m.currentUser.toKey()];_||(_=new ht(Ue)),_=_.insert(p,y),m.Vu[m.currentUser.toKey()]=_})(r,o.batchId,s),await Xo(r,o.changes),await Rh(r.remoteStore)}catch(o){const u=ug(o,"Failed to persist write");s.reject(u)}}async function I1(i,e){const s=Ce(i);try{const r=await Mw(s.localStore,e);e.targetChanges.forEach(((o,u)=>{const m=s.Au.get(u);m&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?m.hu=!0:o.modifiedDocuments.size>0?Qe(m.hu,14607):o.removedDocuments.size>0&&(Qe(m.hu,42227),m.hu=!1))})),await Xo(s,r,e)}catch(r){await ll(r)}}function h_(i,e,s){const r=Ce(i);if(r.isPrimaryClient&&s===0||!r.isPrimaryClient&&s===1){const o=[];r.Tu.forEach(((u,m)=>{const p=m.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(m,p){const y=Ce(m);y.onlineState=p;let _=!1;y.queries.forEach(((E,T)=>{for(const N of T.Sa)N.va(p)&&(_=!0)})),_&&hg(y)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function A4(i,e,s){const r=Ce(i);r.sharedClientState.updateQueryState(e,"rejected",s);const o=r.Au.get(e),u=o&&o.key;if(u){let m=new ht(_e.comparator);m=m.insert(u,Jt.newNoDocument(u,Ne.min()));const p=Pe().add(u),y=new Nh(Ne.min(),new Map,new ht(Ue),m,p);await I1(r,y),r.du=r.du.remove(u),r.Au.delete(e),fg(r)}else await _m(r.localStore,e,!1).then((()=>Em(r,e,s))).catch(ll)}async function N4(i,e){const s=Ce(i),r=e.batch.batchId;try{const o=await Dw(s.localStore,e);j1(s,r,null),k1(s,r),s.sharedClientState.updateMutationState(r,"acknowledged"),await Xo(s,o)}catch(o){await ll(o)}}async function w4(i,e,s){const r=Ce(i);try{const o=await(function(m,p){const y=Ce(m);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return y.mutationQueue.lookupMutationBatch(_,p).next((T=>(Qe(T!==null,37113),E=T.keys(),y.mutationQueue.removeMutationBatch(_,T)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,E,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>y.localDocuments.getDocuments(_,E)))}))})(r.localStore,e);j1(r,e,s),k1(r,e),r.sharedClientState.updateMutationState(e,"rejected",s),await Xo(r,o)}catch(o){await ll(o)}}function k1(i,e){(i.mu.get(e)||[]).forEach((s=>{s.resolve()})),i.mu.delete(e)}function j1(i,e,s){const r=Ce(i);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(s?u.reject(s):u.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Em(i,e,s=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),s&&i.Pu.yu(r,s);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((r=>{i.Ru.containsKey(r)||D1(i,r)}))}function D1(i,e){i.Eu.delete(e.path.canonicalString());const s=i.du.get(e);s!==null&&(ag(i.remoteStore,s),i.du=i.du.remove(e),i.Au.delete(s),fg(i))}function d_(i,e,s){for(const r of s)r instanceof w1?(i.Ru.addReference(r.key,e),C4(i,r)):r instanceof C1?(fe(dg,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||D1(i,r.key)):Ee(19791,{wu:r})}function C4(i,e){const s=e.key,r=s.path.canonicalString();i.du.get(s)||i.Eu.has(r)||(fe(dg,"New document in limbo: "+s),i.Eu.add(r),fg(i))}function fg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const s=new _e(ut.fromString(e)),r=i.fu.next();i.Au.set(r,new y4(s)),i.du=i.du.insert(s,r),b1(i.remoteStore,new Hi(Ss(Xm(s.path)),r,"TargetPurposeLimboResolution",xh.ce))}}async function Xo(i,e,s){const r=Ce(i),o=[],u=[],m=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,y)=>{m.push(r.pu(y,e,s).then((_=>{if((_||s)&&r.isPrimaryClient){const E=_?!_.fromCache:s?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(_){o.push(_);const E=sg.As(y.targetId,_);u.push(E)}})))})),await Promise.all(m),r.Pu.H_(o),await(async function(y,_){const E=Ce(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>se.forEach(_,(N=>se.forEach(N.Es,(B=>E.persistence.referenceDelegate.addReference(T,N.targetId,B))).next((()=>se.forEach(N.ds,(B=>E.persistence.referenceDelegate.removeReference(T,N.targetId,B)))))))))}catch(T){if(!ol(T))throw T;fe(ig,"Failed to update sequence numbers: "+T)}for(const T of _){const N=T.targetId;if(!T.fromCache){const B=E.Ms.get(N),J=B.snapshotVersion,Y=B.withLastLimboFreeSnapshotVersion(J);E.Ms=E.Ms.insert(N,Y)}}})(r.localStore,u))}async function R4(i,e){const s=Ce(i);if(!s.currentUser.isEqual(e)){fe(dg,"User change. New user:",e.toKey());const r=await y1(s.localStore,e);s.currentUser=e,(function(u,m){u.mu.forEach((p=>{p.forEach((y=>{y.reject(new ye(le.CANCELLED,m))}))})),u.mu.clear()})(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xo(s,r.Ls)}}function I4(i,e){const s=Ce(i),r=s.Au.get(e);if(r&&r.hu)return Pe().add(r.key);{let o=Pe();const u=s.Iu.get(e);if(!u)return o;for(const m of u){const p=s.Tu.get(m);o=o.unionWith(p.view.nu)}return o}}function M1(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=I1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=I4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=A4.bind(null,e),e.Pu.H_=d4.bind(null,e.eventManager),e.Pu.yu=f4.bind(null,e.eventManager),e}function k4(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=N4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=w4.bind(null,e),e}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,s){return null}Mu(e,s){return null}vu(e){return jw(this.persistence,new Rw,e.initialUser,this.serializer)}Cu(e){return new p1(ng.mi,this.serializer)}Du(e){return new Pw}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class j4 extends uh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,s){Qe(this.persistence.referenceDelegate instanceof oh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new mw(r,e.asyncQueue,s)}Cu(e){const s=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new p1((r=>oh.mi(r,s)),this.serializer)}}class Tm{async initialize(e,s){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>h_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=R4.bind(null,this.syncEngine),await l4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new c4})()}createDatastore(e){const s=wh(e.databaseInfo.databaseId),r=(function(u){return new Fw(u)})(e.databaseInfo);return(function(u,m,p,y){return new Kw(u,m,p,y)})(e.authCredentials,e.appCheckCredentials,r,s)}createRemoteStore(e){return(function(r,o,u,m,p){return new Xw(r,o,u,m,p)})(this.localStore,this.datastore,e.asyncQueue,(s=>h_(this.syncEngine,s,0)),(function(){return a_.v()?new a_:new zw})())}createSyncEngine(e,s){return(function(o,u,m,p,y,_,E){const T=new x4(o,u,m,p,y,_);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,s)}async terminate(){await(async function(s){const r=Ce(s);fe(qa,"RemoteStore shutting down."),r.Ea.add(5),await $o(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tm.provider={build:()=>new Tm};class D4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ni("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,s){setTimeout((()=>{this.muted||e(s)}),0)}}const ea="FirestoreClient";class M4{constructor(e,s,r,o,u){this.authCredentials=e,this.appCheckCredentials=s,this.asyncQueue=r,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=Hm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async m=>{fe(ea,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m})),this.appCheckCredentials.start(r,(m=>(fe(ea,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(s){const r=ug(s,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Zf(i,e){i.asyncQueue.verifyOperationInProgress(),fe(ea,"Initializing OfflineComponentProvider");const s=i.configuration;await e.initialize(s);let r=s.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await y1(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function f_(i,e){i.asyncQueue.verifyOperationInProgress();const s=await O4(i);fe(ea,"Initializing OnlineComponentProvider"),await e.initialize(s,i.configuration),i.setCredentialChangeListener((r=>l_(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>l_(e.remoteStore,o))),i._onlineComponents=e}async function O4(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){fe(ea,"Using user provided OfflineComponentProvider");try{await Zf(i,i._uninitializedComponentsProvider._offline)}catch(e){const s=e;if(!(function(o){return o.name==="FirebaseError"?o.code===le.FAILED_PRECONDITION||o.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(s))throw s;$r("Error using user provided cache. Falling back to memory cache: "+s),await Zf(i,new uh)}}else fe(ea,"Using default OfflineComponentProvider"),await Zf(i,new j4(void 0));return i._offlineComponents}async function O1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(fe(ea,"Using user provided OnlineComponentProvider"),await f_(i,i._uninitializedComponentsProvider._online)):(fe(ea,"Using default OnlineComponentProvider"),await f_(i,new Tm))),i._onlineComponents}function V4(i){return O1(i).then((e=>e.syncEngine))}async function L4(i){const e=await O1(i),s=e.eventManager;return s.onListen=_4.bind(null,e.syncEngine),s.onUnlisten=E4.bind(null,e.syncEngine),s.onFirstRemoteStoreListen=v4.bind(null,e.syncEngine),s.onLastRemoteStoreUnlisten=T4.bind(null,e.syncEngine),s}function U4(i,e,s={}){const r=new Ki;return i.asyncQueue.enqueueAndForget((async()=>(function(u,m,p,y,_){const E=new D4({next:N=>{E.Nu(),m.enqueueAndForget((()=>h4(u,T)));const B=N.docs.has(p);!B&&N.fromCache?_.reject(new ye(le.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&N.fromCache&&y&&y.source==="server"?_.reject(new ye(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(N)},error:N=>_.reject(N)}),T=new m4(Xm(p.path),E,{includeMetadataChanges:!0,qa:!0});return u4(u,T)})(await L4(i),i.asyncQueue,e,s,r))),r.promise}function V1(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const m_=new Map;const L1="firestore.googleapis.com",g_=!0;class p_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=L1,this.ssl=g_}else this.host=e.host,this.ssl=e.ssl??g_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=g1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dw)throw new ye(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$A("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=V1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ye(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ye(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ye(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mg{constructor(e,s,r,o){this._authCredentials=e,this._appCheckCredentials=s,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new UA;switch(r.type){case"firstParty":return new qA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(s){const r=m_.get(s);r&&(fe("ComponentProvider","Removing Datastore"),m_.delete(s),r.terminate())})(this),Promise.resolve()}}function P4(i,e,s,r={}){i=ko(i,mg);const o=sl(e),u=i._getSettings(),m={...u,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${s}`;o&&(L_(`https://${p}`),U_("Firestore",!0)),u.host!==L1&&u.host!==p&&$r("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:p,ssl:o,emulatorOptions:r};if(!Ua(y,m)&&(i._setSettings(y),r.mockUserToken)){let _,E;if(typeof r.mockUserToken=="string")_=r.mockUserToken,E=Zt.MOCK_USER;else{_=o2(r.mockUserToken,i._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new ye(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Zt(T)}i._authCredentials=new PA(new Cv(_,E))}}class gg{constructor(e,s,r){this.converter=s,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gg(this.firestore,e,this._query)}}class Ut{constructor(e,s,r){this.converter=s,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Uo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,s,r){if(Yo(s,Ut._jsonSchema))return new Ut(e,r||null,new _e(ut.fromString(s.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:Rt("string",Ut._jsonSchemaVersion),referencePath:Rt("string")};class Uo extends gg{constructor(e,s,r){super(e,s,Xm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new _e(e))}withConverter(e){return new Uo(this.firestore,e,this._path)}}function y_(i,e,...s){if(i=Ln(i),arguments.length===1&&(e=Hm.newId()),KA("doc","path",e),i instanceof mg){const r=ut.fromString(e,...s);return Ix(r),new Ut(i,null,new _e(r))}{if(!(i instanceof Ut||i instanceof Uo))throw new ye(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(ut.fromString(e,...s));return Ix(r),new Ut(i.firestore,i instanceof Uo?i.converter:null,new _e(r))}}const x_="AsyncQueue";class __{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _1(this,"async_queue_retry"),this._c=()=>{const r=Xf();r&&fe(x_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const s=Xf();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const s=Xf();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const s=new Ki;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(s.resolve,s.reject),s.promise))).then((()=>s.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ol(e))throw e;fe(x_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const s=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ni("INTERNAL UNHANDLED ERROR: ",v_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=s,s}enqueueAfterDelay(e,s,r){this.uc(),this.oc.indexOf(e)>-1&&(s=0);const o=cg.createAndSchedule(this,e,s,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:v_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const s of this.tc)if(s.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((s,r)=>s.targetTimeMs-r.targetTimeMs));for(const s of this.tc)if(s.skipDelay(),e!=="all"&&s.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const s=this.tc.indexOf(e);this.tc.splice(s,1)}}function v_(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class pg extends mg{constructor(e,s,r,o){super(e,s,r,o),this.type="firestore",this._queue=new __,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new __(e),this._firestoreClient=void 0,await e}}}function z4(i,e){const s=typeof i=="object"?i:q_(),r=typeof i=="string"?i:th,o=km(s,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=r2("firestore");u&&P4(o,...u)}return o}function U1(i){if(i._terminated)throw new ye(le.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||B4(i),i._firestoreClient}function B4(i){const e=i._freezeSettings(),s=(function(o,u,m,p){return new rN(o,u,m,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,V1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new M4(i._authCredentials,i._appCheckCredentials,i._queue,s,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vn(Kt.fromBase64String(e))}catch(s){throw new ye(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(e){return new Vn(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Yo(e,Vn._jsonSchema))return Vn.fromBase64String(e.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:Rt("string",Vn._jsonSchemaVersion),bytes:Rt("string")};class yg{constructor(...e){for(let s=0;s<e.length;++s)if(e[s].length===0)throw new ye(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class P1{constructor(e){this._methodName=e}}class Ns{constructor(e,s){if(!isFinite(e)||e<-90||e>90)throw new ye(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(s)||s<-180||s>180)throw new ye(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=e,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ns._jsonSchemaVersion}}static fromJSON(e){if(Yo(e,Ns._jsonSchema))return new Ns(e.latitude,e.longitude)}}Ns._jsonSchemaVersion="firestore/geoPoint/1.0",Ns._jsonSchema={type:Rt("string",Ns._jsonSchemaVersion),latitude:Rt("number"),longitude:Rt("number")};class ws{constructor(e){this._values=(e||[]).map((s=>s))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ws._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Yo(e,ws._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((s=>typeof s=="number")))return new ws(e.vectorValues);throw new ye(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ws._jsonSchemaVersion="firestore/vectorValue/1.0",ws._jsonSchema={type:Rt("string",ws._jsonSchemaVersion),vectorValues:Rt("object")};const q4=/^__.*__$/;class H4{constructor(e,s,r){this.data=e,this.fieldMask=s,this.fieldTransforms=r}toMutation(e,s){return this.fieldMask!==null?new Ya(e,this.data,this.fieldMask,s,this.fieldTransforms):new Qo(e,this.data,s,this.fieldTransforms)}}function z1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:i})}}class xg{constructor(e,s,r,o,u,m){this.settings=e,this.databaseId=s,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new xg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const s=this.path?.child(e),r=this.Vc({path:s,fc:!1});return r.gc(e),r}yc(e){const s=this.path?.child(e),r=this.Vc({path:s,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return hh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((s=>e.isPrefixOf(s)))!==void 0||this.fieldTransforms.find((s=>e.isPrefixOf(s.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(z1(this.Ac)&&q4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class F4{constructor(e,s,r){this.databaseId=e,this.ignoreUndefinedProperties=s,this.serializer=r||wh(e)}Cc(e,s,r,o=!1){return new xg({Ac:e,methodName:s,Dc:r,path:Qt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function G4(i){const e=i._freezeSettings(),s=wh(i._databaseId);return new F4(i._databaseId,!!e.ignoreUndefinedProperties,s)}function Y4(i,e,s,r,o,u={}){const m=i.Cc(u.merge||u.mergeFields?2:0,e,s,o);F1("Data must be an object, but it was:",m,r);const p=q1(r,m);let y,_;if(u.merge)y=new Jn(m.fieldMask),_=m.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const N=Q4(e,T,s);if(!m.contains(N))throw new ye(le.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);$4(E,N)||E.push(N)}y=new Jn(E),_=m.fieldTransforms.filter((T=>y.covers(T.field)))}else y=null,_=m.fieldTransforms;return new H4(new On(p),y,_)}function B1(i,e){if(H1(i=Ln(i)))return F1("Unsupported field value:",e,i),q1(i,e);if(i instanceof P1)return(function(r,o){if(!z1(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let m=0;for(const p of r){let y=B1(p,o.wc(m));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),m++}return{arrayValue:{values:u}}})(i,e)}return(function(r,o){if((r=Ln(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return IN(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=it.fromDate(r);return{timestampValue:lh(o.serializer,u)}}if(r instanceof it){const u=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lh(o.serializer,u)}}if(r instanceof Ns)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vn)return{bytesValue:o1(o.serializer,r._byteString)};if(r instanceof Ut){const u=o.databaseId,m=r.firestore._databaseId;if(!m.isEqual(u))throw o.Sc(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:eg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ws)return(function(m,p){return{mapValue:{fields:{[Lv]:{stringValue:Uv},[nh]:{arrayValue:{values:m.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Zm(p.serializer,_)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Fm(r)}`)})(i,e)}function q1(i,e){const s={};return kv(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fa(i,((r,o)=>{const u=B1(o,e.mc(r));u!=null&&(s[r]=u)})),{mapValue:{fields:s}}}function H1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof it||i instanceof Ns||i instanceof Vn||i instanceof Ut||i instanceof P1||i instanceof ws)}function F1(i,e,s){if(!H1(s)||!Rv(s)){const r=Fm(s);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function Q4(i,e,s){if((e=Ln(e))instanceof yg)return e._internalPath;if(typeof e=="string")return G1(i,e);throw hh("Field path arguments must be of type string or ",i,!1,void 0,s)}const K4=new RegExp("[~\\*/\\[\\]]");function G1(i,e,s){if(e.search(K4)>=0)throw hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,s);try{return new yg(...e.split("."))._internalPath}catch{throw hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,s)}}function hh(i,e,s,r,o){const u=r&&!r.isEmpty(),m=o!==void 0;let p=`Function ${e}() called with invalid data`;s&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(u||m)&&(y+=" (found",u&&(y+=` in field ${r}`),m&&(y+=` in document ${o}`),y+=")"),new ye(le.INVALID_ARGUMENT,p+i+y)}function $4(i,e){return i.some((s=>s.isEqual(e)))}class Y1{constructor(e,s,r,o,u){this._firestore=e,this._userDataWriter=s,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new X4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const s=this._document.data.field(Q1("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s)}}}class X4 extends Y1{data(){return super.data()}}function Q1(i,e){return typeof e=="string"?G1(i,e):e instanceof yg?e._internalPath:e._delegate._internalPath}class Z4{convertValue(e,s="none"){switch(Ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,s);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,s);case 11:return this.convertObject(e.mapValue,s);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,s){return this.convertObjectMap(e.fields,s)}convertObjectMap(e,s="none"){const r={};return Fa(e,((o,u)=>{r[o]=this.convertValue(u,s)})),r}convertVectorValue(e){const s=e.fields?.[nh].arrayValue?.values?.map((r=>xt(r.doubleValue)));return new ws(s)}convertGeoPoint(e){return new Ns(xt(e.latitude),xt(e.longitude))}convertArray(e,s){return(e.values||[]).map((r=>this.convertValue(r,s)))}convertServerTimestamp(e,s){switch(s){case"previous":const r=vh(e);return r==null?null:this.convertValue(r,s);case"estimate":return this.convertTimestamp(Do(e));default:return null}}convertTimestamp(e){const s=Xi(e);return new it(s.seconds,s.nanos)}convertDocumentKey(e,s){const r=ut.fromString(e);Qe(m1(r),9688,{name:e});const o=new Mo(r.get(1),r.get(3)),u=new _e(r.popFirst(5));return o.isEqual(s)||ni(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),u}}function J4(i,e,s){let r;return r=i?i.toFirestore(e):e,r}class vo{constructor(e,s){this.hasPendingWrites=e,this.fromCache=s}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Va extends Y1{constructor(e,s,r,o,u,m){super(e,s,r,o,m),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const s=new Gu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,s={}){if(this._document){const r=this._document.data.field(Q1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,s.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,s={};return s.type=Va._jsonSchemaVersion,s.bundle="",s.bundleSource="DocumentSnapshot",s.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?s:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),s.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),s)}}Va._jsonSchemaVersion="firestore/documentSnapshot/1.0",Va._jsonSchema={type:Rt("string",Va._jsonSchemaVersion),bundleSource:Rt("string","DocumentSnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class Gu extends Va{data(e={}){return super.data(e)}}class wo{constructor(e,s,r,o){this._firestore=e,this._userDataWriter=s,this._snapshot=o,this.metadata=new vo(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((s=>e.push(s))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,s){this._snapshot.docs.forEach((r=>{e.call(s,new Gu(this._firestore,this._userDataWriter,r.key,r,new vo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const s=!!e.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new ye(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let m=0;return o._snapshot.docChanges.map((p=>{const y=new Gu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new vo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:m++}}))}{let m=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const y=new Gu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new vo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return p.type!==0&&(_=m.indexOf(p.doc.key),m=m.delete(p.doc.key)),p.type!==1&&(m=m.add(p.doc),E=m.indexOf(p.doc.key)),{type:W4(p.type),doc:y,oldIndex:_,newIndex:E}}))}})(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const s=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(s.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function W4(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:i})}}function eC(i){i=ko(i,Ut);const e=ko(i.firestore,pg);return U4(U1(e),i._key).then((s=>iC(e,i,s)))}wo._jsonSchemaVersion="firestore/querySnapshot/1.0",wo._jsonSchema={type:Rt("string",wo._jsonSchemaVersion),bundleSource:Rt("string","QuerySnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class tC extends Z4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vn(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,s)}}function nC(i,e,s){i=ko(i,Ut);const r=ko(i.firestore,pg),o=J4(i.converter,e);return sC(r,[Y4(G4(r),"setDoc",i._key,o,i.converter!==null,s).toMutation(i._key,Ws.none())])}function sC(i,e){return(function(r,o){const u=new Ki;return r.asyncQueue.enqueueAndForget((async()=>S4(await V4(r),o,u))),u.promise})(U1(i),e)}function iC(i,e,s){const r=s.docs.get(e._key),o=new tC(i);return new Va(i,o,e._key,r,new vo(s.hasPendingWrites,s.fromCache),e.converter)}(function(e,s=!0){(function(o){rl=o})(il),Qr(new Pa("firestore",((r,{instanceIdentifier:o,options:u})=>{const m=r.getProvider("app").getImmediate(),p=new pg(new zA(r.getProvider("auth-internal")),new HA(m,r.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ye(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mo(_.options.projectId,E)})(m,o),m);return u={useFetchStreams:s,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Yi(Nx,wx,e),Yi(Nx,wx,"esm2020")})();const aC={apiKey:"AIzaSyDqUKh24SoZ4tjV_dePHsnUNNKznsmjjYs",authDomain:"plan-my-life-36cef.firebaseapp.com",projectId:"plan-my-life-36cef",storageBucket:"plan-my-life-36cef.firebasestorage.app",messagingSenderId:"302156951876",appId:"1:302156951876:web:4bc6b51d3bd8377a92e711",measurementId:"G-4LSZY3NCXE"},K1=B_(aC),Jf=MA(K1),rC=new Xs,b_=z4(K1),$1=X.createContext(null);function lC({children:i}){const[e,s]=X.useState(null),[r,o]=X.useState(!0);X.useEffect(()=>{const p=ES(Jf,y=>{s(y),o(!1)});return()=>p()},[]);const u=async()=>{try{await HS(Jf,rC)}catch(p){throw console.error("Google  :",p),p}},m=async()=>{try{await TS(Jf)}catch(p){throw console.error(" :",p),p}};return d.jsx($1.Provider,{value:{user:e,loading:r,signInWithGoogle:u,logout:m},children:i})}function Zo(){const i=X.useContext($1);if(!i)throw new Error("useAuth must be used within an AuthProvider");return i}const X1="finance-timeline-data",oC=()=>{const i=localStorage.getItem(X1),e=new Date;if(i)try{const s=JSON.parse(i);return{transactions:s.transactions||[],loans:s.loans||[],events:s.events||[],assets:s.assets||[],currentYear:s.currentYear||e.getFullYear(),currentMonth:s.currentMonth||e.getMonth()+1}}catch{return{transactions:[],loans:[],events:[],assets:[],currentYear:e.getFullYear(),currentMonth:e.getMonth()+1}}return{transactions:[],loans:[],events:[],assets:[],currentYear:e.getFullYear(),currentMonth:e.getMonth()+1}};function cC(i,e,s){const r=e/100/12;return r===0?i/s:i*r*Math.pow(1+r,s)/(Math.pow(1+r,s)-1)}function E_(i,e,s){const r=new Date(i.startDate),o=r.getFullYear(),u=r.getMonth()+1;if(e<o||e===o&&s<u)return null;const m=(e-o)*12+(s-u)+1;if(m>i.termMonths)return null;const p=i.interestRate/100/12;let y=0,_=0,E=i.principal;if(i.repaymentType==="equal_principal_interest"){const N=cC(i.principal,i.interestRate,i.termMonths);for(let B=1;B<m;B++){const J=E*p,Y=N-J;E-=Y}_=E*p,y=N-_,E-=y}else if(i.repaymentType==="equal_principal"){const N=i.principal/i.termMonths;E=i.principal-N*(m-1),_=E*p,y=N,E-=y}else i.repaymentType==="bullet"&&(_=i.principal*p,y=m===i.termMonths?i.principal:0,E=m===i.termMonths?0:i.principal);const T=`${e}-${String(s).padStart(2,"0")}-${String(i.paymentDay).padStart(2,"0")}`;return{loanId:i.id,loanName:i.name,date:T,monthNumber:m,principal:Math.round(y),interest:Math.round(_),totalPayment:Math.round(y+_),remainingPrincipal:Math.max(0,Math.round(E))}}function Sm(i){if(Array.isArray(i))return i.map(e=>Sm(e));if(i!==null&&typeof i=="object"){const e={};for(const[s,r]of Object.entries(i))r!==void 0&&(e[s]=Sm(r));return e}return i}function uC(i){const[e,s]=X.useState(oC),[r,o]=X.useState(!1),[u,m]=X.useState(null),[p,y]=X.useState(!1);X.useEffect(()=>{localStorage.setItem(X1,JSON.stringify(e))},[e]),X.useEffect(()=>{if(!i){y(!1);return}(async()=>{try{o(!0);const $=y_(b_,"users",i),re=await eC($);if(re.exists()){const de=re.data();s(pe=>({transactions:de.transactions||[],loans:de.loans||[],events:de.events||[],assets:de.assets||[],currentYear:pe.currentYear,currentMonth:pe.currentMonth})),m(new Date)}}catch($){console.error("Firestore  :",$)}finally{o(!1),y(!0)}})()},[i]);const _=X.useCallback(async()=>{if(i)try{o(!0);const U=y_(b_,"users",i),$=Sm({transactions:e.transactions,loans:e.loans,events:e.events,assets:e.assets,updatedAt:new Date().toISOString()});await nC(U,$),m(new Date)}catch(U){throw console.error("Firestore  :",U),U}finally{o(!1)}},[i,e.transactions,e.loans,e.events,e.assets]);X.useEffect(()=>{if(!i||!p)return;const U=setTimeout(()=>{_()},1e3);return()=>clearTimeout(U)},[i,p,e.transactions,e.loans,e.events,e.assets,_]);const E=X.useCallback(U=>{s($=>({...$,transactions:[...$.transactions,U]}))},[]),T=X.useCallback((U,$)=>{s(re=>({...re,transactions:re.transactions.map(de=>de.id===U?{...de,...$}:de)}))},[]),N=X.useCallback(U=>{s($=>({...$,transactions:$.transactions.filter(re=>re.id!==U)}))},[]),B=X.useCallback(U=>{s($=>({...$,loans:[...$.loans,U]}))},[]),J=X.useCallback((U,$)=>{s(re=>({...re,loans:re.loans.map(de=>de.id===U?{...de,...$}:de)}))},[]),Y=X.useCallback(U=>{s($=>({...$,loans:$.loans.filter(re=>re.id!==U)}))},[]),z=X.useCallback((U,$)=>e.loans.map(re=>E_(re,U,$)).filter(re=>re!==null),[e.loans]),ie=X.useCallback(U=>{s($=>({...$,events:[...$.events,U]}))},[]),D=X.useCallback((U,$)=>{s(re=>({...re,events:re.events.map(de=>de.id===U?{...de,...$}:de)}))},[]),M=X.useCallback(U=>{s($=>({...$,events:$.events.filter(re=>re.id!==U)}))},[]),ae=X.useCallback((U,$)=>e.events.filter(re=>{const de=new Date(re.date);return de.getFullYear()===U&&de.getMonth()+1===$}).sort((re,de)=>re.date.localeCompare(de.date)),[e.events]),Z=X.useCallback(U=>{s($=>({...$,assets:[...$.assets,U]}))},[]),oe=X.useCallback((U,$)=>{s(re=>({...re,assets:re.assets.map(de=>de.id===U?{...de,...$}:de)}))},[]),I=X.useCallback(U=>{s($=>({...$,assets:$.assets.filter(re=>re.id!==U)}))},[]),A=X.useCallback(()=>e.assets.reduce((U,$)=>U+$.currentValue,0),[e.assets]),R=X.useCallback(()=>{const U=new Date,$=U.getFullYear(),re=U.getMonth()+1;return e.loans.reduce((de,pe)=>{const j=E_(pe,$,re);if(j)return de+j.remainingPrincipal+j.principal;const W=new Date(pe.startDate);return U<W?de+pe.principal:de},0)},[e.loans]),L=X.useCallback(()=>A()-R(),[A,R]),w=X.useCallback((U,$)=>{s(re=>({...re,currentYear:U,currentMonth:$}))},[]),V=X.useCallback((U,$)=>{const re=[],de=`${U}-${String($).padStart(2,"0")}`;return e.transactions.forEach(pe=>{const j=new Date(pe.date),W=j.getFullYear(),ce=j.getMonth()+1,he=j.getDate();if(pe.recurrence==="once")W===U&&ce===$&&re.push(pe);else if(pe.recurrence==="monthly"){const be=new Date(pe.date),Se=new Date(U,$-1,he),je=pe.recurrenceEndDate?new Date(pe.recurrenceEndDate):null;if(Se>=be&&(!je||Se<=je)){const ct=`${de}-${String(he).padStart(2,"0")}`;re.push({...pe,date:ct})}}else if(pe.recurrence==="yearly"&&ce===$){const be=new Date(pe.date),Se=new Date(U,$-1,he),je=pe.recurrenceEndDate?new Date(pe.recurrenceEndDate):null;if(Se>=be&&(!je||Se<=je)){const ct=`${U}-${String($).padStart(2,"0")}-${String(he).padStart(2,"0")}`;re.push({...pe,date:ct})}}}),re.sort((pe,j)=>pe.date.localeCompare(j.date))},[e.transactions]),C=X.useCallback((U,$)=>{const re=V(U,$),de=z(U,$),pe=re.filter(ce=>ce.type==="income").reduce((ce,he)=>ce+he.amount,0),j=re.filter(ce=>ce.type==="expense").reduce((ce,he)=>ce+he.amount,0),W=de.reduce((ce,he)=>ce+he.interest,0);return{year:U,month:$,totalIncome:pe,totalExpense:j+W,balance:pe-j-W}},[V,z]),qe=X.useCallback((U,$,re)=>{const de=[];let pe=U,j=$;for(let W=0;W<re;W++)de.push(C(pe,j)),j++,j>12&&(j=1,pe++);return de},[C]),ot=X.useCallback((U,$)=>{let re=0;for(let de=2020;de<=U;de++){const pe=de===U?$:12;for(let j=1;j<=pe;j++){const W=C(de,j);re+=W.balance}}return re},[C]);return{...e,isSyncing:r,lastSyncTime:u,saveToFirestore:_,addTransaction:E,updateTransaction:T,deleteTransaction:N,addLoan:B,updateLoan:J,deleteLoan:Y,getLoanPaymentsForMonth:z,addEvent:ie,updateEvent:D,deleteEvent:M,getEventsForMonth:ae,addAsset:Z,updateAsset:oe,deleteAsset:I,getTotalAssetValue:A,getTotalLoanBalance:R,getNetWorth:L,setCurrentDate:w,getTransactionsForMonth:V,getMonthSummary:C,getMultiMonthSummaries:qe,getCumulativeBalance:ot}}const Z1=X.createContext(null);function hC({children:i}){const{user:e}=Zo(),s=uC(e?.uid);return d.jsx(Z1.Provider,{value:s,children:i})}function dn(){const i=X.useContext(Z1);if(!i)throw new Error("useApp must be used within AppProvider");return i}const dC=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fC=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,r)=>r?r.toUpperCase():s.toLowerCase()),T_=i=>{const e=fC(i);return e.charAt(0).toUpperCase()+e.slice(1)},J1=(...i)=>i.filter((e,s,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===s).join(" ").trim(),mC=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var gC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const pC=X.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:m,...p},y)=>X.createElement("svg",{ref:y,...gC,width:e,height:e,stroke:i,strokeWidth:r?Number(s)*24/Number(e):s,className:J1("lucide",o),...!u&&!mC(p)&&{"aria-hidden":"true"},...p},[...m.map(([_,E])=>X.createElement(_,E)),...Array.isArray(u)?u:[u]]));const Te=(i,e)=>{const s=X.forwardRef(({className:r,...o},u)=>X.createElement(pC,{ref:u,iconNode:e,className:J1(`lucide-${dC(T_(i))}`,`lucide-${i}`,r),...o}));return s.displayName=T_(i),s};const yC=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Jo=Te("building-2",yC);const xC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],_C=Te("calendar-days",xC);const vC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ka=Te("calendar",vC);const bC=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],W1=Te("car",bC);const EC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],eb=Te("chevron-down",EC);const TC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],tb=Te("chevron-up",TC);const SC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_g=Te("circle-question-mark",SC);const AC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],NC=Te("clock",AC);const wC=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],Am=Te("cloud-off",wC);const CC=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],Ih=Te("cloud",CC);const RC=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],nb=Te("compass",RC);const IC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],kC=Te("download",IC);const jC=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],DC=Te("ellipsis",jC);const MC=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],Po=Te("flag",MC);const OC=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],VC=Te("gift",OC);const LC=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],UC=Te("graduation-cap",LC);const PC=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],zC=Te("heart",PC);const BC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],sb=Te("house",BC);const qC=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],tl=Te("landmark",qC);const HC=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ib=Te("layout-dashboard",HC);const FC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],GC=Te("loader-circle",FC);const YC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],QC=Te("log-out",YC);const KC=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],$C=Te("menu",KC);const XC=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ZC=Te("package",XC);const JC=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],kh=Te("pen",JC);const WC=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],eR=Te("percent",WC);const tR=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],ab=Te("piggy-bank",tR);const nR=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],sR=Te("plane",nR);const iR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],jh=Te("plus",iR);const aR=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],rb=Te("receipt",aR);const rR=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Co=Te("refresh-cw",rR);const lR=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],lb=Te("repeat",lR);const oR=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ob=Te("search",oR);const cR=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cb=Te("settings",cR);const uR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],hR=Te("shield",uR);const dR=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],fR=Te("shopping-bag",dR);const mR=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],gR=Te("smartphone",mR);const pR=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],nl=Te("star",pR);const yR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],xR=Te("target",yR);const _R=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ha=Te("trash-2",_R);const vR=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Dh=Te("trending-down",vR);const bR=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Wo=Te("trending-up",bR);const ER=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],TR=Te("triangle-alert",ER);const SR=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],AR=Te("upload",SR);const NR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],wR=Te("user",NR);const CR=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],RR=Te("utensils",CR);const IR=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],dh=Te("wallet",IR);const kR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ec=Te("x",kR);const jR=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],DR=Te("zap",jR),MR=[{label:"",items:[{id:"timeline",icon:Ka,label:""},{id:"summary",icon:ib,label:""}]},{label:"",items:[{id:"transactions",icon:rb,label:"/"},{id:"events",icon:Po,label:""},{id:"loans",icon:tl,label:" "},{id:"assets",icon:Jo,label:" "}]},{label:"",items:[{id:"settings",icon:cb,label:""},{id:"help",icon:_g,label:""}]}];function OR({activeTab:i,onTabChange:e,isOpen:s,onClose:r}){const o=u=>{e(u),r()};return d.jsxs(d.Fragment,{children:[s&&d.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:r}),d.jsxs("aside",{className:`fixed left-0 top-0 h-screen w-64 bg-dark-900/95 backdrop-blur-xl border-r border-dark-800 flex flex-col z-50 transition-transform duration-300 lg:translate-x-0 ${s?"translate-x-0":"-translate-x-full"}`,children:[d.jsx("div",{className:"p-4 lg:p-6 border-b border-dark-800",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center",children:d.jsx(nb,{className:"w-5 h-5 text-white"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-lg font-bold text-dark-100",children:""}),d.jsx("p",{className:"text-xs text-dark-500",children:"Plan My Life"})]})]}),d.jsx("button",{onClick:r,className:"lg:hidden p-2 text-dark-400 hover:text-dark-100",children:d.jsx(ec,{className:"w-5 h-5"})})]})}),d.jsx("nav",{className:"flex-1 p-3 lg:p-4 overflow-y-auto",children:MR.map((u,m)=>d.jsxs("div",{className:m>0?"mt-4 pt-4 border-t border-dark-800":"",children:[d.jsx("p",{className:"px-4 mb-2 text-[10px] lg:text-xs font-semibold text-dark-500 uppercase tracking-wider",children:u.label}),d.jsx("div",{className:"space-y-1",children:u.items.map(p=>{const y=p.icon,_=i===p.id;return d.jsxs("button",{onClick:()=>o(p.id),className:`w-full flex items-center gap-3 px-4 py-2.5 lg:py-3 rounded-xl transition-all duration-200 ${_?"bg-violet-500/10 text-violet-400 border border-violet-500/20":"text-dark-400 hover:text-dark-100 hover:bg-dark-800/50"}`,children:[d.jsx(y,{className:"w-5 h-5"}),d.jsx("span",{className:"font-medium text-sm lg:text-base",children:p.label})]},p.id)})})]},u.label))}),d.jsx("div",{className:"p-3 lg:p-4 border-t border-dark-800 hidden lg:block",children:d.jsxs("div",{className:"card !p-4 bg-gradient-to-br from-violet-500/10 to-purple-500/10 border-violet-500/20",children:[d.jsx("p",{className:"text-sm text-dark-300 mb-2",children:"  "}),d.jsx("p",{className:"text-xs text-dark-500",children:"Made by "})]})})]})]})}function VR({title:i,onTodayClick:e,showTodayButton:s,onMenuClick:r,isSyncing:o,isLoggedIn:u}){return d.jsxs("header",{className:"sticky top-0 z-30 h-14 lg:h-16 bg-dark-900/95 backdrop-blur-sm border-b border-dark-800 flex items-center px-4 lg:px-6",children:[d.jsx("button",{onClick:r,className:"lg:hidden p-2 -ml-2 mr-2 text-dark-400 hover:text-dark-100",children:d.jsx($C,{className:"w-6 h-6"})}),d.jsxs("div",{className:"flex items-center gap-2 lg:gap-3 flex-1",children:[d.jsx("h2",{className:"text-lg lg:text-xl font-semibold text-dark-100 truncate",children:i}),s&&e&&d.jsxs("button",{onClick:e,className:"btn bg-blue-500/20 text-blue-400 border border-blue-500/40 hover:bg-blue-500/30 text-xs lg:text-sm py-1 lg:py-1.5 px-2 lg:px-3",children:[d.jsx(sb,{className:"w-3 h-3 lg:w-4 lg:h-4"}),d.jsx("span",{className:"hidden sm:inline",children:""})]})]}),u&&d.jsx("div",{className:"flex items-center gap-1.5 text-xs lg:text-sm px-2 lg:px-3 py-1 lg:py-1.5",children:o?d.jsxs(d.Fragment,{children:[d.jsx(GC,{className:"w-4 h-4 animate-spin text-blue-400"}),d.jsx("span",{className:"hidden sm:inline text-blue-400",children:" ..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(Ih,{className:"w-4 h-4 text-emerald-400"}),d.jsx("span",{className:"hidden sm:inline text-emerald-400",children:" "})]})})]})}function LR({onContinueOffline:i}){const{signInWithGoogle:e}=Zo(),[s,r]=X.useState(!1),[o,u]=X.useState(null),m=async()=>{try{r(!0),u(null),await e()}catch(p){u(" .  ."),console.error(p)}finally{r(!1)}};return d.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center p-4",children:d.jsxs("div",{className:"w-full max-w-md",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center mx-auto mb-4",children:d.jsx(nb,{className:"w-10 h-10 text-white"})}),d.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-dark-100 mb-2",children:""}),d.jsx("p",{className:"text-dark-400",children:"  "})]}),d.jsxs("div",{className:"card !p-6 space-y-4",children:[d.jsx("h2",{className:"text-lg font-semibold text-dark-100 text-center mb-2",children:""}),d.jsxs("button",{onClick:m,disabled:s,className:"w-full btn bg-white hover:bg-gray-100 text-gray-800 py-3 disabled:opacity-50",children:[s?d.jsx(Co,{className:"w-5 h-5 animate-spin"}):d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),d.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),d.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),d.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),d.jsx("span",{children:s?" ...":"Google  "})]}),d.jsxs("div",{className:"flex items-center gap-2 p-3 bg-emerald-500/10 rounded-lg border border-emerald-500/20",children:[d.jsx(Ih,{className:"w-4 h-4 text-emerald-400 flex-shrink-0"}),d.jsx("p",{className:"text-xs text-emerald-400",children:"     "})]}),o&&d.jsx("p",{className:"text-sm text-rose-400 text-center",children:o}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex-1 h-px bg-dark-700"}),d.jsx("span",{className:"text-xs text-dark-500",children:""}),d.jsx("div",{className:"flex-1 h-px bg-dark-700"})]}),d.jsxs("button",{onClick:i,disabled:s,className:"w-full btn btn-secondary py-3 disabled:opacity-50",children:[d.jsx(Am,{className:"w-5 h-5"}),d.jsx("span",{children:"  "})]}),d.jsxs("div",{className:"flex items-center gap-2 p-3 bg-dark-800/50 rounded-lg",children:[d.jsx(Am,{className:"w-4 h-4 text-dark-400 flex-shrink-0"}),d.jsx("p",{className:"text-xs text-dark-400",children:"   "})]})]}),d.jsx("p",{className:"text-center text-xs text-dark-500 mt-6",children:"Made by "})]})})}const fh={salary:"",bonus:"",other_income:" ",rent:"/",insurance:"",subscription:"",utilities:"",transport:"",food:"",shopping:"",travel:"",education:"",medical:"",other_expense:" "},S_=["salary","bonus","other_income"],A_=["rent","insurance","subscription","utilities","transport","food","shopping","travel","education","medical","other_expense"],zo={once:"",monthly:"",yearly:""},Nm={equal_principal_interest:"",equal_principal:"",bullet:""},UR={equal_principal_interest:"  (+) ",equal_principal:"   +    ",bullet:"  ,    "},qi={housing:"",contract:"",career:"",family:"",education:"",other:""},La={red:"bg-red-500",orange:"bg-orange-500",yellow:"bg-yellow-500",green:"bg-green-500",blue:"bg-blue-500",purple:"bg-purple-500",pink:"bg-pink-500"},PR={red:"text-red-400",orange:"text-orange-400",yellow:"text-yellow-400",green:"text-green-400",blue:"text-blue-400",purple:"text-purple-400",pink:"text-pink-400"},vg={red:"bg-red-500/10 border-red-500/30 hover:bg-red-500/20",orange:"bg-orange-500/10 border-orange-500/30 hover:bg-orange-500/20",yellow:"bg-yellow-500/10 border-yellow-500/30 hover:bg-yellow-500/20",green:"bg-green-500/10 border-green-500/30 hover:bg-green-500/20",blue:"bg-blue-500/10 border-blue-500/30 hover:bg-blue-500/20",purple:"bg-purple-500/10 border-purple-500/30 hover:bg-purple-500/20",pink:"bg-pink-500/10 border-pink-500/30 hover:bg-pink-500/20"},zR={red:"bg-red-500/20",orange:"bg-orange-500/20",yellow:"bg-yellow-500/20",green:"bg-green-500/20",blue:"bg-blue-500/20",purple:"bg-purple-500/20",pink:"bg-pink-500/20"},BR={red:"bg-red-500/20 text-red-400",orange:"bg-orange-500/20 text-orange-400",yellow:"bg-yellow-500/20 text-yellow-400",green:"bg-green-500/20 text-green-400",blue:"bg-blue-500/20 text-blue-400",purple:"bg-purple-500/20 text-purple-400",pink:"bg-pink-500/20 text-pink-400"},wm={real_estate:"",vehicle:"",savings:"/",investment:"",other_asset:" "},qR={salary:d.jsx(dh,{className:"w-4 h-4"}),bonus:d.jsx(VC,{className:"w-4 h-4"}),other_income:d.jsx(ab,{className:"w-4 h-4"}),rent:d.jsx(sb,{className:"w-4 h-4"}),insurance:d.jsx(hR,{className:"w-4 h-4"}),subscription:d.jsx(Co,{className:"w-4 h-4"}),utilities:d.jsx(DR,{className:"w-4 h-4"}),transport:d.jsx(W1,{className:"w-4 h-4"}),food:d.jsx(RR,{className:"w-4 h-4"}),shopping:d.jsx(fR,{className:"w-4 h-4"}),travel:d.jsx(sR,{className:"w-4 h-4"}),education:d.jsx(UC,{className:"w-4 h-4"}),medical:d.jsx(zC,{className:"w-4 h-4"}),other_expense:d.jsx(DC,{className:"w-4 h-4"})};function HR({year:i,month:e,onEdit:s,onEditEvent:r}){const{getTransactionsForMonth:o,getMonthSummary:u,deleteTransaction:m,getLoanPaymentsForMonth:p,getEventsForMonth:y,deleteEvent:_}=dn(),E=X.useMemo(()=>o(i,e),[o,i,e]),T=X.useMemo(()=>p(i,e),[p,i,e]),N=X.useMemo(()=>y(i,e),[y,i,e]),B=X.useMemo(()=>u(i,e),[u,i,e]),J=X.useMemo(()=>T.reduce((D,M)=>D+M.totalPayment,0),[T]),Y=D=>new Intl.NumberFormat("ko-KR").format(D),z=D=>new Date(D).getDate(),ie=X.useMemo(()=>[...E.map(M=>({type:"transaction",data:M})),...T.map(M=>({type:"loan",data:M})),...N.map(M=>({type:"event",data:M}))].sort((M,ae)=>{const Z=M.data.date,oe=ae.data.date;return Z.localeCompare(oe)}),[E,T,N]);return d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"sticky top-14 lg:top-16 z-10 bg-dark-950/95 backdrop-blur-sm py-3 lg:py-4 border-b border-dark-800",children:d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[d.jsxs("h2",{className:"text-lg lg:text-xl font-bold text-dark-100",children:[i," ",e,""]}),d.jsxs("div",{className:"flex items-center gap-2 lg:gap-4 text-xs lg:text-sm flex-wrap",children:[d.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[d.jsx(Wo,{className:"w-3 h-3 lg:w-4 lg:h-4 text-emerald-400"}),d.jsxs("span",{className:"font-semibold text-emerald-400",children:["+",Y(B.totalIncome)]})]}),d.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[d.jsx(Dh,{className:"w-3 h-3 lg:w-4 lg:h-4 text-rose-400"}),d.jsxs("span",{className:"font-semibold text-rose-400",children:["-",Y(B.totalExpense)]})]}),J>0&&d.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[d.jsx(tl,{className:"w-3 h-3 lg:w-4 lg:h-4 text-blue-400"}),d.jsx("span",{className:"font-semibold text-blue-400",children:Y(J)})]}),d.jsxs("div",{className:`font-bold ${B.balance>=0?"text-emerald-400":"text-rose-400"}`,children:["= ",B.balance>=0?"+":"",Y(B.balance)]})]})]})}),d.jsx("div",{className:"py-3 lg:py-4 space-y-2",children:ie.length===0?d.jsx("div",{className:"text-center py-6 lg:py-8 text-dark-500 text-sm",children:"    "}):ie.map(D=>{if(D.type==="transaction"){const M=D.data;return d.jsxs("div",{className:"group flex items-center gap-2 lg:gap-4 p-3 lg:p-4 bg-dark-900/50 hover:bg-dark-800/50 rounded-xl border border-dark-800/50 hover:border-dark-700 transition-all cursor-pointer",onClick:()=>s(M),children:[d.jsxs("div",{className:"w-10 lg:w-12 text-center flex-shrink-0",children:[d.jsx("span",{className:"text-xl lg:text-2xl font-bold text-dark-300",children:z(M.date)}),d.jsx("span",{className:"text-[10px] lg:text-xs text-dark-500 block",children:""})]}),d.jsx("div",{className:`w-1 h-10 lg:h-12 rounded-full flex-shrink-0 ${M.type==="income"?"bg-emerald-500":"bg-rose-500"}`}),d.jsx("div",{className:`hidden sm:flex w-10 h-10 rounded-xl items-center justify-center flex-shrink-0 ${M.type==="income"?"bg-emerald-500/20 text-emerald-400":"bg-rose-500/20 text-rose-400"}`,children:qR[M.category]}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-1.5 lg:gap-2",children:[d.jsx("h3",{className:"font-medium text-dark-100 truncate text-sm lg:text-base",children:M.title}),M.recurrence!=="once"&&d.jsxs("span",{className:"hidden sm:flex items-center gap-1 px-1.5 lg:px-2 py-0.5 bg-dark-700 rounded-full text-[10px] lg:text-xs text-dark-300 flex-shrink-0",children:[d.jsx(lb,{className:"w-3 h-3"}),zo[M.recurrence]]})]}),d.jsxs("p",{className:"text-xs lg:text-sm text-dark-500 truncate",children:[fh[M.category],M.recurrence!=="once"&&d.jsxs("span",{className:"sm:hidden",children:["  ",zo[M.recurrence]]})]})]}),d.jsxs("div",{className:`text-right font-semibold text-sm lg:text-base flex-shrink-0 ${M.type==="income"?"text-emerald-400":"text-rose-400"}`,children:[M.type==="income"?"+":"-",Y(M.amount)]}),d.jsx("button",{onClick:ae=>{ae.stopPropagation(),confirm("  ?")&&m(M.id)},className:"opacity-0 group-hover:opacity-100 p-1.5 lg:p-2 text-dark-500 hover:text-rose-400 transition-all flex-shrink-0",children:d.jsx(Ha,{className:"w-4 h-4"})})]},`t-${M.id}-${M.date}`)}else if(D.type==="loan"){const M=D.data;return d.jsxs("div",{className:"flex items-center gap-2 lg:gap-4 p-3 lg:p-4 bg-blue-500/5 rounded-xl border border-blue-500/20",children:[d.jsxs("div",{className:"w-10 lg:w-12 text-center flex-shrink-0",children:[d.jsx("span",{className:"text-xl lg:text-2xl font-bold text-dark-300",children:z(M.date)}),d.jsx("span",{className:"text-[10px] lg:text-xs text-dark-500 block",children:""})]}),d.jsx("div",{className:"w-1 h-10 lg:h-12 rounded-full bg-blue-500 flex-shrink-0"}),d.jsx("div",{className:"hidden sm:flex w-10 h-10 rounded-xl items-center justify-center bg-blue-500/20 text-blue-400 flex-shrink-0",children:d.jsx(tl,{className:"w-4 h-4"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-1.5 lg:gap-2",children:[d.jsx("h3",{className:"font-medium text-dark-100 truncate text-sm lg:text-base",children:M.loanName}),d.jsxs("span",{className:"px-1.5 lg:px-2 py-0.5 bg-blue-500/20 rounded-full text-[10px] lg:text-xs text-blue-400 flex-shrink-0",children:[M.monthNumber,""]})]}),d.jsxs("p",{className:"text-xs lg:text-sm text-dark-500 truncate",children:[d.jsxs("span",{className:"hidden sm:inline",children:[" ",Y(M.principal)," +  ",Y(M.interest)]}),d.jsxs("span",{className:"sm:hidden",children:[" ",Y(M.interest)]})]})]}),d.jsxs("div",{className:"text-right flex-shrink-0",children:[d.jsx("p",{className:"font-semibold text-blue-400 text-sm lg:text-base",children:Y(M.totalPayment)}),d.jsxs("p",{className:"text-[10px] lg:text-xs text-rose-400",children:["-",Y(M.interest)]})]})]},`l-${M.loanId}-${M.date}`)}else{const M=D.data;return d.jsxs("div",{className:`group flex items-center gap-2 lg:gap-4 p-3 lg:p-4 rounded-xl border transition-all cursor-pointer ${vg[M.color]}`,onClick:()=>r?.(M),children:[d.jsxs("div",{className:"w-10 lg:w-12 text-center flex-shrink-0",children:[d.jsx("span",{className:"text-xl lg:text-2xl font-bold text-dark-300",children:z(M.date)}),d.jsx("span",{className:"text-[10px] lg:text-xs text-dark-500 block",children:""})]}),d.jsx("div",{className:`w-1 h-10 lg:h-12 rounded-full flex-shrink-0 ${La[M.color]}`}),d.jsx("div",{className:`hidden sm:flex w-10 h-10 rounded-xl items-center justify-center flex-shrink-0 ${zR[M.color]}`,children:M.isImportant?d.jsx(nl,{className:"w-4 h-4 text-amber-400 fill-amber-400"}):d.jsx(Ka,{className:`w-4 h-4 ${PR[M.color]}`})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-1.5 lg:gap-2",children:[d.jsx("h3",{className:"font-medium text-dark-100 truncate text-sm lg:text-base",children:M.title}),M.isImportant&&d.jsx(nl,{className:"w-3.5 h-3.5 text-amber-400 fill-amber-400 sm:hidden flex-shrink-0"}),d.jsx("span",{className:`hidden sm:inline px-2 py-0.5 rounded-full text-xs ${BR[M.color]}`,children:qi[M.category]}),M.isImportant&&d.jsx("span",{className:"hidden sm:inline px-2 py-0.5 bg-amber-500/20 rounded-full text-xs text-amber-400",children:""})]}),d.jsxs("p",{className:"text-xs lg:text-sm text-dark-500 truncate",children:[d.jsx("span",{className:"sm:hidden",children:qi[M.category]}),M.description&&d.jsx("span",{className:"hidden sm:inline",children:M.description})]})]}),d.jsx("button",{onClick:ae=>{ae.stopPropagation(),confirm("  ?")&&_(M.id)},className:"opacity-0 group-hover:opacity-100 p-1.5 lg:p-2 text-dark-500 hover:text-rose-400 transition-all flex-shrink-0",children:d.jsx(Ha,{className:"w-4 h-4"})})]},`e-${M.id}`)}})})]})}function FR({year:i,onEdit:e,onEditEvent:s}){const{getMultiMonthSummaries:r,getTransactionsForMonth:o,getEventsForMonth:u,events:m}=dn(),[p,y]=X.useState(null),_=X.useMemo(()=>r(i,1,12),[r,i]),E=X.useMemo(()=>_.reduce((z,ie)=>({income:z.income+ie.totalIncome,expense:z.expense+ie.totalExpense,balance:z.balance+ie.balance}),{income:0,expense:0,balance:0}),[_]),T=X.useMemo(()=>m.filter(z=>new Date(z.date).getFullYear()===i),[m,i]),N=z=>m.filter(ie=>{const D=new Date(ie.date);return D.getFullYear()===i&&D.getMonth()+1===z}).length,B=z=>new Intl.NumberFormat("ko-KR").format(z),J=z=>z>=1e8?`${(z/1e8).toFixed(1)}`:z>=1e4?`${(z/1e4).toFixed(0)}`:B(z),Y=z=>{y(p===z?null:z)};return d.jsxs("div",{className:"card !p-3 lg:!p-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-4 lg:mb-6 pb-3 lg:pb-4 border-b border-dark-800",children:[d.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[d.jsxs("h2",{className:"text-xl lg:text-2xl font-bold text-dark-100",children:[i,""]}),T.length>0&&d.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-purple-500/20 rounded-full text-[10px] lg:text-xs text-purple-400",children:[d.jsx(Po,{className:"w-3 h-3"}),T.length]})]}),d.jsxs("div",{className:"flex items-center gap-2 lg:gap-6 text-xs lg:text-sm flex-wrap",children:[d.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[d.jsx(Wo,{className:"w-3 h-3 lg:w-4 lg:h-4 text-emerald-400"}),d.jsxs("span",{className:"font-semibold text-emerald-400",children:["+",J(E.income)]})]}),d.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[d.jsx(Dh,{className:"w-3 h-3 lg:w-4 lg:h-4 text-rose-400"}),d.jsxs("span",{className:"font-semibold text-rose-400",children:["-",J(E.expense)]})]}),d.jsxs("div",{className:`font-bold text-sm lg:text-lg ${E.balance>=0?"text-emerald-400":"text-rose-400"}`,children:["= ",E.balance>=0?"+":"",J(E.balance)]})]})]}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 lg:gap-3",children:_.map(z=>{const ie=p===z.month,D=ie?o(i,z.month):[],M=ie?u(i,z.month):[],ae=N(z.month),Z=z.totalIncome>0||z.totalExpense>0||ae>0;return d.jsxs("div",{className:`rounded-xl border transition-all ${Z?"bg-dark-800/50 border-dark-700 hover:border-dark-600":"bg-dark-900/30 border-dark-800/50"}`,children:[d.jsxs("button",{onClick:()=>Z&&Y(z.month),className:`w-full p-2.5 lg:p-4 text-left ${Z?"cursor-pointer":"cursor-default"}`,disabled:!Z,children:[d.jsxs("div",{className:"flex items-center justify-between mb-1.5 lg:mb-2",children:[d.jsxs("div",{className:"flex items-center gap-1.5 lg:gap-2",children:[d.jsxs("span",{className:"text-sm lg:text-lg font-semibold text-dark-100",children:[z.month,""]}),ae>0&&d.jsxs("span",{className:"flex items-center gap-0.5 px-1 lg:px-1.5 py-0.5 bg-purple-500/20 rounded text-[10px] lg:text-xs text-purple-400",children:[d.jsx(Po,{className:"w-2 h-2 lg:w-2.5 lg:h-2.5"}),ae]})]}),Z&&(ie?d.jsx(tb,{className:"w-3.5 h-3.5 lg:w-4 lg:h-4 text-dark-400"}):d.jsx(eb,{className:"w-3.5 h-3.5 lg:w-4 lg:h-4 text-dark-400"}))]}),z.totalIncome>0||z.totalExpense>0?d.jsxs("div",{className:"space-y-0.5 lg:space-y-1",children:[d.jsxs("div",{className:"flex justify-between text-xs lg:text-sm",children:[d.jsx("span",{className:"text-dark-500",children:""}),d.jsxs("span",{className:"text-emerald-400",children:["+",J(z.totalIncome)]})]}),d.jsxs("div",{className:"flex justify-between text-xs lg:text-sm",children:[d.jsx("span",{className:"text-dark-500",children:""}),d.jsxs("span",{className:"text-rose-400",children:["-",J(z.totalExpense)]})]}),d.jsxs("div",{className:"flex justify-between text-xs lg:text-sm font-medium pt-1 border-t border-dark-700",children:[d.jsx("span",{className:"text-dark-400",children:""}),d.jsxs("span",{className:z.balance>=0?"text-emerald-400":"text-rose-400",children:[z.balance>=0?"+":"",J(z.balance)]})]})]}):ae>0?d.jsx("p",{className:"text-xs lg:text-sm text-purple-400",children:" "}):d.jsx("p",{className:"text-xs lg:text-sm text-dark-600",children:" "})]}),ie&&(D.length>0||M.length>0)&&d.jsxs("div",{className:"border-t border-dark-700 p-2 lg:p-3 space-y-1.5 lg:space-y-2 max-h-48 lg:max-h-60 overflow-y-auto",children:[M.map(oe=>d.jsxs("button",{onClick:()=>s?.(oe),className:`w-full flex items-center justify-between p-1.5 lg:p-2 rounded-lg transition-colors text-left ${vg[oe.color]}`,children:[d.jsxs("div",{className:"flex items-center gap-1.5 lg:gap-2 min-w-0",children:[oe.isImportant?d.jsx(nl,{className:"w-3 h-3 text-amber-400 fill-amber-400 flex-shrink-0"}):d.jsx("div",{className:`w-1.5 h-1.5 rounded-full flex-shrink-0 ${La[oe.color]}`}),d.jsx("span",{className:"text-xs lg:text-sm text-dark-200 truncate",children:oe.title})]}),d.jsxs("span",{className:"text-[10px] lg:text-xs text-dark-500 flex-shrink-0 ml-1",children:[new Date(oe.date).getDate(),""]})]},`e-${oe.id}`)),D.map(oe=>d.jsxs("button",{onClick:()=>e(oe),className:"w-full flex items-center justify-between p-1.5 lg:p-2 rounded-lg bg-dark-900/50 hover:bg-dark-700/50 transition-colors text-left",children:[d.jsxs("div",{className:"flex items-center gap-1.5 lg:gap-2 min-w-0",children:[d.jsx("div",{className:`w-1.5 h-1.5 rounded-full flex-shrink-0 ${oe.type==="income"?"bg-emerald-500":"bg-rose-500"}`}),d.jsx("span",{className:"text-xs lg:text-sm text-dark-200 truncate",children:oe.title})]}),d.jsxs("span",{className:`text-xs lg:text-sm font-medium whitespace-nowrap ml-1 ${oe.type==="income"?"text-emerald-400":"text-rose-400"}`,children:[oe.type==="income"?"+":"-",J(oe.amount)]})]},`${oe.id}-${oe.date}`))]})]},z.month)})}),d.jsxs("div",{className:"mt-4 lg:mt-6 pt-3 lg:pt-4 border-t border-dark-800",children:[d.jsx("h4",{className:"text-xs lg:text-sm font-medium text-dark-400 mb-2 lg:mb-3",children:" "}),d.jsx("div",{className:"flex items-end gap-0.5 lg:gap-1 h-16 lg:h-24",children:_.map(z=>{const ie=Math.max(..._.map(ae=>Math.max(ae.totalIncome,ae.totalExpense))),D=ie>0?z.totalIncome/ie*100:0,M=ie>0?z.totalExpense/ie*100:0;return d.jsxs("div",{className:"flex-1 flex flex-col items-center gap-0.5 lg:gap-1",children:[d.jsxs("div",{className:"w-full flex gap-0.5 items-end h-12 lg:h-20",children:[d.jsx("div",{className:"flex-1 bg-emerald-500/60 rounded-t transition-all",style:{height:`${D}%`,minHeight:z.totalIncome>0?"2px":"0"}}),d.jsx("div",{className:"flex-1 bg-rose-500/60 rounded-t transition-all",style:{height:`${M}%`,minHeight:z.totalExpense>0?"2px":"0"}})]}),d.jsx("span",{className:"text-[10px] lg:text-xs text-dark-500",children:z.month})]},z.month)})}),d.jsxs("div",{className:"flex justify-center gap-3 lg:gap-4 mt-2",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-2.5 h-2.5 lg:w-3 lg:h-3 rounded bg-emerald-500/60"}),d.jsx("span",{className:"text-[10px] lg:text-xs text-dark-500",children:""})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-2.5 h-2.5 lg:w-3 lg:h-3 rounded bg-rose-500/60"}),d.jsx("span",{className:"text-[10px] lg:text-xs text-dark-500",children:""})]})]})]})]})}const Gt=[];for(let i=0;i<256;++i)Gt.push((i+256).toString(16).slice(1));function GR(i,e=0){return(Gt[i[e+0]]+Gt[i[e+1]]+Gt[i[e+2]]+Gt[i[e+3]]+"-"+Gt[i[e+4]]+Gt[i[e+5]]+"-"+Gt[i[e+6]]+Gt[i[e+7]]+"-"+Gt[i[e+8]]+Gt[i[e+9]]+"-"+Gt[i[e+10]]+Gt[i[e+11]]+Gt[i[e+12]]+Gt[i[e+13]]+Gt[i[e+14]]+Gt[i[e+15]]).toLowerCase()}let Wf;const YR=new Uint8Array(16);function QR(){if(!Wf){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Wf=crypto.getRandomValues.bind(crypto)}return Wf(YR)}const KR=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),N_={randomUUID:KR};function $R(i,e,s){i=i||{};const r=i.random??i.rng?.()??QR();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,GR(r)}function Mh(i,e,s){return N_.randomUUID&&!i?N_.randomUUID():$R(i)}function ub({transaction:i,onClose:e}){const{addTransaction:s,updateTransaction:r,currentYear:o,currentMonth:u}=dn(),[m,p]=X.useState("expense"),[y,_]=X.useState(""),[E,T]=X.useState(""),[N,B]=X.useState("other_expense"),[J,Y]=X.useState(""),[z,ie]=X.useState("once"),[D,M]=X.useState(""),[ae,Z]=X.useState("");X.useEffect(()=>{i?(p(i.type),_(i.title),T(String(i.amount)),B(i.category),Y(i.date),ie(i.recurrence),M(i.recurrenceEndDate||""),Z(i.memo||"")):Y(`${o}-${String(u).padStart(2,"0")}-01`)},[i,o,u]),X.useEffect(()=>{m==="income"&&!S_.includes(N)?B("salary"):m==="expense"&&!A_.includes(N)&&B("other_expense")},[m,N]);const oe=A=>{if(A.preventDefault(),!y.trim()||!E||!J)return;const R={id:i?.id||Mh(),title:y.trim(),amount:Number(E),type:m,category:N,date:J,recurrence:z,recurrenceEndDate:D||void 0,memo:ae.trim()||void 0,createdAt:i?.createdAt||new Date().toISOString()};i?r(i.id,R):s(R),e()},I=m==="income"?S_:A_;return d.jsx("div",{className:"fixed inset-0 bg-dark-950/80 backdrop-blur-sm flex items-end sm:items-center justify-center z-50 p-0 sm:p-4",children:d.jsxs("div",{className:"card w-full sm:max-w-lg max-h-[85vh] sm:max-h-[90vh] overflow-y-auto rounded-b-none sm:rounded-b-2xl",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:[d.jsx("h3",{className:"text-lg lg:text-xl font-bold text-dark-100",children:i?" ":"  "}),d.jsx("button",{onClick:e,className:"btn btn-ghost p-2",children:d.jsx(ec,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:oe,className:"space-y-3 lg:space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("button",{type:"button",onClick:()=>p("income"),className:`py-2.5 lg:py-3 rounded-xl font-medium text-sm lg:text-base transition-all ${m==="income"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/40":"bg-dark-800 text-dark-400 border border-dark-700 hover:border-dark-600"}`,children:""}),d.jsx("button",{type:"button",onClick:()=>p("expense"),className:`py-2.5 lg:py-3 rounded-xl font-medium text-sm lg:text-base transition-all ${m==="expense"?"bg-rose-500/20 text-rose-400 border border-rose-500/40":"bg-dark-800 text-dark-400 border border-dark-700 hover:border-dark-600"}`,children:""})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:" *"}),d.jsx("input",{type:"text",value:y,onChange:A=>_(A.target.value),placeholder:": ,  ",className:"input text-sm lg:text-base",autoFocus:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:" *"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",value:E,onChange:A=>T(A.target.value),placeholder:"0",className:"input pr-12 text-sm lg:text-base",min:"0"}),d.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-dark-400 text-sm",children:""})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 lg:gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),d.jsx("select",{value:N,onChange:A=>B(A.target.value),className:"input text-sm lg:text-base",children:I.map(A=>d.jsx("option",{value:A,children:fh[A]},A))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:" *"}),d.jsx("input",{type:"date",value:J,onChange:A=>Y(A.target.value),className:"input text-sm lg:text-base"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),d.jsx("select",{value:z,onChange:A=>ie(A.target.value),className:"input text-sm lg:text-base",children:Object.keys(zo).map(A=>d.jsx("option",{value:A,children:zo[A]},A))})]}),z!=="once"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:"  ()"}),d.jsx("input",{type:"date",value:D,onChange:A=>M(A.target.value),className:"input text-sm lg:text-base"}),d.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mt-1",children:"  "})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),d.jsx("textarea",{value:ae,onChange:A=>Z(A.target.value),placeholder:"  ()",className:"input min-h-[60px] lg:min-h-[80px] resize-none text-sm lg:text-base"})]}),d.jsxs("div",{className:"flex gap-2 lg:gap-3 pt-3 lg:pt-4",children:[d.jsx("button",{type:"button",onClick:e,className:"btn btn-secondary flex-1 text-sm lg:text-base",children:""}),d.jsx("button",{type:"submit",className:`btn flex-1 text-white text-sm lg:text-base ${m==="income"?"bg-emerald-500 hover:bg-emerald-600":"bg-rose-500 hover:bg-rose-600"}`,children:i?"":""})]})]})]})})}const XR=["housing","contract","career","family","education","other"],ZR=["red","orange","yellow","green","blue","purple","pink"];function hb({event:i,onClose:e}){const{addEvent:s,updateEvent:r,currentYear:o,currentMonth:u}=dn(),[m,p]=X.useState(""),[y,_]=X.useState("other"),[E,T]=X.useState(""),[N,B]=X.useState(""),[J,Y]=X.useState(!1),[z,ie]=X.useState("blue");X.useEffect(()=>{i?(p(i.title),_(i.category),T(i.date),B(i.description||""),Y(i.isImportant),ie(i.color)):T(`${o}-${String(u).padStart(2,"0")}-01`)},[i,o,u]);const D=M=>{if(M.preventDefault(),!m.trim()||!E)return;const ae={id:i?.id||Mh(),title:m.trim(),category:y,date:E,description:N.trim()||void 0,isImportant:J,color:z,createdAt:i?.createdAt||new Date().toISOString()};i?r(i.id,ae):s(ae),e()};return d.jsx("div",{className:"fixed inset-0 bg-dark-950/80 backdrop-blur-sm flex items-end sm:items-center justify-center z-50 p-0 sm:p-4",children:d.jsxs("div",{className:"card w-full sm:max-w-lg max-h-[85vh] sm:max-h-[90vh] overflow-y-auto rounded-b-none sm:rounded-b-2xl",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:[d.jsx("h3",{className:"text-lg lg:text-xl font-bold text-dark-100",children:i?" ":"  "}),d.jsx("button",{onClick:e,className:"btn btn-ghost p-2",children:d.jsx(ec,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:D,className:"space-y-3 lg:space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:"  *"}),d.jsx("input",{type:"text",value:m,onChange:M=>p(M.target.value),placeholder:":  , ,  ",className:"input text-sm lg:text-base",autoFocus:!0})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 lg:gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),d.jsx("select",{value:y,onChange:M=>_(M.target.value),className:"input text-sm lg:text-base",children:XR.map(M=>d.jsx("option",{value:M,children:qi[M]},M))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:" *"}),d.jsx("input",{type:"date",value:E,onChange:M=>T(M.target.value),className:"input text-sm lg:text-base"})]})]}),d.jsxs("div",{className:"flex items-end gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),d.jsx("div",{className:"flex gap-1.5 lg:gap-2",children:ZR.map(M=>d.jsx("button",{type:"button",onClick:()=>ie(M),className:`w-6 h-6 lg:w-8 lg:h-8 rounded-full ${La[M]} transition-all ${z===M?"ring-2 ring-offset-2 ring-offset-dark-900 ring-white scale-110":"hover:scale-105"}`},M))})]}),d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer pb-0.5",children:[d.jsx("button",{type:"button",onClick:()=>Y(!J),className:`p-1.5 lg:p-2 rounded-lg transition-all ${J?"bg-amber-500/20 text-amber-400":"bg-dark-800 text-dark-500 hover:text-dark-300"}`,children:d.jsx(nl,{className:`w-4 h-4 lg:w-5 lg:h-5 ${J?"fill-current":""}`})}),d.jsx("span",{className:"text-xs lg:text-sm text-dark-300",children:""})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),d.jsx("textarea",{value:N,onChange:M=>B(M.target.value),placeholder:"  ()",className:"input min-h-[60px] lg:min-h-[80px] resize-none text-sm lg:text-base"})]}),d.jsxs("div",{className:"flex gap-2 lg:gap-3 pt-3 lg:pt-4",children:[d.jsx("button",{type:"button",onClick:e,className:"btn btn-secondary flex-1 text-sm lg:text-base",children:""}),d.jsx("button",{type:"submit",className:`btn flex-1 text-white text-sm lg:text-base ${La[z]} hover:opacity-90`,children:i?"":""})]})]})]})})}function w_(){const{currentYear:i,currentMonth:e}=dn(),[s,r]=X.useState("month"),[o,u]=X.useState(null),[m,p]=X.useState(null),[y,_]=X.useState(6),[E,T]=X.useState(3),N=X.useRef(null),B=D=>{u(D)},J=D=>{p(D)},Y=X.useCallback(D=>{D[0].isIntersecting&&(s==="month"?_(ae=>ae+6):T(ae=>ae+2))},[s]);X.useEffect(()=>{const D={root:null,rootMargin:"100px",threshold:0},M=new IntersectionObserver(Y,D);return N.current&&M.observe(N.current),()=>M.disconnect()},[Y]),X.useEffect(()=>{_(6),T(3)},[s]),X.useEffect(()=>{_(6),T(3),window.scrollTo({top:0,behavior:"smooth"})},[i,e]);const z=()=>{const D=[];let M=i,ae=e;for(let Z=0;Z<y;Z++)D.push({year:M,month:ae}),ae++,ae>12&&(ae=1,M++);return D},ie=()=>{const D=[];for(let M=0;M<E;M++)D.push(i+M);return D};return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 mb-4",children:[d.jsxs("button",{onClick:()=>r("month"),className:`btn text-xs sm:text-sm py-1.5 px-2 sm:py-2 sm:px-3 ${s==="month"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/40":"btn-secondary"}`,children:[d.jsx(Ka,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),d.jsx("span",{className:"hidden sm:inline",children:" "}),d.jsx("span",{className:"sm:hidden",children:""})]}),d.jsxs("button",{onClick:()=>r("year"),className:`btn text-xs sm:text-sm py-1.5 px-2 sm:py-2 sm:px-3 ${s==="year"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/40":"btn-secondary"}`,children:[d.jsx(_C,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),d.jsx("span",{className:"hidden sm:inline",children:" "}),d.jsx("span",{className:"sm:hidden",children:""})]})]}),d.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[s==="month"?z().map(({year:D,month:M})=>d.jsx(HR,{year:D,month:M,onEdit:B,onEditEvent:J},`${D}-${M}`)):ie().map(D=>d.jsx(FR,{year:D,onEdit:B,onEditEvent:J},D)),d.jsx("div",{ref:N,className:"flex justify-center py-8",children:d.jsx("div",{className:"text-dark-500 text-sm",children:"  ..."})})]}),o&&d.jsx(ub,{transaction:o,onClose:()=>u(null)}),m&&d.jsx(hb,{event:m,onClose:()=>p(null)})]})}function JR(){const{transactions:i,deleteTransaction:e}=dn(),[s,r]=X.useState(!1),[o,u]=X.useState(null),[m,p]=X.useState("all"),[y,_]=X.useState(""),E=X.useMemo(()=>i.filter(D=>{if(m!=="all"&&D.type!==m)return!1;if(y){const M=y.toLowerCase();return D.title.toLowerCase().includes(M)||fh[D.category].toLowerCase().includes(M)||D.memo&&D.memo.toLowerCase().includes(M)}return!0}).sort((D,M)=>M.createdAt.localeCompare(D.createdAt)),[i,m,y]),T=X.useMemo(()=>{const D=i.filter(ae=>ae.type==="income").reduce((ae,Z)=>Z.recurrence==="monthly"?ae+Z.amount*12:ae+Z.amount,0),M=i.filter(ae=>ae.type==="expense").reduce((ae,Z)=>Z.recurrence==="monthly"?ae+Z.amount*12:ae+Z.amount,0);return{income:D,expense:M,balance:D-M}},[i]),N=D=>new Intl.NumberFormat("ko-KR").format(D),B=D=>{const M=new Date(D);return`${M.getFullYear()}.${String(M.getMonth()+1).padStart(2,"0")}.${String(M.getDate()).padStart(2,"0")}`},J=D=>{u(D),r(!0)},Y=()=>{u(null),r(!0)},z=()=>{r(!1),u(null)},ie=(D,M)=>{confirm(`"${M}"  ?`)&&e(D)};return d.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-3 gap-2 lg:gap-4",children:[d.jsxs("div",{className:"card !p-3 lg:!p-6",children:[d.jsx("p",{className:"text-dark-400 text-xs lg:text-sm mb-1",children:""}),d.jsxs("p",{className:"text-sm lg:text-2xl font-bold text-emerald-400 truncate",children:["+",N(T.income)]})]}),d.jsxs("div",{className:"card !p-3 lg:!p-6",children:[d.jsx("p",{className:"text-dark-400 text-xs lg:text-sm mb-1",children:""}),d.jsxs("p",{className:"text-sm lg:text-2xl font-bold text-rose-400 truncate",children:["-",N(T.expense)]})]}),d.jsxs("div",{className:"card !p-3 lg:!p-6",children:[d.jsx("p",{className:"text-dark-400 text-xs lg:text-sm mb-1",children:""}),d.jsxs("p",{className:`text-sm lg:text-2xl font-bold truncate ${T.balance>=0?"text-emerald-400":"text-rose-400"}`,children:[T.balance>=0?"+":"",N(T.balance)]})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(ob,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-dark-500"}),d.jsx("input",{type:"text",value:y,onChange:D=>_(D.target.value),placeholder:"...",className:"input pl-10 w-full text-sm"})]}),d.jsxs("button",{onClick:Y,className:"btn bg-emerald-500 hover:bg-emerald-600 text-white whitespace-nowrap",children:[d.jsx(jh,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:""})]})]}),d.jsxs("div",{className:"flex items-center gap-1 bg-dark-800 rounded-lg p-1 w-fit",children:[d.jsx("button",{onClick:()=>p("all"),className:`px-3 py-1.5 rounded-md text-xs lg:text-sm transition-colors ${m==="all"?"bg-dark-700 text-dark-100":"text-dark-400 hover:text-dark-200"}`,children:""}),d.jsx("button",{onClick:()=>p("income"),className:`px-3 py-1.5 rounded-md text-xs lg:text-sm transition-colors ${m==="income"?"bg-emerald-500/20 text-emerald-400":"text-dark-400 hover:text-dark-200"}`,children:""}),d.jsx("button",{onClick:()=>p("expense"),className:`px-3 py-1.5 rounded-md text-xs lg:text-sm transition-colors ${m==="expense"?"bg-rose-500/20 text-rose-400":"text-dark-400 hover:text-dark-200"}`,children:""})]})]}),d.jsx("div",{className:"card !p-0 overflow-hidden",children:E.length===0?d.jsx("div",{className:"text-center py-8 lg:py-12 text-dark-500 text-sm",children:y||m!=="all"?"  ":"  "}):d.jsx("div",{className:"divide-y divide-dark-800",children:E.map(D=>d.jsxs("div",{className:"flex items-start lg:items-center gap-3 p-3 lg:p-4 hover:bg-dark-800/50 transition-colors",children:[d.jsx("div",{className:`w-1 h-10 lg:h-12 rounded-full flex-shrink-0 ${D.type==="income"?"bg-emerald-500":"bg-rose-500"}`}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-0.5 lg:mb-1",children:[d.jsx("h3",{className:"font-medium text-dark-100 truncate text-sm lg:text-base",children:D.title}),D.recurrence!=="once"&&d.jsx("span",{className:"px-1.5 lg:px-2 py-0.5 bg-dark-700 rounded-full text-[10px] lg:text-xs text-dark-300 flex-shrink-0",children:zo[D.recurrence]})]}),d.jsxs("div",{className:"flex items-center gap-1 lg:gap-2 text-xs lg:text-sm text-dark-500 flex-wrap",children:[d.jsx("span",{children:fh[D.category]}),d.jsx("span",{className:"hidden sm:inline",children:""}),d.jsx("span",{className:"hidden sm:inline",children:B(D.date)})]})]}),d.jsxs("div",{className:`text-right font-semibold text-sm lg:text-base flex-shrink-0 ${D.type==="income"?"text-emerald-400":"text-rose-400"}`,children:[D.type==="income"?"+":"-",N(D.amount)]}),d.jsxs("div",{className:"flex items-center gap-0.5 flex-shrink-0",children:[d.jsx("button",{onClick:()=>J(D),className:"p-1.5 lg:p-2 text-dark-500 hover:text-dark-200 transition-colors",title:"",children:d.jsx(kh,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>ie(D.id,D.title),className:"p-1.5 lg:p-2 text-dark-500 hover:text-rose-400 transition-colors",title:"",children:d.jsx(Ha,{className:"w-4 h-4"})})]})]},D.id))})}),d.jsxs("div",{className:"text-center text-sm text-dark-500",children:[" ",E.length," ",m!=="all"&&` (${m==="income"?"":""})`]}),s&&d.jsx(ub,{transaction:o,onClose:z})]})}function WR(){const{events:i,deleteEvent:e}=dn(),[s,r]=X.useState(!1),[o,u]=X.useState(null),[m,p]=X.useState("all"),[y,_]=X.useState(""),E=X.useMemo(()=>i.filter(D=>{if(m!=="all"&&D.category!==m)return!1;if(y){const M=y.toLowerCase();return D.title.toLowerCase().includes(M)||qi[D.category].toLowerCase().includes(M)||D.description&&D.description.toLowerCase().includes(M)}return!0}).sort((D,M)=>D.date.localeCompare(M.date)),[i,m,y]),T=X.useMemo(()=>{const D={};let M=0;return i.forEach(ae=>{D[ae.category]=(D[ae.category]||0)+1,ae.isImportant&&M++}),{categoryCounts:D,importantCount:M,total:i.length}},[i]),N=D=>{const M=new Date(D);return`${M.getFullYear()}.${String(M.getMonth()+1).padStart(2,"0")}.${String(M.getDate()).padStart(2,"0")}`},B=D=>{u(D),r(!0)},J=()=>{u(null),r(!0)},Y=()=>{r(!1),u(null)},z=(D,M)=>{confirm(`"${M}"  ?`)&&e(D)},ie=["housing","contract","career","family","education","other"];return d.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-2 lg:gap-4",children:[d.jsxs("div",{className:"card !p-3 lg:!p-6",children:[d.jsx("p",{className:"text-dark-400 text-xs lg:text-sm mb-1",children:""}),d.jsxs("p",{className:"text-xl lg:text-2xl font-bold text-dark-100",children:[T.total,""]})]}),d.jsxs("div",{className:"card !p-3 lg:!p-6",children:[d.jsx("p",{className:"text-dark-400 text-xs lg:text-sm mb-1",children:""}),d.jsxs("p",{className:"text-xl lg:text-2xl font-bold text-amber-400",children:[T.importantCount,""]})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(ob,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-dark-500"}),d.jsx("input",{type:"text",value:y,onChange:D=>_(D.target.value),placeholder:"...",className:"input pl-10 w-full text-sm"})]}),d.jsxs("button",{onClick:J,className:"btn bg-purple-500 hover:bg-purple-600 text-white whitespace-nowrap",children:[d.jsx(jh,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:""})]})]}),d.jsxs("select",{value:m,onChange:D=>p(D.target.value),className:"input py-2 text-sm w-full sm:w-auto",children:[d.jsx("option",{value:"all",children:" "}),ie.map(D=>d.jsx("option",{value:D,children:qi[D]},D))]})]}),d.jsx("div",{className:"card !p-0 overflow-hidden",children:E.length===0?d.jsx("div",{className:"text-center py-8 lg:py-12 text-dark-500 text-sm",children:y||m!=="all"?"  ":"  .  !"}):d.jsx("div",{className:"divide-y divide-dark-800",children:E.map(D=>d.jsxs("div",{className:`flex items-start lg:items-center gap-3 p-3 lg:p-4 hover:bg-dark-800/50 transition-colors ${vg[D.color]}`,children:[d.jsx("div",{className:`w-1 h-10 lg:h-12 rounded-full flex-shrink-0 ${La[D.color]}`}),d.jsx("div",{className:`hidden sm:flex w-10 h-10 rounded-xl items-center justify-center flex-shrink-0 ${La[D.color]}/20`,children:D.isImportant?d.jsx(nl,{className:"w-5 h-5 text-amber-400 fill-amber-400"}):d.jsx(Ka,{className:"w-5 h-5 text-dark-300"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-1.5 lg:gap-2 mb-0.5 lg:mb-1 flex-wrap",children:[d.jsx("h3",{className:"font-medium text-dark-100 truncate text-sm lg:text-base",children:D.title}),D.isImportant&&d.jsx(nl,{className:"w-3.5 h-3.5 text-amber-400 fill-amber-400 sm:hidden flex-shrink-0"}),d.jsx("span",{className:`hidden sm:inline px-2 py-0.5 rounded-full text-xs ${La[D.color]}/20 text-dark-300`,children:qi[D.category]}),D.isImportant&&d.jsx("span",{className:"hidden sm:inline px-2 py-0.5 bg-amber-500/20 rounded-full text-xs text-amber-400",children:""})]}),d.jsxs("div",{className:"flex items-center gap-1 lg:gap-2 text-xs lg:text-sm text-dark-500 flex-wrap",children:[d.jsx("span",{children:N(D.date)}),d.jsxs("span",{className:"sm:hidden",children:[" ",qi[D.category]]}),D.description&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"hidden sm:inline",children:""}),d.jsx("span",{className:"hidden sm:inline truncate max-w-[300px]",children:D.description})]})]})]}),d.jsxs("div",{className:"flex items-center gap-0.5 flex-shrink-0",children:[d.jsx("button",{onClick:()=>B(D),className:"p-1.5 lg:p-2 text-dark-500 hover:text-dark-200 transition-colors",title:"",children:d.jsx(kh,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>z(D.id,D.title),className:"p-1.5 lg:p-2 text-dark-500 hover:text-rose-400 transition-colors",title:"",children:d.jsx(Ha,{className:"w-4 h-4"})})]})]},D.id))})}),d.jsxs("div",{className:"text-center text-sm text-dark-500",children:[" ",E.length," ",m!=="all"&&` (${qi[m]})`]}),s&&d.jsx(hb,{event:o,onClose:Y})]})}const C_=["equal_principal_interest","equal_principal","bullet"];function e3({loan:i,onClose:e}){const{addLoan:s,updateLoan:r}=dn(),[o,u]=X.useState(""),[m,p]=X.useState(""),[y,_]=X.useState(""),[E,T]=X.useState("equal_principal_interest"),[N,B]=X.useState(""),[J,Y]=X.useState(""),[z,ie]=X.useState(""),[D,M]=X.useState("25"),[ae,Z]=X.useState(""),[oe,I]=X.useState(!1);X.useEffect(()=>{if(i)u(i.name),p(String(i.principal)),_(String(i.interestRate)),T(i.repaymentType),Y(String(Math.floor(i.termMonths/12))),B(String(i.termMonths%12)),ie(i.startDate),M(String(i.paymentDay)),Z(i.memo||"");else{const w=new Date;ie(`${w.getFullYear()}-${String(w.getMonth()+1).padStart(2,"0")}-01`)}},[i]);const A=w=>{if(w.preventDefault(),!o.trim()||!m||!y||!z)return;const V=(parseInt(J)||0)*12+(parseInt(N)||0);if(V<=0)return;const C={id:i?.id||Mh(),name:o.trim(),principal:Number(m),interestRate:Number(y),repaymentType:E,termMonths:V,startDate:z,paymentDay:parseInt(D)||25,memo:ae.trim()||void 0,createdAt:i?.createdAt||new Date().toISOString()};i?r(i.id,C):s(C),e()},L=(()=>{const w=Number(m),V=Number(y)/100/12,C=(parseInt(J)||0)*12+(parseInt(N)||0);if(!w||!C)return null;if(E==="equal_principal_interest")return Math.round(V===0?w/C:w*V*Math.pow(1+V,C)/(Math.pow(1+V,C)-1));if(E==="equal_principal"){const qe=w/C,ot=w*V;return Math.round(qe+ot)}else return Math.round(w*V)})();return d.jsx("div",{className:"fixed inset-0 bg-dark-950/80 backdrop-blur-sm flex items-end sm:items-center justify-center z-50 p-0 sm:p-4",children:d.jsxs("div",{className:"card w-full sm:max-w-lg max-h-[85vh] sm:max-h-[90vh] overflow-y-auto rounded-b-none sm:rounded-b-2xl",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:[d.jsx("h3",{className:"text-lg lg:text-xl font-bold text-dark-100",children:i?" ":"  "}),d.jsx("button",{onClick:e,className:"btn btn-ghost p-2",children:d.jsx(ec,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:A,className:"space-y-3 lg:space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:" *"}),d.jsx("input",{type:"text",value:o,onChange:w=>u(w.target.value),placeholder:": , ",className:"input text-sm lg:text-base",autoFocus:!0})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 lg:gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:"  *"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",value:m,onChange:w=>p(w.target.value),placeholder:"0",className:"input pr-10 text-sm lg:text-base",min:"0"}),d.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-dark-400 text-xs lg:text-sm",children:""})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:" *"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",value:y,onChange:w=>_(w.target.value),placeholder:"0.0",className:"input pr-10 text-sm lg:text-base",min:"0",step:"0.01"}),d.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-dark-400 text-xs lg:text-sm",children:"%"})]})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1.5 lg:mb-2",children:[d.jsx("label",{className:"text-xs lg:text-sm font-medium text-dark-300",children:" "}),d.jsx("button",{type:"button",onClick:()=>I(!oe),className:"text-dark-500 hover:text-dark-300",children:d.jsx(_g,{className:"w-3.5 h-3.5 lg:w-4 lg:h-4"})})]}),oe&&d.jsx("div",{className:"mb-2 lg:mb-3 p-2 lg:p-3 bg-dark-800/50 rounded-lg text-xs lg:text-sm space-y-1.5 lg:space-y-2",children:C_.map(w=>d.jsxs("div",{children:[d.jsx("span",{className:"text-dark-200 font-medium",children:Nm[w]}),d.jsx("p",{className:"text-dark-400 text-[10px] lg:text-xs",children:UR[w]})]},w))}),d.jsx("select",{value:E,onChange:w=>T(w.target.value),className:"input text-sm lg:text-base",children:C_.map(w=>d.jsx("option",{value:w,children:Nm[w]},w))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:"  *"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 lg:gap-3",children:[d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",value:J,onChange:w=>Y(w.target.value),placeholder:"0",className:"input pr-10 text-sm lg:text-base",min:"0"}),d.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-dark-400 text-xs lg:text-sm",children:""})]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",value:N,onChange:w=>B(w.target.value),placeholder:"0",className:"input pr-10 text-sm lg:text-base",min:"0",max:"11"}),d.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-dark-400 text-xs lg:text-sm",children:""})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 lg:gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:"  *"}),d.jsx("input",{type:"date",value:z,onChange:w=>ie(w.target.value),className:"input text-sm lg:text-base"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:" "}),d.jsx("select",{value:D,onChange:w=>M(w.target.value),className:"input text-sm lg:text-base",children:Array.from({length:28},(w,V)=>V+1).map(w=>d.jsxs("option",{value:w,children:[w,""]},w))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),d.jsx("textarea",{value:ae,onChange:w=>Z(w.target.value),placeholder:"  ()",className:"input min-h-[50px] lg:min-h-[60px] resize-none text-sm lg:text-base"})]}),L&&d.jsxs("div",{className:"p-3 lg:p-4 bg-blue-500/10 border border-blue-500/20 rounded-xl",children:[d.jsx("p",{className:"text-xs lg:text-sm text-dark-400 mb-1",children:"  "}),d.jsxs("p",{className:"text-lg lg:text-xl font-bold text-blue-400",children:[new Intl.NumberFormat("ko-KR").format(L),""]}),E==="equal_principal"&&d.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mt-1",children:"*    (  )"}),E==="bullet"&&d.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mt-1",children:"*  (   )"})]}),d.jsxs("div",{className:"flex gap-2 lg:gap-3 pt-3 lg:pt-4",children:[d.jsx("button",{type:"button",onClick:e,className:"btn btn-secondary flex-1 text-sm lg:text-base",children:""}),d.jsx("button",{type:"submit",className:"btn bg-blue-500 hover:bg-blue-600 text-white flex-1 text-sm lg:text-base",children:i?"":""})]})]})]})})}function t3(){const{loans:i,deleteLoan:e,getLoanPaymentsForMonth:s,currentYear:r,currentMonth:o}=dn(),[u,m]=X.useState(!1),[p,y]=X.useState(null),_=Y=>{y(Y),m(!0)},E=()=>{m(!1),y(null)},T=(Y,z)=>{confirm(`"${z}"  ?`)&&e(Y)},N=Y=>new Intl.NumberFormat("ko-KR").format(Y),B=X.useMemo(()=>s(r,o),[s,r,o]),J=X.useMemo(()=>{const Y=i.reduce((ae,Z)=>ae+Z.principal,0),z=B,ie=z.reduce((ae,Z)=>ae+Z.totalPayment,0),D=z.reduce((ae,Z)=>ae+Z.interest,0),M=z.reduce((ae,Z)=>ae+Z.remainingPrincipal,0);return{totalPrincipal:Y,totalMonthlyPayment:ie,totalInterest:D,totalRemainingPrincipal:M}},[i,B]);return d.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 lg:gap-4",children:[d.jsxs("div",{className:"card !p-3 lg:!p-6",children:[d.jsx("p",{className:"text-xs lg:text-sm text-dark-400 mb-1",children:"  "}),d.jsx("p",{className:"text-sm lg:text-2xl font-bold text-dark-100 truncate",children:N(J.totalPrincipal)})]}),d.jsxs("div",{className:"card !p-3 lg:!p-6",children:[d.jsx("p",{className:"text-xs lg:text-sm text-dark-400 mb-1",children:"  "}),d.jsx("p",{className:"text-sm lg:text-2xl font-bold text-blue-400 truncate",children:N(J.totalMonthlyPayment)})]}),d.jsxs("div",{className:"card !p-3 lg:!p-6",children:[d.jsx("p",{className:"text-xs lg:text-sm text-dark-400 mb-1",children:"  "}),d.jsx("p",{className:"text-sm lg:text-2xl font-bold text-rose-400 truncate",children:N(J.totalInterest)})]}),d.jsxs("div",{className:"card !p-3 lg:!p-6",children:[d.jsx("p",{className:"text-xs lg:text-sm text-dark-400 mb-1",children:" "}),d.jsx("p",{className:"text-sm lg:text-2xl font-bold text-amber-400 truncate",children:N(J.totalRemainingPrincipal)})]})]}),d.jsxs("div",{className:"card !p-3 lg:!p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3 lg:mb-4",children:[d.jsx("h3",{className:"text-base lg:text-lg font-semibold text-dark-100",children:" "}),d.jsxs("button",{onClick:()=>m(!0),className:"btn bg-blue-500 hover:bg-blue-600 text-white text-xs lg:text-sm py-1.5 px-2 lg:py-2 lg:px-3",children:[d.jsx(jh,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:" "}),d.jsx("span",{className:"sm:hidden",children:""})]})]}),i.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center py-8 lg:py-12 text-dark-500",children:[d.jsx(tl,{className:"w-12 h-12 lg:w-16 lg:h-16 mb-3 lg:mb-4 opacity-50"}),d.jsx("p",{className:"text-sm lg:text-lg mb-2",children:"  "}),d.jsx("p",{className:"text-xs lg:text-sm mb-4 text-center px-4",children:"      "}),d.jsx("button",{onClick:()=>m(!0),className:"btn bg-blue-500 hover:bg-blue-600 text-white text-sm",children:"  "})]}):d.jsx("div",{className:"space-y-3 lg:space-y-4",children:i.map(Y=>{const z=B.find(M=>M.loanId===Y.id),ie=new Date(Y.startDate),D=new Date(ie);return D.setMonth(D.getMonth()+Y.termMonths),d.jsxs("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl border border-dark-700 hover:border-dark-600 transition-all",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2 lg:mb-3",children:[d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("h4",{className:"text-sm lg:text-lg font-semibold text-dark-100 truncate",children:Y.name}),d.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:Nm[Y.repaymentType]})]}),d.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[d.jsx("button",{onClick:()=>_(Y),className:"p-1.5 lg:p-2 text-dark-400 hover:text-dark-100 transition-colors",children:d.jsx(kh,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>T(Y.id,Y.name),className:"p-1.5 lg:p-2 text-dark-400 hover:text-rose-400 transition-colors",children:d.jsx(Ha,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 lg:gap-4 mb-3 lg:mb-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mb-0.5 lg:mb-1",children:" "}),d.jsx("p",{className:"text-xs lg:text-base font-medium text-dark-200 truncate",children:N(Y.principal)})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mb-0.5 lg:mb-1",children:""}),d.jsxs("p",{className:"text-xs lg:text-base font-medium text-dark-200 flex items-center gap-1",children:[d.jsx(eR,{className:"w-3 h-3 hidden lg:inline"}),Y.interestRate,"%"]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mb-0.5 lg:mb-1",children:" "}),d.jsxs("p",{className:"text-xs lg:text-base font-medium text-dark-200 flex items-center gap-1",children:[d.jsx(NC,{className:"w-3 h-3 hidden lg:inline"}),Math.floor(Y.termMonths/12)," ",Y.termMonths%12,""]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mb-0.5 lg:mb-1",children:"~"}),d.jsxs("p",{className:"text-xs lg:text-base font-medium text-dark-200 flex items-center gap-1",children:[d.jsx(Ka,{className:"w-3 h-3 hidden lg:inline"}),d.jsxs("span",{className:"truncate",children:[ie.getFullYear(),".",ie.getMonth()+1," ~ ",D.getFullYear(),".",D.getMonth()+1]})]})]})]}),z&&d.jsxs("div",{className:"p-2 lg:p-3 bg-dark-900/50 rounded-lg",children:[d.jsxs("p",{className:"text-[10px] lg:text-xs text-dark-500 mb-1.5 lg:mb-2",children:[r," ",o,"  (",z.monthNumber,")"]}),d.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 lg:gap-4 text-xs lg:text-sm",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-dark-500 text-[10px] lg:text-xs",children:""}),d.jsx("p",{className:"font-medium text-dark-300 truncate",children:N(z.principal)})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-dark-500 text-[10px] lg:text-xs",children:""}),d.jsx("p",{className:"font-medium text-rose-400 truncate",children:N(z.interest)})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-dark-500 text-[10px] lg:text-xs",children:" "}),d.jsx("p",{className:"font-medium text-blue-400 truncate",children:N(z.totalPayment)})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-dark-500 text-[10px] lg:text-xs",children:" "}),d.jsx("p",{className:"font-medium text-amber-400 truncate",children:N(z.remainingPrincipal)})]})]})]}),Y.memo&&d.jsx("p",{className:"mt-2 lg:mt-3 text-xs lg:text-sm text-dark-500",children:Y.memo})]},Y.id)})})]}),u&&d.jsx(e3,{loan:p,onClose:E})]})}const n3=["real_estate","vehicle","savings","investment","other_asset"];function s3({asset:i,onClose:e}){const{addAsset:s,updateAsset:r}=dn(),[o,u]=X.useState(""),[m,p]=X.useState("real_estate"),[y,_]=X.useState(""),[E,T]=X.useState(""),[N,B]=X.useState(""),[J,Y]=X.useState(""),[z,ie]=X.useState("");X.useEffect(()=>{i&&(u(i.name),p(i.category),_(i.purchaseValue?String(i.purchaseValue):""),T(String(i.currentValue)),B(i.purchaseDate||""),Y(i.description||""),ie(i.memo||""))},[i]);const D=Z=>{if(Z.preventDefault(),!o.trim()||!E)return;const oe={id:i?.id||Mh(),name:o.trim(),category:m,purchaseValue:y?Number(y):void 0,currentValue:Number(E),purchaseDate:N||void 0,description:J.trim()||void 0,memo:z.trim()||void 0,createdAt:i?.createdAt||new Date().toISOString()};i?r(i.id,oe):s(oe),e()},M=Number(E||0)-Number(y||0),ae=Number(y)>0?(M/Number(y)*100).toFixed(1):"0";return d.jsx("div",{className:"fixed inset-0 bg-dark-950/80 backdrop-blur-sm flex items-end sm:items-center justify-center z-50 p-0 sm:p-4",children:d.jsxs("div",{className:"card w-full sm:max-w-lg max-h-[85vh] sm:max-h-[90vh] overflow-y-auto rounded-b-none sm:rounded-b-2xl",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:[d.jsx("h3",{className:"text-lg lg:text-xl font-bold text-dark-100",children:i?" ":"  "}),d.jsx("button",{onClick:e,className:"btn btn-ghost p-2",children:d.jsx(ec,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:D,className:"space-y-3 lg:space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:" *"}),d.jsx("input",{type:"text",value:o,onChange:Z=>u(Z.target.value),placeholder:":  ,  3",className:"input text-sm lg:text-base",autoFocus:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),d.jsx("select",{value:m,onChange:Z=>p(Z.target.value),className:"input text-sm lg:text-base",children:n3.map(Z=>d.jsx("option",{value:Z,children:wm[Z]},Z))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:"  *"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",value:E,onChange:Z=>T(Z.target.value),placeholder:"0",className:"input pr-10 text-sm lg:text-base",min:"0"}),d.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-dark-400 text-xs lg:text-sm",children:""})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",value:y,onChange:Z=>_(Z.target.value),placeholder:"",className:"input pr-10 text-sm lg:text-base",min:"0"}),d.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-dark-400 text-xs lg:text-sm",children:""})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),d.jsx("input",{type:"date",value:N,onChange:Z=>B(Z.target.value),className:"input text-sm lg:text-base",placeholder:""})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),d.jsx("input",{type:"text",value:J,onChange:Z=>Y(Z.target.value),placeholder:":   , 2023",className:"input text-sm lg:text-base"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),d.jsx("textarea",{value:z,onChange:Z=>ie(Z.target.value),placeholder:"  ()",className:"input min-h-[50px] lg:min-h-[60px] resize-none text-sm lg:text-base"})]}),y&&E&&Number(y)>0&&d.jsxs("div",{className:`p-3 lg:p-4 rounded-xl ${M>=0?"bg-emerald-500/10 border border-emerald-500/20":"bg-rose-500/10 border border-rose-500/20"}`,children:[d.jsx("p",{className:"text-xs lg:text-sm text-dark-400 mb-1",children:" "}),d.jsxs("p",{className:`text-lg lg:text-xl font-bold ${M>=0?"text-emerald-400":"text-rose-400"}`,children:[M>=0?"+":"",new Intl.NumberFormat("ko-KR").format(M),"",d.jsxs("span",{className:"text-sm lg:text-base ml-2",children:["(",M>=0?"+":"",ae,"%)"]})]})]}),d.jsxs("div",{className:"flex gap-2 lg:gap-3 pt-3 lg:pt-4",children:[d.jsx("button",{type:"button",onClick:e,className:"btn btn-secondary flex-1 text-sm lg:text-base",children:""}),d.jsx("button",{type:"submit",className:"btn bg-emerald-500 hover:bg-emerald-600 text-white flex-1 text-sm lg:text-base",children:i?"":""})]})]})]})})}const R_={real_estate:Jo,vehicle:W1,savings:ab,investment:Wo,other_asset:ZC};function i3(){const{assets:i,deleteAsset:e,getTotalAssetValue:s,getTotalLoanBalance:r,getNetWorth:o}=dn(),[u,m]=X.useState(!1),[p,y]=X.useState(null),_=D=>{y(D),m(!0)},E=()=>{m(!1),y(null)},T=(D,M)=>{confirm(`"${M}"  ?`)&&e(D)},N=D=>new Intl.NumberFormat("ko-KR").format(D),B=X.useMemo(()=>{const D={real_estate:[],vehicle:[],savings:[],investment:[],other_asset:[]};return i.forEach(M=>{D[M.category].push(M)}),D},[i]),J=X.useMemo(()=>{const D={real_estate:0,vehicle:0,savings:0,investment:0,other_asset:0};return i.forEach(M=>{D[M.category]+=M.currentValue}),D},[i]),Y=s(),z=r(),ie=o();return d.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-2 lg:gap-4",children:[d.jsxs("div",{className:"card !p-4 lg:!p-6 bg-gradient-to-br from-emerald-500/10 to-teal-500/10 border-emerald-500/20",children:[d.jsx("p",{className:"text-xs lg:text-sm text-dark-400 mb-1",children:" "}),d.jsxs("p",{className:"text-lg lg:text-3xl font-bold text-emerald-400 truncate",children:[N(Y),""]})]}),d.jsxs("div",{className:"card !p-4 lg:!p-6 bg-gradient-to-br from-rose-500/10 to-pink-500/10 border-rose-500/20",children:[d.jsx("p",{className:"text-xs lg:text-sm text-dark-400 mb-1",children:"  ( )"}),d.jsxs("p",{className:"text-lg lg:text-3xl font-bold text-rose-400 truncate",children:[N(z),""]})]}),d.jsxs("div",{className:`card !p-4 lg:!p-6 ${ie>=0?"bg-gradient-to-br from-blue-500/10 to-violet-500/10 border-blue-500/20":"bg-gradient-to-br from-amber-500/10 to-orange-500/10 border-amber-500/20"}`,children:[d.jsx("p",{className:"text-xs lg:text-sm text-dark-400 mb-1",children:""}),d.jsxs("p",{className:`text-lg lg:text-3xl font-bold truncate ${ie>=0?"text-blue-400":"text-amber-400"}`,children:[ie<0&&"-",N(Math.abs(ie)),""]})]})]}),d.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-2 lg:gap-3",children:Object.keys(J).map(D=>{const M=R_[D],ae=J[D];return d.jsxs("div",{className:"card !p-3 lg:!p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[d.jsx(M,{className:"w-4 h-4 text-dark-400"}),d.jsx("p",{className:"text-xs text-dark-400",children:wm[D]})]}),d.jsx("p",{className:"text-sm lg:text-lg font-semibold text-dark-100 truncate",children:N(ae)})]},D)})}),d.jsxs("div",{className:"card !p-3 lg:!p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3 lg:mb-4",children:[d.jsx("h3",{className:"text-base lg:text-lg font-semibold text-dark-100",children:" "}),d.jsxs("button",{onClick:()=>m(!0),className:"btn bg-emerald-500 hover:bg-emerald-600 text-white text-xs lg:text-sm py-1.5 px-2 lg:py-2 lg:px-3",children:[d.jsx(jh,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:" "}),d.jsx("span",{className:"sm:hidden",children:""})]})]}),i.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center py-8 lg:py-12 text-dark-500",children:[d.jsx(Jo,{className:"w-12 h-12 lg:w-16 lg:h-16 mb-3 lg:mb-4 opacity-50"}),d.jsx("p",{className:"text-sm lg:text-lg mb-2",children:"  "}),d.jsx("p",{className:"text-xs lg:text-sm mb-4 text-center px-4",children:", ,     "}),d.jsx("button",{onClick:()=>m(!0),className:"btn bg-emerald-500 hover:bg-emerald-600 text-white text-sm",children:"  "})]}):d.jsx("div",{className:"space-y-3 lg:space-y-4",children:Object.keys(B).map(D=>{const M=B[D];if(M.length===0)return null;const ae=R_[D];return d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2 lg:mb-3",children:[d.jsx(ae,{className:"w-4 h-4 text-dark-400"}),d.jsx("h4",{className:"text-sm lg:text-base font-medium text-dark-300",children:wm[D]}),d.jsxs("span",{className:"text-xs text-dark-500",children:["(",M.length,")"]})]}),d.jsx("div",{className:"space-y-2 lg:space-y-3",children:M.map(Z=>{const oe=Z.purchaseDate?new Date(Z.purchaseDate):null,I=Z.purchaseValue!==void 0&&Z.purchaseValue>0,A=I?Z.currentValue-Z.purchaseValue:0,R=I&&Z.purchaseValue>0?(A/Z.purchaseValue*100).toFixed(1):"0";return d.jsxs("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl border border-dark-700 hover:border-dark-600 transition-all",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2 lg:mb-3",children:[d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("h5",{className:"text-sm lg:text-lg font-semibold text-dark-100 truncate",children:Z.name}),Z.description&&d.jsx("p",{className:"text-xs lg:text-sm text-dark-400 truncate",children:Z.description})]}),d.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[d.jsx("button",{onClick:()=>_(Z),className:"p-1.5 lg:p-2 text-dark-400 hover:text-dark-100 transition-colors",children:d.jsx(kh,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>T(Z.id,Z.name),className:"p-1.5 lg:p-2 text-dark-400 hover:text-rose-400 transition-colors",children:d.jsx(Ha,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{className:"grid gap-2 lg:gap-4 grid-cols-2 lg:grid-cols-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mb-0.5 lg:mb-1",children:" "}),d.jsx("p",{className:"text-xs lg:text-base font-medium text-emerald-400 truncate",children:N(Z.currentValue)})]}),I&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mb-0.5 lg:mb-1",children:""}),d.jsx("p",{className:"text-xs lg:text-base font-medium text-dark-300 truncate",children:N(Z.purchaseValue)})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mb-0.5 lg:mb-1",children:""}),d.jsxs("p",{className:`text-xs lg:text-base font-medium truncate ${A>=0?"text-emerald-400":"text-rose-400"}`,children:[A>=0?"+":"",N(A)," (",A>=0?"+":"",R,"%)"]})]})]}),oe&&d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mb-0.5 lg:mb-1",children:""}),d.jsxs("p",{className:"text-xs lg:text-base font-medium text-dark-300 flex items-center gap-1",children:[d.jsx(Ka,{className:"w-3 h-3 hidden lg:inline"}),oe.getFullYear(),".",oe.getMonth()+1,".",oe.getDate()]})]})]}),Z.memo&&d.jsx("p",{className:"mt-2 lg:mt-3 text-xs lg:text-sm text-dark-500",children:Z.memo})]},Z.id)})})]},D)})})]}),u&&d.jsx(s3,{asset:p,onClose:E})]})}function a3(){const{currentYear:i,currentMonth:e,getMultiMonthSummaries:s,transactions:r,events:o,getTotalAssetValue:u,getTotalLoanBalance:m,getNetWorth:p,assets:y}=dn(),_=u(),E=m(),T=p(),N=X.useMemo(()=>{const Z=[5,10,15,20,25,30],oe=[];return Z.forEach(I=>{const A=I*12;let R=0,L=0,w=i,V=e;for(let C=0;C<A;C++){const qe=s(w,V,1)[0];qe&&(R+=qe.totalExpense,L+=qe.totalIncome),V++,V>12&&(V=1,w++)}oe.push({years:I,totalExpense:R,totalIncome:L,balance:L-R})}),oe},[i,e,s]),[B,J]=X.useState(3),Y=X.useRef(null),z=X.useCallback(Z=>{Z[0].isIntersecting&&J(I=>I+2)},[]);X.useEffect(()=>{const Z={root:null,rootMargin:"100px",threshold:0},oe=new IntersectionObserver(z,Z);return Y.current&&oe.observe(Y.current),()=>oe.disconnect()},[z]);const ie=()=>{const Z=[];for(let oe=0;oe<B;oe++)Z.push(i+oe);return Z},D=Z=>new Intl.NumberFormat("ko-KR").format(Z),M={salary:"",bonus:"",other_income:" ",rent:"/",insurance:"",subscription:"",utilities:"",transport:"",food:"",shopping:"",travel:"",education:"",medical:"",other_expense:" "},ae=Z=>Z>=1e8?`${(Z/1e8).toFixed(1)}`:Z>=1e7?`${(Z/1e7).toFixed(1)}`:Z>=1e4?`${Math.round(Z/1e4)}`:D(Z);return d.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[(_>0||E>0)&&d.jsxs("div",{className:"card !p-4 lg:!p-6 bg-gradient-to-br from-blue-500/5 to-violet-500/5 border-blue-500/20",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/20 flex items-center justify-center",children:d.jsx(dh,{className:"w-5 h-5 text-blue-400"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-base lg:text-lg font-bold text-dark-100",children:" "}),d.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:" -  = "})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3 lg:gap-4",children:[d.jsxs("div",{className:"p-4 bg-dark-800/50 rounded-xl border border-dark-700",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Jo,{className:"w-4 h-4 text-emerald-400"}),d.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:" "})]}),d.jsxs("p",{className:"text-lg lg:text-2xl font-bold text-emerald-400",children:[D(_),""]}),d.jsxs("p",{className:"text-[10px] lg:text-xs text-dark-500 mt-1",children:[y.length,"  "]})]}),d.jsxs("div",{className:"p-4 bg-dark-800/50 rounded-xl border border-dark-700",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(tl,{className:"w-4 h-4 text-rose-400"}),d.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:"  ( )"})]}),d.jsxs("p",{className:"text-lg lg:text-2xl font-bold text-rose-400",children:[D(E),""]}),d.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mt-1",children:"   "})]}),d.jsxs("div",{className:`p-4 rounded-xl border ${T>=0?"bg-blue-500/10 border-blue-500/30":"bg-amber-500/10 border-amber-500/30"}`,children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(dh,{className:"w-4 h-4 text-blue-400"}),d.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:""})]}),d.jsxs("p",{className:`text-lg lg:text-2xl font-bold ${T>=0?"text-blue-400":"text-amber-400"}`,children:[T<0&&"-",D(Math.abs(T)),""]}),d.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mt-1",children:" - "})]})]})]}),d.jsxs("div",{className:"card !p-4 lg:!p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-500/20 flex items-center justify-center",children:d.jsx(xR,{className:"w-5 h-5 text-violet-400"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-base lg:text-lg font-bold text-dark-100",children:"  "}),d.jsxs("p",{className:"text-xs lg:text-sm text-dark-400",children:[i," ",e,"  "]})]})]}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-2 lg:gap-3",children:N.map(Z=>d.jsx("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl border border-dark-700",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("p",{className:"text-xs lg:text-sm text-violet-400 font-medium mb-1",children:[Z.years," "]}),d.jsxs("p",{className:"text-[10px] lg:text-xs text-dark-500 mb-2",children:["~",i+Z.years,""]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] text-dark-500",children:" "}),d.jsx("p",{className:"text-sm lg:text-base font-bold text-rose-400",children:ae(Z.totalExpense)})]}),d.jsxs("div",{className:"border-t border-dark-700 pt-1",children:[d.jsx("p",{className:"text-[10px] text-dark-500",children:" "}),d.jsx("p",{className:"text-xs lg:text-sm font-medium text-emerald-400",children:ae(Z.totalIncome)})]}),d.jsxs("div",{className:"border-t border-dark-700 pt-1",children:[d.jsx("p",{className:"text-[10px] text-dark-500",children:""}),d.jsxs("p",{className:`text-xs lg:text-sm font-medium ${Z.balance>=0?"text-blue-400":"text-rose-400"}`,children:[Z.balance>=0?"+":"",ae(Z.balance)]})]})]})]})},Z.years))}),d.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mt-3 text-center",children:"*         "})]}),ie().map(Z=>d.jsx(r3,{year:Z,getMultiMonthSummaries:s,transactions:r,events:o,formatAmount:D,categoryLabels:M},Z)),d.jsx("div",{ref:Y,className:"flex justify-center py-8",children:d.jsx("div",{className:"text-dark-500 text-sm",children:"  ..."})})]})}function r3({year:i,getMultiMonthSummaries:e,transactions:s,events:r,formatAmount:o,categoryLabels:u}){const m=X.useMemo(()=>e(i,1,12),[e,i]),p=X.useMemo(()=>m.reduce((T,N)=>({income:T.income+N.totalIncome,expense:T.expense+N.totalExpense,balance:T.balance+N.balance}),{income:0,expense:0,balance:0}),[m]),y=X.useMemo(()=>r.filter(T=>new Date(T.date).getFullYear()===i).length,[r,i]),_=X.useMemo(()=>{const T={};return s.filter(N=>N.type==="expense").forEach(N=>{let B=N.amount;N.recurrence==="monthly"&&(B*=12),T[N.category]=(T[N.category]||0)+B}),Object.entries(T).sort((N,B)=>B[1]-N[1]).slice(0,5)},[s]),E=p.income>0||p.expense>0||y>0;return d.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-2 lg:gap-3 pb-2 border-b border-dark-800",children:[d.jsxs("h2",{className:"text-xl lg:text-2xl font-bold text-dark-100",children:[i," "]}),y>0&&d.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-purple-500/20 rounded-full text-[10px] lg:text-xs text-purple-400",children:[d.jsx(Po,{className:"w-3 h-3"}),y]})]}),E?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-3 gap-2 lg:gap-4",children:[d.jsxs("div",{className:"card !p-3 lg:!p-6",children:[d.jsxs("div",{className:"flex items-center gap-2 lg:gap-3 mb-2 lg:mb-3",children:[d.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 rounded-xl bg-emerald-500/20 flex items-center justify-center flex-shrink-0",children:d.jsx(Wo,{className:"w-4 h-4 lg:w-5 lg:h-5 text-emerald-400"})}),d.jsx("span",{className:"text-dark-400 text-xs lg:text-base hidden sm:inline",children:"  "}),d.jsx("span",{className:"text-dark-400 text-xs sm:hidden",children:""})]}),d.jsxs("p",{className:"text-sm lg:text-2xl font-bold text-emerald-400 truncate",children:["+",o(p.income)]})]}),d.jsxs("div",{className:"card !p-3 lg:!p-6",children:[d.jsxs("div",{className:"flex items-center gap-2 lg:gap-3 mb-2 lg:mb-3",children:[d.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 rounded-xl bg-rose-500/20 flex items-center justify-center flex-shrink-0",children:d.jsx(Dh,{className:"w-4 h-4 lg:w-5 lg:h-5 text-rose-400"})}),d.jsx("span",{className:"text-dark-400 text-xs lg:text-base hidden sm:inline",children:"  "}),d.jsx("span",{className:"text-dark-400 text-xs sm:hidden",children:""})]}),d.jsxs("p",{className:"text-sm lg:text-2xl font-bold text-rose-400 truncate",children:["-",o(p.expense)]})]}),d.jsxs("div",{className:"card !p-3 lg:!p-6",children:[d.jsxs("div",{className:"flex items-center gap-2 lg:gap-3 mb-2 lg:mb-3",children:[d.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 rounded-xl bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:d.jsx(dh,{className:"w-4 h-4 lg:w-5 lg:h-5 text-blue-400"})}),d.jsx("span",{className:"text-dark-400 text-xs lg:text-base hidden sm:inline",children:" "}),d.jsx("span",{className:"text-dark-400 text-xs sm:hidden",children:""})]}),d.jsxs("p",{className:`text-sm lg:text-2xl font-bold truncate ${p.balance>=0?"text-emerald-400":"text-rose-400"}`,children:[p.balance>=0?"+":"",o(p.balance)]})]})]}),d.jsxs("div",{className:"card !p-3 lg:!p-6",children:[d.jsx("h3",{className:"text-base lg:text-lg font-semibold text-dark-100 mb-3 lg:mb-4",children:" "}),d.jsx("div",{className:"space-y-2 lg:space-y-3",children:m.map(T=>{const N=Math.max(...m.map(Y=>Math.max(Y.totalIncome,Y.totalExpense))),B=N>0?T.totalIncome/N*100:0,J=N>0?T.totalExpense/N*100:0;return d.jsxs("div",{className:"flex items-center gap-2 lg:gap-4",children:[d.jsxs("div",{className:"w-8 lg:w-12 text-xs lg:text-sm font-medium text-dark-300",children:[T.month,""]}),d.jsxs("div",{className:"flex-1 space-y-1",children:[d.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[d.jsx("div",{className:"h-3 lg:h-4 bg-emerald-500/60 rounded",style:{width:`${B}%`,minWidth:T.totalIncome>0?"4px":"0"}}),d.jsxs("span",{className:"text-[10px] lg:text-xs text-emerald-400 min-w-[50px] lg:min-w-[80px]",children:["+",o(T.totalIncome)]})]}),d.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[d.jsx("div",{className:"h-3 lg:h-4 bg-rose-500/60 rounded",style:{width:`${J}%`,minWidth:T.totalExpense>0?"4px":"0"}}),d.jsxs("span",{className:"text-[10px] lg:text-xs text-rose-400 min-w-[50px] lg:min-w-[80px]",children:["-",o(T.totalExpense)]})]})]}),d.jsxs("div",{className:`w-16 lg:w-24 text-right text-[10px] lg:text-sm font-medium ${T.balance>=0?"text-emerald-400":"text-rose-400"}`,children:[T.balance>=0?"+":"",o(T.balance)]})]},T.month)})})]}),_.length>0&&d.jsxs("div",{className:"card !p-3 lg:!p-6",children:[d.jsx("h3",{className:"text-base lg:text-lg font-semibold text-dark-100 mb-3 lg:mb-4",children:"  "}),d.jsx("div",{className:"space-y-2 lg:space-y-3",children:_.map(([T,N],B)=>{const J=_[0][1],Y=N/J*100;return d.jsxs("div",{className:"flex items-center gap-2 lg:gap-4",children:[d.jsx("div",{className:"w-5 lg:w-6 text-xs lg:text-sm font-medium text-dark-500",children:B+1}),d.jsx("div",{className:"w-16 lg:w-24 text-xs lg:text-sm text-dark-200 truncate",children:u[T]||T}),d.jsx("div",{className:"flex-1",children:d.jsx("div",{className:"h-5 lg:h-6 bg-rose-500/40 rounded flex items-center px-2",style:{width:`${Y}%`,minWidth:"50px"},children:d.jsx("span",{className:"text-[10px] lg:text-xs text-rose-200 whitespace-nowrap",children:o(N)})})})]},T)})})]})]}):d.jsx("div",{className:"card text-center py-8 lg:py-12",children:d.jsx("p",{className:"text-dark-500 text-sm lg:text-base",children:"    "})})]})}function l3(){const{transactions:i,loans:e,events:s,isSyncing:r,lastSyncTime:o,saveToFirestore:u}=dn(),{user:m,loading:p,signInWithGoogle:y,logout:_}=Zo(),[E,T]=X.useState(!1),[N,B]=X.useState(null),J=async()=>{try{B(null),await y()}catch(oe){B(" .  ."),console.error(oe)}},Y=async()=>{try{await _()}catch(oe){console.error(oe)}},z=async()=>{try{await u(),alert(" !")}catch(oe){alert(" ."),console.error(oe)}},ie=()=>{const oe={transactions:i,loans:e,events:s,exportedAt:new Date().toISOString()},I=new Blob([JSON.stringify(oe,null,2)],{type:"application/json"}),A=URL.createObjectURL(I),R=document.createElement("a");R.href=A,R.download=`finance-backup-${new Date().toISOString().split("T")[0]}.json`,R.click(),URL.revokeObjectURL(A)},D=()=>{const oe=document.createElement("input");oe.type="file",oe.accept=".json",oe.onchange=I=>{const A=I.target.files?.[0];if(!A)return;const R=new FileReader;R.onload=L=>{try{const w=JSON.parse(L.target?.result);if(w.transactions){const V=new Date;localStorage.setItem("finance-timeline-data",JSON.stringify({transactions:w.transactions,currentYear:V.getFullYear(),currentMonth:V.getMonth()+1})),window.location.reload()}}catch{alert("  .")}},R.readAsText(A)},oe.click()},M=()=>{localStorage.removeItem("finance-timeline-data"),window.location.reload()},ae={totalTransactions:i.length,incomeCount:i.filter(oe=>oe.type==="income").length,expenseCount:i.filter(oe=>oe.type==="expense").length,recurringCount:i.filter(oe=>oe.recurrence!=="once").length,loansCount:e.length,eventsCount:s.length},Z=oe=>`${oe.getHours().toString().padStart(2,"0")}:${oe.getMinutes().toString().padStart(2,"0")}`;return d.jsxs("div",{className:"max-w-2xl space-y-4 lg:space-y-6",children:[d.jsxs("div",{className:"card !p-4 lg:!p-6",children:[d.jsx("h3",{className:"text-base lg:text-lg font-semibold text-dark-100 mb-3 lg:mb-4",children:" "}),p?d.jsx("div",{className:"flex items-center justify-center py-8",children:d.jsx(Co,{className:"w-6 h-6 text-dark-400 animate-spin"})}):m?d.jsxs("div",{className:"space-y-3 lg:space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3 lg:gap-4 p-3 lg:p-4 bg-dark-800/50 rounded-xl",children:[m.photoURL?d.jsx("img",{src:m.photoURL,alt:"",className:"w-10 h-10 lg:w-12 lg:h-12 rounded-full"}):d.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-full bg-violet-500/20 flex items-center justify-center",children:d.jsx(wR,{className:"w-5 h-5 lg:w-6 lg:h-6 text-violet-400"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"font-medium text-dark-100 text-sm lg:text-base truncate",children:m.displayName}),d.jsx("p",{className:"text-xs lg:text-sm text-dark-400 truncate",children:m.email})]}),d.jsxs("button",{onClick:Y,className:"btn btn-secondary text-xs lg:text-sm py-1.5 lg:py-2 px-2 lg:px-3",children:[d.jsx(QC,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:""})]})]}),d.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 bg-emerald-500/10 rounded-xl border border-emerald-500/20",children:[d.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[r?d.jsx(Co,{className:"w-4 h-4 lg:w-5 lg:h-5 text-emerald-400 animate-spin"}):d.jsx(Ih,{className:"w-4 h-4 lg:w-5 lg:h-5 text-emerald-400"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm lg:text-base font-medium text-emerald-400",children:r?" ...":" "}),o&&d.jsxs("p",{className:"text-xs text-dark-400",children:[" : ",Z(o)]})]})]}),d.jsxs("button",{onClick:z,disabled:r,className:"btn bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30 text-xs lg:text-sm py-1.5 lg:py-2 px-2 lg:px-3",children:[d.jsx(Co,{className:`w-4 h-4 ${r?"animate-spin":""}`}),d.jsx("span",{className:"hidden sm:inline",children:" "})]})]})]}):d.jsxs("div",{className:"space-y-3 lg:space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3 p-3 lg:p-4 bg-dark-800/50 rounded-xl",children:[d.jsx(Am,{className:"w-5 h-5 text-dark-400"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm lg:text-base font-medium text-dark-200",children:" "}),d.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:"Google        "})]})]}),N&&d.jsx("p",{className:"text-sm text-rose-400 px-1",children:N}),d.jsxs("button",{onClick:J,className:"w-full btn bg-white hover:bg-gray-100 text-gray-800 py-2.5 lg:py-3",children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),d.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),d.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),d.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google  "]})]})]}),d.jsxs("div",{className:"card !p-4 lg:!p-6",children:[d.jsx("h3",{className:"text-base lg:text-lg font-semibold text-dark-100 mb-3 lg:mb-4",children:" "}),d.jsxs("div",{className:"space-y-3 lg:space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 bg-dark-800/50 rounded-xl gap-3",children:[d.jsxs("div",{className:"min-w-0",children:[d.jsx("h4",{className:"font-medium text-dark-100 text-sm lg:text-base",children:" "}),d.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:"  JSON  "})]}),d.jsxs("button",{onClick:ie,className:"btn btn-secondary text-xs lg:text-sm py-1.5 lg:py-2 px-2 lg:px-3 flex-shrink-0",children:[d.jsx(kC,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:""})]})]}),d.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 bg-dark-800/50 rounded-xl gap-3",children:[d.jsxs("div",{className:"min-w-0",children:[d.jsx("h4",{className:"font-medium text-dark-100 text-sm lg:text-base",children:" "}),d.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:"   "})]}),d.jsxs("button",{onClick:D,className:"btn btn-secondary text-xs lg:text-sm py-1.5 lg:py-2 px-2 lg:px-3 flex-shrink-0",children:[d.jsx(AR,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:""})]})]}),d.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 bg-dark-800/50 rounded-xl border border-rose-500/20 gap-3",children:[d.jsxs("div",{className:"min-w-0",children:[d.jsx("h4",{className:"font-medium text-dark-100 text-sm lg:text-base",children:" "}),d.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:"  "})]}),d.jsxs("button",{onClick:()=>T(!0),className:"btn bg-rose-500/20 text-rose-400 hover:bg-rose-500/30 text-xs lg:text-sm py-1.5 lg:py-2 px-2 lg:px-3 flex-shrink-0",children:[d.jsx(Ha,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:""})]})]})]})]}),d.jsxs("div",{className:"card !p-4 lg:!p-6",children:[d.jsx("h3",{className:"text-base lg:text-lg font-semibold text-dark-100 mb-3 lg:mb-4",children:""}),d.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-2 lg:gap-4",children:[d.jsxs("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl",children:[d.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:" "}),d.jsxs("p",{className:"text-lg lg:text-2xl font-bold text-dark-100",children:[ae.totalTransactions,""]})]}),d.jsxs("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl",children:[d.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:" "}),d.jsxs("p",{className:"text-lg lg:text-2xl font-bold text-emerald-400",children:[ae.incomeCount,""]})]}),d.jsxs("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl",children:[d.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:" "}),d.jsxs("p",{className:"text-lg lg:text-2xl font-bold text-rose-400",children:[ae.expenseCount,""]})]}),d.jsxs("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl",children:[d.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:" "}),d.jsxs("p",{className:"text-lg lg:text-2xl font-bold text-blue-400",children:[ae.recurringCount,""]})]}),d.jsxs("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl",children:[d.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:""}),d.jsxs("p",{className:"text-lg lg:text-2xl font-bold text-amber-400",children:[ae.loansCount,""]})]}),d.jsxs("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl",children:[d.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:""}),d.jsxs("p",{className:"text-lg lg:text-2xl font-bold text-purple-400",children:[ae.eventsCount,""]})]})]})]}),E&&d.jsx("div",{className:"fixed inset-0 bg-dark-950/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"card w-full max-w-md text-center",children:[d.jsx("div",{className:"w-16 h-16 rounded-full bg-rose-500/20 flex items-center justify-center mx-auto mb-4",children:d.jsx(TR,{className:"w-8 h-8 text-rose-400"})}),d.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:" ?"}),d.jsxs("p",{className:"text-dark-400 mb-6",children:["    .",d.jsx("br",{}),"    ."]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:()=>T(!1),className:"btn btn-secondary flex-1",children:""}),d.jsx("button",{onClick:M,className:"btn bg-rose-500 hover:bg-rose-600 text-white flex-1",children:""})]})]})})]})}const o3=[{id:"timeline",icon:d.jsx(Ka,{className:"w-5 h-5"}),title:"",description:"/ , ,       .",details:[{subtitle:" ",content:"  , ,       .     ,  ,  ."},{subtitle:" ",content:"12      .        ,        ."},{subtitle:" ",content:' ""        .'},{subtitle:" /",content:"     ,      ."}]},{id:"transactions",icon:d.jsx(rb,{className:"w-5 h-5"}),title:"/",description:"     .",details:[{subtitle:" ",content:', ,        .    ""  "" .'},{subtitle:" ",content:" (, ,  )      ."},{subtitle:" ",content:'" ", "", ""    .       .'},{subtitle:"",content:" , ,  ,  , , , , ,       ."}]},{id:"events",icon:d.jsx(Po,{className:"w-5 h-5"}),title:"",description:"     .",details:[{subtitle:" ",content:"(,  ), (, ), (, ), (, ), (, )    ."},{subtitle:" ",content:"      .     ."},{subtitle:" ",content:"7        ."},{subtitle:" ",content:" ,  ,         ."}]},{id:"loans",icon:d.jsx(tl,{className:"w-5 h-5"}),title:" ",description:"       .",details:[{subtitle:" ",content:` :     (+)
 :  ,   
 :  ,    `},{subtitle:" ",content:"    .          ."},{subtitle:" ",content:"        ."},{subtitle:"  ",content:"               ."}]},{id:"assets",icon:d.jsx(Jo,{className:"w-5 h-5"}),title:" ",description:", ,       .",details:[{subtitle:" ",content:` : , ,  
 : , SUV 
 /:  ,  
 : , , ETF 
  : ,  `},{subtitle:" vs  ",content:"( )  ()        ."},{subtitle:" ",content:" =   -  ( ).       ."},{subtitle:" ",content:"        ."}]},{id:"summary",icon:d.jsx(ib,{className:"w-5 h-5"}),title:"",description:"     .",details:[{subtitle:" ",content:"   ,  ,     ."},{subtitle:" ",content:"            ."},{subtitle:" ",content:"    TOP 5   ."},{subtitle:"",content:"       ."}]},{id:"settings",icon:d.jsx(cb,{className:"w-5 h-5"}),title:"",description:" ,      .",details:[{subtitle:"Google  ",content:"Google         .    ."},{subtitle:" ",content:"  JSON     .    ."},{subtitle:" ",content:"  JSON     ."},{subtitle:" ",content:"     .      ."}]}],c3=[{icon:d.jsx(lb,{className:"w-4 h-4"}),title:"  ",content:", ,           ."},{icon:d.jsx(Wo,{className:"w-4 h-4"}),title:"  ",content:"         ."},{icon:d.jsx(Dh,{className:"w-4 h-4"}),title:"  ",content:", ,            ."},{icon:d.jsx(Ih,{className:"w-4 h-4"}),title:" ",content:"Google         ."},{icon:d.jsx(gR,{className:"w-4 h-4"}),title:"  ",content:'   "  "     .'}];function u3(){const[i,e]=X.useState("timeline"),s=r=>{e(i===r?null:r)};return d.jsxs("div",{className:"max-w-2xl space-y-4 lg:space-y-6",children:[d.jsxs("div",{className:"card !p-4 lg:!p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-500/20 flex items-center justify-center",children:d.jsx(_g,{className:"w-5 h-5 text-violet-400"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-bold text-dark-100",children:"  "}),d.jsx("p",{className:"text-sm text-dark-400",children:"   "})]})]}),d.jsx("p",{className:"text-sm text-dark-300 leading-relaxed",children:" , , ,              ."})]}),d.jsxs("div",{className:"card !p-0 overflow-hidden",children:[d.jsx("h3",{className:"text-base lg:text-lg font-semibold text-dark-100 p-4 lg:p-6 pb-2 lg:pb-3",children:" "}),d.jsx("div",{className:"divide-y divide-dark-800",children:o3.map(r=>d.jsxs("div",{children:[d.jsxs("button",{onClick:()=>s(r.id),className:"w-full flex items-center gap-3 p-4 lg:p-5 hover:bg-dark-800/50 transition-colors text-left",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-dark-800 flex items-center justify-center text-dark-300 flex-shrink-0",children:r.icon}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h4",{className:"font-medium text-dark-100 text-sm lg:text-base",children:r.title}),d.jsx("p",{className:"text-xs lg:text-sm text-dark-400 truncate",children:r.description})]}),i===r.id?d.jsx(tb,{className:"w-5 h-5 text-dark-400 flex-shrink-0"}):d.jsx(eb,{className:"w-5 h-5 text-dark-400 flex-shrink-0"})]}),i===r.id&&d.jsx("div",{className:"px-4 lg:px-5 pb-4 lg:pb-5 space-y-3",children:r.details.map((o,u)=>d.jsxs("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl",children:[d.jsx("h5",{className:"font-medium text-violet-400 text-sm mb-1.5",children:o.subtitle}),d.jsx("p",{className:"text-xs lg:text-sm text-dark-300 whitespace-pre-line leading-relaxed",children:o.content})]},u))})]},r.id))})]}),d.jsxs("div",{className:"card !p-4 lg:!p-6",children:[d.jsx("h3",{className:"text-base lg:text-lg font-semibold text-dark-100 mb-3 lg:mb-4",children:"  "}),d.jsx("div",{className:"space-y-2 lg:space-y-3",children:c3.map((r,o)=>d.jsxs("div",{className:"flex items-start gap-3 p-3 bg-dark-800/50 rounded-xl",children:[d.jsx("div",{className:"w-8 h-8 rounded-lg bg-amber-500/20 flex items-center justify-center text-amber-400 flex-shrink-0",children:r.icon}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-dark-100 text-sm mb-0.5",children:r.title}),d.jsx("p",{className:"text-xs text-dark-400",children:r.content})]})]},o))})]}),d.jsxs("div",{className:"card !p-4 lg:!p-6 bg-gradient-to-br from-violet-500/10 to-purple-500/10 border-violet-500/20",children:[d.jsx("p",{className:"text-sm text-dark-300 text-center",children:"    "}),d.jsx("p",{className:"text-xs text-dark-500 text-center mt-2",children:"Made by "})]})]})}const I_="plan-my-life-offline-mode",h3={timeline:"",transactions:"/ ",events:" ",loans:" ",assets:" ",summary:"",settings:"",help:""};function d3(){const[i,e]=X.useState("timeline"),[s,r]=X.useState(!1),{setCurrentDate:o,isSyncing:u}=dn(),{user:m}=Zo(),p=()=>{switch(i){case"timeline":return d.jsx(w_,{});case"transactions":return d.jsx(JR,{});case"events":return d.jsx(WR,{});case"loans":return d.jsx(t3,{});case"assets":return d.jsx(i3,{});case"summary":return d.jsx(a3,{});case"settings":return d.jsx(l3,{});case"help":return d.jsx(u3,{});default:return d.jsx(w_,{})}},y=()=>{const E=new Date;o(E.getFullYear(),E.getMonth()+1),window.scrollTo({top:0,behavior:"smooth"})},_=i==="timeline";return d.jsxs("div",{className:"min-h-screen bg-dark-950",children:[d.jsx(OR,{activeTab:i,onTabChange:e,isOpen:s,onClose:()=>r(!1)}),d.jsxs("main",{className:"lg:ml-64 min-h-screen",children:[d.jsx(VR,{title:h3[i],onTodayClick:y,showTodayButton:_,onMenuClick:()=>r(!0),isSyncing:u,isLoggedIn:!!m}),d.jsx("div",{className:"p-4 lg:p-6",children:p()})]})]})}function f3(){const{user:i,loading:e}=Zo(),[s,r]=X.useState(null);X.useEffect(()=>{const u=localStorage.getItem(I_);r(u==="true")},[]);const o=()=>{localStorage.setItem(I_,"true"),r(!0)};return e||s===null?d.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:d.jsx("div",{className:"w-8 h-8 border-2 border-violet-500 border-t-transparent rounded-full animate-spin"})}):!i&&!s?d.jsx(LR,{onContinueOffline:o}):d.jsx(hC,{children:d.jsx(d3,{})})}function m3(){return d.jsx(lC,{children:d.jsx(f3,{})})}ZE.createRoot(document.getElementById("root")).render(d.jsx(X.StrictMode,{children:d.jsx(m3,{})}));
