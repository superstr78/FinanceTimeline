(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function s(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=s(o);fetch(o.href,u)}})();var wd={exports:{}},fo={};var Oy;function RE(){if(Oy)return fo;Oy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(a,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:i,type:a,key:d,ref:o!==void 0?o:null,props:u}}return fo.Fragment=e,fo.jsx=s,fo.jsxs=s,fo}var Vy;function CE(){return Vy||(Vy=1,wd.exports=RE()),wd.exports}var m=CE(),Nd={exports:{}},Te={};var Ly;function IE(){if(Ly)return Te;Ly=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),C=Symbol.iterator;function B(O){return O===null||typeof O!="object"?null:(O=C&&O[C]||O["@@iterator"],typeof O=="function"?O:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,P={};function se(O,ee,oe){this.props=O,this.context=ee,this.refs=P,this.updater=oe||$}se.prototype.isReactComponent={},se.prototype.setState=function(O,ee){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ee,"setState")},se.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function L(){}L.prototype=se.prototype;function V(O,ee,oe){this.props=O,this.context=ee,this.refs=P,this.updater=oe||$}var ie=V.prototype=new L;ie.constructor=V,Q(ie,se.prototype),ie.isPureReactComponent=!0;var he=Array.isArray;function ae(){}var k={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function w(O,ee,oe){var ue=oe.ref;return{$$typeof:i,type:O,key:ee,ref:ue!==void 0?ue:null,props:oe}}function I(O,ee){return w(O.type,ee,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function M(O){var ee={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(oe){return ee[oe]})}var R=/\/+/g;function Me(O,ee){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):ee.toString(36)}function ze(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ae,ae):(O.status="pending",O.then(function(ee){O.status==="pending"&&(O.status="fulfilled",O.value=ee)},function(ee){O.status==="pending"&&(O.status="rejected",O.reason=ee)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function K(O,ee,oe,ue,be){var Re=typeof O;(Re==="undefined"||Re==="boolean")&&(O=null);var Be=!1;if(O===null)Be=!0;else switch(Re){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(O.$$typeof){case i:case e:Be=!0;break;case T:return Be=O._init,K(Be(O._payload),ee,oe,ue,be)}}if(Be)return be=be(O),Be=ue===""?"."+Me(O,0):ue,he(be)?(oe="",Be!=null&&(oe=Be.replace(R,"$&/")+"/"),K(be,ee,oe,"",function(tr){return tr})):be!=null&&(N(be)&&(be=I(be,oe+(be.key==null||O&&O.key===be.key?"":(""+be.key).replace(R,"$&/")+"/")+Be)),ee.push(be)),1;Be=0;var Ct=ue===""?".":ue+":";if(he(O))for(var at=0;at<O.length;at++)ue=O[at],Re=Ct+Me(ue,at),Be+=K(ue,ee,oe,Re,be);else if(at=B(O),typeof at=="function")for(O=at.call(O),at=0;!(ue=O.next()).done;)ue=ue.value,Re=Ct+Me(ue,at++),Be+=K(ue,ee,oe,Re,be);else if(Re==="object"){if(typeof O.then=="function")return K(ze(O),ee,oe,ue,be);throw ee=String(O),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Be}function le(O,ee,oe){if(O==null)return O;var ue=[],be=0;return K(O,ue,"","",function(Re){return ee.call(oe,Re,be++)}),ue}function me(O){if(O._status===-1){var ee=O._result;ee=ee(),ee.then(function(oe){(O._status===0||O._status===-1)&&(O._status=1,O._result=oe)},function(oe){(O._status===0||O._status===-1)&&(O._status=2,O._result=oe)}),O._status===-1&&(O._status=0,O._result=ee)}if(O._status===1)return O._result.default;throw O._result}var Ie=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},He={map:le,forEach:function(O,ee,oe){le(O,function(){ee.apply(this,arguments)},oe)},count:function(O){var ee=0;return le(O,function(){ee++}),ee},toArray:function(O){return le(O,function(ee){return ee})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Te.Activity=S,Te.Children=He,Te.Component=se,Te.Fragment=s,Te.Profiler=o,Te.PureComponent=V,Te.StrictMode=a,Te.Suspense=_,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Te.__COMPILER_RUNTIME={__proto__:null,c:function(O){return k.H.useMemoCache(O)}},Te.cache=function(O){return function(){return O.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(O,ee,oe){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ue=Q({},O.props),be=O.key;if(ee!=null)for(Re in ee.key!==void 0&&(be=""+ee.key),ee)!E.call(ee,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ee.ref===void 0||(ue[Re]=ee[Re]);var Re=arguments.length-2;if(Re===1)ue.children=oe;else if(1<Re){for(var Be=Array(Re),Ct=0;Ct<Re;Ct++)Be[Ct]=arguments[Ct+2];ue.children=Be}return w(O.type,be,ue)},Te.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Te.createElement=function(O,ee,oe){var ue,be={},Re=null;if(ee!=null)for(ue in ee.key!==void 0&&(Re=""+ee.key),ee)E.call(ee,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(be[ue]=ee[ue]);var Be=arguments.length-2;if(Be===1)be.children=oe;else if(1<Be){for(var Ct=Array(Be),at=0;at<Be;at++)Ct[at]=arguments[at+2];be.children=Ct}if(O&&O.defaultProps)for(ue in Be=O.defaultProps,Be)be[ue]===void 0&&(be[ue]=Be[ue]);return w(O,Re,be)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(O){return{$$typeof:p,render:O}},Te.isValidElement=N,Te.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:me}},Te.memo=function(O,ee){return{$$typeof:v,type:O,compare:ee===void 0?null:ee}},Te.startTransition=function(O){var ee=k.T,oe={};k.T=oe;try{var ue=O(),be=k.S;be!==null&&be(oe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ae,Ie)}catch(Re){Ie(Re)}finally{ee!==null&&oe.types!==null&&(ee.types=oe.types),k.T=ee}},Te.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Te.use=function(O){return k.H.use(O)},Te.useActionState=function(O,ee,oe){return k.H.useActionState(O,ee,oe)},Te.useCallback=function(O,ee){return k.H.useCallback(O,ee)},Te.useContext=function(O){return k.H.useContext(O)},Te.useDebugValue=function(){},Te.useDeferredValue=function(O,ee){return k.H.useDeferredValue(O,ee)},Te.useEffect=function(O,ee){return k.H.useEffect(O,ee)},Te.useEffectEvent=function(O){return k.H.useEffectEvent(O)},Te.useId=function(){return k.H.useId()},Te.useImperativeHandle=function(O,ee,oe){return k.H.useImperativeHandle(O,ee,oe)},Te.useInsertionEffect=function(O,ee){return k.H.useInsertionEffect(O,ee)},Te.useLayoutEffect=function(O,ee){return k.H.useLayoutEffect(O,ee)},Te.useMemo=function(O,ee){return k.H.useMemo(O,ee)},Te.useOptimistic=function(O,ee){return k.H.useOptimistic(O,ee)},Te.useReducer=function(O,ee,oe){return k.H.useReducer(O,ee,oe)},Te.useRef=function(O){return k.H.useRef(O)},Te.useState=function(O){return k.H.useState(O)},Te.useSyncExternalStore=function(O,ee,oe){return k.H.useSyncExternalStore(O,ee,oe)},Te.useTransition=function(){return k.H.useTransition()},Te.version="19.2.1",Te}var Uy;function _m(){return Uy||(Uy=1,Nd.exports=IE()),Nd.exports}var J=_m(),Rd={exports:{}},mo={},Cd={exports:{}},Id={};var Py;function DE(){return Py||(Py=1,(function(i){function e(K,le){var me=K.length;K.push(le);e:for(;0<me;){var Ie=me-1>>>1,He=K[Ie];if(0<o(He,le))K[Ie]=le,K[me]=He,me=Ie;else break e}}function s(K){return K.length===0?null:K[0]}function a(K){if(K.length===0)return null;var le=K[0],me=K.pop();if(me!==le){K[0]=me;e:for(var Ie=0,He=K.length,O=He>>>1;Ie<O;){var ee=2*(Ie+1)-1,oe=K[ee],ue=ee+1,be=K[ue];if(0>o(oe,me))ue<He&&0>o(be,oe)?(K[Ie]=be,K[ue]=me,Ie=ue):(K[Ie]=oe,K[ee]=me,Ie=ee);else if(ue<He&&0>o(be,me))K[Ie]=be,K[ue]=me,Ie=ue;else break e}}return le}function o(K,le){var me=K.sortIndex-le.sortIndex;return me!==0?me:K.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();i.unstable_now=function(){return d.now()-p}}var _=[],v=[],T=1,S=null,C=3,B=!1,$=!1,Q=!1,P=!1,se=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function ie(K){for(var le=s(v);le!==null;){if(le.callback===null)a(v);else if(le.startTime<=K)a(v),le.sortIndex=le.expirationTime,e(_,le);else break;le=s(v)}}function he(K){if(Q=!1,ie(K),!$)if(s(_)!==null)$=!0,ae||(ae=!0,M());else{var le=s(v);le!==null&&ze(he,le.startTime-K)}}var ae=!1,k=-1,E=5,w=-1;function I(){return P?!0:!(i.unstable_now()-w<E)}function N(){if(P=!1,ae){var K=i.unstable_now();w=K;var le=!0;try{e:{$=!1,Q&&(Q=!1,L(k),k=-1),B=!0;var me=C;try{t:{for(ie(K),S=s(_);S!==null&&!(S.expirationTime>K&&I());){var Ie=S.callback;if(typeof Ie=="function"){S.callback=null,C=S.priorityLevel;var He=Ie(S.expirationTime<=K);if(K=i.unstable_now(),typeof He=="function"){S.callback=He,ie(K),le=!0;break t}S===s(_)&&a(_),ie(K)}else a(_);S=s(_)}if(S!==null)le=!0;else{var O=s(v);O!==null&&ze(he,O.startTime-K),le=!1}}break e}finally{S=null,C=me,B=!1}le=void 0}}finally{le?M():ae=!1}}}var M;if(typeof V=="function")M=function(){V(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Me=R.port2;R.port1.onmessage=N,M=function(){Me.postMessage(null)}}else M=function(){se(N,0)};function ze(K,le){k=se(function(){K(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(K){K.callback=null},i.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<K?Math.floor(1e3/K):5},i.unstable_getCurrentPriorityLevel=function(){return C},i.unstable_next=function(K){switch(C){case 1:case 2:case 3:var le=3;break;default:le=C}var me=C;C=le;try{return K()}finally{C=me}},i.unstable_requestPaint=function(){P=!0},i.unstable_runWithPriority=function(K,le){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var me=C;C=K;try{return le()}finally{C=me}},i.unstable_scheduleCallback=function(K,le,me){var Ie=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ie+me:Ie):me=Ie,K){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=me+He,K={id:T++,callback:le,priorityLevel:K,startTime:me,expirationTime:He,sortIndex:-1},me>Ie?(K.sortIndex=me,e(v,K),s(_)===null&&K===s(v)&&(Q?(L(k),k=-1):Q=!0,ze(he,me-Ie))):(K.sortIndex=He,e(_,K),$||B||($=!0,ae||(ae=!0,M()))),K},i.unstable_shouldYield=I,i.unstable_wrapCallback=function(K){var le=C;return function(){var me=C;C=le;try{return K.apply(this,arguments)}finally{C=me}}}})(Id)),Id}var zy;function kE(){return zy||(zy=1,Cd.exports=DE()),Cd.exports}var Dd={exports:{}},Xt={};var By;function ME(){if(By)return Xt;By=1;var i=_m();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)v+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(_,v,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:_,containerInfo:v,implementation:T}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Xt.createPortal=function(_,v){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return u(_,v,null,T)},Xt.flushSync=function(_){var v=d.T,T=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=T,a.d.f()}},Xt.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},Xt.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Xt.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var T=v.as,S=p(T,v.crossOrigin),C=typeof v.integrity=="string"?v.integrity:void 0,B=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;T==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:C,fetchPriority:B}):T==="script"&&a.d.X(_,{crossOrigin:S,integrity:C,fetchPriority:B,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Xt.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var T=p(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},Xt.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var T=v.as,S=p(T,v.crossOrigin);a.d.L(_,T,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Xt.preloadModule=function(_,v){if(typeof _=="string")if(v){var T=p(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},Xt.requestFormReset=function(_){a.d.r(_)},Xt.unstable_batchedUpdates=function(_,v){return _(v)},Xt.useFormState=function(_,v,T){return d.H.useFormState(_,v,T)},Xt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xt.version="19.2.1",Xt}var qy;function jE(){if(qy)return Dd.exports;qy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Dd.exports=ME(),Dd.exports}var Hy;function OE(){if(Hy)return mo;Hy=1;var i=kE(),e=_m(),s=jE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(u(t)!==t)throw Error(a(188))}function v(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),t;if(f===l)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var y=!1,b=h.child;b;){if(b===r){y=!0,r=h,l=f;break}if(b===l){y=!0,l=h,r=f;break}b=b.sibling}if(!y){for(b=f.child;b;){if(b===r){y=!0,r=f,l=h;break}if(b===l){y=!0,l=f,r=h;break}b=b.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,C=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),V=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case se:return"Profiler";case P:return"StrictMode";case he:return"Suspense";case ae:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $:return"Portal";case V:return t.displayName||"Context";case L:return(t._context.displayName||"Context")+".Consumer";case ie:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k:return n=t.displayName||null,n!==null?n:Me(t.type)||"Memo";case E:n=t._payload,t=t._init;try{return Me(t(n))}catch{}}return null}var ze=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ie=[],He=-1;function O(t){return{current:t}}function ee(t){0>He||(t.current=Ie[He],Ie[He]=null,He--)}function oe(t,n){He++,Ie[He]=t.current,t.current=n}var ue=O(null),be=O(null),Re=O(null),Be=O(null);function Ct(t,n){switch(oe(Re,n),oe(be,t),oe(ue,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?iy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=iy(n),t=ry(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(ue),oe(ue,t)}function at(){ee(ue),ee(be),ee(Re)}function tr(t){t.memoizedState!==null&&oe(Be,t);var n=ue.current,r=ry(n,t.type);n!==r&&(oe(be,t),oe(ue,r))}function Qr(t){be.current===t&&(ee(ue),ee(be)),Be.current===t&&(ee(Be),oo._currentValue=me)}var Kr,Xr;function es(t){if(Kr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Kr=n&&n[1]||"",Xr=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kr+t+Xr}var ol=!1;function nr(t,n){if(!t||ol)return"";ol=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Y){var F=Y}Reflect.construct(t,[],W)}else{try{W.call()}catch(Y){F=Y}t.call(W.prototype)}}else{try{throw Error()}catch(Y){F=Y}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],b=f[1];if(y&&b){var D=y.split(`
`),H=b.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===H.length)for(l=D.length-1,h=H.length-1;1<=l&&0<=h&&D[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==H[h]){var X=`
`+D[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{ol=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?es(r):""}function cl(t,n){switch(t.tag){case 26:case 27:case 5:return es(t.type);case 16:return es("Lazy");case 13:return t.child!==n&&n!==null?es("Suspense Fallback"):es("Suspense");case 19:return es("SuspenseList");case 0:case 15:return nr(t.type,!1);case 11:return nr(t.type.render,!1);case 1:return nr(t.type,!0);case 31:return es("Activity");default:return""}}function ul(t){try{var n="",r=null;do n+=cl(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _t=Object.prototype.hasOwnProperty,It=i.unstable_scheduleCallback,ri=i.unstable_cancelCallback,Nh=i.unstable_shouldYield,Xo=i.unstable_requestPaint,en=i.unstable_now,sr=i.unstable_getCurrentPriorityLevel,hl=i.unstable_ImmediatePriority,fl=i.unstable_UserBlockingPriority,ai=i.unstable_NormalPriority,Rh=i.unstable_LowPriority,$o=i.unstable_IdlePriority,Zo=i.log,Jo=i.unstable_setDisableYieldValue,Un=null,Pt=null;function bn(t){if(typeof Zo=="function"&&Jo(t),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(Un,t)}catch{}}var dt=Math.clz32?Math.clz32:ec,Wo=Math.log,$r=Math.LN2;function ec(t){return t>>>=0,t===0?32:31-(Wo(t)/$r|0)|0}var ts=256,ir=262144,vt=4194304;function ns(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ss(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~f,l!==0?h=ns(l):(y&=b,y!==0?h=ns(y):r||(r=b&~t,r!==0&&(h=ns(r))))):(b=l&~f,b!==0?h=ns(b):y!==0?h=ns(y):r||(r=l&~t,r!==0&&(h=ns(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Pn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ch(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tc(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function is(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function rr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ih(t,n,r,l,h,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var b=t.entanglements,D=t.expirationTimes,H=t.hiddenUpdates;for(r=y&~r;0<r;){var X=31-dt(r),W=1<<X;b[X]=0,D[X]=-1;var F=H[X];if(F!==null)for(H[X]=null,X=0;X<F.length;X++){var Y=F[X];Y!==null&&(Y.lane&=-536870913)}r&=~W}l!==0&&ar(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function ar(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-dt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function dl(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-dt(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function ml(t,n){var r=n&-n;return r=(r&42)!==0?1:lr(r),(r&(t.suspendedLanes|n))!==0?0:r}function lr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ds(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function nc(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:Ry(t.type))}function zn(t,n){var r=le.p;try{return le.p=t,n()}finally{le.p=r}}var Bn=Math.random().toString(36).slice(2),xt="__reactFiber$"+Bn,jt="__reactProps$"+Bn,rs="__reactContainer$"+Bn,Zr="__reactEvents$"+Bn,Dh="__reactListeners$"+Bn,sc="__reactHandles$"+Bn,ic="__reactResources$"+Bn,as="__reactMarker$"+Bn;function Jr(t){delete t[xt],delete t[jt],delete t[Zr],delete t[Dh],delete t[sc]}function ls(t){var n=t[xt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[rs]||r[xt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=fy(t);t!==null;){if(r=t[xt])return r;t=fy(t)}return n}t=r,r=t.parentNode}return null}function En(t){if(t=t[xt]||t[rs]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function fn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function os(t){var n=t[ic];return n||(n=t[ic]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function bt(t){t[as]=!0}var gl=new Set,pl={};function cs(t,n){us(t,n),us(t+"Capture",n)}function us(t,n){for(pl[t]=n,t=0;t<n.length;t++)gl.add(n[t])}var yl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_l={},vl={};function rc(t){return _t.call(vl,t)?!0:_t.call(_l,t)?!1:yl.test(t)?vl[t]=!0:(_l[t]=!0,!1)}function Wr(t,n,r){if(rc(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function dn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Et(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Ot(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function li(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function xl(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){r=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Xe(t){if(!t._valueTracker){var n=li(t)?"checked":"value";t._valueTracker=xl(t,n,""+t[n])}}function or(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=li(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function hs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var cr=/[\n"\\]/g;function sn(t){return t.replace(cr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ea(t,n,r,l,h,f,y,b){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ot(n)):t.value!==""+Ot(n)&&(t.value=""+Ot(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?bl(t,y,Ot(n)):r!=null?bl(t,y,Ot(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Ot(b):t.removeAttribute("name")}function ac(t,n,r,l,h,f,y,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Xe(t);return}r=r!=null?""+Ot(r):"",n=n!=null?""+Ot(n):r,b||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Xe(t)}function bl(t,n,r){n==="number"&&hs(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function oi(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ot(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function lc(t,n,r){if(n!=null&&(n=""+Ot(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ot(r):""}function ci(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(ze(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ot(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),Xe(t)}function rn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var oc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function El(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||oc.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Tl(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&El(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&El(t,f,n[f])}function ta(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ui=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function na(t){return ui.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function qn(){}var Sl=null;function Tn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hi=null,fs=null;function ur(t){var n=En(t);if(n&&(t=n.stateNode)){var r=t[jt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ea(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[jt]||null;if(!h)throw Error(a(90));ea(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&or(l)}break e;case"textarea":lc(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&oi(t,!!r.multiple,n,!1)}}}var sa=!1;function fi(t,n,r){if(sa)return t(n,r);sa=!0;try{var l=t(n);return l}finally{if(sa=!1,(hi!==null||fs!==null)&&(nu(),hi&&(n=hi,t=fs,fs=hi=null,ur(n),t)))for(n=0;n<t.length;n++)ur(t[n])}}function Hn(t,n){var r=t.stateNode;if(r===null)return null;var l=r[jt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hr=!1;if(Sn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){hr=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{hr=!1}var ds=null,Al=null,fr=null;function wl(){if(fr)return fr;var t,n=Al,r=n.length,l,h="value"in ds?ds.value:ds.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===h[f-l];l++);return fr=h.slice(t,1<l?1-l:void 0)}function dr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ks(){return!0}function Fn(){return!1}function zt(t){function n(r,l,h,f,y){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(r=t[b],this[b]=r?r(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ks:Fn,this.isPropagationStopped=Fn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ks)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ks)},persist:function(){},isPersistent:ks}),n}var Ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ms=zt(Ms),di=S({},Ms,{view:0,detail:0}),Nl=zt(di),mi,ia,gs,ra=S({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gs&&(gs&&t.type==="mousemove"?(mi=t.screenX-gs.screenX,ia=t.screenY-gs.screenY):ia=mi=0,gs=t),mi)},movementY:function(t){return"movementY"in t?t.movementY:ia}}),Rl=zt(ra),mr=S({},ra,{dataTransfer:0}),uc=zt(mr),hc=S({},di,{relatedTarget:0}),gr=zt(hc),Cl=S({},Ms,{animationName:0,elapsedTime:0,pseudoElement:0}),fc=zt(Cl),aa=S({},Ms,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dc=zt(aa),mc=S({},Ms,{data:0}),ps=zt(mc),gc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _c(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=yc[t])?!!n[t]:!1}function gi(){return _c}var tn=S({},di,{key:function(t){if(t.key){var n=gc[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=dr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gi,charCode:function(t){return t.type==="keypress"?dr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vc=zt(tn),xc=S({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),js=zt(xc),c=S({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gi}),g=zt(c),x=S({},Ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=zt(x),z=S({},ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=zt(z),re=S({},Ms,{newState:0,oldState:0}),we=zt(re),mt=[9,13,27,32],Ye=Sn&&"CompositionEvent"in window,lt=null;Sn&&"documentMode"in document&&(lt=document.documentMode);var An=Sn&&"TextEvent"in window&&!lt,ys=Sn&&(!Ye||lt&&8<lt&&11>=lt),Gn=" ",Yn=!1;function pr(t,n){switch(t){case"keyup":return mt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function la(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oa=!1;function Jx(t,n){switch(t){case"compositionend":return la(n);case"keypress":return n.which!==32?null:(Yn=!0,Gn);case"textInput":return t=n.data,t===Gn&&Yn?null:t;default:return null}}function Wx(t,n){if(oa)return t==="compositionend"||!Ye&&pr(t,n)?(t=wl(),fr=Al=ds=null,oa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ys&&n.locale!=="ko"?null:n.data;default:return null}}var eb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!eb[t.type]:n==="textarea"}function pg(t,n,r,l){hi?fs?fs.push(l):fs=[l]:hi=l,n=cu(n,"onChange"),0<n.length&&(r=new ms("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Il=null,Dl=null;function tb(t){J0(t,0)}function bc(t){var n=fn(t);if(or(n))return t}function yg(t,n){if(t==="change")return n}var _g=!1;if(Sn){var kh;if(Sn){var Mh="oninput"in document;if(!Mh){var vg=document.createElement("div");vg.setAttribute("oninput","return;"),Mh=typeof vg.oninput=="function"}kh=Mh}else kh=!1;_g=kh&&(!document.documentMode||9<document.documentMode)}function xg(){Il&&(Il.detachEvent("onpropertychange",bg),Dl=Il=null)}function bg(t){if(t.propertyName==="value"&&bc(Dl)){var n=[];pg(n,Dl,t,Tn(t)),fi(tb,n)}}function nb(t,n,r){t==="focusin"?(xg(),Il=n,Dl=r,Il.attachEvent("onpropertychange",bg)):t==="focusout"&&xg()}function sb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bc(Dl)}function ib(t,n){if(t==="click")return bc(n)}function rb(t,n){if(t==="input"||t==="change")return bc(n)}function ab(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var mn=typeof Object.is=="function"?Object.is:ab;function kl(t,n){if(mn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!_t.call(n,h)||!mn(t[h],n[h]))return!1}return!0}function Eg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tg(t,n){var r=Eg(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Eg(r)}}function Sg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Sg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ag(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=hs(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=hs(t.document)}return n}function jh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var lb=Sn&&"documentMode"in document&&11>=document.documentMode,ca=null,Oh=null,Ml=null,Vh=!1;function wg(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Vh||ca==null||ca!==hs(l)||(l=ca,"selectionStart"in l&&jh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ml&&kl(Ml,l)||(Ml=l,l=cu(Oh,"onSelect"),0<l.length&&(n=new ms("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=ca)))}function yr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var ua={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionrun:yr("Transition","TransitionRun"),transitionstart:yr("Transition","TransitionStart"),transitioncancel:yr("Transition","TransitionCancel"),transitionend:yr("Transition","TransitionEnd")},Lh={},Ng={};Sn&&(Ng=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function _r(t){if(Lh[t])return Lh[t];if(!ua[t])return t;var n=ua[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Ng)return Lh[t]=n[r];return t}var Rg=_r("animationend"),Cg=_r("animationiteration"),Ig=_r("animationstart"),ob=_r("transitionrun"),cb=_r("transitionstart"),ub=_r("transitioncancel"),Dg=_r("transitionend"),kg=new Map,Uh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uh.push("scrollEnd");function Qn(t,n){kg.set(t,n),cs(n,[t])}var Ec=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},wn=[],ha=0,Ph=0;function Tc(){for(var t=ha,n=Ph=ha=0;n<t;){var r=wn[n];wn[n++]=null;var l=wn[n];wn[n++]=null;var h=wn[n];wn[n++]=null;var f=wn[n];if(wn[n++]=null,l!==null&&h!==null){var y=l.pending;y===null?h.next=h:(h.next=y.next,y.next=h),l.pending=h}f!==0&&Mg(r,h,f)}}function Sc(t,n,r,l){wn[ha++]=t,wn[ha++]=n,wn[ha++]=r,wn[ha++]=l,Ph|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function zh(t,n,r,l){return Sc(t,n,r,l),Ac(t)}function vr(t,n){return Sc(t,null,null,n),Ac(t)}function Mg(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-dt(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Ac(t){if(50<to)throw to=0,$f=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var fa={};function hb(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,n,r,l){return new hb(t,n,r,l)}function Bh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Os(t,n){var r=t.alternate;return r===null?(r=gn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function jg(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function wc(t,n,r,l,h,f){var y=0;if(l=t,typeof t=="function")Bh(t)&&(y=1);else if(typeof t=="string")y=pE(t,r,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case w:return t=gn(31,r,n,h),t.elementType=w,t.lanes=f,t;case Q:return xr(r.children,h,f,n);case P:y=8,h|=24;break;case se:return t=gn(12,r,n,h|2),t.elementType=se,t.lanes=f,t;case he:return t=gn(13,r,n,h),t.elementType=he,t.lanes=f,t;case ae:return t=gn(19,r,n,h),t.elementType=ae,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case V:y=10;break e;case L:y=9;break e;case ie:y=11;break e;case k:y=14;break e;case E:y=16,l=null;break e}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=gn(y,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function xr(t,n,r,l){return t=gn(7,t,l,n),t.lanes=r,t}function qh(t,n,r){return t=gn(6,t,null,n),t.lanes=r,t}function Og(t){var n=gn(18,null,null,0);return n.stateNode=t,n}function Hh(t,n,r){return n=gn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Vg=new WeakMap;function Nn(t,n){if(typeof t=="object"&&t!==null){var r=Vg.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ul(n)},Vg.set(t,n),n)}return{value:t,source:n,stack:ul(n)}}var da=[],ma=0,Nc=null,jl=0,Rn=[],Cn=0,pi=null,_s=1,vs="";function Vs(t,n){da[ma++]=jl,da[ma++]=Nc,Nc=t,jl=n}function Lg(t,n,r){Rn[Cn++]=_s,Rn[Cn++]=vs,Rn[Cn++]=pi,pi=t;var l=_s;t=vs;var h=32-dt(l)-1;l&=~(1<<h),r+=1;var f=32-dt(n)+h;if(30<f){var y=h-h%5;f=(l&(1<<y)-1).toString(32),l>>=y,h-=y,_s=1<<32-dt(n)+h|r<<h|l,vs=f+t}else _s=1<<f|r<<h|l,vs=t}function Fh(t){t.return!==null&&(Vs(t,1),Lg(t,1,0))}function Gh(t){for(;t===Nc;)Nc=da[--ma],da[ma]=null,jl=da[--ma],da[ma]=null;for(;t===pi;)pi=Rn[--Cn],Rn[Cn]=null,vs=Rn[--Cn],Rn[Cn]=null,_s=Rn[--Cn],Rn[Cn]=null}function Ug(t,n){Rn[Cn++]=_s,Rn[Cn++]=vs,Rn[Cn++]=pi,_s=n.id,vs=n.overflow,pi=t}var Bt=null,st=null,Pe=!1,yi=null,In=!1,Yh=Error(a(519));function _i(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ol(Nn(n,t)),Yh}function Pg(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[xt]=t,n[jt]=l,r){case"dialog":ke("cancel",n),ke("close",n);break;case"iframe":case"object":case"embed":ke("load",n);break;case"video":case"audio":for(r=0;r<so.length;r++)ke(so[r],n);break;case"source":ke("error",n);break;case"img":case"image":case"link":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"input":ke("invalid",n),ac(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ke("invalid",n);break;case"textarea":ke("invalid",n),ci(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||ny(n.textContent,r)?(l.popover!=null&&(ke("beforetoggle",n),ke("toggle",n)),l.onScroll!=null&&ke("scroll",n),l.onScrollEnd!=null&&ke("scrollend",n),l.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||_i(t,!0)}function zg(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:Bt=Bt.return}}function ga(t){if(t!==Bt)return!1;if(!Pe)return zg(t),Pe=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||hd(t.type,t.memoizedProps)),r=!r),r&&st&&_i(t),zg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));st=hy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));st=hy(t)}else n===27?(n=st,ki(t.type)?(t=pd,pd=null,st=t):st=n):st=Bt?kn(t.stateNode.nextSibling):null;return!0}function br(){st=Bt=null,Pe=!1}function Qh(){var t=yi;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),yi=null),t}function Ol(t){yi===null?yi=[t]:yi.push(t)}var Kh=O(null),Er=null,Ls=null;function vi(t,n,r){oe(Kh,n._currentValue),n._currentValue=r}function Us(t){t._currentValue=Kh.current,ee(Kh)}function Xh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function $h(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=h;for(var D=0;D<n.length;D++)if(b.context===n[D]){f.lanes|=r,b=f.alternate,b!==null&&(b.lanes|=r),Xh(f.return,r,t),l||(y=null);break e}f=b.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Xh(y,r,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function pa(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var b=h.type;mn(h.pendingProps.value,y.value)||(t!==null?t.push(b):t=[b])}}else if(h===Be.current){if(y=h.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(oo):t=[oo])}h=h.return}t!==null&&$h(n,t,r,l),n.flags|=262144}function Rc(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Tr(t){Er=t,Ls=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return Bg(Er,t)}function Cc(t,n){return Er===null&&Tr(t),Bg(t,n)}function Bg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ls===null){if(t===null)throw Error(a(308));Ls=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ls=Ls.next=n;return r}var fb=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},db=i.unstable_scheduleCallback,mb=i.unstable_NormalPriority,Tt={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zh(){return{controller:new fb,data:new Map,refCount:0}}function Vl(t){t.refCount--,t.refCount===0&&db(mb,function(){t.controller.abort()})}var Ll=null,Jh=0,ya=0,_a=null;function gb(t,n){if(Ll===null){var r=Ll=[];Jh=0,ya=nd(),_a={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Jh++,n.then(qg,qg),n}function qg(){if(--Jh===0&&Ll!==null){_a!==null&&(_a.status="fulfilled");var t=Ll;Ll=null,ya=0,_a=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function pb(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Hg=K.S;K.S=function(t,n){w0=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&gb(t,n),Hg!==null&&Hg(t,n)};var Sr=O(null);function Wh(){var t=Sr.current;return t!==null?t:nt.pooledCache}function Ic(t,n){n===null?oe(Sr,Sr.current):oe(Sr,n.pool)}function Fg(){var t=Wh();return t===null?null:{parent:Tt._currentValue,pool:t}}var va=Error(a(460)),ef=Error(a(474)),Dc=Error(a(542)),kc={then:function(){}};function Gg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Yg(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(qn,qn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Kg(t),t;default:if(typeof n.status=="string")n.then(qn,qn);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Kg(t),t}throw wr=n,va}}function Ar(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(wr=r,va):r}}var wr=null;function Qg(){if(wr===null)throw Error(a(459));var t=wr;return wr=null,t}function Kg(t){if(t===va||t===Dc)throw Error(a(483))}var xa=null,Ul=0;function Mc(t){var n=Ul;return Ul+=1,xa===null&&(xa=[]),Yg(xa,t,n)}function Pl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function jc(t,n){throw n.$$typeof===C?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Xg(t){function n(U,j){if(t){var q=U.deletions;q===null?(U.deletions=[j],U.flags|=16):q.push(j)}}function r(U,j){if(!t)return null;for(;j!==null;)n(U,j),j=j.sibling;return null}function l(U){for(var j=new Map;U!==null;)U.key!==null?j.set(U.key,U):j.set(U.index,U),U=U.sibling;return j}function h(U,j){return U=Os(U,j),U.index=0,U.sibling=null,U}function f(U,j,q){return U.index=q,t?(q=U.alternate,q!==null?(q=q.index,q<j?(U.flags|=67108866,j):q):(U.flags|=67108866,j)):(U.flags|=1048576,j)}function y(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function b(U,j,q,Z){return j===null||j.tag!==6?(j=qh(q,U.mode,Z),j.return=U,j):(j=h(j,q),j.return=U,j)}function D(U,j,q,Z){var pe=q.type;return pe===Q?X(U,j,q.props.children,Z,q.key):j!==null&&(j.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===E&&Ar(pe)===j.type)?(j=h(j,q.props),Pl(j,q),j.return=U,j):(j=wc(q.type,q.key,q.props,null,U.mode,Z),Pl(j,q),j.return=U,j)}function H(U,j,q,Z){return j===null||j.tag!==4||j.stateNode.containerInfo!==q.containerInfo||j.stateNode.implementation!==q.implementation?(j=Hh(q,U.mode,Z),j.return=U,j):(j=h(j,q.children||[]),j.return=U,j)}function X(U,j,q,Z,pe){return j===null||j.tag!==7?(j=xr(q,U.mode,Z,pe),j.return=U,j):(j=h(j,q),j.return=U,j)}function W(U,j,q){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=qh(""+j,U.mode,q),j.return=U,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case B:return q=wc(j.type,j.key,j.props,null,U.mode,q),Pl(q,j),q.return=U,q;case $:return j=Hh(j,U.mode,q),j.return=U,j;case E:return j=Ar(j),W(U,j,q)}if(ze(j)||M(j))return j=xr(j,U.mode,q,null),j.return=U,j;if(typeof j.then=="function")return W(U,Mc(j),q);if(j.$$typeof===V)return W(U,Cc(U,j),q);jc(U,j)}return null}function F(U,j,q,Z){var pe=j!==null?j.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return pe!==null?null:b(U,j,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case B:return q.key===pe?D(U,j,q,Z):null;case $:return q.key===pe?H(U,j,q,Z):null;case E:return q=Ar(q),F(U,j,q,Z)}if(ze(q)||M(q))return pe!==null?null:X(U,j,q,Z,null);if(typeof q.then=="function")return F(U,j,Mc(q),Z);if(q.$$typeof===V)return F(U,j,Cc(U,q),Z);jc(U,q)}return null}function Y(U,j,q,Z,pe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(q)||null,b(j,U,""+Z,pe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case B:return U=U.get(Z.key===null?q:Z.key)||null,D(j,U,Z,pe);case $:return U=U.get(Z.key===null?q:Z.key)||null,H(j,U,Z,pe);case E:return Z=Ar(Z),Y(U,j,q,Z,pe)}if(ze(Z)||M(Z))return U=U.get(q)||null,X(j,U,Z,pe,null);if(typeof Z.then=="function")return Y(U,j,q,Mc(Z),pe);if(Z.$$typeof===V)return Y(U,j,q,Cc(j,Z),pe);jc(j,Z)}return null}function fe(U,j,q,Z){for(var pe=null,Fe=null,de=j,Ce=j=0,Oe=null;de!==null&&Ce<q.length;Ce++){de.index>Ce?(Oe=de,de=null):Oe=de.sibling;var Ge=F(U,de,q[Ce],Z);if(Ge===null){de===null&&(de=Oe);break}t&&de&&Ge.alternate===null&&n(U,de),j=f(Ge,j,Ce),Fe===null?pe=Ge:Fe.sibling=Ge,Fe=Ge,de=Oe}if(Ce===q.length)return r(U,de),Pe&&Vs(U,Ce),pe;if(de===null){for(;Ce<q.length;Ce++)de=W(U,q[Ce],Z),de!==null&&(j=f(de,j,Ce),Fe===null?pe=de:Fe.sibling=de,Fe=de);return Pe&&Vs(U,Ce),pe}for(de=l(de);Ce<q.length;Ce++)Oe=Y(de,U,Ce,q[Ce],Z),Oe!==null&&(t&&Oe.alternate!==null&&de.delete(Oe.key===null?Ce:Oe.key),j=f(Oe,j,Ce),Fe===null?pe=Oe:Fe.sibling=Oe,Fe=Oe);return t&&de.forEach(function(Li){return n(U,Li)}),Pe&&Vs(U,Ce),pe}function _e(U,j,q,Z){if(q==null)throw Error(a(151));for(var pe=null,Fe=null,de=j,Ce=j=0,Oe=null,Ge=q.next();de!==null&&!Ge.done;Ce++,Ge=q.next()){de.index>Ce?(Oe=de,de=null):Oe=de.sibling;var Li=F(U,de,Ge.value,Z);if(Li===null){de===null&&(de=Oe);break}t&&de&&Li.alternate===null&&n(U,de),j=f(Li,j,Ce),Fe===null?pe=Li:Fe.sibling=Li,Fe=Li,de=Oe}if(Ge.done)return r(U,de),Pe&&Vs(U,Ce),pe;if(de===null){for(;!Ge.done;Ce++,Ge=q.next())Ge=W(U,Ge.value,Z),Ge!==null&&(j=f(Ge,j,Ce),Fe===null?pe=Ge:Fe.sibling=Ge,Fe=Ge);return Pe&&Vs(U,Ce),pe}for(de=l(de);!Ge.done;Ce++,Ge=q.next())Ge=Y(de,U,Ce,Ge.value,Z),Ge!==null&&(t&&Ge.alternate!==null&&de.delete(Ge.key===null?Ce:Ge.key),j=f(Ge,j,Ce),Fe===null?pe=Ge:Fe.sibling=Ge,Fe=Ge);return t&&de.forEach(function(NE){return n(U,NE)}),Pe&&Vs(U,Ce),pe}function tt(U,j,q,Z){if(typeof q=="object"&&q!==null&&q.type===Q&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case B:e:{for(var pe=q.key;j!==null;){if(j.key===pe){if(pe=q.type,pe===Q){if(j.tag===7){r(U,j.sibling),Z=h(j,q.props.children),Z.return=U,U=Z;break e}}else if(j.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===E&&Ar(pe)===j.type){r(U,j.sibling),Z=h(j,q.props),Pl(Z,q),Z.return=U,U=Z;break e}r(U,j);break}else n(U,j);j=j.sibling}q.type===Q?(Z=xr(q.props.children,U.mode,Z,q.key),Z.return=U,U=Z):(Z=wc(q.type,q.key,q.props,null,U.mode,Z),Pl(Z,q),Z.return=U,U=Z)}return y(U);case $:e:{for(pe=q.key;j!==null;){if(j.key===pe)if(j.tag===4&&j.stateNode.containerInfo===q.containerInfo&&j.stateNode.implementation===q.implementation){r(U,j.sibling),Z=h(j,q.children||[]),Z.return=U,U=Z;break e}else{r(U,j);break}else n(U,j);j=j.sibling}Z=Hh(q,U.mode,Z),Z.return=U,U=Z}return y(U);case E:return q=Ar(q),tt(U,j,q,Z)}if(ze(q))return fe(U,j,q,Z);if(M(q)){if(pe=M(q),typeof pe!="function")throw Error(a(150));return q=pe.call(q),_e(U,j,q,Z)}if(typeof q.then=="function")return tt(U,j,Mc(q),Z);if(q.$$typeof===V)return tt(U,j,Cc(U,q),Z);jc(U,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,j!==null&&j.tag===6?(r(U,j.sibling),Z=h(j,q),Z.return=U,U=Z):(r(U,j),Z=qh(q,U.mode,Z),Z.return=U,U=Z),y(U)):r(U,j)}return function(U,j,q,Z){try{Ul=0;var pe=tt(U,j,q,Z);return xa=null,pe}catch(de){if(de===va||de===Dc)throw de;var Fe=gn(29,de,null,U.mode);return Fe.lanes=Z,Fe.return=U,Fe}finally{}}}var Nr=Xg(!0),$g=Xg(!1),xi=!1;function tf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function bi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ei(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Ac(t),Mg(t,null,r),n}return Sc(t,l,n,r),Ac(t)}function zl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,dl(t,r)}}function sf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var rf=!1;function Bl(){if(rf){var t=_a;if(t!==null)throw t}}function ql(t,n,r,l){rf=!1;var h=t.updateQueue;xi=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var D=b,H=D.next;D.next=null,y===null?f=H:y.next=H,y=D;var X=t.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==y&&(b===null?X.firstBaseUpdate=H:b.next=H,X.lastBaseUpdate=D))}if(f!==null){var W=h.baseState;y=0,X=H=D=null,b=f;do{var F=b.lane&-536870913,Y=F!==b.lane;if(Y?(je&F)===F:(l&F)===F){F!==0&&F===ya&&(rf=!0),X!==null&&(X=X.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var fe=t,_e=b;F=n;var tt=r;switch(_e.tag){case 1:if(fe=_e.payload,typeof fe=="function"){W=fe.call(tt,W,F);break e}W=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=_e.payload,F=typeof fe=="function"?fe.call(tt,W,F):fe,F==null)break e;W=S({},W,F);break e;case 2:xi=!0}}F=b.callback,F!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(H=X=Y,D=W):X=X.next=Y,y|=F;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;Y=b,b=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);X===null&&(D=W),h.baseState=D,h.firstBaseUpdate=H,h.lastBaseUpdate=X,f===null&&(h.shared.lanes=0),Ni|=y,t.lanes=y,t.memoizedState=W}}function Zg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Jg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Zg(r[t],n)}var ba=O(null),Oc=O(0);function Wg(t,n){t=Qs,oe(Oc,t),oe(ba,n),Qs=t|n.baseLanes}function af(){oe(Oc,Qs),oe(ba,ba.current)}function lf(){Qs=Oc.current,ee(ba),ee(Oc)}var pn=O(null),Dn=null;function Ti(t){var n=t.alternate;oe(gt,gt.current&1),oe(pn,t),Dn===null&&(n===null||ba.current!==null||n.memoizedState!==null)&&(Dn=t)}function of(t){oe(gt,gt.current),oe(pn,t),Dn===null&&(Dn=t)}function ep(t){t.tag===22?(oe(gt,gt.current),oe(pn,t),Dn===null&&(Dn=t)):Si()}function Si(){oe(gt,gt.current),oe(pn,pn.current)}function yn(t){ee(pn),Dn===t&&(Dn=null),ee(gt)}var gt=O(0);function Vc(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||md(r)||gd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ps=0,Ne=null,We=null,St=null,Lc=!1,Ea=!1,Rr=!1,Uc=0,Hl=0,Ta=null,yb=0;function ht(){throw Error(a(321))}function cf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!mn(t[r],n[r]))return!1;return!0}function uf(t,n,r,l,h,f){return Ps=f,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=t===null||t.memoizedState===null?Lp:Af,Rr=!1,f=r(l,h),Rr=!1,Ea&&(f=np(n,r,l,h)),tp(t),f}function tp(t){K.H=Yl;var n=We!==null&&We.next!==null;if(Ps=0,St=We=Ne=null,Lc=!1,Hl=0,Ta=null,n)throw Error(a(300));t===null||At||(t=t.dependencies,t!==null&&Rc(t)&&(At=!0))}function np(t,n,r,l){Ne=t;var h=0;do{if(Ea&&(Ta=null),Hl=0,Ea=!1,25<=h)throw Error(a(301));if(h+=1,St=We=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}K.H=Up,f=n(r,l)}while(Ea);return f}function _b(){var t=K.H,n=t.useState()[0];return n=typeof n.then=="function"?Fl(n):n,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Ne.flags|=1024),n}function hf(){var t=Uc!==0;return Uc=0,t}function ff(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function df(t){if(Lc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Lc=!1}Ps=0,St=We=Ne=null,Ea=!1,Hl=Uc=0,Ta=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Ne.memoizedState=St=t:St=St.next=t,St}function pt(){if(We===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var n=St===null?Ne.memoizedState:St.next;if(n!==null)St=n,We=t;else{if(t===null)throw Ne.alternate===null?Error(a(467)):Error(a(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},St===null?Ne.memoizedState=St=t:St=St.next=t}return St}function Pc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fl(t){var n=Hl;return Hl+=1,Ta===null&&(Ta=[]),t=Yg(Ta,t,n),n=Ne,(St===null?n.memoizedState:St.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?Lp:Af),t}function zc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Fl(t);if(t.$$typeof===V)return qt(t)}throw Error(a(438,String(t)))}function mf(t){var n=null,r=Ne.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Pc(),Ne.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=I;return n.index++,r}function zs(t,n){return typeof n=="function"?n(t):n}function Bc(t){var n=pt();return gf(n,We,t)}function gf(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var b=y=null,D=null,H=n,X=!1;do{var W=H.lane&-536870913;if(W!==H.lane?(je&W)===W:(Ps&W)===W){var F=H.revertLane;if(F===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),W===ya&&(X=!0);else if((Ps&F)===F){H=H.next,F===ya&&(X=!0);continue}else W={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(b=D=W,y=f):D=D.next=W,Ne.lanes|=F,Ni|=F;W=H.action,Rr&&r(f,W),f=H.hasEagerState?H.eagerState:r(f,W)}else F={lane:W,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(b=D=F,y=f):D=D.next=F,Ne.lanes|=W,Ni|=W;H=H.next}while(H!==null&&H!==n);if(D===null?y=f:D.next=b,!mn(f,t.memoizedState)&&(At=!0,X&&(r=_a,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=D,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function pf(t){var n=pt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var y=h=h.next;do f=t(f,y.action),y=y.next;while(y!==h);mn(f,n.memoizedState)||(At=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function sp(t,n,r){var l=Ne,h=pt(),f=Pe;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!mn((We||h).memoizedState,r);if(y&&(h.memoizedState=r,At=!0),h=h.queue,vf(ap.bind(null,l,h,t),[t]),h.getSnapshot!==n||y||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,Sa(9,{destroy:void 0},rp.bind(null,l,h,r,n),null),nt===null)throw Error(a(349));f||(Ps&127)!==0||ip(l,n,r)}return r}function ip(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ne.updateQueue,n===null?(n=Pc(),Ne.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function rp(t,n,r,l){n.value=r,n.getSnapshot=l,lp(n)&&op(t)}function ap(t,n,r){return r(function(){lp(n)&&op(t)})}function lp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!mn(t,r)}catch{return!0}}function op(t){var n=vr(t,2);n!==null&&un(n,t,2)}function yf(t){var n=nn();if(typeof t=="function"){var r=t;if(t=r(),Rr){bn(!0);try{r()}finally{bn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:t},n}function cp(t,n,r,l){return t.baseState=r,gf(t,We,typeof l=="function"?l:zs)}function vb(t,n,r,l,h){if(Fc(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};K.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,up(n,f)):(f.next=r.next,n.pending=r.next=f)}}function up(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=K.T,y={};K.T=y;try{var b=r(h,l),D=K.S;D!==null&&D(y,b),hp(t,n,b)}catch(H){_f(t,n,H)}finally{f!==null&&y.types!==null&&(f.types=y.types),K.T=f}}else try{f=r(h,l),hp(t,n,f)}catch(H){_f(t,n,H)}}function hp(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){fp(t,n,l)},function(l){return _f(t,n,l)}):fp(t,n,r)}function fp(t,n,r){n.status="fulfilled",n.value=r,dp(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,up(t,r)))}function _f(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,dp(n),n=n.next;while(n!==l)}t.action=null}function dp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function mp(t,n){return n}function gp(t,n){if(Pe){var r=nt.formState;if(r!==null){e:{var l=Ne;if(Pe){if(st){t:{for(var h=st,f=In;h.nodeType!==8;){if(!f){h=null;break t}if(h=kn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){st=kn(h.nextSibling),l=h.data==="F!";break e}}_i(l)}l=!1}l&&(n=r[0])}}return r=nn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mp,lastRenderedState:n},r.queue=l,r=jp.bind(null,Ne,l),l.dispatch=r,l=yf(!1),f=Sf.bind(null,Ne,!1,l.queue),l=nn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=vb.bind(null,Ne,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function pp(t){var n=pt();return yp(n,We,t)}function yp(t,n,r){if(n=gf(t,n,mp)[0],t=Bc(zs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Fl(n)}catch(y){throw y===va?Dc:y}else l=n;n=pt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Ne.flags|=2048,Sa(9,{destroy:void 0},xb.bind(null,h,r),null)),[l,f,t]}function xb(t,n){t.action=n}function _p(t){var n=pt(),r=We;if(r!==null)return yp(n,r,t);pt(),n=n.memoizedState,r=pt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Sa(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Ne.updateQueue,n===null&&(n=Pc(),Ne.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function vp(){return pt().memoizedState}function qc(t,n,r,l){var h=nn();Ne.flags|=t,h.memoizedState=Sa(1|n,{destroy:void 0},r,l===void 0?null:l)}function Hc(t,n,r,l){var h=pt();l=l===void 0?null:l;var f=h.memoizedState.inst;We!==null&&l!==null&&cf(l,We.memoizedState.deps)?h.memoizedState=Sa(n,f,r,l):(Ne.flags|=t,h.memoizedState=Sa(1|n,f,r,l))}function xp(t,n){qc(8390656,8,t,n)}function vf(t,n){Hc(2048,8,t,n)}function bb(t){Ne.flags|=4;var n=Ne.updateQueue;if(n===null)n=Pc(),Ne.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function bp(t){var n=pt().memoizedState;return bb({ref:n,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Ep(t,n){return Hc(4,2,t,n)}function Tp(t,n){return Hc(4,4,t,n)}function Sp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ap(t,n,r){r=r!=null?r.concat([t]):null,Hc(4,4,Sp.bind(null,n,t),r)}function xf(){}function wp(t,n){var r=pt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&cf(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Np(t,n){var r=pt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&cf(n,l[1]))return l[0];if(l=t(),Rr){bn(!0);try{t()}finally{bn(!1)}}return r.memoizedState=[l,n],l}function bf(t,n,r){return r===void 0||(Ps&1073741824)!==0&&(je&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=R0(),Ne.lanes|=t,Ni|=t,r)}function Rp(t,n,r,l){return mn(r,n)?r:ba.current!==null?(t=bf(t,r,l),mn(t,n)||(At=!0),t):(Ps&42)===0||(Ps&1073741824)!==0&&(je&261930)===0?(At=!0,t.memoizedState=r):(t=R0(),Ne.lanes|=t,Ni|=t,n)}function Cp(t,n,r,l,h){var f=le.p;le.p=f!==0&&8>f?f:8;var y=K.T,b={};K.T=b,Sf(t,!1,n,r);try{var D=h(),H=K.S;if(H!==null&&H(b,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var X=pb(D,l);Gl(t,n,X,xn(t))}else Gl(t,n,l,xn(t))}catch(W){Gl(t,n,{then:function(){},status:"rejected",reason:W},xn())}finally{le.p=f,y!==null&&b.types!==null&&(y.types=b.types),K.T=y}}function Eb(){}function Ef(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=Ip(t).queue;Cp(t,h,n,me,r===null?Eb:function(){return Dp(t),r(l)})}function Ip(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:me},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Dp(t){var n=Ip(t);n.next===null&&(n=t.alternate.memoizedState),Gl(t,n.next.queue,{},xn())}function Tf(){return qt(oo)}function kp(){return pt().memoizedState}function Mp(){return pt().memoizedState}function Tb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=xn();t=bi(r);var l=Ei(n,t,r);l!==null&&(un(l,n,r),zl(l,n,r)),n={cache:Zh()},t.payload=n;return}n=n.return}}function Sb(t,n,r){var l=xn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Fc(t)?Op(n,r):(r=zh(t,n,r,l),r!==null&&(un(r,t,l),Vp(r,n,l)))}function jp(t,n,r){var l=xn();Gl(t,n,r,l)}function Gl(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Fc(t))Op(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,b=f(y,r);if(h.hasEagerState=!0,h.eagerState=b,mn(b,y))return Sc(t,n,h,0),nt===null&&Tc(),!1}catch{}finally{}if(r=zh(t,n,h,l),r!==null)return un(r,t,l),Vp(r,n,l),!0}return!1}function Sf(t,n,r,l){if(l={lane:2,revertLane:nd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Fc(t)){if(n)throw Error(a(479))}else n=zh(t,r,l,2),n!==null&&un(n,t,2)}function Fc(t){var n=t.alternate;return t===Ne||n!==null&&n===Ne}function Op(t,n){Ea=Lc=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Vp(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,dl(t,r)}}var Yl={readContext:qt,use:zc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};Yl.useEffectEvent=ht;var Lp={readContext:qt,use:zc,useCallback:function(t,n){return nn().memoizedState=[t,n===void 0?null:n],t},useContext:qt,useEffect:xp,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,qc(4194308,4,Sp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return qc(4194308,4,t,n)},useInsertionEffect:function(t,n){qc(4,2,t,n)},useMemo:function(t,n){var r=nn();n=n===void 0?null:n;var l=t();if(Rr){bn(!0);try{t()}finally{bn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=nn();if(r!==void 0){var h=r(n);if(Rr){bn(!0);try{r(n)}finally{bn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Sb.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var n=nn();return t={current:t},n.memoizedState=t},useState:function(t){t=yf(t);var n=t.queue,r=jp.bind(null,Ne,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:xf,useDeferredValue:function(t,n){var r=nn();return bf(r,t,n)},useTransition:function(){var t=yf(!1);return t=Cp.bind(null,Ne,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Ne,h=nn();if(Pe){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),nt===null)throw Error(a(349));(je&127)!==0||ip(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,xp(ap.bind(null,l,f,t),[t]),l.flags|=2048,Sa(9,{destroy:void 0},rp.bind(null,l,f,r,n),null),r},useId:function(){var t=nn(),n=nt.identifierPrefix;if(Pe){var r=vs,l=_s;r=(l&~(1<<32-dt(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Uc++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=yb++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Tf,useFormState:gp,useActionState:gp,useOptimistic:function(t){var n=nn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Sf.bind(null,Ne,!0,r),r.dispatch=n,[t,n]},useMemoCache:mf,useCacheRefresh:function(){return nn().memoizedState=Tb.bind(null,Ne)},useEffectEvent:function(t){var n=nn(),r={impl:t};return n.memoizedState=r,function(){if((Qe&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Af={readContext:qt,use:zc,useCallback:wp,useContext:qt,useEffect:vf,useImperativeHandle:Ap,useInsertionEffect:Ep,useLayoutEffect:Tp,useMemo:Np,useReducer:Bc,useRef:vp,useState:function(){return Bc(zs)},useDebugValue:xf,useDeferredValue:function(t,n){var r=pt();return Rp(r,We.memoizedState,t,n)},useTransition:function(){var t=Bc(zs)[0],n=pt().memoizedState;return[typeof t=="boolean"?t:Fl(t),n]},useSyncExternalStore:sp,useId:kp,useHostTransitionStatus:Tf,useFormState:pp,useActionState:pp,useOptimistic:function(t,n){var r=pt();return cp(r,We,t,n)},useMemoCache:mf,useCacheRefresh:Mp};Af.useEffectEvent=bp;var Up={readContext:qt,use:zc,useCallback:wp,useContext:qt,useEffect:vf,useImperativeHandle:Ap,useInsertionEffect:Ep,useLayoutEffect:Tp,useMemo:Np,useReducer:pf,useRef:vp,useState:function(){return pf(zs)},useDebugValue:xf,useDeferredValue:function(t,n){var r=pt();return We===null?bf(r,t,n):Rp(r,We.memoizedState,t,n)},useTransition:function(){var t=pf(zs)[0],n=pt().memoizedState;return[typeof t=="boolean"?t:Fl(t),n]},useSyncExternalStore:sp,useId:kp,useHostTransitionStatus:Tf,useFormState:_p,useActionState:_p,useOptimistic:function(t,n){var r=pt();return We!==null?cp(r,We,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:mf,useCacheRefresh:Mp};Up.useEffectEvent=bp;function wf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:S({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Nf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=xn(),h=bi(l);h.payload=n,r!=null&&(h.callback=r),n=Ei(t,h,l),n!==null&&(un(n,t,l),zl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=xn(),h=bi(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Ei(t,h,l),n!==null&&(un(n,t,l),zl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=xn(),l=bi(r);l.tag=2,n!=null&&(l.callback=n),n=Ei(t,l,r),n!==null&&(un(n,t,r),zl(n,t,r))}};function Pp(t,n,r,l,h,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!kl(r,l)||!kl(h,f):!0}function zp(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Nf.enqueueReplaceState(n,n.state,null)}function Cr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=S({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Bp(t){Ec(t)}function qp(t){console.error(t)}function Hp(t){Ec(t)}function Gc(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Fp(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Rf(t,n,r){return r=bi(r),r.tag=3,r.payload={element:null},r.callback=function(){Gc(t,n)},r}function Gp(t){return t=bi(t),t.tag=3,t}function Yp(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Fp(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Fp(n,r,l),typeof h!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function Ab(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&pa(n,r,h,!0),r=pn.current,r!==null){switch(r.tag){case 31:case 13:return Dn===null?su():r.alternate===null&&ft===0&&(ft=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===kc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Wf(t,l,h)),!1;case 22:return r.flags|=65536,l===kc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Wf(t,l,h)),!1}throw Error(a(435,r.tag))}return Wf(t,l,h),su(),!1}if(Pe)return n=pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Yh&&(t=Error(a(422),{cause:l}),Ol(Nn(t,r)))):(l!==Yh&&(n=Error(a(423),{cause:l}),Ol(Nn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Nn(l,r),h=Rf(t.stateNode,l,h),sf(t,h),ft!==4&&(ft=2)),!1;var f=Error(a(520),{cause:l});if(f=Nn(f,r),eo===null?eo=[f]:eo.push(f),ft!==4&&(ft=2),n===null)return!0;l=Nn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Rf(r.stateNode,l,t),sf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ri===null||!Ri.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Gp(h),Yp(h,t,r,l),sf(r,h),!1}r=r.return}while(r!==null);return!1}var Cf=Error(a(461)),At=!1;function Ht(t,n,r,l){n.child=t===null?$g(n,null,r,l):Nr(n,t.child,r,l)}function Qp(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var b in l)b!=="ref"&&(y[b]=l[b])}else y=l;return Tr(n),l=uf(t,n,r,y,f,h),b=hf(),t!==null&&!At?(ff(t,n,h),Bs(t,n,h)):(Pe&&b&&Fh(n),n.flags|=1,Ht(t,n,l,h),n.child)}function Kp(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!Bh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Xp(t,n,f,l,h)):(t=wc(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Lf(t,h)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:kl,r(y,l)&&t.ref===n.ref)return Bs(t,n,h)}return n.flags|=1,t=Os(f,l),t.ref=n.ref,t.return=n,n.child=t}function Xp(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(kl(f,l)&&t.ref===n.ref)if(At=!1,n.pendingProps=l=f,Lf(t,h))(t.flags&131072)!==0&&(At=!0);else return n.lanes=t.lanes,Bs(t,n,h)}return If(t,n,r,l,h)}function $p(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Zp(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ic(n,f!==null?f.cachePool:null),f!==null?Wg(n,f):af(),ep(n);else return l=n.lanes=536870912,Zp(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Ic(n,f.cachePool),Wg(n,f),Si(),n.memoizedState=null):(t!==null&&Ic(n,null),af(),Si());return Ht(t,n,h,r),n.child}function Ql(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Zp(t,n,r,l,h){var f=Wh();return f=f===null?null:{parent:Tt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Ic(n,null),af(),ep(n),t!==null&&pa(t,n,l,!0),n.childLanes=h,null}function Yc(t,n){return n=Kc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Jp(t,n,r){return Nr(n,t.child,null,r),t=Yc(n,n.pendingProps),t.flags|=2,yn(n),n.memoizedState=null,t}function wb(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=Yc(n,l),n.lanes=536870912,Ql(null,t);if(of(n),(t=st)?(t=uy(t,In),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:pi!==null?{id:_s,overflow:vs}:null,retryLane:536870912,hydrationErrors:null},r=Og(t),r.return=n,n.child=r,Bt=n,st=null)):t=null,t===null)throw _i(n);return n.lanes=536870912,null}return Yc(n,l)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(of(n),h)if(n.flags&256)n.flags&=-257,n=Jp(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(At||pa(t,n,r,!1),h=(r&t.childLanes)!==0,At||h){if(l=nt,l!==null&&(y=ml(l,r),y!==0&&y!==f.retryLane))throw f.retryLane=y,vr(t,y),un(l,t,y),Cf;su(),n=Jp(t,n,r)}else t=f.treeContext,st=kn(y.nextSibling),Bt=n,Pe=!0,yi=null,In=!1,t!==null&&Ug(n,t),n=Yc(n,l),n.flags|=4096;return n}return t=Os(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Qc(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function If(t,n,r,l,h){return Tr(n),r=uf(t,n,r,l,void 0,h),l=hf(),t!==null&&!At?(ff(t,n,h),Bs(t,n,h)):(Pe&&l&&Fh(n),n.flags|=1,Ht(t,n,r,h),n.child)}function Wp(t,n,r,l,h,f){return Tr(n),n.updateQueue=null,r=np(n,l,r,h),tp(t),l=hf(),t!==null&&!At?(ff(t,n,f),Bs(t,n,f)):(Pe&&l&&Fh(n),n.flags|=1,Ht(t,n,r,f),n.child)}function e0(t,n,r,l,h){if(Tr(n),n.stateNode===null){var f=fa,y=r.contextType;typeof y=="object"&&y!==null&&(f=qt(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Nf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},tf(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?qt(y):fa,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(wf(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Nf.enqueueReplaceState(f,f.state,null),ql(n,l,f,h),Bl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var b=n.memoizedProps,D=Cr(r,b);f.props=D;var H=f.context,X=r.contextType;y=fa,typeof X=="object"&&X!==null&&(y=qt(X));var W=r.getDerivedStateFromProps;X=typeof W=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,X||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||H!==y)&&zp(n,f,l,y),xi=!1;var F=n.memoizedState;f.state=F,ql(n,l,f,h),Bl(),H=n.memoizedState,b||F!==H||xi?(typeof W=="function"&&(wf(n,r,W,l),H=n.memoizedState),(D=xi||Pp(n,r,D,l,F,H,y))?(X||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=y,l=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,nf(t,n),y=n.memoizedProps,X=Cr(r,y),f.props=X,W=n.pendingProps,F=f.context,H=r.contextType,D=fa,typeof H=="object"&&H!==null&&(D=qt(H)),b=r.getDerivedStateFromProps,(H=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==W||F!==D)&&zp(n,f,l,D),xi=!1,F=n.memoizedState,f.state=F,ql(n,l,f,h),Bl();var Y=n.memoizedState;y!==W||F!==Y||xi||t!==null&&t.dependencies!==null&&Rc(t.dependencies)?(typeof b=="function"&&(wf(n,r,b,l),Y=n.memoizedState),(X=xi||Pp(n,r,X,l,F,Y,D)||t!==null&&t.dependencies!==null&&Rc(t.dependencies))?(H||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Y,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Y,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Y),f.props=l,f.state=Y,f.context=D,l=X):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Qc(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Nr(n,t.child,null,h),n.child=Nr(n,null,r,h)):Ht(t,n,r,h),n.memoizedState=f.state,t=n.child):t=Bs(t,n,h),t}function t0(t,n,r,l){return br(),n.flags|=256,Ht(t,n,r,l),n.child}var Df={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kf(t){return{baseLanes:t,cachePool:Fg()}}function Mf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=vn),t}function n0(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pe){if(h?Ti(n):Si(),(t=st)?(t=uy(t,In),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:pi!==null?{id:_s,overflow:vs}:null,retryLane:536870912,hydrationErrors:null},r=Og(t),r.return=n,n.child=r,Bt=n,st=null)):t=null,t===null)throw _i(n);return gd(t)?n.lanes=32:n.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(Si(),h=n.mode,b=Kc({mode:"hidden",children:b},h),l=xr(l,h,r,null),b.return=n,l.return=n,b.sibling=l,n.child=b,l=n.child,l.memoizedState=kf(r),l.childLanes=Mf(t,y,r),n.memoizedState=Df,Ql(null,l)):(Ti(n),jf(n,b))}var D=t.memoizedState;if(D!==null&&(b=D.dehydrated,b!==null)){if(f)n.flags&256?(Ti(n),n.flags&=-257,n=Of(t,n,r)):n.memoizedState!==null?(Si(),n.child=t.child,n.flags|=128,n=null):(Si(),b=l.fallback,h=n.mode,l=Kc({mode:"visible",children:l.children},h),b=xr(b,h,r,null),b.flags|=2,l.return=n,b.return=n,l.sibling=b,n.child=l,Nr(n,t.child,null,r),l=n.child,l.memoizedState=kf(r),l.childLanes=Mf(t,y,r),n.memoizedState=Df,n=Ql(null,l));else if(Ti(n),gd(b)){if(y=b.nextSibling&&b.nextSibling.dataset,y)var H=y.dgst;y=H,l=Error(a(419)),l.stack="",l.digest=y,Ol({value:l,source:null,stack:null}),n=Of(t,n,r)}else if(At||pa(t,n,r,!1),y=(r&t.childLanes)!==0,At||y){if(y=nt,y!==null&&(l=ml(y,r),l!==0&&l!==D.retryLane))throw D.retryLane=l,vr(t,l),un(y,t,l),Cf;md(b)||su(),n=Of(t,n,r)}else md(b)?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,st=kn(b.nextSibling),Bt=n,Pe=!0,yi=null,In=!1,t!==null&&Ug(n,t),n=jf(n,l.children),n.flags|=4096);return n}return h?(Si(),b=l.fallback,h=n.mode,D=t.child,H=D.sibling,l=Os(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,H!==null?b=Os(H,b):(b=xr(b,h,r,null),b.flags|=2),b.return=n,l.return=n,l.sibling=b,n.child=l,Ql(null,l),l=n.child,b=t.child.memoizedState,b===null?b=kf(r):(h=b.cachePool,h!==null?(D=Tt._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=Fg(),b={baseLanes:b.baseLanes|r,cachePool:h}),l.memoizedState=b,l.childLanes=Mf(t,y,r),n.memoizedState=Df,Ql(t.child,l)):(Ti(n),r=t.child,t=r.sibling,r=Os(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function jf(t,n){return n=Kc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Kc(t,n){return t=gn(22,t,null,n),t.lanes=0,t}function Of(t,n,r){return Nr(n,t.child,null,r),t=jf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function s0(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Xh(t.return,n,r)}function Vf(t,n,r,l,h,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=r,y.tailMode=h,y.treeForkCount=f)}function i0(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var y=gt.current,b=(y&2)!==0;if(b?(y=y&1|2,n.flags|=128):y&=1,oe(gt,y),Ht(t,n,l,r),l=Pe?jl:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&s0(t,r,n);else if(t.tag===19)s0(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Vc(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Vf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Vc(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Vf(n,!0,r,null,f,l);break;case"together":Vf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Bs(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ni|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(pa(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Os(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Os(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Lf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Rc(t)))}function Nb(t,n,r){switch(n.tag){case 3:Ct(n,n.stateNode.containerInfo),vi(n,Tt,t.memoizedState.cache),br();break;case 27:case 5:tr(n);break;case 4:Ct(n,n.stateNode.containerInfo);break;case 10:vi(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,of(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ti(n),n.flags|=128,null):(r&n.child.childLanes)!==0?n0(t,n,r):(Ti(n),t=Bs(t,n,r),t!==null?t.sibling:null);Ti(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(pa(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return i0(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(gt,gt.current),l)break;return null;case 22:return n.lanes=0,$p(t,n,r,n.pendingProps);case 24:vi(n,Tt,t.memoizedState.cache)}return Bs(t,n,r)}function r0(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)At=!0;else{if(!Lf(t,r)&&(n.flags&128)===0)return At=!1,Nb(t,n,r);At=(t.flags&131072)!==0}else At=!1,Pe&&(n.flags&1048576)!==0&&Lg(n,jl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Ar(n.elementType),n.type=t,typeof t=="function")Bh(t)?(l=Cr(t,l),n.tag=1,n=e0(null,n,t,l,r)):(n.tag=0,n=If(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===ie){n.tag=11,n=Qp(null,n,t,l,r);break e}else if(h===k){n.tag=14,n=Kp(null,n,t,l,r);break e}}throw n=Me(t)||t,Error(a(306,n,""))}}return n;case 0:return If(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Cr(l,n.pendingProps),e0(t,n,l,h,r);case 3:e:{if(Ct(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,nf(t,n),ql(n,l,null,r);var y=n.memoizedState;if(l=y.cache,vi(n,Tt,l),l!==f.cache&&$h(n,[Tt],r,!0),Bl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=t0(t,n,l,r);break e}else if(l!==h){h=Nn(Error(a(424)),n),Ol(h),n=t0(t,n,l,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(st=kn(t.firstChild),Bt=n,Pe=!0,yi=null,In=!0,r=$g(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(br(),l===h){n=Bs(t,n,r);break e}Ht(t,n,l,r)}n=n.child}return n;case 26:return Qc(t,n),t===null?(r=py(n.type,null,n.pendingProps,null))?n.memoizedState=r:Pe||(r=n.type,t=n.pendingProps,l=uu(Re.current).createElement(r),l[xt]=n,l[jt]=t,Ft(l,r,t),bt(l),n.stateNode=l):n.memoizedState=py(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return tr(n),t===null&&Pe&&(l=n.stateNode=dy(n.type,n.pendingProps,Re.current),Bt=n,In=!0,h=st,ki(n.type)?(pd=h,st=kn(l.firstChild)):st=h),Ht(t,n,n.pendingProps.children,r),Qc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pe&&((h=l=st)&&(l=sE(l,n.type,n.pendingProps,In),l!==null?(n.stateNode=l,Bt=n,st=kn(l.firstChild),In=!1,h=!0):h=!1),h||_i(n)),tr(n),h=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,hd(h,f)?l=null:y!==null&&hd(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=uf(t,n,_b,null,null,r),oo._currentValue=h),Qc(t,n),Ht(t,n,l,r),n.child;case 6:return t===null&&Pe&&((t=r=st)&&(r=iE(r,n.pendingProps,In),r!==null?(n.stateNode=r,Bt=n,st=null,t=!0):t=!1),t||_i(n)),null;case 13:return n0(t,n,r);case 4:return Ct(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Nr(n,null,l,r):Ht(t,n,l,r),n.child;case 11:return Qp(t,n,n.type,n.pendingProps,r);case 7:return Ht(t,n,n.pendingProps,r),n.child;case 8:return Ht(t,n,n.pendingProps.children,r),n.child;case 12:return Ht(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,vi(n,n.type,l.value),Ht(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Tr(n),h=qt(h),l=l(h),n.flags|=1,Ht(t,n,l,r),n.child;case 14:return Kp(t,n,n.type,n.pendingProps,r);case 15:return Xp(t,n,n.type,n.pendingProps,r);case 19:return i0(t,n,r);case 31:return wb(t,n,r);case 22:return $p(t,n,r,n.pendingProps);case 24:return Tr(n),l=qt(Tt),t===null?(h=Wh(),h===null&&(h=nt,f=Zh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},tf(n),vi(n,Tt,h)):((t.lanes&r)!==0&&(nf(t,n),ql(n,null,null,r),Bl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),vi(n,Tt,l)):(l=f.cache,vi(n,Tt,l),l!==h.cache&&$h(n,[Tt],r,!0))),Ht(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function qs(t){t.flags|=4}function Uf(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(k0())t.flags|=8192;else throw wr=kc,ef}else t.flags&=-16777217}function a0(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!by(n))if(k0())t.flags|=8192;else throw wr=kc,ef}function Xc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?tc():536870912,t.lanes|=n,Ra|=n)}function Kl(t,n){if(!Pe)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function Rb(t,n,r){var l=n.pendingProps;switch(Gh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(n),null;case 1:return it(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Us(Tt),at(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ga(n)?qs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Qh())),it(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(qs(n),f!==null?(it(n),a0(n,f)):(it(n),Uf(n,h,null,l,r))):f?f!==t.memoizedState?(qs(n),it(n),a0(n,f)):(it(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&qs(n),it(n),Uf(n,h,t,l,r)),null;case 27:if(Qr(n),r=Re.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&qs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return it(n),null}t=ue.current,ga(n)?Pg(n):(t=dy(h,l,r),n.stateNode=t,qs(n))}return it(n),null;case 5:if(Qr(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&qs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return it(n),null}if(f=ue.current,ga(n))Pg(n);else{var y=uu(Re.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?y.createElement(h,{is:l.is}):y.createElement(h)}}f[xt]=n,f[jt]=l;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch(Ft(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&qs(n)}}return it(n),Uf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&qs(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Re.current,ga(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[xt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||ny(t.nodeValue,r)),t||_i(n,!0)}else t=uu(t).createTextNode(l),t[xt]=n,n.stateNode=t}return it(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=ga(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[xt]=n}else br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),t=!1}else r=Qh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return it(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ga(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[xt]=n}else br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),h=!1}else h=Qh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),Xc(n,n.updateQueue),it(n),null);case 4:return at(),t===null&&ad(n.stateNode.containerInfo),it(n),null;case 10:return Us(n.type),it(n),null;case 19:if(ee(gt),l=n.memoizedState,l===null)return it(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Kl(l,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Vc(t),f!==null){for(n.flags|=128,Kl(l,!1),t=f.updateQueue,n.updateQueue=t,Xc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)jg(r,t),r=r.sibling;return oe(gt,gt.current&1|2),Pe&&Vs(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&en()>eu&&(n.flags|=128,h=!0,Kl(l,!1),n.lanes=4194304)}else{if(!h)if(t=Vc(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Xc(n,t),Kl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Pe)return it(n),null}else 2*en()-l.renderingStartTime>eu&&r!==536870912&&(n.flags|=128,h=!0,Kl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,r=gt.current,oe(gt,h?r&1|2:r&1),Pe&&Vs(n,l.treeForkCount),t):(it(n),null);case 22:case 23:return yn(n),lf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(it(n),n.subtreeFlags&6&&(n.flags|=8192)):it(n),r=n.updateQueue,r!==null&&Xc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&ee(Sr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Us(Tt),it(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Cb(t,n){switch(Gh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Us(Tt),at(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Qr(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(a(340));br()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(yn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));br()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ee(gt),null;case 4:return at(),null;case 10:return Us(n.type),null;case 22:case 23:return yn(n),lf(),t!==null&&ee(Sr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Us(Tt),null;case 25:return null;default:return null}}function l0(t,n){switch(Gh(n),n.tag){case 3:Us(Tt),at();break;case 26:case 27:case 5:Qr(n);break;case 4:at();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:ee(gt);break;case 10:Us(n.type);break;case 22:case 23:yn(n),lf(),t!==null&&ee(Sr);break;case 24:Us(Tt)}}function Xl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==h)}}catch(b){Ze(n,n.return,b)}}function Ai(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var y=l.inst,b=y.destroy;if(b!==void 0){y.destroy=void 0,h=n;var D=r,H=b;try{H()}catch(X){Ze(h,D,X)}}}l=l.next}while(l!==f)}}catch(X){Ze(n,n.return,X)}}function o0(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Jg(n,r)}catch(l){Ze(t,t.return,l)}}}function c0(t,n,r){r.props=Cr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Ze(t,n,l)}}function $l(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){Ze(t,n,h)}}function xs(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Ze(t,n,h)}else r.current=null}function u0(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Ze(t,t.return,h)}}function Pf(t,n,r){try{var l=t.stateNode;Zb(l,t.type,r,n),l[jt]=n}catch(h){Ze(t,t.return,h)}}function h0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ki(t.type)||t.tag===4}function zf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||h0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ki(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=qn));else if(l!==4&&(l===27&&ki(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Bf(t,n,r),t=t.sibling;t!==null;)Bf(t,n,r),t=t.sibling}function $c(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&ki(t.type)&&(r=t.stateNode),t=t.child,t!==null))for($c(t,n,r),t=t.sibling;t!==null;)$c(t,n,r),t=t.sibling}function f0(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ft(n,l,r),n[xt]=t,n[jt]=r}catch(f){Ze(t,t.return,f)}}var Hs=!1,wt=!1,qf=!1,d0=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function Ib(t,n){if(t=t.containerInfo,cd=yu,t=Ag(t),jh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var y=0,b=-1,D=-1,H=0,X=0,W=t,F=null;t:for(;;){for(var Y;W!==r||h!==0&&W.nodeType!==3||(b=y+h),W!==f||l!==0&&W.nodeType!==3||(D=y+l),W.nodeType===3&&(y+=W.nodeValue.length),(Y=W.firstChild)!==null;)F=W,W=Y;for(;;){if(W===t)break t;if(F===r&&++H===h&&(b=y),F===f&&++X===l&&(D=y),(Y=W.nextSibling)!==null)break;W=F,F=W.parentNode}W=Y}r=b===-1||D===-1?null:{start:b,end:D}}else r=null}r=r||{start:0,end:0}}else r=null;for(ud={focusedElem:t,selectionRange:r},yu=!1,Vt=n;Vt!==null;)if(n=Vt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Vt=t;else for(;Vt!==null;){switch(n=Vt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var fe=Cr(r.type,h);t=l.getSnapshotBeforeUpdate(fe,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Ze(r,r.return,_e)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)dd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":dd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Vt=t;break}Vt=n.return}}function m0(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Gs(t,r),l&4&&Xl(5,r);break;case 1:if(Gs(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Ze(r,r.return,y)}else{var h=Cr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Ze(r,r.return,y)}}l&64&&o0(r),l&512&&$l(r,r.return);break;case 3:if(Gs(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Jg(t,n)}catch(y){Ze(r,r.return,y)}}break;case 27:n===null&&l&4&&f0(r);case 26:case 5:Gs(t,r),n===null&&l&4&&u0(r),l&512&&$l(r,r.return);break;case 12:Gs(t,r);break;case 31:Gs(t,r),l&4&&y0(t,r);break;case 13:Gs(t,r),l&4&&_0(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=Pb.bind(null,r),rE(t,r))));break;case 22:if(l=r.memoizedState!==null||Hs,!l){n=n!==null&&n.memoizedState!==null||wt,h=Hs;var f=wt;Hs=l,(wt=n)&&!f?Ys(t,r,(r.subtreeFlags&8772)!==0):Gs(t,r),Hs=h,wt=f}break;case 30:break;default:Gs(t,r)}}function g0(t){var n=t.alternate;n!==null&&(t.alternate=null,g0(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Jr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,an=!1;function Fs(t,n,r){for(r=r.child;r!==null;)p0(t,n,r),r=r.sibling}function p0(t,n,r){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Un,r)}catch{}switch(r.tag){case 26:wt||xs(r,n),Fs(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:wt||xs(r,n);var l=ot,h=an;ki(r.type)&&(ot=r.stateNode,an=!1),Fs(t,n,r),ro(r.stateNode),ot=l,an=h;break;case 5:wt||xs(r,n);case 6:if(l=ot,h=an,ot=null,Fs(t,n,r),ot=l,an=h,ot!==null)if(an)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(r.stateNode)}catch(f){Ze(r,n,f)}else try{ot.removeChild(r.stateNode)}catch(f){Ze(r,n,f)}break;case 18:ot!==null&&(an?(t=ot,oy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Va(t)):oy(ot,r.stateNode));break;case 4:l=ot,h=an,ot=r.stateNode.containerInfo,an=!0,Fs(t,n,r),ot=l,an=h;break;case 0:case 11:case 14:case 15:Ai(2,r,n),wt||Ai(4,r,n),Fs(t,n,r);break;case 1:wt||(xs(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&c0(r,n,l)),Fs(t,n,r);break;case 21:Fs(t,n,r);break;case 22:wt=(l=wt)||r.memoizedState!==null,Fs(t,n,r),wt=l;break;default:Fs(t,n,r)}}function y0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Va(t)}catch(r){Ze(n,n.return,r)}}}function _0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Va(t)}catch(r){Ze(n,n.return,r)}}function Db(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new d0),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new d0),n;default:throw Error(a(435,t.tag))}}function Zc(t,n){var r=Db(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=zb.bind(null,t,l);l.then(h,h)}})}function ln(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,y=n,b=y;e:for(;b!==null;){switch(b.tag){case 27:if(ki(b.type)){ot=b.stateNode,an=!1;break e}break;case 5:ot=b.stateNode,an=!1;break e;case 3:case 4:ot=b.stateNode.containerInfo,an=!0;break e}b=b.return}if(ot===null)throw Error(a(160));p0(f,y,h),ot=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)v0(n,t),n=n.sibling}var Kn=null;function v0(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),on(t),l&4&&(Ai(3,t,t.return),Xl(3,t),Ai(5,t,t.return));break;case 1:ln(n,t),on(t),l&512&&(wt||r===null||xs(r,r.return)),l&64&&Hs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=Kn;if(ln(n,t),on(t),l&512&&(wt||r===null||xs(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[as]||f[xt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Ft(f,l,r),f[xt]=t,bt(f),l=f;break e;case"link":var y=vy("link","href",h).get(l+(r.href||""));if(y){for(var b=0;b<y.length;b++)if(f=y[b],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(b,1);break t}}f=h.createElement(l),Ft(f,l,r),h.head.appendChild(f);break;case"meta":if(y=vy("meta","content",h).get(l+(r.content||""))){for(b=0;b<y.length;b++)if(f=y[b],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(b,1);break t}}f=h.createElement(l),Ft(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[xt]=t,bt(f),l=f}t.stateNode=l}else xy(h,t.type,t.stateNode);else t.stateNode=_y(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?xy(h,t.type,t.stateNode):_y(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Pf(t,t.memoizedProps,r.memoizedProps)}break;case 27:ln(n,t),on(t),l&512&&(wt||r===null||xs(r,r.return)),r!==null&&l&4&&Pf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(ln(n,t),on(t),l&512&&(wt||r===null||xs(r,r.return)),t.flags&32){h=t.stateNode;try{rn(h,"")}catch(fe){Ze(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Pf(t,h,r!==null?r.memoizedProps:h)),l&1024&&(qf=!0);break;case 6:if(ln(n,t),on(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(fe){Ze(t,t.return,fe)}}break;case 3:if(du=null,h=Kn,Kn=hu(n.containerInfo),ln(n,t),Kn=h,on(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Va(n.containerInfo)}catch(fe){Ze(t,t.return,fe)}qf&&(qf=!1,x0(t));break;case 4:l=Kn,Kn=hu(t.stateNode.containerInfo),ln(n,t),on(t),Kn=l;break;case 12:ln(n,t),on(t);break;case 31:ln(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Zc(t,l)));break;case 13:ln(n,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Wc=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Zc(t,l)));break;case 22:h=t.memoizedState!==null;var D=r!==null&&r.memoizedState!==null,H=Hs,X=wt;if(Hs=H||h,wt=X||D,ln(n,t),wt=X,Hs=H,on(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||D||Hs||wt||Ir(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){D=r=n;try{if(f=D.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{b=D.stateNode;var W=D.memoizedProps.style,F=W!=null&&W.hasOwnProperty("display")?W.display:null;b.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(fe){Ze(D,D.return,fe)}}}else if(n.tag===6){if(r===null){D=n;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(fe){Ze(D,D.return,fe)}}}else if(n.tag===18){if(r===null){D=n;try{var Y=D.stateNode;h?cy(Y,!0):cy(D.stateNode,!1)}catch(fe){Ze(D,D.return,fe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Zc(t,r))));break;case 19:ln(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Zc(t,l)));break;case 30:break;case 21:break;default:ln(n,t),on(t)}}function on(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(h0(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=zf(t);$c(t,f,h);break;case 5:var y=r.stateNode;r.flags&32&&(rn(y,""),r.flags&=-33);var b=zf(t);$c(t,b,y);break;case 3:case 4:var D=r.stateNode.containerInfo,H=zf(t);Bf(t,H,D);break;default:throw Error(a(161))}}catch(X){Ze(t,t.return,X)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function x0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;x0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Gs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)m0(t,n.alternate,n),n=n.sibling}function Ir(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ai(4,n,n.return),Ir(n);break;case 1:xs(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&c0(n,n.return,r),Ir(n);break;case 27:ro(n.stateNode);case 26:case 5:xs(n,n.return),Ir(n);break;case 22:n.memoizedState===null&&Ir(n);break;case 30:Ir(n);break;default:Ir(n)}t=t.sibling}}function Ys(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Ys(h,f,r),Xl(4,f);break;case 1:if(Ys(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){Ze(l,l.return,H)}if(l=f,h=l.updateQueue,h!==null){var b=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Zg(D[h],b)}catch(H){Ze(l,l.return,H)}}r&&y&64&&o0(f),$l(f,f.return);break;case 27:f0(f);case 26:case 5:Ys(h,f,r),r&&l===null&&y&4&&u0(f),$l(f,f.return);break;case 12:Ys(h,f,r);break;case 31:Ys(h,f,r),r&&y&4&&y0(h,f);break;case 13:Ys(h,f,r),r&&y&4&&_0(h,f);break;case 22:f.memoizedState===null&&Ys(h,f,r),$l(f,f.return);break;case 30:break;default:Ys(h,f,r)}n=n.sibling}}function Hf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Vl(r))}function Ff(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Vl(t))}function Xn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)b0(t,n,r,l),n=n.sibling}function b0(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(t,n,r,l),h&2048&&Xl(9,n);break;case 1:Xn(t,n,r,l);break;case 3:Xn(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Vl(t)));break;case 12:if(h&2048){Xn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,b=f.onPostCommit;typeof b=="function"&&b(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Ze(n,n.return,D)}}else Xn(t,n,r,l);break;case 31:Xn(t,n,r,l);break;case 13:Xn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(t,n,r,l):Zl(t,n):f._visibility&2?Xn(t,n,r,l):(f._visibility|=2,Aa(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Hf(y,n);break;case 24:Xn(t,n,r,l),h&2048&&Ff(n.alternate,n);break;default:Xn(t,n,r,l)}}function Aa(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,b=r,D=l,H=y.flags;switch(y.tag){case 0:case 11:case 15:Aa(f,y,b,D,h),Xl(8,y);break;case 23:break;case 22:var X=y.stateNode;y.memoizedState!==null?X._visibility&2?Aa(f,y,b,D,h):Zl(f,y):(X._visibility|=2,Aa(f,y,b,D,h)),h&&H&2048&&Hf(y.alternate,y);break;case 24:Aa(f,y,b,D,h),h&&H&2048&&Ff(y.alternate,y);break;default:Aa(f,y,b,D,h)}n=n.sibling}}function Zl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:Zl(r,l),h&2048&&Hf(l.alternate,l);break;case 24:Zl(r,l),h&2048&&Ff(l.alternate,l);break;default:Zl(r,l)}n=n.sibling}}var Jl=8192;function wa(t,n,r){if(t.subtreeFlags&Jl)for(t=t.child;t!==null;)E0(t,n,r),t=t.sibling}function E0(t,n,r){switch(t.tag){case 26:wa(t,n,r),t.flags&Jl&&t.memoizedState!==null&&yE(r,Kn,t.memoizedState,t.memoizedProps);break;case 5:wa(t,n,r);break;case 3:case 4:var l=Kn;Kn=hu(t.stateNode.containerInfo),wa(t,n,r),Kn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Jl,Jl=16777216,wa(t,n,r),Jl=l):wa(t,n,r));break;default:wa(t,n,r)}}function T0(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Wl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Vt=l,A0(l,t)}T0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)S0(t),t=t.sibling}function S0(t){switch(t.tag){case 0:case 11:case 15:Wl(t),t.flags&2048&&Ai(9,t,t.return);break;case 3:Wl(t);break;case 12:Wl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Jc(t)):Wl(t);break;default:Wl(t)}}function Jc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Vt=l,A0(l,t)}T0(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ai(8,n,n.return),Jc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Jc(n));break;default:Jc(n)}t=t.sibling}}function A0(t,n){for(;Vt!==null;){var r=Vt;switch(r.tag){case 0:case 11:case 15:Ai(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Vl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Vt=l;else e:for(r=t;Vt!==null;){l=Vt;var h=l.sibling,f=l.return;if(g0(l),l===r){Vt=null;break e}if(h!==null){h.return=f,Vt=h;break e}Vt=f}}}var kb={getCacheForType:function(t){var n=qt(Tt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return qt(Tt).controller.signal}},Mb=typeof WeakMap=="function"?WeakMap:Map,Qe=0,nt=null,De=null,je=0,$e=0,_n=null,wi=!1,Na=!1,Gf=!1,Qs=0,ft=0,Ni=0,Dr=0,Yf=0,vn=0,Ra=0,eo=null,cn=null,Qf=!1,Wc=0,w0=0,eu=1/0,tu=null,Ri=null,Dt=0,Ci=null,Ca=null,Ks=0,Kf=0,Xf=null,N0=null,to=0,$f=null;function xn(){return(Qe&2)!==0&&je!==0?je&-je:K.T!==null?nd():nc()}function R0(){if(vn===0)if((je&536870912)===0||Pe){var t=ir;ir<<=1,(ir&3932160)===0&&(ir=262144),vn=t}else vn=536870912;return t=pn.current,t!==null&&(t.flags|=32),vn}function un(t,n,r){(t===nt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(Ia(t,0),Ii(t,je,vn,!1)),rr(t,r),((Qe&2)===0||t!==nt)&&(t===nt&&((Qe&2)===0&&(Dr|=r),ft===4&&Ii(t,je,vn,!1)),bs(t))}function C0(t,n,r){if((Qe&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Pn(t,n),h=l?Vb(t,n):Jf(t,n,!0),f=l;do{if(h===0){Na&&!l&&Ii(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!jb(r)){h=Jf(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var b=t;h=eo;var D=b.current.memoizedState.isDehydrated;if(D&&(Ia(b,y).flags|=256),y=Jf(b,y,!1),y!==2){if(Gf&&!D){b.errorRecoveryDisabledLanes|=f,Dr|=f,h=4;break e}f=cn,cn=h,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){Ia(t,0),Ii(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ii(l,n,vn,!wi);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Wc+300-en(),10<h)){if(Ii(l,n,vn,!wi),ss(l,0,!0)!==0)break e;Ks=n,l.timeoutHandle=ay(I0.bind(null,l,r,cn,tu,Qf,n,vn,Dr,Ra,wi,f,"Throttled",-0,0),h);break e}I0(l,r,cn,tu,Qf,n,vn,Dr,Ra,wi,f,null,-0,0)}}break}while(!0);bs(t)}function I0(t,n,r,l,h,f,y,b,D,H,X,W,F,Y){if(t.timeoutHandle=-1,W=n.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},E0(n,f,W);var fe=(f&62914560)===f?Wc-en():(f&4194048)===f?w0-en():0;if(fe=_E(W,fe),fe!==null){Ks=f,t.cancelPendingCommit=fe(U0.bind(null,t,n,f,r,l,h,y,b,D,X,W,null,F,Y)),Ii(t,f,y,!H);return}}U0(t,n,f,r,l,h,y,b,D)}function jb(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ii(t,n,r,l){n&=~Yf,n&=~Dr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-dt(h),y=1<<f;l[f]=-1,h&=~y}r!==0&&ar(t,r,n)}function nu(){return(Qe&6)===0?(no(0),!1):!0}function Zf(){if(De!==null){if($e===0)var t=De.return;else t=De,Ls=Er=null,df(t),xa=null,Ul=0,t=De;for(;t!==null;)l0(t.alternate,t),t=t.return;De=null}}function Ia(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,eE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Ks=0,Zf(),nt=t,De=r=Os(t.current,null),je=n,$e=0,_n=null,wi=!1,Na=Pn(t,n),Gf=!1,Ra=vn=Yf=Dr=Ni=ft=0,cn=eo=null,Qf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-dt(l),f=1<<h;n|=t[h],l&=~f}return Qs=n,Tc(),r}function D0(t,n){Ne=null,K.H=Yl,n===va||n===Dc?(n=Qg(),$e=3):n===ef?(n=Qg(),$e=4):$e=n===Cf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,De===null&&(ft=1,Gc(t,Nn(n,t.current)))}function k0(){var t=pn.current;return t===null?!0:(je&4194048)===je?Dn===null:(je&62914560)===je||(je&536870912)!==0?t===Dn:!1}function M0(){var t=K.H;return K.H=Yl,t===null?Yl:t}function j0(){var t=K.A;return K.A=kb,t}function su(){ft=4,wi||(je&4194048)!==je&&pn.current!==null||(Na=!0),(Ni&134217727)===0&&(Dr&134217727)===0||nt===null||Ii(nt,je,vn,!1)}function Jf(t,n,r){var l=Qe;Qe|=2;var h=M0(),f=j0();(nt!==t||je!==n)&&(tu=null,Ia(t,n)),n=!1;var y=ft;e:do try{if($e!==0&&De!==null){var b=De,D=_n;switch($e){case 8:Zf(),y=6;break e;case 3:case 2:case 9:case 6:pn.current===null&&(n=!0);var H=$e;if($e=0,_n=null,Da(t,b,D,H),r&&Na){y=0;break e}break;default:H=$e,$e=0,_n=null,Da(t,b,D,H)}}Ob(),y=ft;break}catch(X){D0(t,X)}while(!0);return n&&t.shellSuspendCounter++,Ls=Er=null,Qe=l,K.H=h,K.A=f,De===null&&(nt=null,je=0,Tc()),y}function Ob(){for(;De!==null;)O0(De)}function Vb(t,n){var r=Qe;Qe|=2;var l=M0(),h=j0();nt!==t||je!==n?(tu=null,eu=en()+500,Ia(t,n)):Na=Pn(t,n);e:do try{if($e!==0&&De!==null){n=De;var f=_n;t:switch($e){case 1:$e=0,_n=null,Da(t,n,f,1);break;case 2:case 9:if(Gg(f)){$e=0,_n=null,V0(n);break}n=function(){$e!==2&&$e!==9||nt!==t||($e=7),bs(t)},f.then(n,n);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Gg(f)?($e=0,_n=null,V0(n)):($e=0,_n=null,Da(t,n,f,7));break;case 5:var y=null;switch(De.tag){case 26:y=De.memoizedState;case 5:case 27:var b=De;if(y?by(y):b.stateNode.complete){$e=0,_n=null;var D=b.sibling;if(D!==null)De=D;else{var H=b.return;H!==null?(De=H,iu(H)):De=null}break t}}$e=0,_n=null,Da(t,n,f,5);break;case 6:$e=0,_n=null,Da(t,n,f,6);break;case 8:Zf(),ft=6;break e;default:throw Error(a(462))}}Lb();break}catch(X){D0(t,X)}while(!0);return Ls=Er=null,K.H=l,K.A=h,Qe=r,De!==null?0:(nt=null,je=0,Tc(),ft)}function Lb(){for(;De!==null&&!Nh();)O0(De)}function O0(t){var n=r0(t.alternate,t,Qs);t.memoizedProps=t.pendingProps,n===null?iu(t):De=n}function V0(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Wp(r,n,n.pendingProps,n.type,void 0,je);break;case 11:n=Wp(r,n,n.pendingProps,n.type.render,n.ref,je);break;case 5:df(n);default:l0(r,n),n=De=jg(n,Qs),n=r0(r,n,Qs)}t.memoizedProps=t.pendingProps,n===null?iu(t):De=n}function Da(t,n,r,l){Ls=Er=null,df(n),xa=null,Ul=0;var h=n.return;try{if(Ab(t,h,n,r,je)){ft=1,Gc(t,Nn(r,t.current)),De=null;return}}catch(f){if(h!==null)throw De=h,f;ft=1,Gc(t,Nn(r,t.current)),De=null;return}n.flags&32768?(Pe||l===1?t=!0:Na||(je&536870912)!==0?t=!1:(wi=t=!0,(l===2||l===9||l===3||l===6)&&(l=pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),L0(n,t)):iu(n)}function iu(t){var n=t;do{if((n.flags&32768)!==0){L0(n,wi);return}t=n.return;var r=Rb(n.alternate,n,Qs);if(r!==null){De=r;return}if(n=n.sibling,n!==null){De=n;return}De=n=t}while(n!==null);ft===0&&(ft=5)}function L0(t,n){do{var r=Cb(t.alternate,t);if(r!==null){r.flags&=32767,De=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){De=t;return}De=t=r}while(t!==null);ft=6,De=null}function U0(t,n,r,l,h,f,y,b,D){t.cancelPendingCommit=null;do ru();while(Dt!==0);if((Qe&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Ph,Ih(t,r,f,y,b,D),t===nt&&(De=nt=null,je=0),Ca=n,Ci=t,Ks=r,Kf=f,Xf=h,N0=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Bb(ai,function(){return H0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=le.p,le.p=2,y=Qe,Qe|=4;try{Ib(t,n,r)}finally{Qe=y,le.p=h,K.T=l}}Dt=1,P0(),z0(),B0()}}function P0(){if(Dt===1){Dt=0;var t=Ci,n=Ca,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=K.T,K.T=null;var l=le.p;le.p=2;var h=Qe;Qe|=4;try{v0(n,t);var f=ud,y=Ag(t.containerInfo),b=f.focusedElem,D=f.selectionRange;if(y!==b&&b&&b.ownerDocument&&Sg(b.ownerDocument.documentElement,b)){if(D!==null&&jh(b)){var H=D.start,X=D.end;if(X===void 0&&(X=H),"selectionStart"in b)b.selectionStart=H,b.selectionEnd=Math.min(X,b.value.length);else{var W=b.ownerDocument||document,F=W&&W.defaultView||window;if(F.getSelection){var Y=F.getSelection(),fe=b.textContent.length,_e=Math.min(D.start,fe),tt=D.end===void 0?_e:Math.min(D.end,fe);!Y.extend&&_e>tt&&(y=tt,tt=_e,_e=y);var U=Tg(b,_e),j=Tg(b,tt);if(U&&j&&(Y.rangeCount!==1||Y.anchorNode!==U.node||Y.anchorOffset!==U.offset||Y.focusNode!==j.node||Y.focusOffset!==j.offset)){var q=W.createRange();q.setStart(U.node,U.offset),Y.removeAllRanges(),_e>tt?(Y.addRange(q),Y.extend(j.node,j.offset)):(q.setEnd(j.node,j.offset),Y.addRange(q))}}}}for(W=[],Y=b;Y=Y.parentNode;)Y.nodeType===1&&W.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<W.length;b++){var Z=W[b];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}yu=!!cd,ud=cd=null}finally{Qe=h,le.p=l,K.T=r}}t.current=n,Dt=2}}function z0(){if(Dt===2){Dt=0;var t=Ci,n=Ca,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=K.T,K.T=null;var l=le.p;le.p=2;var h=Qe;Qe|=4;try{m0(t,n.alternate,n)}finally{Qe=h,le.p=l,K.T=r}}Dt=3}}function B0(){if(Dt===4||Dt===3){Dt=0,Xo();var t=Ci,n=Ca,r=Ks,l=N0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Dt=5:(Dt=0,Ca=Ci=null,q0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ri=null),Ds(r),n=n.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=K.T,h=le.p,le.p=2,K.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var b=l[y];f(b.value,{componentStack:b.stack})}}finally{K.T=n,le.p=h}}(Ks&3)!==0&&ru(),bs(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===$f?to++:(to=0,$f=t):to=0,no(0)}}function q0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Vl(n)))}function ru(){return P0(),z0(),B0(),H0()}function H0(){if(Dt!==5)return!1;var t=Ci,n=Kf;Kf=0;var r=Ds(Ks),l=K.T,h=le.p;try{le.p=32>r?32:r,K.T=null,r=Xf,Xf=null;var f=Ci,y=Ks;if(Dt=0,Ca=Ci=null,Ks=0,(Qe&6)!==0)throw Error(a(331));var b=Qe;if(Qe|=4,S0(f.current),b0(f,f.current,y,r),Qe=b,no(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Un,f)}catch{}return!0}finally{le.p=h,K.T=l,q0(t,n)}}function F0(t,n,r){n=Nn(r,n),n=Rf(t.stateNode,n,2),t=Ei(t,n,2),t!==null&&(rr(t,2),bs(t))}function Ze(t,n,r){if(t.tag===3)F0(t,t,r);else for(;n!==null;){if(n.tag===3){F0(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ri===null||!Ri.has(l))){t=Nn(r,t),r=Gp(2),l=Ei(n,r,2),l!==null&&(Yp(r,l,n,t),rr(l,2),bs(l));break}}n=n.return}}function Wf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new Mb;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(Gf=!0,h.add(r),t=Ub.bind(null,t,n,r),n.then(t,t))}function Ub(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,nt===t&&(je&r)===r&&(ft===4||ft===3&&(je&62914560)===je&&300>en()-Wc?(Qe&2)===0&&Ia(t,0):Yf|=r,Ra===je&&(Ra=0)),bs(t)}function G0(t,n){n===0&&(n=tc()),t=vr(t,n),t!==null&&(rr(t,n),bs(t))}function Pb(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),G0(t,r)}function zb(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),G0(t,r)}function Bb(t,n){return It(t,n)}var au=null,ka=null,ed=!1,lu=!1,td=!1,Di=0;function bs(t){t!==ka&&t.next===null&&(ka===null?au=ka=t:ka=ka.next=t),lu=!0,ed||(ed=!0,Hb())}function no(t,n){if(!td&&lu){td=!0;do for(var r=!1,l=au;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var y=l.suspendedLanes,b=l.pingedLanes;f=(1<<31-dt(42|t)+1)-1,f&=h&~(y&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,X0(l,f))}else f=je,f=ss(l,l===nt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Pn(l,f)||(r=!0,X0(l,f));l=l.next}while(r);td=!1}}function qb(){Y0()}function Y0(){lu=ed=!1;var t=0;Di!==0&&Wb()&&(t=Di);for(var n=en(),r=null,l=au;l!==null;){var h=l.next,f=Q0(l,n);f===0?(l.next=null,r===null?au=h:r.next=h,h===null&&(ka=r)):(r=l,(t!==0||(f&3)!==0)&&(lu=!0)),l=h}Dt!==0&&Dt!==5||no(t),Di!==0&&(Di=0)}function Q0(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-dt(f),b=1<<y,D=h[y];D===-1?((b&r)===0||(b&l)!==0)&&(h[y]=Ch(b,n)):D<=n&&(t.expiredLanes|=b),f&=~b}if(n=nt,r=je,r=ss(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ri(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Pn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&ri(l),Ds(r)){case 2:case 8:r=fl;break;case 32:r=ai;break;case 268435456:r=$o;break;default:r=ai}return l=K0.bind(null,t),r=It(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&ri(l),t.callbackPriority=2,t.callbackNode=null,2}function K0(t,n){if(Dt!==0&&Dt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(ru()&&t.callbackNode!==r)return null;var l=je;return l=ss(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(C0(t,l,n),Q0(t,en()),t.callbackNode!=null&&t.callbackNode===r?K0.bind(null,t):null)}function X0(t,n){if(ru())return null;C0(t,n,!0)}function Hb(){tE(function(){(Qe&6)!==0?It(hl,qb):Y0()})}function nd(){if(Di===0){var t=ya;t===0&&(t=ts,ts<<=1,(ts&261888)===0&&(ts=256)),Di=t}return Di}function $0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:na(""+t)}function Z0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function Fb(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=$0((h[jt]||null).action),y=l.submitter;y&&(n=(n=y[jt]||null)?$0(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var b=new ms("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Di!==0){var D=y?Z0(h,y):new FormData(h);Ef(r,{pending:!0,data:D,method:h.method,action:f},null,D)}}else typeof f=="function"&&(b.preventDefault(),D=y?Z0(h,y):new FormData(h),Ef(r,{pending:!0,data:D,method:h.method,action:f},f,D))},currentTarget:h}]})}}for(var sd=0;sd<Uh.length;sd++){var id=Uh[sd],Gb=id.toLowerCase(),Yb=id[0].toUpperCase()+id.slice(1);Qn(Gb,"on"+Yb)}Qn(Rg,"onAnimationEnd"),Qn(Cg,"onAnimationIteration"),Qn(Ig,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(ob,"onTransitionRun"),Qn(cb,"onTransitionStart"),Qn(ub,"onTransitionCancel"),Qn(Dg,"onTransitionEnd"),us("onMouseEnter",["mouseout","mouseover"]),us("onMouseLeave",["mouseout","mouseover"]),us("onPointerEnter",["pointerout","pointerover"]),us("onPointerLeave",["pointerout","pointerover"]),cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cs("onBeforeInput",["compositionend","keypress","textInput","paste"]),cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var so="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(so));function J0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var b=l[y],D=b.instance,H=b.currentTarget;if(b=b.listener,D!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=H;try{f(h)}catch(X){Ec(X)}h.currentTarget=null,f=D}else for(y=0;y<l.length;y++){if(b=l[y],D=b.instance,H=b.currentTarget,b=b.listener,D!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=H;try{f(h)}catch(X){Ec(X)}h.currentTarget=null,f=D}}}}function ke(t,n){var r=n[Zr];r===void 0&&(r=n[Zr]=new Set);var l=t+"__bubble";r.has(l)||(W0(n,t,2,!1),r.add(l))}function rd(t,n,r){var l=0;n&&(l|=4),W0(r,t,l,n)}var ou="_reactListening"+Math.random().toString(36).slice(2);function ad(t){if(!t[ou]){t[ou]=!0,gl.forEach(function(r){r!=="selectionchange"&&(Qb.has(r)||rd(r,!1,t),rd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ou]||(n[ou]=!0,rd("selectionchange",!1,n))}}function W0(t,n,r,l){switch(Ry(n)){case 2:var h=bE;break;case 8:h=EE;break;default:h=bd}r=h.bind(null,n,r,t),h=void 0,!hr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function ld(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var b=l.stateNode.containerInfo;if(b===h)break;if(y===4)for(y=l.return;y!==null;){var D=y.tag;if((D===3||D===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;b!==null;){if(y=ls(b),y===null)return;if(D=y.tag,D===5||D===6||D===26||D===27){l=f=y;continue e}b=b.parentNode}}l=l.return}fi(function(){var H=f,X=Tn(r),W=[];e:{var F=kg.get(t);if(F!==void 0){var Y=ms,fe=t;switch(t){case"keypress":if(dr(r)===0)break e;case"keydown":case"keyup":Y=vc;break;case"focusin":fe="focus",Y=gr;break;case"focusout":fe="blur",Y=gr;break;case"beforeblur":case"afterblur":Y=gr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=uc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=g;break;case Rg:case Cg:case Ig:Y=fc;break;case Dg:Y=A;break;case"scroll":case"scrollend":Y=Nl;break;case"wheel":Y=G;break;case"copy":case"cut":case"paste":Y=dc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=js;break;case"toggle":case"beforetoggle":Y=we}var _e=(n&4)!==0,tt=!_e&&(t==="scroll"||t==="scrollend"),U=_e?F!==null?F+"Capture":null:F;_e=[];for(var j=H,q;j!==null;){var Z=j;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||U===null||(Z=Hn(j,U),Z!=null&&_e.push(io(j,Z,q))),tt)break;j=j.return}0<_e.length&&(F=new Y(F,fe,null,r,X),W.push({event:F,listeners:_e}))}}if((n&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",F&&r!==Sl&&(fe=r.relatedTarget||r.fromElement)&&(ls(fe)||fe[rs]))break e;if((Y||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(fe=r.relatedTarget||r.toElement,Y=H,fe=fe?ls(fe):null,fe!==null&&(tt=u(fe),_e=fe.tag,fe!==tt||_e!==5&&_e!==27&&_e!==6)&&(fe=null)):(Y=null,fe=H),Y!==fe)){if(_e=Rl,Z="onMouseLeave",U="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(_e=js,Z="onPointerLeave",U="onPointerEnter",j="pointer"),tt=Y==null?F:fn(Y),q=fe==null?F:fn(fe),F=new _e(Z,j+"leave",Y,r,X),F.target=tt,F.relatedTarget=q,Z=null,ls(X)===H&&(_e=new _e(U,j+"enter",fe,r,X),_e.target=q,_e.relatedTarget=tt,Z=_e),tt=Z,Y&&fe)t:{for(_e=Kb,U=Y,j=fe,q=0,Z=U;Z;Z=_e(Z))q++;Z=0;for(var pe=j;pe;pe=_e(pe))Z++;for(;0<q-Z;)U=_e(U),q--;for(;0<Z-q;)j=_e(j),Z--;for(;q--;){if(U===j||j!==null&&U===j.alternate){_e=U;break t}U=_e(U),j=_e(j)}_e=null}else _e=null;Y!==null&&ey(W,F,Y,_e,!1),fe!==null&&tt!==null&&ey(W,tt,fe,_e,!0)}}e:{if(F=H?fn(H):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var Fe=yg;else if(gg(F))if(_g)Fe=rb;else{Fe=sb;var de=nb}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&ta(H.elementType)&&(Fe=yg):Fe=ib;if(Fe&&(Fe=Fe(t,H))){pg(W,Fe,r,X);break e}de&&de(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&bl(F,"number",F.value)}switch(de=H?fn(H):window,t){case"focusin":(gg(de)||de.contentEditable==="true")&&(ca=de,Oh=H,Ml=null);break;case"focusout":Ml=Oh=ca=null;break;case"mousedown":Vh=!0;break;case"contextmenu":case"mouseup":case"dragend":Vh=!1,wg(W,r,X);break;case"selectionchange":if(lb)break;case"keydown":case"keyup":wg(W,r,X)}var Ce;if(Ye)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else oa?pr(t,r)&&(Oe="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Oe="onCompositionStart");Oe&&(ys&&r.locale!=="ko"&&(oa||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&oa&&(Ce=wl()):(ds=X,Al="value"in ds?ds.value:ds.textContent,oa=!0)),de=cu(H,Oe),0<de.length&&(Oe=new ps(Oe,t,null,r,X),W.push({event:Oe,listeners:de}),Ce?Oe.data=Ce:(Ce=la(r),Ce!==null&&(Oe.data=Ce)))),(Ce=An?Jx(t,r):Wx(t,r))&&(Oe=cu(H,"onBeforeInput"),0<Oe.length&&(de=new ps("onBeforeInput","beforeinput",null,r,X),W.push({event:de,listeners:Oe}),de.data=Ce)),Fb(W,t,H,r,X)}J0(W,n)})}function io(t,n,r){return{instance:t,listener:n,currentTarget:r}}function cu(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Hn(t,r),h!=null&&l.unshift(io(t,h,f)),h=Hn(t,n),h!=null&&l.push(io(t,h,f))),t.tag===3)return l;t=t.return}return[]}function Kb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ey(t,n,r,l,h){for(var f=n._reactName,y=[];r!==null&&r!==l;){var b=r,D=b.alternate,H=b.stateNode;if(b=b.tag,D!==null&&D===l)break;b!==5&&b!==26&&b!==27||H===null||(D=H,h?(H=Hn(r,f),H!=null&&y.unshift(io(r,H,D))):h||(H=Hn(r,f),H!=null&&y.push(io(r,H,D)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var Xb=/\r\n?/g,$b=/\u0000|\uFFFD/g;function ty(t){return(typeof t=="string"?t:""+t).replace(Xb,`
`).replace($b,"")}function ny(t,n){return n=ty(n),ty(t)===n}function et(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||rn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&rn(t,""+l);break;case"className":dn(t,"class",l);break;case"tabIndex":dn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(t,r,l);break;case"style":Tl(t,l,f);break;case"data":if(n!=="object"){dn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=na(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&et(t,n,"name",h.name,h,null),et(t,n,"formEncType",h.formEncType,h,null),et(t,n,"formMethod",h.formMethod,h,null),et(t,n,"formTarget",h.formTarget,h,null)):(et(t,n,"encType",h.encType,h,null),et(t,n,"method",h.method,h,null),et(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=na(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=qn);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=na(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),Wr(t,"popover",l);break;case"xlinkActuate":Et(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Et(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Et(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Et(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Et(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Et(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Et(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Et(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Et(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Wr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=cc.get(r)||r,Wr(t,r,l))}}function od(t,n,r,l,h,f){switch(r){case"style":Tl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?rn(t,l):(typeof l=="number"||typeof l=="bigint")&&rn(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[jt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Wr(t,r,l)}}}function Ft(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:et(t,n,f,y,r,null)}}h&&et(t,n,"srcSet",r.srcSet,r,null),l&&et(t,n,"src",r.src,r,null);return;case"input":ke("invalid",t);var b=f=y=h=null,D=null,H=null;for(l in r)if(r.hasOwnProperty(l)){var X=r[l];if(X!=null)switch(l){case"name":h=X;break;case"type":y=X;break;case"checked":D=X;break;case"defaultChecked":H=X;break;case"value":f=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,n));break;default:et(t,n,l,X,r,null)}}ac(t,f,b,D,H,y,h,!1);return;case"select":ke("invalid",t),l=y=f=null;for(h in r)if(r.hasOwnProperty(h)&&(b=r[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":y=b;break;case"multiple":l=b;default:et(t,n,h,b,r,null)}n=f,r=y,t.multiple=!!l,n!=null?oi(t,!!l,n,!1):r!=null&&oi(t,!!l,r,!0);return;case"textarea":ke("invalid",t),f=h=l=null;for(y in r)if(r.hasOwnProperty(y)&&(b=r[y],b!=null))switch(y){case"value":l=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:et(t,n,y,b,r,null)}ci(t,l,h,f);return;case"option":for(D in r)if(r.hasOwnProperty(D)&&(l=r[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(t,n,D,l,r,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<so.length;l++)ke(so[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in r)if(r.hasOwnProperty(H)&&(l=r[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:et(t,n,H,l,r,null)}return;default:if(ta(n)){for(X in r)r.hasOwnProperty(X)&&(l=r[X],l!==void 0&&od(t,n,X,l,r,void 0));return}}for(b in r)r.hasOwnProperty(b)&&(l=r[b],l!=null&&et(t,n,b,l,r,null))}function Zb(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,b=null,D=null,H=null,X=null;for(Y in r){var W=r[Y];if(r.hasOwnProperty(Y)&&W!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=W;default:l.hasOwnProperty(Y)||et(t,n,Y,null,l,W)}}for(var F in l){var Y=l[F];if(W=r[F],l.hasOwnProperty(F)&&(Y!=null||W!=null))switch(F){case"type":f=Y;break;case"name":h=Y;break;case"checked":H=Y;break;case"defaultChecked":X=Y;break;case"value":y=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,n));break;default:Y!==W&&et(t,n,F,Y,l,W)}}ea(t,y,b,D,H,X,f,h);return;case"select":Y=y=b=F=null;for(f in r)if(D=r[f],r.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":Y=D;default:l.hasOwnProperty(f)||et(t,n,f,null,l,D)}for(h in l)if(f=l[h],D=r[h],l.hasOwnProperty(h)&&(f!=null||D!=null))switch(h){case"value":F=f;break;case"defaultValue":b=f;break;case"multiple":y=f;default:f!==D&&et(t,n,h,f,l,D)}n=b,r=y,l=Y,F!=null?oi(t,!!r,F,!1):!!l!=!!r&&(n!=null?oi(t,!!r,n,!0):oi(t,!!r,r?[]:"",!1));return;case"textarea":Y=F=null;for(b in r)if(h=r[b],r.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:et(t,n,b,null,l,h)}for(y in l)if(h=l[y],f=r[y],l.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":F=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&et(t,n,y,h,l,f)}lc(t,F,Y);return;case"option":for(var fe in r)if(F=r[fe],r.hasOwnProperty(fe)&&F!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:et(t,n,fe,null,l,F)}for(D in l)if(F=l[D],Y=r[D],l.hasOwnProperty(D)&&F!==Y&&(F!=null||Y!=null))switch(D){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:et(t,n,D,F,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in r)F=r[_e],r.hasOwnProperty(_e)&&F!=null&&!l.hasOwnProperty(_e)&&et(t,n,_e,null,l,F);for(H in l)if(F=l[H],Y=r[H],l.hasOwnProperty(H)&&F!==Y&&(F!=null||Y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:et(t,n,H,F,l,Y)}return;default:if(ta(n)){for(var tt in r)F=r[tt],r.hasOwnProperty(tt)&&F!==void 0&&!l.hasOwnProperty(tt)&&od(t,n,tt,void 0,l,F);for(X in l)F=l[X],Y=r[X],!l.hasOwnProperty(X)||F===Y||F===void 0&&Y===void 0||od(t,n,X,F,l,Y);return}}for(var U in r)F=r[U],r.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&et(t,n,U,null,l,F);for(W in l)F=l[W],Y=r[W],!l.hasOwnProperty(W)||F===Y||F==null&&Y==null||et(t,n,W,F,l,Y)}function sy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Jb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,y=h.initiatorType,b=h.duration;if(f&&b&&sy(y)){for(y=0,b=h.responseEnd,l+=1;l<r.length;l++){var D=r[l],H=D.startTime;if(H>b)break;var X=D.transferSize,W=D.initiatorType;X&&sy(W)&&(D=D.responseEnd,y+=X*(D<b?1:(b-H)/(D-H)))}if(--l,n+=8*(f+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var cd=null,ud=null;function uu(t){return t.nodeType===9?t:t.ownerDocument}function iy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ry(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function hd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var fd=null;function Wb(){var t=window.event;return t&&t.type==="popstate"?t===fd?!1:(fd=t,!0):(fd=null,!1)}var ay=typeof setTimeout=="function"?setTimeout:void 0,eE=typeof clearTimeout=="function"?clearTimeout:void 0,ly=typeof Promise=="function"?Promise:void 0,tE=typeof queueMicrotask=="function"?queueMicrotask:typeof ly<"u"?function(t){return ly.resolve(null).then(t).catch(nE)}:ay;function nE(t){setTimeout(function(){throw t})}function ki(t){return t==="head"}function oy(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),Va(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")ro(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,ro(r);for(var f=r.firstChild;f;){var y=f.nextSibling,b=f.nodeName;f[as]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=y}}else r==="body"&&ro(t.ownerDocument.body);r=h}while(r);Va(n)}function cy(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function dd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":dd(r),Jr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function sE(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[as])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function iE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=kn(t.nextSibling),t===null))return null;return t}function uy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=kn(t.nextSibling),t===null))return null;return t}function md(t){return t.data==="$?"||t.data==="$~"}function gd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function rE(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function kn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var pd=null;function hy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return kn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function fy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function dy(t,n,r){switch(n=uu(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function ro(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Jr(t)}var Mn=new Map,my=new Set;function hu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Xs=le.d;le.d={f:aE,r:lE,D:oE,C:cE,L:uE,m:hE,X:dE,S:fE,M:mE};function aE(){var t=Xs.f(),n=nu();return t||n}function lE(t){var n=En(t);n!==null&&n.tag===5&&n.type==="form"?Dp(n):Xs.r(t)}var Ma=typeof document>"u"?null:document;function gy(t,n,r){var l=Ma;if(l&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),my.has(h)||(my.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ft(n,"link",t),bt(n),l.head.appendChild(n)))}}function oE(t){Xs.D(t),gy("dns-prefetch",t,null)}function cE(t,n){Xs.C(t,n),gy("preconnect",t,n)}function uE(t,n,r){Xs.L(t,n,r);var l=Ma;if(l&&t&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+sn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+sn(r.imageSizes)+'"]')):h+='[href="'+sn(t)+'"]';var f=h;switch(n){case"style":f=ja(t);break;case"script":f=Oa(t)}Mn.has(f)||(t=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Mn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(ao(f))||n==="script"&&l.querySelector(lo(f))||(n=l.createElement("link"),Ft(n,"link",t),bt(n),l.head.appendChild(n)))}}function hE(t,n){Xs.m(t,n);var r=Ma;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Oa(t)}if(!Mn.has(f)&&(t=S({rel:"modulepreload",href:t},n),Mn.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(lo(f)))return}l=r.createElement("link"),Ft(l,"link",t),bt(l),r.head.appendChild(l)}}}function fE(t,n,r){Xs.S(t,n,r);var l=Ma;if(l&&t){var h=os(l).hoistableStyles,f=ja(t);n=n||"default";var y=h.get(f);if(!y){var b={loading:0,preload:null};if(y=l.querySelector(ao(f)))b.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Mn.get(f))&&yd(t,r);var D=y=l.createElement("link");bt(D),Ft(D,"link",t),D._p=new Promise(function(H,X){D.onload=H,D.onerror=X}),D.addEventListener("load",function(){b.loading|=1}),D.addEventListener("error",function(){b.loading|=2}),b.loading|=4,fu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:b},h.set(f,y)}}}function dE(t,n){Xs.X(t,n);var r=Ma;if(r&&t){var l=os(r).hoistableScripts,h=Oa(t),f=l.get(h);f||(f=r.querySelector(lo(h)),f||(t=S({src:t,async:!0},n),(n=Mn.get(h))&&_d(t,n),f=r.createElement("script"),bt(f),Ft(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function mE(t,n){Xs.M(t,n);var r=Ma;if(r&&t){var l=os(r).hoistableScripts,h=Oa(t),f=l.get(h);f||(f=r.querySelector(lo(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=Mn.get(h))&&_d(t,n),f=r.createElement("script"),bt(f),Ft(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function py(t,n,r,l){var h=(h=Re.current)?hu(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ja(r.href),r=os(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ja(r.href);var f=os(h).hoistableStyles,y=f.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=h.querySelector(ao(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Mn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Mn.set(t,r),f||gE(h,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Oa(r),r=os(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ja(t){return'href="'+sn(t)+'"'}function ao(t){return'link[rel="stylesheet"]['+t+"]"}function yy(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function gE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ft(n,"link",r),bt(n),t.head.appendChild(n))}function Oa(t){return'[src="'+sn(t)+'"]'}function lo(t){return"script[async]"+t}function _y(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+sn(r.href)+'"]');if(l)return n.instance=l,bt(l),l;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),bt(l),Ft(l,"style",h),fu(l,r.precedence,t),n.instance=l;case"stylesheet":h=ja(r.href);var f=t.querySelector(ao(h));if(f)return n.state.loading|=4,n.instance=f,bt(f),f;l=yy(r),(h=Mn.get(h))&&yd(l,h),f=(t.ownerDocument||t).createElement("link"),bt(f);var y=f;return y._p=new Promise(function(b,D){y.onload=b,y.onerror=D}),Ft(f,"link",l),n.state.loading|=4,fu(f,r.precedence,t),n.instance=f;case"script":return f=Oa(r.src),(h=t.querySelector(lo(f)))?(n.instance=h,bt(h),h):(l=r,(h=Mn.get(f))&&(l=S({},r),_d(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),bt(h),Ft(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,fu(l,r.precedence,t));return n.instance}function fu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,y=0;y<l.length;y++){var b=l[y];if(b.dataset.precedence===n)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function yd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function _d(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var du=null;function vy(t,n,r){if(du===null){var l=new Map,h=du=new Map;h.set(r,l)}else h=du,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[as]||f[xt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var b=l.get(y);b?b.push(f):l.set(y,[f])}}return l}function xy(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function pE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function by(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function yE(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=ja(l.href),f=n.querySelector(ao(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=mu.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,bt(f);return}f=n.ownerDocument||n,l=yy(l),(h=Mn.get(h))&&yd(l,h),f=f.createElement("link"),bt(f);var y=f;y._p=new Promise(function(b,D){y.onload=b,y.onerror=D}),Ft(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=mu.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var vd=0;function _E(t,n){return t.stylesheets&&t.count===0&&pu(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&pu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&vd===0&&(vd=62500*Jb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&pu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>vd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function mu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var gu=null;function pu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,gu=new Map,n.forEach(vE,t),gu=null,mu.call(t))}function vE(t,n){if(!(n.state.loading&4)){var r=gu.get(t);if(r)var l=r.get(null);else{r=new Map,gu.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}h=n.instance,y=h.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,h),r.set(y,h),this.count++,l=mu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var oo={$$typeof:V,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function xE(t,n,r,l,h,f,y,b,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=is(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=is(0),this.hiddenUpdates=is(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Ey(t,n,r,l,h,f,y,b,D,H,X,W){return t=new xE(t,n,r,y,D,H,X,W,b),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),t.current=f,f.stateNode=t,n=Zh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},tf(f),t}function Ty(t){return t?(t=fa,t):fa}function Sy(t,n,r,l,h,f){h=Ty(h),l.context===null?l.context=h:l.pendingContext=h,l=bi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Ei(t,l,n),r!==null&&(un(r,t,n),zl(r,t,n))}function Ay(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function xd(t,n){Ay(t,n),(t=t.alternate)&&Ay(t,n)}function wy(t){if(t.tag===13||t.tag===31){var n=vr(t,67108864);n!==null&&un(n,t,67108864),xd(t,67108864)}}function Ny(t){if(t.tag===13||t.tag===31){var n=xn();n=lr(n);var r=vr(t,n);r!==null&&un(r,t,n),xd(t,n)}}var yu=!0;function bE(t,n,r,l){var h=K.T;K.T=null;var f=le.p;try{le.p=2,bd(t,n,r,l)}finally{le.p=f,K.T=h}}function EE(t,n,r,l){var h=K.T;K.T=null;var f=le.p;try{le.p=8,bd(t,n,r,l)}finally{le.p=f,K.T=h}}function bd(t,n,r,l){if(yu){var h=Ed(l);if(h===null)ld(t,n,l,_u,r),Cy(t,l);else if(SE(h,t,n,r,l))l.stopPropagation();else if(Cy(t,l),n&4&&-1<TE.indexOf(t)){for(;h!==null;){var f=En(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=ns(f.pendingLanes);if(y!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;y;){var D=1<<31-dt(y);b.entanglements[1]|=D,y&=~D}bs(f),(Qe&6)===0&&(eu=en()+500,no(0))}}break;case 31:case 13:b=vr(f,2),b!==null&&un(b,f,2),nu(),xd(f,2)}if(f=Ed(l),f===null&&ld(t,n,l,_u,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else ld(t,n,l,null,r)}}function Ed(t){return t=Tn(t),Td(t)}var _u=null;function Td(t){if(_u=null,t=ls(t),t!==null){var n=u(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=p(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return _u=t,null}function Ry(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sr()){case hl:return 2;case fl:return 8;case ai:case Rh:return 32;case $o:return 268435456;default:return 32}default:return 32}}var Sd=!1,Mi=null,ji=null,Oi=null,co=new Map,uo=new Map,Vi=[],TE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cy(t,n){switch(t){case"focusin":case"focusout":Mi=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":co.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":uo.delete(n.pointerId)}}function ho(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=En(n),n!==null&&wy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function SE(t,n,r,l,h){switch(n){case"focusin":return Mi=ho(Mi,t,n,r,l,h),!0;case"dragenter":return ji=ho(ji,t,n,r,l,h),!0;case"mouseover":return Oi=ho(Oi,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return co.set(f,ho(co.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,uo.set(f,ho(uo.get(f)||null,t,n,r,l,h)),!0}return!1}function Iy(t){var n=ls(t.target);if(n!==null){var r=u(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,zn(t.priority,function(){Ny(r)});return}}else if(n===31){if(n=p(r),n!==null){t.blockedOn=n,zn(t.priority,function(){Ny(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Ed(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Sl=l,r.target.dispatchEvent(l),Sl=null}else return n=En(r),n!==null&&wy(n),t.blockedOn=r,!1;n.shift()}return!0}function Dy(t,n,r){vu(t)&&r.delete(n)}function AE(){Sd=!1,Mi!==null&&vu(Mi)&&(Mi=null),ji!==null&&vu(ji)&&(ji=null),Oi!==null&&vu(Oi)&&(Oi=null),co.forEach(Dy),uo.forEach(Dy)}function xu(t,n){t.blockedOn===n&&(t.blockedOn=null,Sd||(Sd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,AE)))}var bu=null;function ky(t){bu!==t&&(bu=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){bu===t&&(bu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Td(l||r)===null)continue;break}var f=En(r);f!==null&&(t.splice(n,3),n-=3,Ef(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Va(t){function n(D){return xu(D,t)}Mi!==null&&xu(Mi,t),ji!==null&&xu(ji,t),Oi!==null&&xu(Oi,t),co.forEach(n),uo.forEach(n);for(var r=0;r<Vi.length;r++){var l=Vi[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Vi.length&&(r=Vi[0],r.blockedOn===null);)Iy(r),r.blockedOn===null&&Vi.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],y=h[jt]||null;if(typeof f=="function")y||ky(r);else if(y){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[jt]||null)b=y.formAction;else if(Td(h)!==null)continue}else b=y.action;typeof b=="function"?r[l+1]=b:(r.splice(l,3),l-=3),ky(r)}}}function My(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ad(t){this._internalRoot=t}Eu.prototype.render=Ad.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=xn();Sy(r,l,t,n,null,null)},Eu.prototype.unmount=Ad.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Sy(t.current,2,null,t,null,null),nu(),n[rs]=null}};function Eu(t){this._internalRoot=t}Eu.prototype.unstable_scheduleHydration=function(t){if(t){var n=nc();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Vi.length&&n!==0&&n<Vi[r].priority;r++);Vi.splice(r,0,t),r===0&&Iy(t)}};var jy=e.version;if(jy!=="19.2.1")throw Error(a(527,jy,"19.2.1"));le.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=v(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var wE={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tu.isDisabled&&Tu.supportsFiber)try{Un=Tu.inject(wE),Pt=Tu}catch{}}return mo.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=Bp,f=qp,y=Hp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=Ey(t,1,!1,null,null,r,l,null,h,f,y,My),t[rs]=n.current,ad(t),new Ad(n)},mo.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=Bp,y=qp,b=Hp,D=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.formState!==void 0&&(D=r.formState)),n=Ey(t,1,!0,n,r??null,l,h,D,f,y,b,My),n.context=Ty(null),r=n.current,l=xn(),l=lr(l),h=bi(l),h.callback=null,Ei(r,h,l),r=l,n.current.lanes=r,rr(n,r),bs(n),t[rs]=n.current,ad(t),new Eu(n)},mo.version="19.2.1",mo}var Fy;function VE(){if(Fy)return Rd.exports;Fy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Rd.exports=OE(),Rd.exports}var LE=VE();const UE=()=>{};var Gy={};const Tv=function(i){const e=[];let s=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);o<128?e[s++]=o:o<2048?(e[s++]=o>>6|192,e[s++]=o&63|128):(o&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++a)&1023),e[s++]=o>>18|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128,e[s++]=o&63|128):(e[s++]=o>>12|224,e[s++]=o>>6&63|128,e[s++]=o&63|128)}return e},PE=function(i){const e=[];let s=0,a=0;for(;s<i.length;){const o=i[s++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[s++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[s++],d=i[s++],p=i[s++],_=((o&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const u=i[s++],d=i[s++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},Sv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<i.length;o+=3){const u=i[o],d=o+1<i.length,p=d?i[o+1]:0,_=o+2<i.length,v=_?i[o+2]:0,T=u>>2,S=(u&3)<<4|p>>4;let C=(p&15)<<2|v>>6,B=v&63;_||(B=64,d||(C=64)),a.push(s[T],s[S],s[C],s[B])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Tv(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):PE(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<i.length;){const u=s[i.charAt(o++)],p=o<i.length?s[i.charAt(o)]:0;++o;const v=o<i.length?s[i.charAt(o)]:64;++o;const S=o<i.length?s[i.charAt(o)]:64;if(++o,u==null||p==null||v==null||S==null)throw new zE;const C=u<<2|p>>4;if(a.push(C),v!==64){const B=p<<4&240|v>>2;if(a.push(B),S!==64){const $=v<<6&192|S;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class zE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BE=function(i){const e=Tv(i);return Sv.encodeByteArray(e,!0)},zu=function(i){return BE(i).replace(/\./g,"")},Av=function(i){try{return Sv.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function qE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const HE=()=>qE().__FIREBASE_DEFAULTS__,FE=()=>{if(typeof process>"u"||typeof Gy>"u")return;const i=Gy.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},GE=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Av(i[1]);return e&&JSON.parse(e)},ch=()=>{try{return UE()||HE()||FE()||GE()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},wv=i=>ch()?.emulatorHosts?.[i],YE=i=>{const e=wv(i);if(!e)return;const s=e.lastIndexOf(":");if(s<=0||s+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(s+1),10);return e[0]==="["?[e.substring(1,s-1),a]:[e.substring(0,s),a]},Nv=()=>ch()?.config,Rv=i=>ch()?.[`_${i}`];class QE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,a)=>{s?this.reject(s):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,a))}}}function tl(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Cv(i){return(await fetch(i,{credentials:"include"})).ok}function KE(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},a=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[zu(JSON.stringify(s)),zu(JSON.stringify(d)),""].join(".")}const vo={};function XE(){const i={prod:[],emulator:[]};for(const e of Object.keys(vo))vo[e]?i.emulator.push(e):i.prod.push(e);return i}function $E(i){let e=document.getElementById(i),s=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),s=!0),{created:s,element:e}}let Yy=!1;function Iv(i,e){if(typeof window>"u"||typeof document>"u"||!tl(window.location.host)||vo[i]===e||vo[i]||Yy)return;vo[i]=e;function s(C){return`__firebase__banner__${C}`}const a="__firebase__banner",u=XE().prod.length>0;function d(){const C=document.getElementById(a);C&&C.remove()}function p(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function _(C,B){C.setAttribute("width","24"),C.setAttribute("id",B),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function v(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{Yy=!0,d()},C}function T(C,B){C.setAttribute("id",B),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function S(){const C=$E(a),B=s("text"),$=document.getElementById(B)||document.createElement("span"),Q=s("learnmore"),P=document.getElementById(Q)||document.createElement("a"),se=s("preprendIcon"),L=document.getElementById(se)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const V=C.element;p(V),T(P,Q);const ie=v();_(L,se),V.append(L,$,P,ie),document.body.appendChild(V)}u?($.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function JE(){const i=ch()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eT(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function tT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nT(){const i=Wt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function sT(){return!JE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iT(){try{return typeof indexedDB=="object"}catch{return!1}}function rT(){return new Promise((i,e)=>{try{let s=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),s||self.indexedDB.deleteDatabase(a),i(!0)},o.onupgradeneeded=()=>{s=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(s){e(s)}})}const aT="FirebaseError";class ii extends Error{constructor(e,s,a){super(s),this.code=e,this.customData=a,this.name=aT,Object.setPrototypeOf(this,ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uo.prototype.create)}}class Uo{constructor(e,s,a){this.service=e,this.serviceName=s,this.errors=a}create(e,...s){const a=s[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?lT(u,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new ii(o,p,a)}}function lT(i,e){return i.replace(oT,(s,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const oT=/\{\$([^}]+)}/g;function cT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Ur(i,e){if(i===e)return!0;const s=Object.keys(i),a=Object.keys(e);for(const o of s){if(!a.includes(o))return!1;const u=i[o],d=e[o];if(Qy(u)&&Qy(d)){if(!Ur(u,d))return!1}else if(u!==d)return!1}for(const o of a)if(!s.includes(o))return!1;return!0}function Qy(i){return i!==null&&typeof i=="object"}function Po(i){const e=[];for(const[s,a]of Object.entries(i))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function uT(i,e){const s=new hT(i,e);return s.subscribe.bind(s)}class hT{constructor(e,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(s=>{s.next(e)})}error(e){this.forEachObserver(s=>{s.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,s,a){let o;if(e===void 0&&s===void 0&&a===void 0)throw new Error("Missing Observer.");fT(e,["next","error","complete"])?o=e:o={next:e,error:s,complete:a},o.next===void 0&&(o.next=kd),o.error===void 0&&(o.error=kd),o.complete===void 0&&(o.complete=kd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,e)}sendOne(e,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{s(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fT(i,e){if(typeof i!="object"||i===null)return!1;for(const s of e)if(s in i&&typeof i[s]=="function")return!0;return!1}function kd(){}function Vn(i){return i&&i._delegate?i._delegate:i}class Pr{constructor(e,s,a){this.name=e,this.instanceFactory=s,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const kr="[DEFAULT]";class dT{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const a=new QE;if(this.instancesDeferred.set(s,a),this.isInitialized(s)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:s});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){const s=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gT(e))try{this.getOrInitializeService({instanceIdentifier:kr})}catch{}for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=kr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=kr){return this.instances.has(e)}getOptions(e=kr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:s});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);a===p&&d.resolve(o)}return o}onInit(e,s){const a=this.normalizeInstanceIdentifier(s),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,s){const a=this.onInitCallbacks.get(s);if(a)for(const o of a)try{o(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:mT(e),options:s}),this.instances.set(e,a),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=kr){return this.component?this.component.multipleInstances?e:kr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mT(i){return i===kr?void 0:i}function gT(i){return i.instantiationMode==="EAGER"}class pT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new dT(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const yT={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},_T=Ve.INFO,vT={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},xT=(i,e,...s)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),o=vT[e];if(o)console[o](`[${a}]  ${i.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vm{constructor(e){this.name=e,this._logLevel=_T,this._logHandler=xT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const bT=(i,e)=>e.some(s=>i instanceof s);let Ky,Xy;function ET(){return Ky||(Ky=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TT(){return Xy||(Xy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dv=new WeakMap,Yd=new WeakMap,kv=new WeakMap,Md=new WeakMap,xm=new WeakMap;function ST(i){const e=new Promise((s,a)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",d)},u=()=>{s(Fi(i.result)),o()},d=()=>{a(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",d)});return e.then(s=>{s instanceof IDBCursor&&Dv.set(s,i)}).catch(()=>{}),xm.set(e,i),e}function AT(i){if(Yd.has(i))return;const e=new Promise((s,a)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",d),i.removeEventListener("abort",d)},u=()=>{s(),o()},d=()=>{a(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",d),i.addEventListener("abort",d)});Yd.set(i,e)}let Qd={get(i,e,s){if(i instanceof IDBTransaction){if(e==="done")return Yd.get(i);if(e==="objectStoreNames")return i.objectStoreNames||kv.get(i);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Fi(i[e])},set(i,e,s){return i[e]=s,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function wT(i){Qd=i(Qd)}function NT(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const a=i.call(jd(this),e,...s);return kv.set(a,e.sort?e.sort():[e]),Fi(a)}:TT().includes(i)?function(...e){return i.apply(jd(this),e),Fi(Dv.get(this))}:function(...e){return Fi(i.apply(jd(this),e))}}function RT(i){return typeof i=="function"?NT(i):(i instanceof IDBTransaction&&AT(i),bT(i,ET())?new Proxy(i,Qd):i)}function Fi(i){if(i instanceof IDBRequest)return ST(i);if(Md.has(i))return Md.get(i);const e=RT(i);return e!==i&&(Md.set(i,e),xm.set(e,i)),e}const jd=i=>xm.get(i);function CT(i,e,{blocked:s,upgrade:a,blocking:o,terminated:u}={}){const d=indexedDB.open(i,e),p=Fi(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Fi(d.result),_.oldVersion,_.newVersion,Fi(d.transaction),_)}),s&&d.addEventListener("blocked",_=>s(_.oldVersion,_.newVersion,_)),p.then(_=>{u&&_.addEventListener("close",()=>u()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const IT=["get","getKey","getAll","getAllKeys","count"],DT=["put","add","delete","clear"],Od=new Map;function $y(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Od.get(e))return Od.get(e);const s=e.replace(/FromIndex$/,""),a=e!==s,o=DT.includes(s);if(!(s in(a?IDBIndex:IDBObjectStore).prototype)||!(o||IT.includes(s)))return;const u=async function(d,...p){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(p.shift())),(await Promise.all([v[s](...p),o&&_.done]))[0]};return Od.set(e,u),u}wT(i=>({...i,get:(e,s,a)=>$y(e,s)||i.get(e,s,a),has:(e,s)=>!!$y(e,s)||i.has(e,s)}));class kT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(MT(s)){const a=s.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(s=>s).join(" ")}}function MT(i){return i.getComponent()?.type==="VERSION"}const Kd="@firebase/app",Zy="0.14.6";const ei=new vm("@firebase/app"),jT="@firebase/app-compat",OT="@firebase/analytics-compat",VT="@firebase/analytics",LT="@firebase/app-check-compat",UT="@firebase/app-check",PT="@firebase/auth",zT="@firebase/auth-compat",BT="@firebase/database",qT="@firebase/data-connect",HT="@firebase/database-compat",FT="@firebase/functions",GT="@firebase/functions-compat",YT="@firebase/installations",QT="@firebase/installations-compat",KT="@firebase/messaging",XT="@firebase/messaging-compat",$T="@firebase/performance",ZT="@firebase/performance-compat",JT="@firebase/remote-config",WT="@firebase/remote-config-compat",e2="@firebase/storage",t2="@firebase/storage-compat",n2="@firebase/firestore",s2="@firebase/ai",i2="@firebase/firestore-compat",r2="firebase",a2="12.6.0";const Xd="[DEFAULT]",l2={[Kd]:"fire-core",[jT]:"fire-core-compat",[VT]:"fire-analytics",[OT]:"fire-analytics-compat",[UT]:"fire-app-check",[LT]:"fire-app-check-compat",[PT]:"fire-auth",[zT]:"fire-auth-compat",[BT]:"fire-rtdb",[qT]:"fire-data-connect",[HT]:"fire-rtdb-compat",[FT]:"fire-fn",[GT]:"fire-fn-compat",[YT]:"fire-iid",[QT]:"fire-iid-compat",[KT]:"fire-fcm",[XT]:"fire-fcm-compat",[$T]:"fire-perf",[ZT]:"fire-perf-compat",[JT]:"fire-rc",[WT]:"fire-rc-compat",[e2]:"fire-gcs",[t2]:"fire-gcs-compat",[n2]:"fire-fst",[i2]:"fire-fst-compat",[s2]:"fire-vertex","fire-js":"fire-js",[r2]:"fire-js-all"};const Bu=new Map,o2=new Map,$d=new Map;function Jy(i,e){try{i.container.addComponent(e)}catch(s){ei.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,s)}}function Ga(i){const e=i.name;if($d.has(e))return ei.debug(`There were multiple attempts to register component ${e}.`),!1;$d.set(e,i);for(const s of Bu.values())Jy(s,i);for(const s of o2.values())Jy(s,i);return!0}function bm(i,e){const s=i.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),i.container.getProvider(e)}function $n(i){return i==null?!1:i.settings!==void 0}const c2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gi=new Uo("app","Firebase",c2);class u2{constructor(e,s,a){this._isDeleted=!1,this._options={...e},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Pr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}}const nl=a2;function Mv(i,e={}){let s=i;typeof e!="object"&&(e={name:e});const a={name:Xd,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Gi.create("bad-app-name",{appName:String(o)});if(s||(s=Nv()),!s)throw Gi.create("no-options");const u=Bu.get(o);if(u){if(Ur(s,u.options)&&Ur(a,u.config))return u;throw Gi.create("duplicate-app",{appName:o})}const d=new pT(o);for(const _ of $d.values())d.addComponent(_);const p=new u2(s,a,d);return Bu.set(o,p),p}function jv(i=Xd){const e=Bu.get(i);if(!e&&i===Xd&&Nv())return Mv();if(!e)throw Gi.create("no-app",{appName:i});return e}function Yi(i,e,s){let a=l2[i]??i;s&&(a+=`-${s}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ei.warn(d.join(" "));return}Ga(new Pr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const h2="firebase-heartbeat-database",f2=1,No="firebase-heartbeat-store";let Vd=null;function Ov(){return Vd||(Vd=CT(h2,f2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(No)}catch(s){console.warn(s)}}}}).catch(i=>{throw Gi.create("idb-open",{originalErrorMessage:i.message})})),Vd}async function d2(i){try{const s=(await Ov()).transaction(No),a=await s.objectStore(No).get(Vv(i));return await s.done,a}catch(e){if(e instanceof ii)ei.warn(e.message);else{const s=Gi.create("idb-get",{originalErrorMessage:e?.message});ei.warn(s.message)}}}async function Wy(i,e){try{const a=(await Ov()).transaction(No,"readwrite");await a.objectStore(No).put(e,Vv(i)),await a.done}catch(s){if(s instanceof ii)ei.warn(s.message);else{const a=Gi.create("idb-set",{originalErrorMessage:s?.message});ei.warn(a.message)}}}function Vv(i){return`${i.name}!${i.options.appId}`}const m2=1024,g2=30;class p2{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new _2(s),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=e_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>g2){const o=v2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ei.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=e_(),{heartbeatsToSend:s,unsentEntries:a}=y2(this._heartbeatsCache.heartbeats),o=zu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ei.warn(e),""}}}function e_(){return new Date().toISOString().substring(0,10)}function y2(i,e=m2){const s=[];let a=i.slice();for(const o of i){const u=s.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),t_(s)>e){u.dates.pop();break}}else if(s.push({agent:o.agent,dates:[o.date]}),t_(s)>e){s.pop();break}a=a.slice(1)}return{heartbeatsToSend:s,unsentEntries:a}}class _2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iT()?rT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await d2(this.app);return s?.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Wy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Wy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function t_(i){return zu(JSON.stringify({version:2,heartbeats:i})).length}function v2(i){if(i.length===0)return-1;let e=0,s=i[0].date;for(let a=1;a<i.length;a++)i[a].date<s&&(s=i[a].date,e=a);return e}function x2(i){Ga(new Pr("platform-logger",e=>new kT(e),"PRIVATE")),Ga(new Pr("heartbeat",e=>new p2(e),"PRIVATE")),Yi(Kd,Zy,i),Yi(Kd,Zy,"esm2020"),Yi("fire-js","")}x2("");function Lv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const b2=Lv,Uv=new Uo("auth","Firebase",Lv());const qu=new vm("@firebase/auth");function E2(i,...e){qu.logLevel<=Ve.WARN&&qu.warn(`Auth (${nl}): ${i}`,...e)}function Iu(i,...e){qu.logLevel<=Ve.ERROR&&qu.error(`Auth (${nl}): ${i}`,...e)}function Rs(i,...e){throw Tm(i,...e)}function Wn(i,...e){return Tm(i,...e)}function Em(i,e,s){const a={...b2(),[e]:s};return new Uo("auth","Firebase",a).create(e,{appName:i.name})}function Or(i){return Em(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function T2(i,e,s){const a=s;if(!(e instanceof a))throw a.name!==e.constructor.name&&Rs(i,"argument-error"),Em(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Tm(i,...e){if(typeof i!="string"){const s=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(s,...a)}return Uv.create(i,...e)}function xe(i,e,...s){if(!i)throw Tm(e,...s)}function Zs(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Iu(e),new Error(e)}function ti(i,e){i||Zs(e)}function Zd(){return typeof self<"u"&&self.location?.href||""}function S2(){return n_()==="http:"||n_()==="https:"}function n_(){return typeof self<"u"&&self.location?.protocol||null}function A2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(S2()||eT()||"connection"in navigator)?navigator.onLine:!0}function w2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class zo{constructor(e,s){this.shortDelay=e,this.longDelay=s,ti(s>e,"Short delay should be less than long delay!"),this.isMobile=ZE()||tT()}get(){return A2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Sm(i,e){ti(i.emulator,"Emulator should always be set here");const{url:s}=i.emulator;return e?`${s}${e.startsWith("/")?e.slice(1):e}`:s}class Pv{static initialize(e,s,a){this.fetchImpl=e,s&&(this.headersImpl=s),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const N2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const R2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],C2=new zo(3e4,6e4);function Am(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function sl(i,e,s,a,o={}){return zv(i,o,async()=>{let u={},d={};a&&(e==="GET"?d=a:u={body:JSON.stringify(a)});const p=Po({key:i.config.apiKey,...d}).slice(1),_=await i._getAdditionalHeaders();_["Content-Type"]="application/json",i.languageCode&&(_["X-Firebase-Locale"]=i.languageCode);const v={method:e,headers:_,...u};return WE()||(v.referrerPolicy="no-referrer"),i.emulatorConfig&&tl(i.emulatorConfig.host)&&(v.credentials="include"),Pv.fetch()(await Bv(i,i.config.apiHost,s,p),v)})}async function zv(i,e,s){i._canInitEmulator=!1;const a={...N2,...e};try{const o=new D2(i),u=await Promise.race([s(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Su(i,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[_,v]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Su(i,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Su(i,"email-already-in-use",d);if(_==="USER_DISABLED")throw Su(i,"user-disabled",d);const T=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Em(i,T,v);Rs(i,T)}}catch(o){if(o instanceof ii)throw o;Rs(i,"network-request-failed",{message:String(o)})}}async function I2(i,e,s,a,o={}){const u=await sl(i,e,s,a,o);return"mfaPendingCredential"in u&&Rs(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function Bv(i,e,s,a){const o=`${e}${s}?${a}`,u=i,d=u.config.emulator?Sm(i.config,o):`${i.config.apiScheme}://${o}`;return R2.includes(s)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}class D2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((s,a)=>{this.timer=setTimeout(()=>a(Wn(this.auth,"network-request-failed")),C2.get())})}}function Su(i,e,s){const a={appName:i.name};s.email&&(a.email=s.email),s.phoneNumber&&(a.phoneNumber=s.phoneNumber);const o=Wn(i,e,a);return o.customData._tokenResponse=s,o}async function k2(i,e){return sl(i,"POST","/v1/accounts:delete",e)}async function Hu(i,e){return sl(i,"POST","/v1/accounts:lookup",e)}function xo(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function M2(i,e=!1){const s=Vn(i),a=await s.getIdToken(e),o=wm(a);xe(o&&o.exp&&o.auth_time&&o.iat,s.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u?.sign_in_provider;return{claims:o,token:a,authTime:xo(Ld(o.auth_time)),issuedAtTime:xo(Ld(o.iat)),expirationTime:xo(Ld(o.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Ld(i){return Number(i)*1e3}function wm(i){const[e,s,a]=i.split(".");if(e===void 0||s===void 0||a===void 0)return Iu("JWT malformed, contained fewer than 3 sections"),null;try{const o=Av(s);return o?JSON.parse(o):(Iu("Failed to decode base64 JWT payload"),null)}catch(o){return Iu("Caught error parsing JWT payload as JSON",o?.toString()),null}}function s_(i){const e=wm(i);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ro(i,e,s=!1){if(s)return e;try{return await e}catch(a){throw a instanceof ii&&j2(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function j2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class O2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const s=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Jd{constructor(e,s){this.createdAt=e,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=xo(this.lastLoginAt),this.creationTime=xo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Fu(i){const e=i.auth,s=await i.getIdToken(),a=await Ro(i,Hu(e,{idToken:s}));xe(a?.users.length,e,"internal-error");const o=a.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?qv(o.providerUserInfo):[],d=L2(i.providerData,u),p=i.isAnonymous,_=!(i.email&&o.passwordHash)&&!d?.length,v=p?_:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Jd(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(i,T)}async function V2(i){const e=Vn(i);await Fu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function L2(i,e){return[...i.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function qv(i){return i.map(({providerId:e,...s})=>({providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}))}async function U2(i,e){const s=await zv(i,{},async()=>{const a=Po({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,d=await Bv(i,o,"/v1/token",`key=${u}`),p=await i._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return i.emulatorConfig&&tl(i.emulatorConfig.host)&&(_.credentials="include"),Pv.fetch()(d,_)});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function P2(i,e){return sl(i,"POST","/v2/accounts:revokeToken",Am(i,e))}class Ba{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const s="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):s_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,s)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const s=s_(e);this.updateTokensAndExpiration(e,null,s)}async getToken(e,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,s){const{accessToken:a,refreshToken:o,expiresIn:u}=await U2(e,s);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,s,a){this.refreshToken=s||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,s){const{refreshToken:a,accessToken:o,expirationTime:u}=s,d=new Ba;return a&&(xe(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(xe(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(xe(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ba,this.toJSON())}_performRefresh(){return Zs("not implemented")}}function Ui(i,e){xe(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Zn{constructor({uid:e,auth:s,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new O2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Jd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const s=await Ro(this,this.stsTokenManager.getToken(this.auth,e));return xe(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(e){return M2(this,e)}reload(){return V2(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(s=>({...s})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const s=new Zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return s.metadata._copy(this.metadata),s}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,s=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),s&&await Fu(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(Or(this.auth));const e=await this.getIdToken();return await Ro(this,k2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,s){const a=s.displayName??void 0,o=s.email??void 0,u=s.phoneNumber??void 0,d=s.photoURL??void 0,p=s.tenantId??void 0,_=s._redirectEventId??void 0,v=s.createdAt??void 0,T=s.lastLoginAt??void 0,{uid:S,emailVerified:C,isAnonymous:B,providerData:$,stsTokenManager:Q}=s;xe(S&&Q,e,"internal-error");const P=Ba.fromJSON(this.name,Q);xe(typeof S=="string",e,"internal-error"),Ui(a,e.name),Ui(o,e.name),xe(typeof C=="boolean",e,"internal-error"),xe(typeof B=="boolean",e,"internal-error"),Ui(u,e.name),Ui(d,e.name),Ui(p,e.name),Ui(_,e.name),Ui(v,e.name),Ui(T,e.name);const se=new Zn({uid:S,auth:e,email:o,emailVerified:C,displayName:a,isAnonymous:B,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:P,createdAt:v,lastLoginAt:T});return $&&Array.isArray($)&&(se.providerData=$.map(L=>({...L}))),_&&(se._redirectEventId=_),se}static async _fromIdTokenResponse(e,s,a=!1){const o=new Ba;o.updateFromServerResponse(s);const u=new Zn({uid:s.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Fu(u),u}static async _fromGetAccountInfoResponse(e,s,a){const o=s.users[0];xe(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?qv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!u?.length,p=new Ba;p.updateFromIdToken(a);const _=new Zn({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Jd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(_,v),_}}const i_=new Map;function Js(i){ti(i instanceof Function,"Expected a class definition");let e=i_.get(i);return e?(ti(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,i_.set(i,e),e)}class Hv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,s){this.storage[e]=s}async _get(e){const s=this.storage[e];return s===void 0?null:s}async _remove(e){delete this.storage[e]}_addListener(e,s){}_removeListener(e,s){}}Hv.type="NONE";const r_=Hv;function Du(i,e,s){return`firebase:${i}:${e}:${s}`}class qa{constructor(e,s,a){this.persistence=e,this.auth=s,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=Du(this.userKey,o.apiKey,u),this.fullPersistenceKey=Du("persistence",o.apiKey,u),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const s=await Hu(this.auth,{idToken:e}).catch(()=>{});return s?Zn._fromGetAccountInfoResponse(this.auth,s,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,s,a="authUser"){if(!s.length)return new qa(Js(r_),e,a);const o=(await Promise.all(s.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let u=o[0]||Js(r_);const d=Du(a,e.config.apiKey,e.name);let p=null;for(const v of s)try{const T=await v._get(d);if(T){let S;if(typeof T=="string"){const C=await Hu(e,{idToken:T}).catch(()=>{});if(!C)break;S=await Zn._fromGetAccountInfoResponse(e,C,T)}else S=Zn._fromJSON(e,T);v!==u&&(p=S),u=v;break}}catch{}const _=o.filter(v=>v._shouldAllowMigration);return!u._shouldAllowMigration||!_.length?new qa(u,e,a):(u=_[0],p&&await u._set(d,p.toJSON()),await Promise.all(s.map(async v=>{if(v!==u)try{await v._remove(d)}catch{}})),new qa(u,e,a))}}function a_(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Qv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Xv(e))return"Blackberry";if($v(e))return"Webos";if(Gv(e))return"Safari";if((e.includes("chrome/")||Yv(e))&&!e.includes("edge/"))return"Chrome";if(Kv(e))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(s);if(a?.length===2)return a[1]}return"Other"}function Fv(i=Wt()){return/firefox\//i.test(i)}function Gv(i=Wt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Yv(i=Wt()){return/crios\//i.test(i)}function Qv(i=Wt()){return/iemobile/i.test(i)}function Kv(i=Wt()){return/android/i.test(i)}function Xv(i=Wt()){return/blackberry/i.test(i)}function $v(i=Wt()){return/webos/i.test(i)}function Nm(i=Wt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function z2(i=Wt()){return Nm(i)&&!!window.navigator?.standalone}function B2(){return nT()&&document.documentMode===10}function Zv(i=Wt()){return Nm(i)||Kv(i)||$v(i)||Xv(i)||/windows phone/i.test(i)||Qv(i)}function Jv(i,e=[]){let s;switch(i){case"Browser":s=a_(Wt());break;case"Worker":s=`${a_(Wt())}-${i}`;break;default:s=i}const a=e.length?e.join(","):"FirebaseCore-web";return`${s}/JsCore/${nl}/${a}`}class q2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,s){const a=u=>new Promise((d,p)=>{try{const _=e(u);d(_)}catch(_){p(_)}});a.onAbort=s,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const s=[];try{for(const a of this.queue)await a(e),a.onAbort&&s.push(a.onAbort)}catch(a){s.reverse();for(const o of s)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function H2(i,e={}){return sl(i,"GET","/v2/passwordPolicy",Am(i,e))}const F2=6;class G2{constructor(e){const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=s.minPasswordLength??F2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=s.meetsMinPasswordLength??!0),s.isValid&&(s.isValid=s.meetsMaxPasswordLength??!0),s.isValid&&(s.isValid=s.containsLowercaseLetter??!0),s.isValid&&(s.isValid=s.containsUppercaseLetter??!0),s.isValid&&(s.isValid=s.containsNumericCharacter??!0),s.isValid&&(s.isValid=s.containsNonAlphanumericCharacter??!0),s}validatePasswordLengthOptions(e,s){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(s.meetsMinPasswordLength=e.length>=a),o&&(s.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(s,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,s,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class Y2{constructor(e,s,a,o){this.app=e,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new l_(this),this.idTokenSubscription=new l_(this),this.beforeStateQueue=new q2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Uv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,s){return s&&(this._popupRedirectResolver=Js(s)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const s=await Hu(this,{idToken:e}),a=await Zn._fromGetAccountInfoResponse(this,s,e);await this.directlySetCurrentUser(a)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if($n(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(e){try{await Fu(e)}catch(s){if(s?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=w2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($n(this.app))return Promise.reject(Or(this));const s=e?Vn(e):null;return s&&xe(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(e,s=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(Or(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $n(this.app)?Promise.reject(Or(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Js(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await H2(this),s=new G2(e);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Uo("auth","Firebase",e())}onAuthStateChanged(e,s,a){return this.registerStateListener(this.authStateSubscription,e,s,a)}beforeAuthStateChanged(e,s){return this.beforeStateQueue.pushCallback(e,s)}onIdTokenChanged(e,s,a){return this.registerStateListener(this.idTokenSubscription,e,s,a)}authStateReady(){return new Promise((e,s)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},s)}})}async revokeAccessToken(e){if(this.currentUser){const s=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:s};this.tenantId!=null&&(a.tenantId=this.tenantId),await P2(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,s){const a=await this.getOrInitRedirectPersistenceManager(s);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const s=e&&Js(e)||this._popupRedirectResolver;xe(s,this,"argument-error"),this.redirectPersistenceManager=await qa.create(this,[Js(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,s,a,o){if(this._deleted)return()=>{};const u=typeof s=="function"?s:s.next.bind(s);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof s=="function"){const _=e.addObserver(s,a,o);return()=>{d=!0,_()}}else{const _=e.addObserver(s);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Jv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();s&&(e["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&E2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function uh(i){return Vn(i)}class l_{constructor(e){this.auth=e,this.observer=null,this.addObserver=uT(s=>this.observer=s)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Rm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Q2(i){Rm=i}function K2(i){return Rm.loadJS(i)}function X2(){return Rm.gapiScript}function $2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function Z2(i,e){const s=bm(i,"auth");if(s.isInitialized()){const o=s.getImmediate(),u=s.getOptions();if(Ur(u,e??{}))return o;Rs(o,"already-initialized")}return s.initialize({options:e})}function J2(i,e){const s=e?.persistence||[],a=(Array.isArray(s)?s:[s]).map(Js);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(a,e?.popupRedirectResolver)}function W2(i,e,s){const a=uh(i);xe(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=Wv(e),{host:d,port:p}=eS(e),_=p===null?"":`:${p}`,v={url:`${u}//${d}${_}/`},T=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){xe(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),xe(Ur(v,a.config.emulator)&&Ur(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=v,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,tl(d)?(Cv(`${u}//${d}${_}`),Iv("Auth",!0)):tS()}function Wv(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function eS(i){const e=Wv(i),s=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!s)return{host:"",port:null};const a=s[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:o_(a.substr(u.length+1))}}else{const[u,d]=a.split(":");return{host:u,port:o_(d)}}}function o_(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function tS(){function i(){const e=document.createElement("p"),s=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class e1{constructor(e,s){this.providerId=e,this.signInMethod=s}toJSON(){return Zs("not implemented")}_getIdTokenResponse(e){return Zs("not implemented")}_linkToIdToken(e,s){return Zs("not implemented")}_getReauthenticationResolver(e){return Zs("not implemented")}}async function Ha(i,e){return I2(i,"POST","/v1/accounts:signInWithIdp",Am(i,e))}const nS="http://localhost";class zr extends e1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const s=new zr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(s.idToken=e.idToken),e.accessToken&&(s.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(s.nonce=e.nonce),e.pendingToken&&(s.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(s.accessToken=e.oauthToken,s.secret=e.oauthTokenSecret):Rs("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...u}=s;if(!a||!o)return null;const d=new zr(a,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const s=this.buildRequest();return Ha(e,s)}_linkToIdToken(e,s){const a=this.buildRequest();return a.idToken=s,Ha(e,a)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,Ha(e,s)}buildRequest(){const e={requestUri:nS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),e.postBody=Po(s)}return e}}class Cm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Bo extends Cm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Pi extends Bo{constructor(){super("facebook.com")}static credential(e){return zr._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pi.credential(e.oauthAccessToken)}catch{return null}}}Pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pi.PROVIDER_ID="facebook.com";class $s extends Bo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,s){return zr._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:s})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:a}=e;if(!s&&!a)return null;try{return $s.credential(s,a)}catch{return null}}}$s.GOOGLE_SIGN_IN_METHOD="google.com";$s.PROVIDER_ID="google.com";class zi extends Bo{constructor(){super("github.com")}static credential(e){return zr._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.GITHUB_SIGN_IN_METHOD="github.com";zi.PROVIDER_ID="github.com";class Bi extends Bo{constructor(){super("twitter.com")}static credential(e,s){return zr._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:s})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:s,oauthTokenSecret:a}=e;if(!s||!a)return null;try{return Bi.credential(s,a)}catch{return null}}}Bi.TWITTER_SIGN_IN_METHOD="twitter.com";Bi.PROVIDER_ID="twitter.com";class Ya{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,s,a,o=!1){const u=await Zn._fromIdTokenResponse(e,a,o),d=c_(a);return new Ya({user:u,providerId:d,_tokenResponse:a,operationType:s})}static async _forOperation(e,s,a){await e._updateTokensIfNecessary(a,!0);const o=c_(a);return new Ya({user:e,providerId:o,_tokenResponse:a,operationType:s})}}function c_(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Gu extends ii{constructor(e,s,a,o){super(s.code,s.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Gu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:s.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,s,a,o){return new Gu(e,s,a,o)}}function t1(i,e,s,a){return(e==="reauthenticate"?s._getReauthenticationResolver(i):s._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Gu._fromErrorAndOperation(i,u,e,a):u})}async function sS(i,e,s=!1){const a=await Ro(i,e._linkToIdToken(i.auth,await i.getIdToken()),s);return Ya._forOperation(i,"link",a)}async function iS(i,e,s=!1){const{auth:a}=i;if($n(a.app))return Promise.reject(Or(a));const o="reauthenticate";try{const u=await Ro(i,t1(a,o,e,i),s);xe(u.idToken,a,"internal-error");const d=wm(u.idToken);xe(d,a,"internal-error");const{sub:p}=d;return xe(i.uid===p,a,"user-mismatch"),Ya._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Rs(a,"user-mismatch"),u}}async function rS(i,e,s=!1){if($n(i.app))return Promise.reject(Or(i));const a="signIn",o=await t1(i,a,e),u=await Ya._fromIdTokenResponse(i,a,o);return s||await i._updateCurrentUser(u.user),u}function aS(i,e,s,a){return Vn(i).onIdTokenChanged(e,s,a)}function lS(i,e,s){return Vn(i).beforeAuthStateChanged(e,s)}function oS(i,e,s,a){return Vn(i).onAuthStateChanged(e,s,a)}function cS(i){return Vn(i).signOut()}const Yu="__sak";class n1{constructor(e,s){this.storageRetriever=e,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(Yu,"1"),this.storage.removeItem(Yu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,s){return this.storage.setItem(e,JSON.stringify(s)),Promise.resolve()}_get(e){const s=this.storage.getItem(e);return Promise.resolve(s?JSON.parse(s):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const uS=1e3,hS=10;class s1 extends n1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,s)=>this.onStorageEvent(e,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Zv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const s of Object.keys(this.listeners)){const a=this.storage.getItem(s),o=this.localCache[s];a!==o&&e(s,o,a)}}onStorageEvent(e,s=!1){if(!e.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=e.key;s?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!s&&this.localCache[a]===d||this.notifyListeners(a,d)},u=this.storage.getItem(a);B2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,hS):o()}notifyListeners(e,s){this.localCache[e]=s;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,s,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:s,newValue:a}),!0)})},uS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,s){await super._set(e,s),this.localCache[e]=JSON.stringify(s)}async _get(e){const s=await super._get(e);return this.localCache[e]=JSON.stringify(s),s}async _remove(e){await super._remove(e),delete this.localCache[e]}}s1.type="LOCAL";const fS=s1;class i1 extends n1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,s){}_removeListener(e,s){}}i1.type="SESSION";const r1=i1;function dS(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(s){return{fulfilled:!1,reason:s}}}))}class hh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const s=this.receivers.find(o=>o.isListeningto(e));if(s)return s;const a=new hh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const s=e,{eventId:a,eventType:o,data:u}=s.data,d=this.handlersMap[o];if(!d?.size)return;s.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async v=>v(s.origin,u)),_=await dS(p);s.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:_})}_subscribe(e,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(s)}_unsubscribe(e,s){this.handlersMap[e]&&s&&this.handlersMap[e].delete(s),(!s||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hh.receivers=[];function Im(i="",e=10){let s="";for(let a=0;a<e;a++)s+=Math.floor(Math.random()*10);return i+s}class mS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,s,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((p,_)=>{const v=Im("",20);o.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(S){const C=S;if(C.data.eventId===v)switch(C.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(C.data.response);break;default:clearTimeout(T),clearTimeout(u),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:v,data:s},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ts(){return window}function gS(i){Ts().location.href=i}function a1(){return typeof Ts().WorkerGlobalScope<"u"&&typeof Ts().importScripts=="function"}async function pS(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yS(){return navigator?.serviceWorker?.controller||null}function _S(){return a1()?self:null}const l1="firebaseLocalStorageDb",vS=1,Qu="firebaseLocalStorage",o1="fbase_key";class qo{constructor(e){this.request=e}toPromise(){return new Promise((e,s)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function fh(i,e){return i.transaction([Qu],e?"readwrite":"readonly").objectStore(Qu)}function xS(){const i=indexedDB.deleteDatabase(l1);return new qo(i).toPromise()}function Wd(){const i=indexedDB.open(l1,vS);return new Promise((e,s)=>{i.addEventListener("error",()=>{s(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(Qu,{keyPath:o1})}catch(o){s(o)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains(Qu)?e(a):(a.close(),await xS(),e(await Wd()))})})}async function u_(i,e,s){const a=fh(i,!0).put({[o1]:e,value:s});return new qo(a).toPromise()}async function bS(i,e){const s=fh(i,!1).get(e),a=await new qo(s).toPromise();return a===void 0?null:a.value}function h_(i,e){const s=fh(i,!0).delete(e);return new qo(s).toPromise()}const ES=800,TS=3;class c1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wd(),this.db)}async _withRetries(e){let s=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(s++>TS)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return a1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hh._getInstance(_S()),this.receiver._subscribe("keyChanged",async(e,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(e,s)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pS(),!this.activeServiceWorker)return;this.sender=new mS(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wd();return await u_(e,Yu,"1"),await h_(e,Yu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,s){return this._withPendingWrite(async()=>(await this._withRetries(a=>u_(a,e,s)),this.localCache[e]=s,this.notifyServiceWorker(e)))}async _get(e){const s=await this._withRetries(a=>bS(a,e));return this.localCache[e]=s,s}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(s=>h_(s,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=fh(o,!1).getAll();return new qo(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const s=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),s.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),s.push(o));return s}notifyListeners(e,s){this.localCache[e]=s;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ES)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}c1.type="LOCAL";const SS=c1;new zo(3e4,6e4);function u1(i,e){return e?Js(e):(xe(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Dm extends e1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ha(e,this._buildIdpRequest())}_linkToIdToken(e,s){return Ha(e,this._buildIdpRequest(s))}_getReauthenticationResolver(e){return Ha(e,this._buildIdpRequest())}_buildIdpRequest(e){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(s.idToken=e),s}}function AS(i){return rS(i.auth,new Dm(i),i.bypassAuthState)}function wS(i){const{auth:e,user:s}=i;return xe(s,e,"internal-error"),iS(s,new Dm(i),i.bypassAuthState)}async function NS(i){const{auth:e,user:s}=i;return xe(s,e,"internal-error"),sS(s,new Dm(i),i.bypassAuthState)}class h1{constructor(e,s,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(e,s)=>{this.pendingPromise={resolve:e,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:s,sessionId:a,postBody:o,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:s,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AS;case"linkViaPopup":case"linkViaRedirect":return NS;case"reauthViaPopup":case"reauthViaRedirect":return wS;default:Rs(this.auth,"internal-error")}}resolve(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const RS=new zo(2e3,1e4);async function CS(i,e,s){if($n(i.app))return Promise.reject(Wn(i,"operation-not-supported-in-this-environment"));const a=uh(i);T2(i,e,Cm);const o=u1(a,s);return new Mr(a,"signInViaPopup",e,o).executeNotNull()}class Mr extends h1{constructor(e,s,a,o,u){super(e,s,o,u),this.provider=a,this.authWindow=null,this.pollId=null,Mr.currentPopupAction&&Mr.currentPopupAction.cancel(),Mr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){ti(this.filter.length===1,"Popup operations only handle one event");const e=Im();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(Wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,RS.get())};e()}}Mr.currentPopupAction=null;const IS="pendingRedirect",ku=new Map;class DS extends h1{constructor(e,s,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,a),this.eventId=null}async execute(){let e=ku.get(this.auth._key());if(!e){try{const a=await kS(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(s){e=()=>Promise.reject(s)}ku.set(this.auth._key(),e)}return this.bypassAuthState||ku.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const s=await this.auth._redirectUserForId(e.eventId);if(s)return this.user=s,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kS(i,e){const s=OS(e),a=jS(i);if(!await a._isAvailable())return!1;const o=await a._get(s)==="true";return await a._remove(s),o}function MS(i,e){ku.set(i._key(),e)}function jS(i){return Js(i._redirectPersistence)}function OS(i){return Du(IS,i.config.apiKey,i.name)}async function VS(i,e,s=!1){if($n(i.app))return Promise.reject(Or(i));const a=uh(i),o=u1(a,e),d=await new DS(a,o,s).execute();return d&&!s&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const LS=600*1e3;class US{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let s=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(s=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PS(e)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=e,s=!0)),s}sendToConsumer(e,s){if(e.error&&!f1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";s.onError(Wn(this.auth,a))}else s.onAuthEvent(e)}isEventForConsumer(e,s){const a=s.eventId===null||!!e.eventId&&e.eventId===s.eventId;return s.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LS&&this.cachedEventUids.clear(),this.cachedEventUids.has(f_(e))}saveEventToCache(e){this.cachedEventUids.add(f_(e)),this.lastProcessedEventTime=Date.now()}}function f_(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function f1({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function PS(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return f1(i);default:return!1}}async function zS(i,e={}){return sl(i,"GET","/v1/projects",e)}const BS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qS=/^https?/;async function HS(i){if(i.config.emulator)return;const{authorizedDomains:e}=await zS(i);for(const s of e)try{if(FS(s))return}catch{}Rs(i,"unauthorized-domain")}function FS(i){const e=Zd(),{protocol:s,hostname:a}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&a===""?s==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):s==="chrome-extension:"&&d.hostname===a}if(!qS.test(s))return!1;if(BS.test(i))return a===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const GS=new zo(3e4,6e4);function d_(){const i=Ts().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let s=0;s<i.CP.length;s++)i.CP[s]=null}}function YS(i){return new Promise((e,s)=>{function a(){d_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{d_(),s(Wn(i,"network-request-failed"))},timeout:GS.get()})}if(Ts().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ts().gapi?.load)a();else{const o=$2("iframefcb");return Ts()[o]=()=>{gapi.load?a():s(Wn(i,"network-request-failed"))},K2(`${X2()}?onload=${o}`).catch(u=>s(u))}}).catch(e=>{throw Mu=null,e})}let Mu=null;function QS(i){return Mu=Mu||YS(i),Mu}const KS=new zo(5e3,15e3),XS="__/auth/iframe",$S="emulator/auth/iframe",ZS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WS(i){const e=i.config;xe(e.authDomain,i,"auth-domain-config-required");const s=e.emulator?Sm(e,$S):`https://${i.config.authDomain}/${XS}`,a={apiKey:e.apiKey,appName:i.name,v:nl},o=JS.get(i.config.apiHost);o&&(a.eid=o);const u=i._getFrameworks();return u.length&&(a.fw=u.join(",")),`${s}?${Po(a).slice(1)}`}async function eA(i){const e=await QS(i),s=Ts().gapi;return xe(s,i,"internal-error"),e.open({where:document.body,url:WS(i),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZS,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const d=Wn(i,"network-request-failed"),p=Ts().setTimeout(()=>{u(d)},KS.get());function _(){Ts().clearTimeout(p),o(a)}a.ping(_).then(_,()=>{u(d)})}))}const tA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nA=500,sA=600,iA="_blank",rA="http://localhost";class m_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aA(i,e,s,a=nA,o=sA){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...tA,width:a.toString(),height:o.toString(),top:u,left:d},v=Wt().toLowerCase();s&&(p=Yv(v)?iA:s),Fv(v)&&(e=e||rA,_.scrollbars="yes");const T=Object.entries(_).reduce((C,[B,$])=>`${C}${B}=${$},`,"");if(z2(v)&&p!=="_self")return lA(e||"",p),new m_(null);const S=window.open(e||"",p,T);xe(S,i,"popup-blocked");try{S.focus()}catch{}return new m_(S)}function lA(i,e){const s=document.createElement("a");s.href=i,s.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(a)}const oA="__/auth/handler",cA="emulator/auth/handler",uA=encodeURIComponent("fac");async function g_(i,e,s,a,o,u){xe(i.config.authDomain,i,"auth-domain-config-required"),xe(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:s,redirectUrl:a,v:nl,eventId:o};if(e instanceof Cm){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",cT(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(e instanceof Bo){const T=e.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}i.tenantId&&(d.tid=i.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const _=await i._getAppCheckToken(),v=_?`#${uA}=${encodeURIComponent(_)}`:"";return`${hA(i)}?${Po(p).slice(1)}${v}`}function hA({config:i}){return i.emulator?Sm(i,cA):`https://${i.authDomain}/${oA}`}const Ud="webStorageSupport";class fA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=r1,this._completeRedirectFn=VS,this._overrideRedirectResult=MS}async _openPopup(e,s,a,o){ti(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await g_(e,s,a,Zd(),o);return aA(e,u,Im())}async _openRedirect(e,s,a,o){await this._originValidation(e);const u=await g_(e,s,a,Zd(),o);return gS(u),new Promise(()=>{})}_initialize(e){const s=e._key();if(this.eventManagers[s]){const{manager:o,promise:u}=this.eventManagers[s];return o?Promise.resolve(o):(ti(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[s]={promise:a},a.catch(()=>{delete this.eventManagers[s]}),a}async initAndGetManager(e){const s=await eA(e),a=new US(e);return s.register("authEvent",o=>(xe(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=s,a}_isIframeWebStorageSupported(e,s){this.iframes[e._key()].send(Ud,{type:Ud},o=>{const u=o?.[0]?.[Ud];u!==void 0&&s(!!u),Rs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=HS(e)),this.originValidationPromises[s]}get _shouldInitProactively(){return Zv()||Gv()||Nm()}}const dA=fA;var p_="@firebase/auth",y_="1.11.1";class mA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const s=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,s),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const s=this.internalListeners.get(e);s&&(this.internalListeners.delete(e),s(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function gA(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pA(i){Ga(new Pr("auth",(e,{options:s})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;xe(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jv(i)},v=new Y2(a,o,u,_);return J2(v,s),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,s,a)=>{e.getProvider("auth-internal").initialize()})),Ga(new Pr("auth-internal",e=>{const s=uh(e.getProvider("auth").getImmediate());return(a=>new mA(a))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yi(p_,y_,gA(i)),Yi(p_,y_,"esm2020")}const yA=300,_A=Rv("authIdTokenMaxAge")||yA;let __=null;const vA=i=>async e=>{const s=e&&await e.getIdTokenResult(),a=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(a&&a>_A)return;const o=s?.token;__!==o&&(__=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function xA(i=jv()){const e=bm(i,"auth");if(e.isInitialized())return e.getImmediate();const s=Z2(i,{popupRedirectResolver:dA,persistence:[SS,fS,r1]}),a=Rv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const d=vA(u.toString());lS(s,d,()=>d(s.currentUser)),aS(s,p=>d(p))}}const o=wv("auth");return o&&W2(s,`http://${o}`),s}function bA(){return document.getElementsByTagName("head")?.[0]??document}Q2({loadJS(i){return new Promise((e,s)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=e,a.onerror=o=>{const u=Wn("internal-error");u.customData=o,s(u)},a.type="text/javascript",a.charset="UTF-8",bA().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pA("Browser");var EA="firebase",TA="12.6.0";Yi(EA,TA,"app");var v_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qi,d1;(function(){var i;function e(k,E){function w(){}w.prototype=E.prototype,k.F=E.prototype,k.prototype=new w,k.prototype.constructor=k,k.D=function(I,N,M){for(var R=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)R[Me-2]=arguments[Me];return E.prototype[N].apply(I,R)}}function s(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,s),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,E,w){w||(w=0);const I=Array(16);if(typeof E=="string")for(var N=0;N<16;++N)I[N]=E.charCodeAt(w++)|E.charCodeAt(w++)<<8|E.charCodeAt(w++)<<16|E.charCodeAt(w++)<<24;else for(N=0;N<16;++N)I[N]=E[w++]|E[w++]<<8|E[w++]<<16|E[w++]<<24;E=k.g[0],w=k.g[1],N=k.g[2];let M=k.g[3],R;R=E+(M^w&(N^M))+I[0]+3614090360&4294967295,E=w+(R<<7&4294967295|R>>>25),R=M+(N^E&(w^N))+I[1]+3905402710&4294967295,M=E+(R<<12&4294967295|R>>>20),R=N+(w^M&(E^w))+I[2]+606105819&4294967295,N=M+(R<<17&4294967295|R>>>15),R=w+(E^N&(M^E))+I[3]+3250441966&4294967295,w=N+(R<<22&4294967295|R>>>10),R=E+(M^w&(N^M))+I[4]+4118548399&4294967295,E=w+(R<<7&4294967295|R>>>25),R=M+(N^E&(w^N))+I[5]+1200080426&4294967295,M=E+(R<<12&4294967295|R>>>20),R=N+(w^M&(E^w))+I[6]+2821735955&4294967295,N=M+(R<<17&4294967295|R>>>15),R=w+(E^N&(M^E))+I[7]+4249261313&4294967295,w=N+(R<<22&4294967295|R>>>10),R=E+(M^w&(N^M))+I[8]+1770035416&4294967295,E=w+(R<<7&4294967295|R>>>25),R=M+(N^E&(w^N))+I[9]+2336552879&4294967295,M=E+(R<<12&4294967295|R>>>20),R=N+(w^M&(E^w))+I[10]+4294925233&4294967295,N=M+(R<<17&4294967295|R>>>15),R=w+(E^N&(M^E))+I[11]+2304563134&4294967295,w=N+(R<<22&4294967295|R>>>10),R=E+(M^w&(N^M))+I[12]+1804603682&4294967295,E=w+(R<<7&4294967295|R>>>25),R=M+(N^E&(w^N))+I[13]+4254626195&4294967295,M=E+(R<<12&4294967295|R>>>20),R=N+(w^M&(E^w))+I[14]+2792965006&4294967295,N=M+(R<<17&4294967295|R>>>15),R=w+(E^N&(M^E))+I[15]+1236535329&4294967295,w=N+(R<<22&4294967295|R>>>10),R=E+(N^M&(w^N))+I[1]+4129170786&4294967295,E=w+(R<<5&4294967295|R>>>27),R=M+(w^N&(E^w))+I[6]+3225465664&4294967295,M=E+(R<<9&4294967295|R>>>23),R=N+(E^w&(M^E))+I[11]+643717713&4294967295,N=M+(R<<14&4294967295|R>>>18),R=w+(M^E&(N^M))+I[0]+3921069994&4294967295,w=N+(R<<20&4294967295|R>>>12),R=E+(N^M&(w^N))+I[5]+3593408605&4294967295,E=w+(R<<5&4294967295|R>>>27),R=M+(w^N&(E^w))+I[10]+38016083&4294967295,M=E+(R<<9&4294967295|R>>>23),R=N+(E^w&(M^E))+I[15]+3634488961&4294967295,N=M+(R<<14&4294967295|R>>>18),R=w+(M^E&(N^M))+I[4]+3889429448&4294967295,w=N+(R<<20&4294967295|R>>>12),R=E+(N^M&(w^N))+I[9]+568446438&4294967295,E=w+(R<<5&4294967295|R>>>27),R=M+(w^N&(E^w))+I[14]+3275163606&4294967295,M=E+(R<<9&4294967295|R>>>23),R=N+(E^w&(M^E))+I[3]+4107603335&4294967295,N=M+(R<<14&4294967295|R>>>18),R=w+(M^E&(N^M))+I[8]+1163531501&4294967295,w=N+(R<<20&4294967295|R>>>12),R=E+(N^M&(w^N))+I[13]+2850285829&4294967295,E=w+(R<<5&4294967295|R>>>27),R=M+(w^N&(E^w))+I[2]+4243563512&4294967295,M=E+(R<<9&4294967295|R>>>23),R=N+(E^w&(M^E))+I[7]+1735328473&4294967295,N=M+(R<<14&4294967295|R>>>18),R=w+(M^E&(N^M))+I[12]+2368359562&4294967295,w=N+(R<<20&4294967295|R>>>12),R=E+(w^N^M)+I[5]+4294588738&4294967295,E=w+(R<<4&4294967295|R>>>28),R=M+(E^w^N)+I[8]+2272392833&4294967295,M=E+(R<<11&4294967295|R>>>21),R=N+(M^E^w)+I[11]+1839030562&4294967295,N=M+(R<<16&4294967295|R>>>16),R=w+(N^M^E)+I[14]+4259657740&4294967295,w=N+(R<<23&4294967295|R>>>9),R=E+(w^N^M)+I[1]+2763975236&4294967295,E=w+(R<<4&4294967295|R>>>28),R=M+(E^w^N)+I[4]+1272893353&4294967295,M=E+(R<<11&4294967295|R>>>21),R=N+(M^E^w)+I[7]+4139469664&4294967295,N=M+(R<<16&4294967295|R>>>16),R=w+(N^M^E)+I[10]+3200236656&4294967295,w=N+(R<<23&4294967295|R>>>9),R=E+(w^N^M)+I[13]+681279174&4294967295,E=w+(R<<4&4294967295|R>>>28),R=M+(E^w^N)+I[0]+3936430074&4294967295,M=E+(R<<11&4294967295|R>>>21),R=N+(M^E^w)+I[3]+3572445317&4294967295,N=M+(R<<16&4294967295|R>>>16),R=w+(N^M^E)+I[6]+76029189&4294967295,w=N+(R<<23&4294967295|R>>>9),R=E+(w^N^M)+I[9]+3654602809&4294967295,E=w+(R<<4&4294967295|R>>>28),R=M+(E^w^N)+I[12]+3873151461&4294967295,M=E+(R<<11&4294967295|R>>>21),R=N+(M^E^w)+I[15]+530742520&4294967295,N=M+(R<<16&4294967295|R>>>16),R=w+(N^M^E)+I[2]+3299628645&4294967295,w=N+(R<<23&4294967295|R>>>9),R=E+(N^(w|~M))+I[0]+4096336452&4294967295,E=w+(R<<6&4294967295|R>>>26),R=M+(w^(E|~N))+I[7]+1126891415&4294967295,M=E+(R<<10&4294967295|R>>>22),R=N+(E^(M|~w))+I[14]+2878612391&4294967295,N=M+(R<<15&4294967295|R>>>17),R=w+(M^(N|~E))+I[5]+4237533241&4294967295,w=N+(R<<21&4294967295|R>>>11),R=E+(N^(w|~M))+I[12]+1700485571&4294967295,E=w+(R<<6&4294967295|R>>>26),R=M+(w^(E|~N))+I[3]+2399980690&4294967295,M=E+(R<<10&4294967295|R>>>22),R=N+(E^(M|~w))+I[10]+4293915773&4294967295,N=M+(R<<15&4294967295|R>>>17),R=w+(M^(N|~E))+I[1]+2240044497&4294967295,w=N+(R<<21&4294967295|R>>>11),R=E+(N^(w|~M))+I[8]+1873313359&4294967295,E=w+(R<<6&4294967295|R>>>26),R=M+(w^(E|~N))+I[15]+4264355552&4294967295,M=E+(R<<10&4294967295|R>>>22),R=N+(E^(M|~w))+I[6]+2734768916&4294967295,N=M+(R<<15&4294967295|R>>>17),R=w+(M^(N|~E))+I[13]+1309151649&4294967295,w=N+(R<<21&4294967295|R>>>11),R=E+(N^(w|~M))+I[4]+4149444226&4294967295,E=w+(R<<6&4294967295|R>>>26),R=M+(w^(E|~N))+I[11]+3174756917&4294967295,M=E+(R<<10&4294967295|R>>>22),R=N+(E^(M|~w))+I[2]+718787259&4294967295,N=M+(R<<15&4294967295|R>>>17),R=w+(M^(N|~E))+I[9]+3951481745&4294967295,k.g[0]=k.g[0]+E&4294967295,k.g[1]=k.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,k.g[2]=k.g[2]+N&4294967295,k.g[3]=k.g[3]+M&4294967295}a.prototype.v=function(k,E){E===void 0&&(E=k.length);const w=E-this.blockSize,I=this.C;let N=this.h,M=0;for(;M<E;){if(N==0)for(;M<=w;)o(this,k,M),M+=this.blockSize;if(typeof k=="string"){for(;M<E;)if(I[N++]=k.charCodeAt(M++),N==this.blockSize){o(this,I),N=0;break}}else for(;M<E;)if(I[N++]=k[M++],N==this.blockSize){o(this,I),N=0;break}}this.h=N,this.o+=E},a.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var E=1;E<k.length-8;++E)k[E]=0;E=this.o*8;for(var w=k.length-8;w<k.length;++w)k[w]=E&255,E/=256;for(this.v(k),k=Array(16),E=0,w=0;w<4;++w)for(let I=0;I<32;I+=8)k[E++]=this.g[w]>>>I&255;return k};function u(k,E){var w=p;return Object.prototype.hasOwnProperty.call(w,k)?w[k]:w[k]=E(k)}function d(k,E){this.h=E;const w=[];let I=!0;for(let N=k.length-1;N>=0;N--){const M=k[N]|0;I&&M==E||(w[N]=M,I=!1)}this.g=w}var p={};function _(k){return-128<=k&&k<128?u(k,function(E){return new d([E|0],E<0?-1:0)}):new d([k|0],k<0?-1:0)}function v(k){if(isNaN(k)||!isFinite(k))return S;if(k<0)return P(v(-k));const E=[];let w=1;for(let I=0;k>=w;I++)E[I]=k/w|0,w*=4294967296;return new d(E,0)}function T(k,E){if(k.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(k.charAt(0)=="-")return P(T(k.substring(1),E));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=v(Math.pow(E,8));let I=S;for(let M=0;M<k.length;M+=8){var N=Math.min(8,k.length-M);const R=parseInt(k.substring(M,M+N),E);N<8?(N=v(Math.pow(E,N)),I=I.j(N).add(v(R))):(I=I.j(w),I=I.add(v(R)))}return I}var S=_(0),C=_(1),B=_(16777216);i=d.prototype,i.m=function(){if(Q(this))return-P(this).m();let k=0,E=1;for(let w=0;w<this.g.length;w++){const I=this.i(w);k+=(I>=0?I:4294967296+I)*E,E*=4294967296}return k},i.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if($(this))return"0";if(Q(this))return"-"+P(this).toString(k);const E=v(Math.pow(k,6));var w=this;let I="";for(;;){const N=ie(w,E).g;w=se(w,N.j(E));let M=((w.g.length>0?w.g[0]:w.h)>>>0).toString(k);if(w=N,$(w))return M+I;for(;M.length<6;)M="0"+M;I=M+I}},i.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function $(k){if(k.h!=0)return!1;for(let E=0;E<k.g.length;E++)if(k.g[E]!=0)return!1;return!0}function Q(k){return k.h==-1}i.l=function(k){return k=se(this,k),Q(k)?-1:$(k)?0:1};function P(k){const E=k.g.length,w=[];for(let I=0;I<E;I++)w[I]=~k.g[I];return new d(w,~k.h).add(C)}i.abs=function(){return Q(this)?P(this):this},i.add=function(k){const E=Math.max(this.g.length,k.g.length),w=[];let I=0;for(let N=0;N<=E;N++){let M=I+(this.i(N)&65535)+(k.i(N)&65535),R=(M>>>16)+(this.i(N)>>>16)+(k.i(N)>>>16);I=R>>>16,M&=65535,R&=65535,w[N]=R<<16|M}return new d(w,w[w.length-1]&-2147483648?-1:0)};function se(k,E){return k.add(P(E))}i.j=function(k){if($(this)||$(k))return S;if(Q(this))return Q(k)?P(this).j(P(k)):P(P(this).j(k));if(Q(k))return P(this.j(P(k)));if(this.l(B)<0&&k.l(B)<0)return v(this.m()*k.m());const E=this.g.length+k.g.length,w=[];for(var I=0;I<2*E;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(let N=0;N<k.g.length;N++){const M=this.i(I)>>>16,R=this.i(I)&65535,Me=k.i(N)>>>16,ze=k.i(N)&65535;w[2*I+2*N]+=R*ze,L(w,2*I+2*N),w[2*I+2*N+1]+=M*ze,L(w,2*I+2*N+1),w[2*I+2*N+1]+=R*Me,L(w,2*I+2*N+1),w[2*I+2*N+2]+=M*Me,L(w,2*I+2*N+2)}for(k=0;k<E;k++)w[k]=w[2*k+1]<<16|w[2*k];for(k=E;k<2*E;k++)w[k]=0;return new d(w,0)};function L(k,E){for(;(k[E]&65535)!=k[E];)k[E+1]+=k[E]>>>16,k[E]&=65535,E++}function V(k,E){this.g=k,this.h=E}function ie(k,E){if($(E))throw Error("division by zero");if($(k))return new V(S,S);if(Q(k))return E=ie(P(k),E),new V(P(E.g),P(E.h));if(Q(E))return E=ie(k,P(E)),new V(P(E.g),E.h);if(k.g.length>30){if(Q(k)||Q(E))throw Error("slowDivide_ only works with positive integers.");for(var w=C,I=E;I.l(k)<=0;)w=he(w),I=he(I);var N=ae(w,1),M=ae(I,1);for(I=ae(I,2),w=ae(w,2);!$(I);){var R=M.add(I);R.l(k)<=0&&(N=N.add(w),M=R),I=ae(I,1),w=ae(w,1)}return E=se(k,N.j(E)),new V(N,E)}for(N=S;k.l(E)>=0;){for(w=Math.max(1,Math.floor(k.m()/E.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),M=v(w),R=M.j(E);Q(R)||R.l(k)>0;)w-=I,M=v(w),R=M.j(E);$(M)&&(M=C),N=N.add(M),k=se(k,R)}return new V(N,k)}i.B=function(k){return ie(this,k).h},i.and=function(k){const E=Math.max(this.g.length,k.g.length),w=[];for(let I=0;I<E;I++)w[I]=this.i(I)&k.i(I);return new d(w,this.h&k.h)},i.or=function(k){const E=Math.max(this.g.length,k.g.length),w=[];for(let I=0;I<E;I++)w[I]=this.i(I)|k.i(I);return new d(w,this.h|k.h)},i.xor=function(k){const E=Math.max(this.g.length,k.g.length),w=[];for(let I=0;I<E;I++)w[I]=this.i(I)^k.i(I);return new d(w,this.h^k.h)};function he(k){const E=k.g.length+1,w=[];for(let I=0;I<E;I++)w[I]=k.i(I)<<1|k.i(I-1)>>>31;return new d(w,k.h)}function ae(k,E){const w=E>>5;E%=32;const I=k.g.length-w,N=[];for(let M=0;M<I;M++)N[M]=E>0?k.i(M+w)>>>E|k.i(M+w+1)<<32-E:k.i(M+w);return new d(N,k.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,d1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=T,Qi=d}).apply(typeof v_<"u"?v_:typeof self<"u"?self:typeof window<"u"?window:{});var Au=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var m1,go,g1,ju,em,p1,y1,_1;(function(){var i,e=Object.defineProperty;function s(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Au=="object"&&Au];for(var g=0;g<c.length;++g){var x=c[g];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var a=s(this);function o(c,g){if(g)e:{var x=a;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in x))break e;x=x[z]}c=c[c.length-1],A=x[c],g=g(A),g!=A&&g!=null&&e(x,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var x=[],A;for(A in g)Object.prototype.hasOwnProperty.call(g,A)&&x.push([A,g[A]]);return x}});var u=u||{},d=this||self;function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function _(c,g,x){return c.call.apply(c.bind,arguments)}function v(c,g,x){return v=_,v.apply(null,arguments)}function T(c,g){var x=Array.prototype.slice.call(arguments,1);return function(){var A=x.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,g){function x(){}x.prototype=g.prototype,c.Z=g.prototype,c.prototype=new x,c.prototype.constructor=c,c.Ob=function(A,z,G){for(var re=Array(arguments.length-2),we=2;we<arguments.length;we++)re[we-2]=arguments[we];return g.prototype[z].apply(A,re)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function B(c){const g=c.length;if(g>0){const x=Array(g);for(let A=0;A<g;A++)x[A]=c[A];return x}return[]}function $(c,g){for(let A=1;A<arguments.length;A++){const z=arguments[A];var x=typeof z;if(x=x!="object"?x:z?Array.isArray(z)?"array":x:"null",x=="array"||x=="object"&&typeof z.length=="number"){x=c.length||0;const G=z.length||0;c.length=x+G;for(let re=0;re<G;re++)c[x+re]=z[re]}else c.push(z)}}class Q{constructor(g,x){this.i=g,this.j=x,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function P(c){d.setTimeout(()=>{throw c},0)}function se(){var c=k;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class L{constructor(){this.h=this.g=null}add(g,x){const A=V.get();A.set(g,x),this.h?this.h.next=A:this.g=A,this.h=A}}var V=new Q(()=>new ie,c=>c.reset());class ie{constructor(){this.next=this.g=this.h=null}set(g,x){this.h=g,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let he,ae=!1,k=new L,E=()=>{const c=Promise.resolve(void 0);he=()=>{c.then(w)}};function w(){for(var c;c=se();){try{c.h.call(c.g)}catch(x){P(x)}var g=V;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}ae=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const x=()=>{};d.addEventListener("test",x,g),d.removeEventListener("test",x,g)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function Me(c,g){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}S(Me,N),Me.prototype.init=function(c,g){const x=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(x=="mouseover"?g=c.fromElement:x=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Me.Z.h.call(this)},Me.prototype.h=function(){Me.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ze="closure_listenable_"+(Math.random()*1e6|0),K=0;function le(c,g,x,A,z){this.listener=c,this.proxy=null,this.src=g,this.type=x,this.capture=!!A,this.ha=z,this.key=++K,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ie(c,g,x){for(const A in c)g.call(x,c[A],A,c)}function He(c,g){for(const x in c)g.call(void 0,c[x],x,c)}function O(c){const g={};for(const x in c)g[x]=c[x];return g}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,g){let x,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(x in A)c[x]=A[x];for(let G=0;G<ee.length;G++)x=ee[G],Object.prototype.hasOwnProperty.call(A,x)&&(c[x]=A[x])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,g,x,A,z){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const re=Re(c,g,A,z);return re>-1?(g=c[re],x||(g.fa=!1)):(g=new le(g,this.src,G,!!A,z),g.fa=x,c.push(g)),g};function be(c,g){const x=g.type;if(x in c.g){var A=c.g[x],z=Array.prototype.indexOf.call(A,g,void 0),G;(G=z>=0)&&Array.prototype.splice.call(A,z,1),G&&(me(g),c.g[x].length==0&&(delete c.g[x],c.h--))}}function Re(c,g,x,A){for(let z=0;z<c.length;++z){const G=c[z];if(!G.da&&G.listener==g&&G.capture==!!x&&G.ha==A)return z}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Ct={};function at(c,g,x,A,z){if(Array.isArray(g)){for(let G=0;G<g.length;G++)at(c,g[G],x,A,z);return null}return x=ul(x),c&&c[ze]?c.J(g,x,p(A)?!!A.capture:!1,z):tr(c,g,x,!1,A,z)}function tr(c,g,x,A,z,G){if(!g)throw Error("Invalid event type");const re=p(z)?!!z.capture:!!z;let we=nr(c);if(we||(c[Be]=we=new ue(c)),x=we.add(g,x,A,re,G),x.proxy)return x;if(A=Qr(),x.proxy=A,A.src=c,A.listener=x,c.addEventListener)M||(z=re),z===void 0&&(z=!1),c.addEventListener(g.toString(),A,z);else if(c.attachEvent)c.attachEvent(es(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Qr(){function c(x){return g.call(c.src,c.listener,x)}const g=ol;return c}function Kr(c,g,x,A,z){if(Array.isArray(g))for(var G=0;G<g.length;G++)Kr(c,g[G],x,A,z);else A=p(A)?!!A.capture:!!A,x=ul(x),c&&c[ze]?(c=c.i,G=String(g).toString(),G in c.g&&(g=c.g[G],x=Re(g,x,A,z),x>-1&&(me(g[x]),Array.prototype.splice.call(g,x,1),g.length==0&&(delete c.g[G],c.h--)))):c&&(c=nr(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Re(g,x,A,z)),(x=c>-1?g[c]:null)&&Xr(x))}function Xr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ze])be(g.i,c);else{var x=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(x,A,c.capture):g.detachEvent?g.detachEvent(es(x),A):g.addListener&&g.removeListener&&g.removeListener(A),(x=nr(g))?(be(x,c),x.h==0&&(x.src=null,g[Be]=null)):me(c)}}}function es(c){return c in Ct?Ct[c]:Ct[c]="on"+c}function ol(c,g){if(c.da)c=!0;else{g=new Me(g,this);const x=c.listener,A=c.ha||c.src;c.fa&&Xr(c),c=x.call(A,g)}return c}function nr(c){return c=c[Be],c instanceof ue?c:null}var cl="__closure_events_fn_"+(Math.random()*1e9>>>0);function ul(c){return typeof c=="function"?c:(c[cl]||(c[cl]=function(g){return c.handleEvent(g)}),c[cl])}function _t(){I.call(this),this.i=new ue(this),this.M=this,this.G=null}S(_t,I),_t.prototype[ze]=!0,_t.prototype.removeEventListener=function(c,g,x,A){Kr(this,c,g,x,A)};function It(c,g){var x,A=c.G;if(A)for(x=[];A;A=A.G)x.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new N(g,c);else if(g instanceof N)g.target=g.target||c;else{var z=g;g=new N(A,c),oe(g,z)}z=!0;let G,re;if(x)for(re=x.length-1;re>=0;re--)G=g.g=x[re],z=ri(G,A,!0,g)&&z;if(G=g.g=c,z=ri(G,A,!0,g)&&z,z=ri(G,A,!1,g)&&z,x)for(re=0;re<x.length;re++)G=g.g=x[re],z=ri(G,A,!1,g)&&z}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const x=c.g[g];for(let A=0;A<x.length;A++)me(x[A]);delete c.g[g],c.h--}}this.G=null},_t.prototype.J=function(c,g,x,A){return this.i.add(String(c),g,!1,x,A)},_t.prototype.K=function(c,g,x,A){return this.i.add(String(c),g,!0,x,A)};function ri(c,g,x,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let z=!0;for(let G=0;G<g.length;++G){const re=g[G];if(re&&!re.da&&re.capture==x){const we=re.listener,mt=re.ha||re.src;re.fa&&be(c.i,re),z=we.call(mt,A)!==!1&&z}}return z&&!A.defaultPrevented}function Nh(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=v(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:d.setTimeout(c,g||0)}function Xo(c){c.g=Nh(()=>{c.g=null,c.i&&(c.i=!1,Xo(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class en extends I{constructor(g,x){super(),this.m=g,this.l=x,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Xo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sr(c){I.call(this),this.h=c,this.g={}}S(sr,I);var hl=[];function fl(c){Ie(c.g,function(g,x){this.g.hasOwnProperty(x)&&Xr(g)},c),c.g={}}sr.prototype.N=function(){sr.Z.N.call(this),fl(this)},sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ai=d.JSON.stringify,Rh=d.JSON.parse,$o=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Zo(){}function Jo(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pt(){N.call(this,"d")}S(Pt,N);function bn(){N.call(this,"c")}S(bn,N);var dt={},Wo=null;function $r(){return Wo=Wo||new _t}dt.Ia="serverreachability";function ec(c){N.call(this,dt.Ia,c)}S(ec,N);function ts(c){const g=$r();It(g,new ec(g))}dt.STAT_EVENT="statevent";function ir(c,g){N.call(this,dt.STAT_EVENT,c),this.stat=g}S(ir,N);function vt(c){const g=$r();It(g,new ir(g,c))}dt.Ja="timingevent";function ns(c,g){N.call(this,dt.Ja,c),this.size=g}S(ns,N);function ss(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},g)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function Ch(c,g,x,A,z,G){c.info(function(){if(c.g)if(G){var re="",we=G.split("&");for(let Ye=0;Ye<we.length;Ye++){var mt=we[Ye].split("=");if(mt.length>1){const lt=mt[0];mt=mt[1];const An=lt.split("_");re=An.length>=2&&An[1]=="type"?re+(lt+"="+mt+"&"):re+(lt+"=redacted&")}}}else re=null;else re=G;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+g+`
`+x+`
`+re})}function tc(c,g,x,A,z,G,re){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+g+`
`+x+`
`+G+" "+re})}function is(c,g,x,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Ih(c,x)+(A?" "+A:"")})}function rr(c,g){c.info(function(){return"TIMEOUT: "+g})}Pn.prototype.info=function(){};function Ih(c,g){if(!c.g)return g;if(!g)return null;try{const G=JSON.parse(g);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var x=G[c];if(!(x.length<2)){var A=x[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let re=1;re<A.length;re++)A[re]=""}}}}return ai(G)}catch{return g}}var ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},dl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ml;function lr(){}S(lr,Zo),lr.prototype.g=function(){return new XMLHttpRequest},ml=new lr;function Ds(c){return encodeURIComponent(String(c))}function nc(c){var g=1;c=c.split(":");const x=[];for(;g>0&&c.length;)x.push(c.shift()),g--;return c.length&&x.push(c.join(":")),x}function zn(c,g,x,A){this.j=c,this.i=g,this.l=x,this.S=A||1,this.V=new sr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var xt={},jt={};function rs(c,g,x){c.M=1,c.A=or(Et(g)),c.u=x,c.R=!0,Zr(c,null)}function Zr(c,g){c.F=Date.now(),as(c),c.B=Et(c.A);var x=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ta(x.i,"t",A),c.C=0,x=c.j.L,c.h=new Bn,c.g=yc(c.j,x?g:null,!c.u),c.P>0&&(c.O=new en(v(c.Y,c,c.g),c.P)),g=c.V,x=c.g,A=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(hl[0]=z.toString()),z=hl);for(let G=0;G<z.length;G++){const re=at(x,z[G],A||g.handleEvent,!1,g.h||g);if(!re)break;g.g[re.key]=re}g=c.J?O(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),ts(),Ch(c.i,c.v,c.B,c.l,c.S,c.u)}zn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Fn(c)==3?g.j():this.Y(c)},zn.prototype.Y=function(c){try{if(c==this.g)e:{const we=Fn(this.g),mt=this.g.ya(),Ye=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||zt(this.g)))){this.K||we!=4||mt==7||(mt==8||Ye<=0?ts(3):ts(2)),ls(this);var g=this.g.ca();this.X=g;var x=Dh(this);if(this.o=g==200,tc(this.i,this.v,this.B,this.l,this.S,we,g),this.o){if(this.U&&!this.L){t:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var G=A;break t}}G=null}if(c=G)is(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,os(this,c);else{this.o=!1,this.m=3,vt(12),fn(this),En(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<x.length;)if(lt=ic(this,x),lt==jt){we==4&&(this.m=4,vt(14),c=!1),is(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==xt){this.m=4,vt(15),is(this.i,this.l,x,"[Invalid Chunk]"),c=!1;break}else is(this.i,this.l,lt,null),os(this,lt);if(sc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||x.length!=0||this.h.h||(this.m=1,vt(16),c=!1),this.o=this.o&&c,!c)is(this.i,this.l,x,"[Invalid Chunked Response]"),fn(this),En(this);else if(x.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Cl(re),re.P=!0,vt(11))}}else is(this.i,this.l,x,null),os(this,x);we==4&&fn(this),this.o&&!this.K&&(we==4?dc(this.j,this):(this.o=!1,as(this)))}else Ms(this.g),g==400&&x.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),fn(this),En(this)}}}catch{}finally{}};function Dh(c){if(!sc(c))return c.g.la();const g=zt(c.g);if(g==="")return"";let x="";const A=g.length,z=Fn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return fn(c),En(c),"";c.h.i=new d.TextDecoder}for(let G=0;G<A;G++)c.h.h=!0,x+=c.h.i.decode(g[G],{stream:!(z&&G==A-1)});return g.length=0,c.h.g+=x,c.C=0,c.h.g}function sc(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ic(c,g){var x=c.C,A=g.indexOf(`
`,x);return A==-1?jt:(x=Number(g.substring(x,A)),isNaN(x)?xt:(A+=1,A+x>g.length?jt:(g=g.slice(A,A+x),c.C=A+x,g)))}zn.prototype.cancel=function(){this.K=!0,fn(this)};function as(c){c.T=Date.now()+c.H,Jr(c,c.H)}function Jr(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ss(v(c.aa,c),g)}function ls(c){c.D&&(d.clearTimeout(c.D),c.D=null)}zn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(rr(this.i,this.B),this.M!=2&&(ts(),vt(17)),fn(this),this.m=2,En(this)):Jr(this,this.T-c)};function En(c){c.j.I==0||c.K||dc(c.j,c)}function fn(c){ls(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,fl(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function os(c,g){try{var x=c.j;if(x.I!=0&&(x.g==c||us(x.h,c))){if(!c.L&&us(x.h,c)&&x.I==3){try{var A=x.Ba.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<c.F)aa(x),mi(x);else break e;gr(x),vt(18)}}else x.xa=z[1],0<x.xa-x.K&&z[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=ss(v(x.Va,x),6e3));cs(x.h)<=1&&x.ta&&(x.ta=void 0)}else ps(x,11)}else if((c.L||x.g==c)&&aa(x),!R(g))for(z=x.Ba.g.parse(g),g=0;g<z.length;g++){let Ye=z[g];const lt=Ye[0];if(!(lt<=x.K))if(x.K=lt,Ye=Ye[1],x.I==2)if(Ye[0]=="c"){x.M=Ye[1],x.ba=Ye[2];const An=Ye[3];An!=null&&(x.ka=An,x.j.info("VER="+x.ka));const ys=Ye[4];ys!=null&&(x.za=ys,x.j.info("SVER="+x.za));const Gn=Ye[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(A=1.5*Gn,x.O=A,x.j.info("backChannelRequestTimeoutMs_="+A)),A=x;const Yn=c.g;if(Yn){const pr=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pr){var G=A.h;G.g||pr.indexOf("spdy")==-1&&pr.indexOf("quic")==-1&&pr.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(yl(G,G.h),G.h=null))}if(A.G){const la=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;la&&(A.wa=la,Xe(A.J,A.G,la))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-c.F,x.j.info("Handshake RTT: "+x.T+"ms")),A=x;var re=c;if(A.na=pc(A,A.L?A.ba:null,A.W),re.L){_l(A.h,re);var we=re,mt=A.O;mt&&(we.H=mt),we.D&&(ls(we),as(we)),A.g=re}else hc(A);x.i.length>0&&gs(x)}else Ye[0]!="stop"&&Ye[0]!="close"||ps(x,7);else x.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?ps(x,7):Nl(x):Ye[0]!="noop"&&x.l&&x.l.qa(Ye),x.A=0)}}ts(4)}catch{}}var bt=class{constructor(c,g){this.g=c,this.map=g}};function gl(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function pl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function cs(c){return c.h?1:c.g?c.g.size:0}function us(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function yl(c,g){c.g?c.g.add(g):c.h=g}function _l(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}gl.prototype.cancel=function(){if(this.i=vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function vl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const x of c.g.values())g=g.concat(x.G);return g}return B(c.i)}var rc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wr(c,g){if(c){c=c.split("&");for(let x=0;x<c.length;x++){const A=c[x].indexOf("=");let z,G=null;A>=0?(z=c[x].substring(0,A),G=c[x].substring(A+1)):z=c[x],g(z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function dn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof dn?(this.l=c.l,Ot(this,c.j),this.o=c.o,this.g=c.g,li(this,c.u),this.h=c.h,xl(this,cc(c.i)),this.m=c.m):c&&(g=String(c).match(rc))?(this.l=!1,Ot(this,g[1]||"",!0),this.o=hs(g[2]||""),this.g=hs(g[3]||"",!0),li(this,g[4]),this.h=hs(g[5]||"",!0),xl(this,g[6]||"",!0),this.m=hs(g[7]||"")):(this.l=!1,this.i=new ci(null,this.l))}dn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(cr(g,ea,!0),":");var x=this.g;return(x||g=="file")&&(c.push("//"),(g=this.o)&&c.push(cr(g,ea,!0),"@"),c.push(Ds(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&c.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&c.push("/"),c.push(cr(x,x.charAt(0)=="/"?bl:ac,!0))),(x=this.i.toString())&&c.push("?",x),(x=this.m)&&c.push("#",cr(x,lc)),c.join("")},dn.prototype.resolve=function(c){const g=Et(this);let x=!!c.j;x?Ot(g,c.j):x=!!c.o,x?g.o=c.o:x=!!c.g,x?g.g=c.g:x=c.u!=null;var A=c.h;if(x)li(g,c.u);else if(x=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=g.h.lastIndexOf("/");z!=-1&&(A=g.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const G=[];for(let re=0;re<z.length;){const we=z[re++];we=="."?A&&re==z.length&&G.push(""):we==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),A&&re==z.length&&G.push("")):(G.push(we),A=!0)}A=G.join("/")}else A=z}return x?g.h=A:x=c.i.toString()!=="",x?xl(g,cc(c.i)):x=!!c.m,x&&(g.m=c.m),g};function Et(c){return new dn(c)}function Ot(c,g,x){c.j=x?hs(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function li(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function xl(c,g,x){g instanceof ci?(c.i=g,na(c.i,c.l)):(x||(g=cr(g,oi)),c.i=new ci(g,c.l))}function Xe(c,g,x){c.i.set(g,x)}function or(c){return Xe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function hs(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function cr(c,g,x){return typeof c=="string"?(c=encodeURI(c).replace(g,sn),x&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ea=/[#\/\?@]/g,ac=/[#\?:]/g,bl=/[#\?]/g,oi=/[#\?@]/g,lc=/#/g;function ci(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function rn(c){c.g||(c.g=new Map,c.h=0,c.i&&Wr(c.i,function(g,x){c.add(decodeURIComponent(g.replace(/\+/g," ")),x)}))}i=ci.prototype,i.add=function(c,g){rn(this),this.i=null,c=ui(this,c);let x=this.g.get(c);return x||this.g.set(c,x=[]),x.push(g),this.h+=1,this};function oc(c,g){rn(c),g=ui(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function El(c,g){return rn(c),g=ui(c,g),c.g.has(g)}i.forEach=function(c,g){rn(this),this.g.forEach(function(x,A){x.forEach(function(z){c.call(g,z,A,this)},this)},this)};function Tl(c,g){rn(c);let x=[];if(typeof g=="string")El(c,g)&&(x=x.concat(c.g.get(ui(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)x=x.concat(c[g]);return x}i.set=function(c,g){return rn(this),this.i=null,c=ui(this,c),El(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},i.get=function(c,g){return c?(c=Tl(this,c),c.length>0?String(c[0]):g):g};function ta(c,g,x){oc(c,g),x.length>0&&(c.i=null,c.g.set(ui(c,g),B(x)),c.h+=x.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let A=0;A<g.length;A++){var x=g[A];const z=Ds(x);x=Tl(this,x);for(let G=0;G<x.length;G++){let re=z;x[G]!==""&&(re+="="+Ds(x[G])),c.push(re)}}return this.i=c.join("&")};function cc(c){const g=new ci;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function ui(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function na(c,g){g&&!c.j&&(rn(c),c.i=null,c.g.forEach(function(x,A){const z=A.toLowerCase();A!=z&&(oc(this,A),ta(this,z,x))},c)),c.j=g}function qn(c,g){const x=new Pn;if(d.Image){const A=new Image;A.onload=T(Tn,x,"TestLoadImage: loaded",!0,g,A),A.onerror=T(Tn,x,"TestLoadImage: error",!1,g,A),A.onabort=T(Tn,x,"TestLoadImage: abort",!1,g,A),A.ontimeout=T(Tn,x,"TestLoadImage: timeout",!1,g,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function Sl(c,g){const x=new Pn,A=new AbortController,z=setTimeout(()=>{A.abort(),Tn(x,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout(z),G.ok?Tn(x,"TestPingServer: ok",!0,g):Tn(x,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),Tn(x,"TestPingServer: error",!1,g)})}function Tn(c,g,x,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(x)}catch{}}function hi(){this.g=new $o}function fs(c){this.i=c.Sb||null,this.h=c.ab||!1}S(fs,Zo),fs.prototype.g=function(){return new ur(this.i,this.h)};function ur(c,g){_t.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(ur,_t),i=ur.prototype,i.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Hn(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||d).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fi(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function sa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?fi(this):Hn(this),this.readyState==3&&sa(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,fi(this))},i.Na=function(c){this.g&&(this.response=c,fi(this))},i.ga=function(){this.g&&fi(this)};function fi(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Hn(c)}i.setRequestHeader=function(c,g){this.A.append(c,g)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var x=g.next();!x.done;)x=x.value,c.push(x[0]+": "+x[1]),x=g.next();return c.join(`\r
`)};function Hn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Sn(c){let g="";return Ie(c,function(x,A){g+=A,g+=":",g+=x,g+=`\r
`}),g}function hr(c,g,x){e:{for(A in x){var A=!1;break e}A=!0}A||(x=Sn(x),typeof c=="string"?x!=null&&Ds(x):Xe(c,g,x))}function Je(c){_t.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Je,_t);var ds=/^https?$/i,Al=["POST","PUT"];i=Je.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,g,x,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ml.g(),this.g.onreadystatechange=C(v(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){fr(this,G);return}if(c=x||"",x=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)x.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())x.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(x.keys()).find(G=>G.toLowerCase()=="content-type"),z=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Al,g,void 0)>=0)||A||z||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,re]of x)this.g.setRequestHeader(G,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){fr(this,G)}};function fr(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,wl(c),ks(c)}function wl(c){c.A||(c.A=!0,It(c,"complete"),It(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,It(this,"complete"),It(this,"abort"),ks(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ks(this,!0)),Je.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?dr(this):this.Xa())},i.Xa=function(){dr(this)};function dr(c){if(c.h&&typeof u<"u"){if(c.v&&Fn(c)==4)setTimeout(c.Ca.bind(c),0);else if(It(c,"readystatechange"),Fn(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var x;if(!(x=g)){var A;if(A=G===0){let re=String(c.D).match(rc)[1]||null;!re&&d.self&&d.self.location&&(re=d.self.location.protocol.slice(0,-1)),A=!ds.test(re?re.toLowerCase():"")}x=A}if(x)It(c,"complete"),It(c,"success");else{c.o=6;try{var z=Fn(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",wl(c)}}finally{ks(c)}}}}function ks(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const x=c.g;c.g=null,g||It(c,"ready");try{x.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Rh(g)}};function zt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ms(c){const g={};c=(c.g&&Fn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(R(c[A]))continue;var x=nc(c[A]);const z=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const G=g[z]||[];g[z]=G,G.push(x)}He(g,function(A){return A.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ms(c,g,x){return x&&x.internalChannelParams&&x.internalChannelParams[c]||g}function di(c){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ms("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ms("baseRetryDelayMs",5e3,c),this.Za=ms("retryDelaySeedMs",1e4,c),this.Ta=ms("forwardChannelMaxRetries",2,c),this.va=ms("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new gl(c&&c.concurrentRequestLimit),this.Ba=new hi,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=di.prototype,i.ka=8,i.I=1,i.connect=function(c,g,x,A){vt(0),this.W=c,this.H=g||{},x&&A!==void 0&&(this.H.OSID=x,this.H.OAID=A),this.F=this.X,this.J=pc(this,null,this.W),gs(this)};function Nl(c){if(ia(c),c.I==3){var g=c.V++,x=Et(c.J);if(Xe(x,"SID",c.M),Xe(x,"RID",g),Xe(x,"TYPE","terminate"),mr(c,x),g=new zn(c,c.j,g),g.M=2,g.A=or(Et(x)),x=!1,d.navigator&&d.navigator.sendBeacon)try{x=d.navigator.sendBeacon(g.A.toString(),"")}catch{}!x&&d.Image&&(new Image().src=g.A,x=!0),x||(g.g=yc(g.j,null),g.g.ea(g.A)),g.F=Date.now(),as(g)}gc(c)}function mi(c){c.g&&(Cl(c),c.g.cancel(),c.g=null)}function ia(c){mi(c),c.v&&(d.clearTimeout(c.v),c.v=null),aa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function gs(c){if(!pl(c.h)&&!c.m){c.m=!0;var g=c.Ea;he||E(),ae||(he(),ae=!0),k.add(g,c),c.D=0}}function ra(c,g){return cs(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ss(v(c.Ea,c,g),mc(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new zn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=O(G),oe(G,this.U)):G=this.U),this.u!==null||this.R||(z.J=G,G=null),this.S)e:{for(var g=0,x=0;x<this.i.length;x++){t:{var A=this.i[x];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,g>4096){g=x;break e}if(g===4096||x===this.i.length-1){g=x+1;break e}}g=1e3}else g=1e3;g=uc(this,z,g),x=Et(this.J),Xe(x,"RID",c),Xe(x,"CVER",22),this.G&&Xe(x,"X-HTTP-Session-Id",this.G),mr(this,x),G&&(this.R?g="headers="+Ds(Sn(G))+"&"+g:this.u&&hr(x,this.u,G)),yl(this.h,z),this.Ra&&Xe(x,"TYPE","init"),this.S?(Xe(x,"$req",g),Xe(x,"SID","null"),z.U=!0,rs(z,x,null)):rs(z,x,g),this.I=2}}else this.I==3&&(c?Rl(this,c):this.i.length==0||pl(this.h)||Rl(this))};function Rl(c,g){var x;g?x=g.l:x=c.V++;const A=Et(c.J);Xe(A,"SID",c.M),Xe(A,"RID",x),Xe(A,"AID",c.K),mr(c,A),c.u&&c.o&&hr(A,c.u,c.o),x=new zn(c,c.j,x,c.D+1),c.u===null&&(x.J=c.o),g&&(c.i=g.G.concat(c.i)),g=uc(c,x,1e3),x.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),yl(c.h,x),rs(x,A,g)}function mr(c,g){c.H&&Ie(c.H,function(x,A){Xe(g,A,x)}),c.l&&Ie({},function(x,A){Xe(g,A,x)})}function uc(c,g,x){x=Math.min(c.i.length,x);const A=c.l?v(c.l.Ka,c.l,c):null;e:{var z=c.i;let we=-1;for(;;){const mt=["count="+x];we==-1?x>0?(we=z[0].g,mt.push("ofs="+we)):we=0:mt.push("ofs="+we);let Ye=!0;for(let lt=0;lt<x;lt++){var G=z[lt].g;const An=z[lt].map;if(G-=we,G<0)we=Math.max(0,z[lt].g-100),Ye=!1;else try{G="req"+G+"_"||"";try{var re=An instanceof Map?An:Object.entries(An);for(const[ys,Gn]of re){let Yn=Gn;p(Gn)&&(Yn=ai(Gn)),mt.push(G+ys+"="+encodeURIComponent(Yn))}}catch(ys){throw mt.push(G+"type="+encodeURIComponent("_badmap")),ys}}catch{A&&A(An)}}if(Ye){re=mt.join("&");break e}}re=void 0}return c=c.i.splice(0,x),g.G=c,re}function hc(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;he||E(),ae||(he(),ae=!0),k.add(g,c),c.A=0}}function gr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ss(v(c.Da,c),mc(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,fc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ss(v(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),mi(this),fc(this))};function Cl(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function fc(c){c.g=new zn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=Et(c.na);Xe(g,"RID","rpc"),Xe(g,"SID",c.M),Xe(g,"AID",c.K),Xe(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Xe(g,"TO",c.ia),Xe(g,"TYPE","xmlhttp"),mr(c,g),c.u&&c.o&&hr(g,c.u,c.o),c.O&&(c.g.H=c.O);var x=c.g;c=c.ba,x.M=1,x.A=or(Et(g)),x.u=null,x.R=!0,Zr(x,c)}i.Va=function(){this.C!=null&&(this.C=null,mi(this),gr(this),vt(19))};function aa(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function dc(c,g){var x=null;if(c.g==g){aa(c),Cl(c),c.g=null;var A=2}else if(us(c.h,g))x=g.G,_l(c.h,g),A=1;else return;if(c.I!=0){if(g.o)if(A==1){x=g.u?g.u.length:0,g=Date.now()-g.F;var z=c.D;A=$r(),It(A,new ns(A,x)),gs(c)}else hc(c);else if(z=g.m,z==3||z==0&&g.X>0||!(A==1&&ra(c,g)||A==2&&gr(c)))switch(x&&x.length>0&&(g=c.h,g.i=g.i.concat(x)),z){case 1:ps(c,5);break;case 4:ps(c,10);break;case 3:ps(c,6);break;default:ps(c,2)}}}function mc(c,g){let x=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(x*=2),x*g}function ps(c,g){if(c.j.info("Error code "+g),g==2){var x=v(c.bb,c),A=c.Ua;const z=!A;A=new dn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ot(A,"https"),or(A),z?qn(A.toString(),x):Sl(A.toString(),x)}else vt(2);c.I=0,c.l&&c.l.pa(g),gc(c),ia(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function gc(c){if(c.I=0,c.ja=[],c.l){const g=vl(c.h);(g.length!=0||c.i.length!=0)&&($(c.ja,g),$(c.ja,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.oa()}}function pc(c,g,x){var A=x instanceof dn?Et(x):new dn(x);if(A.g!="")g&&(A.g=g+"."+A.g),li(A,A.u);else{var z=d.location;A=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;const G=new dn(null);A&&Ot(G,A),g&&(G.g=g),z&&li(G,z),x&&(G.h=x),A=G}return x=c.G,g=c.wa,x&&g&&Xe(A,x,g),Xe(A,"VER",c.ka),mr(c,A),A}function yc(c,g,x){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new Je(new fs({ab:x})):new Je(c.ma),g.Fa(c.L),g}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function _c(){}i=_c.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function gi(){}gi.prototype.g=function(c,g){return new tn(c,g)};function tn(c,g){_t.call(this),this.g=new di(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!R(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!R(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new js(this)}S(tn,_t),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Nl(this.g)},tn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var x={};x.__data__=c,c=x}else this.v&&(x={},x.__data__=ai(c),c=x);g.i.push(new bt(g.Ya++,c)),g.I==3&&gs(g)},tn.prototype.N=function(){this.g.l=null,delete this.j,Nl(this.g),delete this.g,tn.Z.N.call(this)};function vc(c){Pt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const x in g){c=x;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}S(vc,Pt);function xc(){bn.call(this),this.status=1}S(xc,bn);function js(c){this.g=c}S(js,_c),js.prototype.ra=function(){It(this.g,"a")},js.prototype.qa=function(c){It(this.g,new vc(c))},js.prototype.pa=function(c){It(this.g,new xc)},js.prototype.oa=function(){It(this.g,"b")},gi.prototype.createWebChannel=gi.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,_1=function(){return new gi},y1=function(){return $r()},p1=dt,em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ar.NO_ERROR=0,ar.TIMEOUT=8,ar.HTTP_ERROR=6,ju=ar,dl.COMPLETE="complete",g1=dl,Jo.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",_t.prototype.listen=_t.prototype.J,go=Jo,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,m1=Je}).apply(typeof Au<"u"?Au:typeof self<"u"?self:typeof window<"u"?window:{});const x_="@firebase/firestore",b_="4.9.2";let Zt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let il="12.3.0";const Br=new vm("@firebase/firestore");function La(){return Br.logLevel}function ce(i,...e){if(Br.logLevel<=Ve.DEBUG){const s=e.map(km);Br.debug(`Firestore (${il}): ${i}`,...s)}}function ni(i,...e){if(Br.logLevel<=Ve.ERROR){const s=e.map(km);Br.error(`Firestore (${il}): ${i}`,...s)}}function Qa(i,...e){if(Br.logLevel<=Ve.WARN){const s=e.map(km);Br.warn(`Firestore (${il}): ${i}`,...s)}}function km(i){if(typeof i=="string")return i;try{return(function(s){return JSON.stringify(s)})(i)}catch{return i}}function ve(i,e,s){let a="Unexpected state";typeof e=="string"?a=e:s=e,v1(i,a,s)}function v1(i,e,s){let a=`FIRESTORE (${il}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(s!==void 0)try{a+=" CONTEXT: "+JSON.stringify(s)}catch{a+=" CONTEXT: "+s}throw ni(a),new Error(a)}function Ke(i,e,s,a){let o="Unexpected state";typeof s=="string"?o=s:a=s,i||v1(e,o,a)}function Se(i,e){return i}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends ii{constructor(e,s){super(e,s),this.code=e,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ki{constructor(){this.promise=new Promise(((e,s)=>{this.resolve=e,this.reject=s}))}}class x1{constructor(e,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,s){e.enqueueRetryable((()=>s(Zt.UNAUTHENTICATED)))}shutdown(){}}class AA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,s){this.changeListener=s,e.enqueueRetryable((()=>s(this.token.user)))}shutdown(){this.changeListener=null}}class wA{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,s){Ke(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,s(_)):Promise.resolve();let u=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ki,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=u;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},p=_=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ki)}}),0),d()}getToken(){const e=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then((a=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ke(typeof a.accessToken=="string",31837,{l:a}),new x1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class NA{constructor(e,s,a){this.P=e,this.T=s,this.I=a,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class RA{constructor(e,s,a){this.P=e,this.T=s,this.I=a}getToken(){return Promise.resolve(new NA(this.P,this.T,this.I))}start(e,s){e.enqueueRetryable((()=>s(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class E_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CA{constructor(e,s){this.V=s,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,s){Ke(this.o===void 0,3512);const a=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?s(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new E_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((s=>s?(Ke(typeof s.token=="string",44558,{tokenResult:s}),this.m=s.token,new E_(s.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function IA(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(s);else for(let a=0;a<i;a++)s[a]=Math.floor(256*Math.random());return s}class Mm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=IA(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<s&&(a+=e.charAt(o[u]%62))}return a}}function Le(i,e){return i<e?-1:i>e?1:0}function tm(i,e){const s=Math.min(i.length,e.length);for(let a=0;a<s;a++){const o=i.charAt(a),u=e.charAt(a);if(o!==u)return Pd(o)===Pd(u)?Le(o,u):Pd(o)?1:-1}return Le(i.length,e.length)}const DA=55296,kA=57343;function Pd(i){const e=i.charCodeAt(0);return e>=DA&&e<=kA}function Ka(i,e,s){return i.length===e.length&&i.every(((a,o)=>s(a,e[o])))}const T_="__name__";class Es{constructor(e,s,a){s===void 0?s=0:s>e.length&&ve(637,{offset:s,range:e.length}),a===void 0?a=e.length-s:a>e.length-s&&ve(1746,{length:a,range:e.length-s}),this.segments=e,this.offset=s,this.len=a}get length(){return this.len}isEqual(e){return Es.comparator(this,e)===0}child(e){const s=this.segments.slice(this.offset,this.limit());return e instanceof Es?e.forEach((a=>{s.push(a)})):s.push(e),this.construct(s)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}forEach(e){for(let s=this.offset,a=this.limit();s<a;s++)e(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,s){const a=Math.min(e.length,s.length);for(let o=0;o<a;o++){const u=Es.compareSegments(e.get(o),s.get(o));if(u!==0)return u}return Le(e.length,s.length)}static compareSegments(e,s){const a=Es.isNumericId(e),o=Es.isNumericId(s);return a&&!o?-1:!a&&o?1:a&&o?Es.extractNumericId(e).compare(Es.extractNumericId(s)):tm(e,s)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qi.fromString(e.substring(4,e.length-2))}}class ct extends Es{construct(e,s,a){return new ct(e,s,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const s=[];for(const a of e){if(a.indexOf("//")>=0)throw new ge(ne.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);s.push(...a.split("/").filter((o=>o.length>0)))}return new ct(s)}static emptyPath(){return new ct([])}}const MA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Es{construct(e,s,a){return new Qt(e,s,a)}static isValidIdentifier(e){return MA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===T_}static keyField(){return new Qt([T_])}static fromServerFormat(e){const s=[];let a="",o=0;const u=()=>{if(a.length===0)throw new ge(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(a),a=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ge(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ge(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(u(),o++)}if(u(),d)throw new ge(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(s)}static emptyPath(){return new Qt([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(ct.fromString(e))}static fromName(e){return new ye(ct.fromString(e).popFirst(5))}static empty(){return new ye(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,s){return ct.comparator(e.path,s.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new ct(e.slice()))}}function jA(i,e,s){if(!s)throw new ge(ne.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function OA(i,e,s,a){if(e===!0&&a===!0)throw new ge(ne.INVALID_ARGUMENT,`${i} and ${s} cannot be used together.`)}function S_(i){if(!ye.isDocumentKey(i))throw new ge(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function b1(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function jm(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ve(12329,{type:typeof i})}function Co(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ge(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=jm(i);throw new ge(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${s}`)}}return i}function Rt(i,e){const s={typeString:i};return e&&(s.value=e),s}function Ho(i,e){if(!b1(i))throw new ge(ne.INVALID_ARGUMENT,"JSON must be an object");let s;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in i)){s=`JSON missing required field: '${a}'`;break}const d=i[a];if(o&&typeof d!==o){s=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&d!==u.value){s=`Expected '${a}' field to equal '${u.value}'`;break}}if(s)throw new ge(ne.INVALID_ARGUMENT,s);return!0}const A_=-62135596800,w_=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const s=Math.floor(e/1e3),a=Math.floor((e-1e3*s)*w_);return new rt(s,a)}constructor(e,s){if(this.seconds=e,this.nanoseconds=s,s<0)throw new ge(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new ge(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(e<A_)throw new ge(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/w_}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ho(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-A_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Rt("string",rt._jsonSchemaVersion),seconds:Rt("number"),nanoseconds:Rt("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new rt(0,0))}static max(){return new Ee(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Io=-1;function VA(i,e){const s=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(a===1e9?new rt(s+1,0):new rt(s,a));return new Xi(o,ye.empty(),e)}function LA(i){return new Xi(i.readTime,i.key,Io)}class Xi{constructor(e,s,a){this.readTime=e,this.documentKey=s,this.largestBatchId=a}static min(){return new Xi(Ee.min(),ye.empty(),Io)}static max(){return new Xi(Ee.max(),ye.empty(),Io)}}function UA(i,e){let s=i.readTime.compareTo(e.readTime);return s!==0?s:(s=ye.comparator(i.documentKey,e.documentKey),s!==0?s:Le(i.largestBatchId,e.largestBatchId))}const PA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function rl(i){if(i.code!==ne.FAILED_PRECONDITION||i.message!==PA)throw i;ce("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)}),(s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)}))}catch(e){return this.next(void 0,e)}next(e,s){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(e,this.result):new te(((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(s,u).next(a,o)}}))}toPromise(){return new Promise(((e,s)=>{this.next(e,s)}))}wrapUserFunction(e){try{const s=e();return s instanceof te?s:te.resolve(s)}catch(s){return te.reject(s)}}wrapSuccess(e,s){return e?this.wrapUserFunction((()=>e(s))):te.resolve(s)}wrapFailure(e,s){return e?this.wrapUserFunction((()=>e(s))):te.reject(s)}static resolve(e){return new te(((s,a)=>{s(e)}))}static reject(e){return new te(((s,a)=>{a(e)}))}static waitFor(e){return new te(((s,a)=>{let o=0,u=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++u,d&&u===o&&s()}),(_=>a(_)))})),d=!0,u===o&&s()}))}static or(e){let s=te.resolve(!1);for(const a of e)s=s.next((o=>o?te.resolve(o):a()));return s}static forEach(e,s){const a=[];return e.forEach(((o,u)=>{a.push(s.call(this,o,u))})),this.waitFor(a)}static mapArray(e,s){return new te(((a,o)=>{const u=e.length,d=new Array(u);let p=0;for(let _=0;_<u;_++){const v=_;s(e[v]).next((T=>{d[v]=T,++p,p===u&&a(d)}),(T=>o(T)))}}))}static doWhile(e,s){return new te(((a,o)=>{const u=()=>{e()===!0?s().next((()=>{u()}),o):a()};u()}))}}function BA(i){const e=i.match(/Android ([\d.]+)/i),s=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(s)}function al(i){return i.name==="IndexedDbTransactionError"}class dh{constructor(e,s){this.previousValue=e,s&&(s.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>s.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}dh.ce=-1;const Om=-1;function mh(i){return i==null}function Ku(i){return i===0&&1/i==-1/0}function qA(i){return typeof i=="number"&&Number.isInteger(i)&&!Ku(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const E1="";function HA(i){let e="";for(let s=0;s<i.length;s++)e.length>0&&(e=N_(e)),e=FA(i.get(s),e);return N_(e)}function FA(i,e){let s=e;const a=i.length;for(let o=0;o<a;o++){const u=i.charAt(o);switch(u){case"\0":s+="";break;case E1:s+="";break;default:s+=u}}return s}function N_(i){return i+E1+""}function R_(i){let e=0;for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&e++;return e}function Hr(i,e){for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&e(s,i[s])}function T1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ut{constructor(e,s){this.comparator=e,this.root=s||Yt.EMPTY}insert(e,s){return new ut(this.comparator,this.root.insert(e,s,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return s.value;a<0?s=s.left:a>0&&(s=s.right)}return null}indexOf(e){let s=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return s+a.left.size;o<0?a=a.left:(s+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((s,a)=>(e(s,a),!1)))}toString(){const e=[];return this.inorderTraversal(((s,a)=>(e.push(`${s}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wu(this.root,e,this.comparator,!1)}getReverseIterator(){return new wu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wu(this.root,e,this.comparator,!0)}}class wu{constructor(e,s,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=s?a(e.key,s):1,s&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const s={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,s,a,o,u){this.key=e,this.value=s,this.color=a??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,s,a,o,u){return new Yt(e??this.key,s??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,s,a),null):u===0?o.copy(null,s,null,null,null):o.copy(null,null,null,null,o.right.insert(e,s,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,s){let a,o=this;if(s(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,s),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),s(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,s))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,s,a,o,u){return this}insert(e,s,a){return new Yt(e,s)}remove(e,s){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((s,a)=>(e(s),!1)))}forEachInRange(e,s){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;s(o.key)}}forEachWhile(e,s){let a;for(a=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const s=this.data.getIteratorFrom(e);return s.hasNext()?s.getNext().key:null}getIterator(){return new C_(this.data.getIterator())}getIteratorFrom(e){return new C_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let s=this;return s.size<e.size&&(s=e,e=this),e.forEach((a=>{s=s.add(a)})),s}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const s=this.data.getIterator(),a=e.data.getIterator();for(;s.hasNext();){const o=s.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((s=>{e.push(s)})),e}toString(){const e=[];return this.forEach((s=>e.push(s))),"SortedSet("+e.toString()+")"}copy(e){const s=new Mt(this.comparator);return s.data=e,s}}class C_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Jn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Jn([])}unionWith(e){let s=new Mt(Qt.comparator);for(const a of this.fields)s=s.add(a);for(const a of e)s=s.add(a);return new Jn(s.toArray())}covers(e){for(const s of this.fields)if(s.isPrefixOf(e))return!0;return!1}isEqual(e){return Ka(this.fields,e.fields,((s,a)=>s.isEqual(a)))}}class S1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const s=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new S1("Invalid base64 string: "+u):u}})(e);return new Kt(s)}static fromUint8Array(e){const s=(function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u})(e);return new Kt(s)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(s){return btoa(s)})(this.binaryString)}toUint8Array(){return(function(s){const a=new Uint8Array(s.length);for(let o=0;o<s.length;o++)a[o]=s.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const GA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $i(i){if(Ke(!!i,39018),typeof i=="string"){let e=0;const s=GA.exec(i);if(Ke(!!s,46558,{timestamp:i}),s[1]){let o=s[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:yt(i.seconds),nanos:yt(i.nanos)}}function yt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Zi(i){return typeof i=="string"?Kt.fromBase64String(i):Kt.fromUint8Array(i)}const A1="server_timestamp",w1="__type__",N1="__previous_value__",R1="__local_write_time__";function Vm(i){return(i?.mapValue?.fields||{})[w1]?.stringValue===A1}function gh(i){const e=i.mapValue.fields[N1];return Vm(e)?gh(e):e}function Do(i){const e=$i(i.mapValue.fields[R1].timestampValue);return new rt(e.seconds,e.nanos)}class YA{constructor(e,s,a,o,u,d,p,_,v,T){this.databaseId=e,this.appId=s,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=T}}const Xu="(default)";class ko{constructor(e,s){this.projectId=e,this.database=s||Xu}static empty(){return new ko("","")}get isDefaultDatabase(){return this.database===Xu}isEqual(e){return e instanceof ko&&e.projectId===this.projectId&&e.database===this.database}}const C1="__type__",QA="__max__",Nu={mapValue:{}},I1="__vector__",$u="value";function Ji(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Vm(i)?4:XA(i)?9007199254740991:KA(i)?10:11:ve(28295,{value:i})}function Cs(i,e){if(i===e)return!0;const s=Ji(i);if(s!==Ji(e))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Do(i).isEqual(Do(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=$i(o.timestampValue),p=$i(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Zi(o.bytesValue).isEqual(Zi(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=yt(o.doubleValue),p=yt(u.doubleValue);return d===p?Ku(d)===Ku(p):isNaN(d)&&isNaN(p)}return!1})(i,e);case 9:return Ka(i.arrayValue.values||[],e.arrayValue.values||[],Cs);case 10:case 11:return(function(o,u){const d=o.mapValue.fields||{},p=u.mapValue.fields||{};if(R_(d)!==R_(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Cs(d[_],p[_])))return!1;return!0})(i,e);default:return ve(52216,{left:i})}}function Mo(i,e){return(i.values||[]).find((s=>Cs(s,e)))!==void 0}function Xa(i,e){if(i===e)return 0;const s=Ji(i),a=Ji(e);if(s!==a)return Le(s,a);switch(s){case 0:case 9007199254740991:return 0;case 1:return Le(i.booleanValue,e.booleanValue);case 2:return(function(u,d){const p=yt(u.integerValue||u.doubleValue),_=yt(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(i,e);case 3:return I_(i.timestampValue,e.timestampValue);case 4:return I_(Do(i),Do(e));case 5:return tm(i.stringValue,e.stringValue);case 6:return(function(u,d){const p=Zi(u),_=Zi(d);return p.compareTo(_)})(i.bytesValue,e.bytesValue);case 7:return(function(u,d){const p=u.split("/"),_=d.split("/");for(let v=0;v<p.length&&v<_.length;v++){const T=Le(p[v],_[v]);if(T!==0)return T}return Le(p.length,_.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,d){const p=Le(yt(u.latitude),yt(d.latitude));return p!==0?p:Le(yt(u.longitude),yt(d.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return D_(i.arrayValue,e.arrayValue);case 10:return(function(u,d){const p=u.fields||{},_=d.fields||{},v=p[$u]?.arrayValue,T=_[$u]?.arrayValue,S=Le(v?.values?.length||0,T?.values?.length||0);return S!==0?S:D_(v,T)})(i.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Nu.mapValue&&d===Nu.mapValue)return 0;if(u===Nu.mapValue)return 1;if(d===Nu.mapValue)return-1;const p=u.fields||{},_=Object.keys(p),v=d.fields||{},T=Object.keys(v);_.sort(),T.sort();for(let S=0;S<_.length&&S<T.length;++S){const C=tm(_[S],T[S]);if(C!==0)return C;const B=Xa(p[_[S]],v[T[S]]);if(B!==0)return B}return Le(_.length,T.length)})(i.mapValue,e.mapValue);default:throw ve(23264,{he:s})}}function I_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Le(i,e);const s=$i(i),a=$i(e),o=Le(s.seconds,a.seconds);return o!==0?o:Le(s.nanos,a.nanos)}function D_(i,e){const s=i.values||[],a=e.values||[];for(let o=0;o<s.length&&o<a.length;++o){const u=Xa(s[o],a[o]);if(u)return u}return Le(s.length,a.length)}function $a(i){return nm(i)}function nm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(s){const a=$i(s);return`time(${a.seconds},${a.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(s){return Zi(s).toBase64()})(i.bytesValue):"referenceValue"in i?(function(s){return ye.fromName(s).toString()})(i.referenceValue):"geoPointValue"in i?(function(s){return`geo(${s.latitude},${s.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(s){let a="[",o=!0;for(const u of s.values||[])o?o=!1:a+=",",a+=nm(u);return a+"]"})(i.arrayValue):"mapValue"in i?(function(s){const a=Object.keys(s.fields||{}).sort();let o="{",u=!0;for(const d of a)u?u=!1:o+=",",o+=`${d}:${nm(s.fields[d])}`;return o+"}"})(i.mapValue):ve(61005,{value:i})}function Ou(i){switch(Ji(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gh(i);return e?16+Ou(e):16;case 5:return 2*i.stringValue.length;case 6:return Zi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,u)=>o+Ou(u)),0)})(i.arrayValue);case 10:case 11:return(function(a){let o=0;return Hr(a.fields,((u,d)=>{o+=u.length+Ou(d)})),o})(i.mapValue);default:throw ve(13486,{value:i})}}function sm(i){return!!i&&"integerValue"in i}function Lm(i){return!!i&&"arrayValue"in i}function k_(i){return!!i&&"nullValue"in i}function M_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Vu(i){return!!i&&"mapValue"in i}function KA(i){return(i?.mapValue?.fields||{})[C1]?.stringValue===I1}function bo(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Hr(i.mapValue.fields,((s,a)=>e.mapValue.fields[s]=bo(a))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let s=0;s<(i.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=bo(i.arrayValue.values[s]);return e}return{...i}}function XA(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===QA}class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let s=this.value;for(let a=0;a<e.length-1;++a)if(s=(s.mapValue.fields||{})[e.get(a)],!Vu(s))return null;return s=(s.mapValue.fields||{})[e.lastSegment()],s||null}}set(e,s){this.getFieldsMap(e.popLast())[e.lastSegment()]=bo(s)}setAll(e){let s=Qt.emptyPath(),a={},o=[];e.forEach(((d,p)=>{if(!s.isImmediateParentOf(p)){const _=this.getFieldsMap(s);this.applyChanges(_,a,o),a={},o=[],s=p.popLast()}d?a[p.lastSegment()]=bo(d):o.push(p.lastSegment())}));const u=this.getFieldsMap(s);this.applyChanges(u,a,o)}delete(e){const s=this.field(e.popLast());Vu(s)&&s.mapValue.fields&&delete s.mapValue.fields[e.lastSegment()]}isEqual(e){return Cs(this.value,e.value)}getFieldsMap(e){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=s.mapValue.fields[e.get(a)];Vu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},s.mapValue.fields[e.get(a)]=o),s=o}return s.mapValue.fields}applyChanges(e,s,a){Hr(s,((o,u)=>e[o]=u));for(const o of a)delete e[o]}clone(){return new jn(bo(this.value))}}function D1(i){const e=[];return Hr(i.fields,((s,a)=>{const o=new Qt([s]);if(Vu(a)){const u=D1(a.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)})),new Jn(e)}class Jt{constructor(e,s,a,o,u,d,p){this.key=e,this.documentType=s,this.version=a,this.readTime=o,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Jt(e,0,Ee.min(),Ee.min(),Ee.min(),jn.empty(),0)}static newFoundDocument(e,s,a,o){return new Jt(e,1,s,Ee.min(),a,o,0)}static newNoDocument(e,s){return new Jt(e,2,s,Ee.min(),Ee.min(),jn.empty(),0)}static newUnknownDocument(e,s){return new Jt(e,3,s,Ee.min(),Ee.min(),jn.empty(),2)}convertToFoundDocument(e,s){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zu{constructor(e,s){this.position=e,this.inclusive=s}}function j_(i,e,s){let a=0;for(let o=0;o<i.position.length;o++){const u=e[o],d=i.position[o];if(u.field.isKeyField()?a=ye.comparator(ye.fromName(d.referenceValue),s.key):a=Xa(d,s.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function O_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let s=0;s<i.position.length;s++)if(!Cs(i.position[s],e.position[s]))return!1;return!0}class Ju{constructor(e,s="asc"){this.field=e,this.dir=s}}function $A(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class k1{}class kt extends k1{constructor(e,s,a){super(),this.field=e,this.op=s,this.value=a}static create(e,s,a){return e.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(e,s,a):new JA(e,s,a):s==="array-contains"?new tw(e,a):s==="in"?new nw(e,a):s==="not-in"?new sw(e,a):s==="array-contains-any"?new iw(e,a):new kt(e,s,a)}static createKeyFieldInFilter(e,s,a){return s==="in"?new WA(e,a):new ew(e,a)}matches(e){const s=e.data.field(this.field);return this.op==="!="?s!==null&&s.nullValue===void 0&&this.matchesComparison(Xa(s,this.value)):s!==null&&Ji(this.value)===Ji(s)&&this.matchesComparison(Xa(s,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Is extends k1{constructor(e,s){super(),this.filters=e,this.op=s,this.Pe=null}static create(e,s){return new Is(e,s)}matches(e){return M1(this)?this.filters.find((s=>!s.matches(e)))===void 0:this.filters.find((s=>s.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,s)=>e.concat(s.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function M1(i){return i.op==="and"}function j1(i){return ZA(i)&&M1(i)}function ZA(i){for(const e of i.filters)if(e instanceof Is)return!1;return!0}function im(i){if(i instanceof kt)return i.field.canonicalString()+i.op.toString()+$a(i.value);if(j1(i))return i.filters.map((e=>im(e))).join(",");{const e=i.filters.map((s=>im(s))).join(",");return`${i.op}(${e})`}}function O1(i,e){return i instanceof kt?(function(a,o){return o instanceof kt&&a.op===o.op&&a.field.isEqual(o.field)&&Cs(a.value,o.value)})(i,e):i instanceof Is?(function(a,o){return o instanceof Is&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((u,d,p)=>u&&O1(d,o.filters[p])),!0):!1})(i,e):void ve(19439)}function V1(i){return i instanceof kt?(function(s){return`${s.field.canonicalString()} ${s.op} ${$a(s.value)}`})(i):i instanceof Is?(function(s){return s.op.toString()+" {"+s.getFilters().map(V1).join(" ,")+"}"})(i):"Filter"}class JA extends kt{constructor(e,s,a){super(e,s,a),this.key=ye.fromName(a.referenceValue)}matches(e){const s=ye.comparator(e.key,this.key);return this.matchesComparison(s)}}class WA extends kt{constructor(e,s){super(e,"in",s),this.keys=L1("in",s)}matches(e){return this.keys.some((s=>s.isEqual(e.key)))}}class ew extends kt{constructor(e,s){super(e,"not-in",s),this.keys=L1("not-in",s)}matches(e){return!this.keys.some((s=>s.isEqual(e.key)))}}function L1(i,e){return(e.arrayValue?.values||[]).map((s=>ye.fromName(s.referenceValue)))}class tw extends kt{constructor(e,s){super(e,"array-contains",s)}matches(e){const s=e.data.field(this.field);return Lm(s)&&Mo(s.arrayValue,this.value)}}class nw extends kt{constructor(e,s){super(e,"in",s)}matches(e){const s=e.data.field(this.field);return s!==null&&Mo(this.value.arrayValue,s)}}class sw extends kt{constructor(e,s){super(e,"not-in",s)}matches(e){if(Mo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=e.data.field(this.field);return s!==null&&s.nullValue===void 0&&!Mo(this.value.arrayValue,s)}}class iw extends kt{constructor(e,s){super(e,"array-contains-any",s)}matches(e){const s=e.data.field(this.field);return!(!Lm(s)||!s.arrayValue.values)&&s.arrayValue.values.some((a=>Mo(this.value.arrayValue,a)))}}class rw{constructor(e,s=null,a=[],o=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=s,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function V_(i,e=null,s=[],a=[],o=null,u=null,d=null){return new rw(i,e,s,a,o,u,d)}function Um(i){const e=Se(i);if(e.Te===null){let s=e.path.canonicalString();e.collectionGroup!==null&&(s+="|cg:"+e.collectionGroup),s+="|f:",s+=e.filters.map((a=>im(a))).join(","),s+="|ob:",s+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),mh(e.limit)||(s+="|l:",s+=e.limit),e.startAt&&(s+="|lb:",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((a=>$a(a))).join(",")),e.endAt&&(s+="|ub:",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((a=>$a(a))).join(",")),e.Te=s}return e.Te}function Pm(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<i.orderBy.length;s++)if(!$A(i.orderBy[s],e.orderBy[s]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let s=0;s<i.filters.length;s++)if(!O1(i.filters[s],e.filters[s]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!O_(i.startAt,e.startAt)&&O_(i.endAt,e.endAt)}function rm(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class ph{constructor(e,s=null,a=[],o=[],u=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=s,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function aw(i,e,s,a,o,u,d,p){return new ph(i,e,s,a,o,u,d,p)}function zm(i){return new ph(i)}function L_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function lw(i){return i.collectionGroup!==null}function Eo(i){const e=Se(i);if(e.Ie===null){e.Ie=[];const s=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),s.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Mt(Qt.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(e).forEach((u=>{s.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Ju(u,a))})),s.has(Qt.keyField().canonicalString())||e.Ie.push(new Ju(Qt.keyField(),a))}return e.Ie}function Ss(i){const e=Se(i);return e.Ee||(e.Ee=ow(e,Eo(i))),e.Ee}function ow(i,e){if(i.limitType==="F")return V_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Ju(o.field,u)}));const s=i.endAt?new Zu(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new Zu(i.startAt.position,i.startAt.inclusive):null;return V_(i.path,i.collectionGroup,e,i.filters,i.limit,s,a)}}function am(i,e,s){return new ph(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,s,i.startAt,i.endAt)}function yh(i,e){return Pm(Ss(i),Ss(e))&&i.limitType===e.limitType}function U1(i){return`${Um(Ss(i))}|lt:${i.limitType}`}function Ua(i){return`Query(target=${(function(s){let a=s.path.canonicalString();return s.collectionGroup!==null&&(a+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(a+=`, filters: [${s.filters.map((o=>V1(o))).join(", ")}]`),mh(s.limit)||(a+=", limit: "+s.limit),s.orderBy.length>0&&(a+=`, orderBy: [${s.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),s.startAt&&(a+=", startAt: ",a+=s.startAt.inclusive?"b:":"a:",a+=s.startAt.position.map((o=>$a(o))).join(",")),s.endAt&&(a+=", endAt: ",a+=s.endAt.inclusive?"a:":"b:",a+=s.endAt.position.map((o=>$a(o))).join(",")),`Target(${a})`})(Ss(i))}; limitType=${i.limitType})`}function _h(i,e){return e.isFoundDocument()&&(function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):ye.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(i,e)&&(function(a,o){for(const u of Eo(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(a,o){return!(a.startAt&&!(function(d,p,_){const v=j_(d,p,_);return d.inclusive?v<=0:v<0})(a.startAt,Eo(a),o)||a.endAt&&!(function(d,p,_){const v=j_(d,p,_);return d.inclusive?v>=0:v>0})(a.endAt,Eo(a),o))})(i,e)}function cw(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function P1(i){return(e,s)=>{let a=!1;for(const o of Eo(i)){const u=uw(o,e,s);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function uw(i,e,s){const a=i.field.isKeyField()?ye.comparator(e.key,s.key):(function(u,d,p){const _=d.data.field(u),v=p.data.field(u);return _!==null&&v!==null?Xa(_,v):ve(42886)})(i.field,e,s);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return ve(19790,{direction:i.dir})}}class Fr{constructor(e,s){this.mapKeyFn=e,this.equalsFn=s,this.inner={},this.innerSize=0}get(e){const s=this.mapKeyFn(e),a=this.inner[s];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,s){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,s]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,s]);o.push([e,s]),this.innerSize++}delete(e){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[s]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Hr(this.inner,((s,a)=>{for(const[o,u]of a)e(o,u)}))}isEmpty(){return T1(this.inner)}size(){return this.innerSize}}const hw=new ut(ye.comparator);function si(){return hw}const z1=new ut(ye.comparator);function po(...i){let e=z1;for(const s of i)e=e.insert(s.key,s);return e}function B1(i){let e=z1;return i.forEach(((s,a)=>e=e.insert(s,a.overlayedDocument))),e}function jr(){return To()}function q1(){return To()}function To(){return new Fr((i=>i.toString()),((i,e)=>i.isEqual(e)))}const fw=new ut(ye.comparator),dw=new Mt(ye.comparator);function Ue(...i){let e=dw;for(const s of i)e=e.add(s);return e}const mw=new Mt(Le);function gw(){return mw}function Bm(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ku(e)?"-0":e}}function H1(i){return{integerValue:""+i}}function pw(i,e){return qA(e)?H1(e):Bm(i,e)}class vh{constructor(){this._=void 0}}function yw(i,e,s){return i instanceof Wu?(function(o,u){const d={fields:{[w1]:{stringValue:A1},[R1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Vm(u)&&(u=gh(u)),u&&(d.fields[N1]=u),{mapValue:d}})(s,e):i instanceof jo?G1(i,e):i instanceof Oo?Y1(i,e):(function(o,u){const d=F1(o,u),p=U_(d)+U_(o.Ae);return sm(d)&&sm(o.Ae)?H1(p):Bm(o.serializer,p)})(i,e)}function _w(i,e,s){return i instanceof jo?G1(i,e):i instanceof Oo?Y1(i,e):s}function F1(i,e){return i instanceof eh?(function(a){return sm(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class Wu extends vh{}class jo extends vh{constructor(e){super(),this.elements=e}}function G1(i,e){const s=Q1(e);for(const a of i.elements)s.some((o=>Cs(o,a)))||s.push(a);return{arrayValue:{values:s}}}class Oo extends vh{constructor(e){super(),this.elements=e}}function Y1(i,e){let s=Q1(e);for(const a of i.elements)s=s.filter((o=>!Cs(o,a)));return{arrayValue:{values:s}}}class eh extends vh{constructor(e,s){super(),this.serializer=e,this.Ae=s}}function U_(i){return yt(i.integerValue||i.doubleValue)}function Q1(i){return Lm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function vw(i,e){return i.field.isEqual(e.field)&&(function(a,o){return a instanceof jo&&o instanceof jo||a instanceof Oo&&o instanceof Oo?Ka(a.elements,o.elements,Cs):a instanceof eh&&o instanceof eh?Cs(a.Ae,o.Ae):a instanceof Wu&&o instanceof Wu})(i.transform,e.transform)}class xw{constructor(e,s){this.version=e,this.transformResults=s}}class Ws{constructor(e,s){this.updateTime=e,this.exists=s}static none(){return new Ws}static exists(e){return new Ws(void 0,e)}static updateTime(e){return new Ws(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lu(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class xh{}function K1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new $1(i.key,Ws.none()):new Fo(i.key,i.data,Ws.none());{const s=i.data,a=jn.empty();let o=new Mt(Qt.comparator);for(let u of e.fields)if(!o.has(u)){let d=s.field(u);d===null&&u.length>1&&(u=u.popLast(),d=s.field(u)),d===null?a.delete(u):a.set(u,d),o=o.add(u)}return new Gr(i.key,a,new Jn(o.toArray()),Ws.none())}}function bw(i,e,s){i instanceof Fo?(function(o,u,d){const p=o.value.clone(),_=z_(o.fieldTransforms,u,d.transformResults);p.setAll(_),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(i,e,s):i instanceof Gr?(function(o,u,d){if(!Lu(o.precondition,u))return void u.convertToUnknownDocument(d.version);const p=z_(o.fieldTransforms,u,d.transformResults),_=u.data;_.setAll(X1(o)),_.setAll(p),u.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(i,e,s):(function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,s)}function So(i,e,s,a){return i instanceof Fo?(function(u,d,p,_){if(!Lu(u.precondition,d))return p;const v=u.value.clone(),T=B_(u.fieldTransforms,_,d);return v.setAll(T),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(i,e,s,a):i instanceof Gr?(function(u,d,p,_){if(!Lu(u.precondition,d))return p;const v=B_(u.fieldTransforms,_,d),T=d.data;return T.setAll(X1(u)),T.setAll(v),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(i,e,s,a):(function(u,d,p){return Lu(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(i,e,s)}function Ew(i,e){let s=null;for(const a of i.fieldTransforms){const o=e.data.field(a.field),u=F1(a.transform,o||null);u!=null&&(s===null&&(s=jn.empty()),s.set(a.field,u))}return s||null}function P_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Ka(a,o,((u,d)=>vw(u,d)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Fo extends xh{constructor(e,s,a,o=[]){super(),this.key=e,this.value=s,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Gr extends xh{constructor(e,s,a,o,u=[]){super(),this.key=e,this.data=s,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function X1(i){const e=new Map;return i.fieldMask.fields.forEach((s=>{if(!s.isEmpty()){const a=i.data.field(s);e.set(s,a)}})),e}function z_(i,e,s){const a=new Map;Ke(i.length===s.length,32656,{Re:s.length,Ve:i.length});for(let o=0;o<s.length;o++){const u=i[o],d=u.transform,p=e.data.field(u.field);a.set(u.field,_w(d,p,s[o]))}return a}function B_(i,e,s){const a=new Map;for(const o of i){const u=o.transform,d=s.data.field(o.field);a.set(o.field,yw(u,d,e))}return a}class $1 extends xh{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Tw extends xh{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Sw{constructor(e,s,a,o){this.batchId=e,this.localWriteTime=s,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,s){const a=s.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&bw(u,e,a[o])}}applyToLocalView(e,s){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(s=So(a,e,s,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(s=So(a,e,s,this.localWriteTime));return s}applyToLocalDocumentSet(e,s){const a=q1();return this.mutations.forEach((o=>{const u=e.get(o.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=s.has(o.key)?null:p;const _=K1(d,p);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(Ee.min())})),a}keys(){return this.mutations.reduce(((e,s)=>e.add(s.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&Ka(this.mutations,e.mutations,((s,a)=>P_(s,a)))&&Ka(this.baseMutations,e.baseMutations,((s,a)=>P_(s,a)))}}class qm{constructor(e,s,a,o){this.batch=e,this.commitVersion=s,this.mutationResults=a,this.docVersions=o}static from(e,s,a){Ke(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return fw})();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,a[d].version);return new qm(e,s,a,o)}}class Aw{constructor(e,s){this.largestBatchId=e,this.mutation=s}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class ww{constructor(e,s){this.count=e,this.unchangedNames=s}}var Nt,qe;function Nw(i){switch(i){case ne.OK:return ve(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return ve(15467,{code:i})}}function Z1(i){if(i===void 0)return ni("GRPC error has no .code"),ne.UNKNOWN;switch(i){case Nt.OK:return ne.OK;case Nt.CANCELLED:return ne.CANCELLED;case Nt.UNKNOWN:return ne.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return ne.INTERNAL;case Nt.UNAVAILABLE:return ne.UNAVAILABLE;case Nt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Nt.NOT_FOUND:return ne.NOT_FOUND;case Nt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Nt.ABORTED:return ne.ABORTED;case Nt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Nt.DATA_LOSS:return ne.DATA_LOSS;default:return ve(39323,{code:i})}}(qe=Nt||(Nt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function Rw(){return new TextEncoder}const Cw=new Qi([4294967295,4294967295],0);function q_(i){const e=Rw().encode(i),s=new d1;return s.update(e),new Uint8Array(s.digest())}function H_(i){const e=new DataView(i.buffer),s=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Qi([s,a],0),new Qi([o,u],0)]}class Hm{constructor(e,s,a){if(this.bitmap=e,this.padding=s,this.hashCount=a,s<0||s>=8)throw new yo(`Invalid padding: ${s}`);if(a<0)throw new yo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new yo(`Invalid hash count: ${a}`);if(e.length===0&&s!==0)throw new yo(`Invalid padding when bitmap length is 0: ${s}`);this.ge=8*e.length-s,this.pe=Qi.fromNumber(this.ge)}ye(e,s,a){let o=e.add(s.multiply(Qi.fromNumber(a)));return o.compare(Cw)===1&&(o=new Qi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const s=q_(e),[a,o]=H_(s);for(let u=0;u<this.hashCount;u++){const d=this.ye(a,o,u);if(!this.we(d))return!1}return!0}static create(e,s,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new Hm(u,o,s);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const s=q_(e),[a,o]=H_(s);for(let u=0;u<this.hashCount;u++){const d=this.ye(a,o,u);this.Se(d)}}Se(e){const s=Math.floor(e/8),a=e%8;this.bitmap[s]|=1<<a}}class yo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bh{constructor(e,s,a,o,u){this.snapshotVersion=e,this.targetChanges=s,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,s,a){const o=new Map;return o.set(e,Go.createSynthesizedTargetChangeForCurrentChange(e,s,a)),new bh(Ee.min(),o,new ut(Le),si(),Ue())}}class Go{constructor(e,s,a,o,u){this.resumeToken=e,this.current=s,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,s,a){return new Go(a,s,Ue(),Ue(),Ue())}}class Uu{constructor(e,s,a,o){this.be=e,this.removedTargetIds=s,this.key=a,this.De=o}}class J1{constructor(e,s){this.targetId=e,this.Ce=s}}class W1{constructor(e,s,a=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=s,this.resumeToken=a,this.cause=o}}class F_{constructor(){this.ve=0,this.Fe=G_(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),s=Ue(),a=Ue();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:s=s.add(o);break;case 1:a=a.add(o);break;default:ve(38017,{changeType:u})}})),new Go(this.Me,this.xe,e,s,a)}qe(){this.Oe=!1,this.Fe=G_()}Qe(e,s){this.Oe=!0,this.Fe=this.Fe.insert(e,s)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Iw{constructor(e){this.Ge=e,this.ze=new Map,this.je=si(),this.Je=Ru(),this.He=Ru(),this.Ye=new ut(Le)}Ze(e){for(const s of e.be)e.De&&e.De.isFoundDocument()?this.Xe(s,e.De):this.et(s,e.key,e.De);for(const s of e.removedTargetIds)this.et(s,e.key,e.De)}tt(e){this.forEachTarget(e,(s=>{const a=this.nt(s);switch(e.state){case 0:this.rt(s)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(s);break;case 3:this.rt(s)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(s)&&(this.it(s),a.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,s){e.targetIds.length>0?e.targetIds.forEach(s):this.ze.forEach(((a,o)=>{this.rt(o)&&s(o)}))}st(e){const s=e.targetId,a=e.Ce.count,o=this.ot(s);if(o){const u=o.target;if(rm(u))if(a===0){const d=new ye(u.path);this.et(s,d,Jt.newNoDocument(d,Ee.min()))}else Ke(a===1,20013,{expectedCount:a});else{const d=this._t(s);if(d!==a){const p=this.ut(e),_=p?this.ct(p,e,d):1;if(_!==0){this.it(s);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(s,v)}}}}}ut(e){const s=e.Ce.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=s;let d,p;try{d=Zi(a).toUint8Array()}catch(_){if(_ instanceof S1)return Qa("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Hm(d,o,u)}catch(_){return Qa(_ instanceof yo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,s,a){return s.Ce.count===a-this.Pt(e,s.targetId)?0:2}Pt(e,s){const a=this.Ge.getRemoteKeysForTarget(s);let o=0;return a.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(s,u,null),o++)})),o}Tt(e){const s=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&rm(p.target)){const _=new ye(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Jt.newNoDocument(_,e))}u.Be&&(s.set(d,u.ke()),u.qe())}}));let a=Ue();this.He.forEach(((u,d)=>{let p=!0;d.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const o=new bh(e,s,this.Ye,this.je,a);return this.je=si(),this.Je=Ru(),this.He=Ru(),this.Ye=new ut(Le),o}Xe(e,s){if(!this.rt(e))return;const a=this.Et(e,s.key)?2:0;this.nt(e).Qe(s.key,a),this.je=this.je.insert(s.key,s),this.Je=this.Je.insert(s.key,this.It(s.key).add(e)),this.He=this.He.insert(s.key,this.dt(s.key).add(e))}et(e,s,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,s)?o.Qe(s,1):o.$e(s),this.He=this.He.insert(s,this.dt(s).delete(e)),this.He=this.He.insert(s,this.dt(s).add(e)),a&&(this.je=this.je.insert(s,a))}removeTarget(e){this.ze.delete(e)}_t(e){const s=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+s.addedDocuments.size-s.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let s=this.ze.get(e);return s||(s=new F_,this.ze.set(e,s)),s}dt(e){let s=this.He.get(e);return s||(s=new Mt(Le),this.He=this.He.insert(e,s)),s}It(e){let s=this.Je.get(e);return s||(s=new Mt(Le),this.Je=this.Je.insert(e,s)),s}rt(e){const s=this.ot(e)!==null;return s||ce("WatchChangeAggregator","Detected inactive target",e),s}ot(e){const s=this.ze.get(e);return s&&s.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new F_),this.Ge.getRemoteKeysForTarget(e).forEach((s=>{this.et(e,s,null)}))}Et(e,s){return this.Ge.getRemoteKeysForTarget(e).has(s)}}function Ru(){return new ut(ye.comparator)}function G_(){return new ut(ye.comparator)}const Dw={asc:"ASCENDING",desc:"DESCENDING"},kw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mw={and:"AND",or:"OR"};class jw{constructor(e,s){this.databaseId=e,this.useProto3Json=s}}function lm(i,e){return i.useProto3Json||mh(e)?e:{value:e}}function th(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ex(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Ow(i,e){return th(i,e.toTimestamp())}function As(i){return Ke(!!i,49232),Ee.fromTimestamp((function(s){const a=$i(s);return new rt(a.seconds,a.nanos)})(i))}function Fm(i,e){return om(i,e).canonicalString()}function om(i,e){const s=(function(o){return new ct(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?s:s.child(e)}function tx(i){const e=ct.fromString(i);return Ke(ax(e),10190,{key:e.toString()}),e}function cm(i,e){return Fm(i.databaseId,e.path)}function zd(i,e){const s=tx(e);if(s.get(1)!==i.databaseId.projectId)throw new ge(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+i.databaseId.projectId);if(s.get(3)!==i.databaseId.database)throw new ge(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+i.databaseId.database);return new ye(sx(s))}function nx(i,e){return Fm(i.databaseId,e)}function Vw(i){const e=tx(i);return e.length===4?ct.emptyPath():sx(e)}function um(i){return new ct(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function sx(i){return Ke(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Y_(i,e,s){return{name:cm(i,e),fields:s.value.mapValue.fields}}function Lw(i,e){let s;if("targetChange"in e){e.targetChange;const a=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ve(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(v,T){return v.useProto3Json?(Ke(T===void 0||typeof T=="string",58123),Kt.fromBase64String(T||"")):(Ke(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Kt.fromUint8Array(T||new Uint8Array))})(i,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(v){const T=v.code===void 0?ne.UNKNOWN:Z1(v.code);return new ge(T,v.message||"")})(d);s=new W1(a,o,u,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=zd(i,a.document.name),u=As(a.document.updateTime),d=a.document.createTime?As(a.document.createTime):Ee.min(),p=new jn({mapValue:{fields:a.document.fields}}),_=Jt.newFoundDocument(o,u,d,p),v=a.targetIds||[],T=a.removedTargetIds||[];s=new Uu(v,T,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=zd(i,a.document),u=a.readTime?As(a.readTime):Ee.min(),d=Jt.newNoDocument(o,u),p=a.removedTargetIds||[];s=new Uu([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=zd(i,a.document),u=a.removedTargetIds||[];s=new Uu([],u,o,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,d=new ww(o,u),p=a.targetId;s=new J1(p,d)}}return s}function Uw(i,e){let s;if(e instanceof Fo)s={update:Y_(i,e.key,e.value)};else if(e instanceof $1)s={delete:cm(i,e.key)};else if(e instanceof Gr)s={update:Y_(i,e.key,e.data),updateMask:Qw(e.fieldMask)};else{if(!(e instanceof Tw))return ve(16599,{Vt:e.type});s={verify:cm(i,e.key)}}return e.fieldTransforms.length>0&&(s.updateTransforms=e.fieldTransforms.map((a=>(function(u,d){const p=d.transform;if(p instanceof Wu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof jo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Oo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof eh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw ve(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(s.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:Ow(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve(27497)})(i,e.precondition)),s}function Pw(i,e){return i&&i.length>0?(Ke(e!==void 0,14353),i.map((s=>(function(o,u){let d=o.updateTime?As(o.updateTime):As(u);return d.isEqual(Ee.min())&&(d=As(u)),new xw(d,o.transformResults||[])})(s,e)))):[]}function zw(i,e){return{documents:[nx(i,e.path)]}}function Bw(i,e){const s={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,s.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),s.structuredQuery.from=[{collectionId:a.lastSegment()}]),s.parent=nx(i,o);const u=(function(v){if(v.length!==0)return rx(Is.create(v,"and"))})(e.filters);u&&(s.structuredQuery.where=u);const d=(function(v){if(v.length!==0)return v.map((T=>(function(C){return{field:Pa(C.field),direction:Fw(C.dir)}})(T)))})(e.orderBy);d&&(s.structuredQuery.orderBy=d);const p=lm(i,e.limit);return p!==null&&(s.structuredQuery.limit=p),e.startAt&&(s.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(s.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:s,parent:o}}function qw(i){let e=Vw(i.parent);const s=i.structuredQuery,a=s.from?s.from.length:0;let o=null;if(a>0){Ke(a===1,65062);const T=s.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];s.where&&(u=(function(S){const C=ix(S);return C instanceof Is&&j1(C)?C.getFilters():[C]})(s.where));let d=[];s.orderBy&&(d=(function(S){return S.map((C=>(function($){return new Ju(za($.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(C)))})(s.orderBy));let p=null;s.limit&&(p=(function(S){let C;return C=typeof S=="object"?S.value:S,mh(C)?null:C})(s.limit));let _=null;s.startAt&&(_=(function(S){const C=!!S.before,B=S.values||[];return new Zu(B,C)})(s.startAt));let v=null;return s.endAt&&(v=(function(S){const C=!S.before,B=S.values||[];return new Zu(B,C)})(s.endAt)),aw(e,o,d,u,p,"F",_,v)}function Hw(i,e){const s=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return s==null?null:{"goog-listen-tags":s}}function ix(i){return i.unaryFilter!==void 0?(function(s){switch(s.unaryFilter.op){case"IS_NAN":const a=za(s.unaryFilter.field);return kt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=za(s.unaryFilter.field);return kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=za(s.unaryFilter.field);return kt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=za(s.unaryFilter.field);return kt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(i):i.fieldFilter!==void 0?(function(s){return kt.create(za(s.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(s.fieldFilter.op),s.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(s){return Is.create(s.compositeFilter.filters.map((a=>ix(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(s.compositeFilter.op))})(i):ve(30097,{filter:i})}function Fw(i){return Dw[i]}function Gw(i){return kw[i]}function Yw(i){return Mw[i]}function Pa(i){return{fieldPath:i.canonicalString()}}function za(i){return Qt.fromServerFormat(i.fieldPath)}function rx(i){return i instanceof kt?(function(s){if(s.op==="=="){if(M_(s.value))return{unaryFilter:{field:Pa(s.field),op:"IS_NAN"}};if(k_(s.value))return{unaryFilter:{field:Pa(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(M_(s.value))return{unaryFilter:{field:Pa(s.field),op:"IS_NOT_NAN"}};if(k_(s.value))return{unaryFilter:{field:Pa(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pa(s.field),op:Gw(s.op),value:s.value}}})(i):i instanceof Is?(function(s){const a=s.getFilters().map((o=>rx(o)));return a.length===1?a[0]:{compositeFilter:{op:Yw(s.op),filters:a}}})(i):ve(54877,{filter:i})}function Qw(i){const e=[];return i.fields.forEach((s=>e.push(s.canonicalString()))),{fieldPaths:e}}function ax(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class Hi{constructor(e,s,a,o,u=Ee.min(),d=Ee.min(),p=Kt.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=s,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new Hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,s){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Kw{constructor(e){this.yt=e}}function Xw(i){const e=qw({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?am(e,e.limit,"L"):e}class $w{constructor(){this.Cn=new Zw}addToCollectionParentIndex(e,s){return this.Cn.add(s),te.resolve()}getCollectionParents(e,s){return te.resolve(this.Cn.getEntries(s))}addFieldIndex(e,s){return te.resolve()}deleteFieldIndex(e,s){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,s){return te.resolve()}getDocumentsMatchingTarget(e,s){return te.resolve(null)}getIndexType(e,s){return te.resolve(0)}getFieldIndexes(e,s){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,s){return te.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,s){return te.resolve(Xi.min())}updateCollectionGroup(e,s,a){return te.resolve()}updateIndexEntries(e,s){return te.resolve()}}class Zw{constructor(){this.index={}}add(e){const s=e.lastSegment(),a=e.popLast(),o=this.index[s]||new Mt(ct.comparator),u=!o.has(a);return this.index[s]=o.add(a),u}has(e){const s=e.lastSegment(),a=e.popLast(),o=this.index[s];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Mt(ct.comparator)).toArray()}}const Q_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lx=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,s,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=a}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(lx,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class Za{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Za(0)}static cr(){return new Za(-1)}}const K_="LruGarbageCollector",Jw=1048576;function X_([i,e],[s,a]){const o=Le(i,s);return o===0?Le(e,a):o}class Ww{constructor(e){this.Ir=e,this.buffer=new Mt(X_),this.Er=0}dr(){return++this.Er}Ar(e){const s=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(s);else{const a=this.buffer.last();X_(s,a)<0&&(this.buffer=this.buffer.delete(a).add(s))}}get maxValue(){return this.buffer.last()[0]}}class eN{constructor(e,s,a){this.garbageCollector=e,this.asyncQueue=s,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(K_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(s){al(s)?ce(K_,"Ignoring IndexedDB error during garbage collection: ",s):await rl(s)}await this.Vr(3e5)}))}}class tN{constructor(e,s){this.mr=e,this.params=s}calculateTargetCount(e,s){return this.mr.gr(e).next((a=>Math.floor(s/100*a)))}nthSequenceNumber(e,s){if(s===0)return te.resolve(dh.ce);const a=new Ww(s);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,s,a){return this.mr.removeTargets(e,s,a)}removeOrphanedDocuments(e,s){return this.mr.removeOrphanedDocuments(e,s)}collect(e,s){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(Q_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q_):this.yr(e,s)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,s){let a,o,u,d,p,_,v;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(a=S,p=Date.now(),this.removeTargets(e,a,s)))).next((S=>(u=S,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((S=>(v=Date.now(),La()<=Ve.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${u} targets in `+(_-p)+`ms
	Removed ${S} documents in `+(v-_)+`ms
Total Duration: ${v-T}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function nN(i,e){return new tN(i,e)}class sN{constructor(){this.changes=new Fr((e=>e.toString()),((e,s)=>e.isEqual(s))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,s){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(s))}getEntry(e,s){this.assertNotApplied();const a=this.changes.get(s);return a!==void 0?te.resolve(a):this.getFromCache(e,s)}getEntries(e,s){return this.getAllFromCache(e,s)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class iN{constructor(e,s){this.overlayedDocument=e,this.mutatedFields=s}}class rN{constructor(e,s,a,o){this.remoteDocumentCache=e,this.mutationQueue=s,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,s){let a=null;return this.documentOverlayCache.getOverlay(e,s).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,s)))).next((o=>(a!==null&&So(a.mutation,o,Jn.empty(),rt.now()),o)))}getDocuments(e,s){return this.remoteDocumentCache.getEntries(e,s).next((a=>this.getLocalViewOfDocuments(e,a,Ue()).next((()=>a))))}getLocalViewOfDocuments(e,s,a=Ue()){const o=jr();return this.populateOverlays(e,o,s).next((()=>this.computeViews(e,s,o,a).next((u=>{let d=po();return u.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,s){const a=jr();return this.populateOverlays(e,a,s).next((()=>this.computeViews(e,s,a,Ue())))}populateOverlays(e,s,a){const o=[];return a.forEach((u=>{s.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((d,p)=>{s.set(d,p)}))}))}computeViews(e,s,a,o){let u=si();const d=To(),p=(function(){return To()})();return s.forEach(((_,v)=>{const T=a.get(v.key);o.has(v.key)&&(T===void 0||T.mutation instanceof Gr)?u=u.insert(v.key,v):T!==void 0?(d.set(v.key,T.mutation.getFieldMask()),So(T.mutation,v,T.mutation.getFieldMask(),rt.now())):d.set(v.key,Jn.empty())})),this.recalculateAndSaveOverlays(e,u).next((_=>(_.forEach(((v,T)=>d.set(v,T))),s.forEach(((v,T)=>p.set(v,new iN(T,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(e,s){const a=To();let o=new ut(((d,p)=>d-p)),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,s).next((d=>{for(const p of d)p.keys().forEach((_=>{const v=s.get(_);if(v===null)return;let T=a.get(_)||Jn.empty();T=p.applyToLocalView(v,T),a.set(_,T);const S=(o.get(p.batchId)||Ue()).add(_);o=o.insert(p.batchId,S)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,T=_.value,S=q1();T.forEach((C=>{if(!u.has(C)){const B=K1(s.get(C),a.get(C));B!==null&&S.set(C,B),u=u.add(C)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,S))}return te.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,s){return this.remoteDocumentCache.getEntries(e,s).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,s,a,o){return(function(d){return ye.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(s)?this.getDocumentsMatchingDocumentQuery(e,s.path):lw(s)?this.getDocumentsMatchingCollectionGroupQuery(e,s,a,o):this.getDocumentsMatchingCollectionQuery(e,s,a,o)}getNextDocuments(e,s,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,s,a,o).next((u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,s,a.largestBatchId,o-u.size):te.resolve(jr());let p=Io,_=u;return d.next((v=>te.forEach(v,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(T)?te.resolve():this.remoteDocumentCache.getEntry(e,T).next((C=>{_=_.insert(T,C)}))))).next((()=>this.populateOverlays(e,v,u))).next((()=>this.computeViews(e,_,v,Ue()))).next((T=>({batchId:p,changes:B1(T)})))))}))}getDocumentsMatchingDocumentQuery(e,s){return this.getDocument(e,new ye(s)).next((a=>{let o=po();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,s,a,o){const u=s.collectionGroup;let d=po();return this.indexManager.getCollectionParents(e,u).next((p=>te.forEach(p,(_=>{const v=(function(S,C){return new ph(C,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(s,_.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,a,o).next((T=>{T.forEach(((S,C)=>{d=d.insert(S,C)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,s,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,s.path,a.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,s,a,u,o)))).next((d=>{u.forEach(((_,v)=>{const T=v.getKey();d.get(T)===null&&(d=d.insert(T,Jt.newInvalidDocument(T)))}));let p=po();return d.forEach(((_,v)=>{const T=u.get(_);T!==void 0&&So(T.mutation,v,Jn.empty(),rt.now()),_h(s,v)&&(p=p.insert(_,v))})),p}))}}class aN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,s){return te.resolve(this.Lr.get(s))}saveBundleMetadata(e,s){return this.Lr.set(s.id,(function(o){return{id:o.id,version:o.version,createTime:As(o.createTime)}})(s)),te.resolve()}getNamedQuery(e,s){return te.resolve(this.kr.get(s))}saveNamedQuery(e,s){return this.kr.set(s.name,(function(o){return{name:o.name,query:Xw(o.bundledQuery),readTime:As(o.readTime)}})(s)),te.resolve()}}class lN{constructor(){this.overlays=new ut(ye.comparator),this.qr=new Map}getOverlay(e,s){return te.resolve(this.overlays.get(s))}getOverlays(e,s){const a=jr();return te.forEach(s,(o=>this.getOverlay(e,o).next((u=>{u!==null&&a.set(o,u)})))).next((()=>a))}saveOverlays(e,s,a){return a.forEach(((o,u)=>{this.St(e,s,u)})),te.resolve()}removeOverlaysForBatchId(e,s,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(a)),te.resolve()}getOverlaysForCollection(e,s,a){const o=jr(),u=s.length+1,d=new ye(s.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!s.isPrefixOf(v.path))break;v.path.length===u&&_.largestBatchId>a&&o.set(_.getKey(),_)}return te.resolve(o)}getOverlaysForCollectionGroup(e,s,a,o){let u=new ut(((v,T)=>v-T));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===s&&v.largestBatchId>a){let T=u.get(v.largestBatchId);T===null&&(T=jr(),u=u.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const p=jr(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,T)=>p.set(v,T))),!(p.size()>=o)););return te.resolve(p)}St(e,s,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Aw(s,a));let u=this.qr.get(s);u===void 0&&(u=Ue(),this.qr.set(s,u)),this.qr.set(s,u.add(a.key))}}class oN{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,s){return this.sessionToken=s,te.resolve()}}class Gm{constructor(){this.Qr=new Mt(Lt.$r),this.Ur=new Mt(Lt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,s){const a=new Lt(e,s);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,s){e.forEach((a=>this.addReference(a,s)))}removeReference(e,s){this.Gr(new Lt(e,s))}zr(e,s){e.forEach((a=>this.removeReference(a,s)))}jr(e){const s=new ye(new ct([])),a=new Lt(s,e),o=new Lt(s,e+1),u=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const s=new ye(new ct([])),a=new Lt(s,e),o=new Lt(s,e+1);let u=Ue();return this.Ur.forEachInRange([a,o],(d=>{u=u.add(d.key)})),u}containsKey(e){const s=new Lt(e,0),a=this.Qr.firstAfterOrEqual(s);return a!==null&&e.isEqual(a.key)}}class Lt{constructor(e,s){this.key=e,this.Yr=s}static $r(e,s){return ye.comparator(e.key,s.key)||Le(e.Yr,s.Yr)}static Kr(e,s){return Le(e.Yr,s.Yr)||ye.comparator(e.key,s.key)}}class cN{constructor(e,s){this.indexManager=e,this.referenceDelegate=s,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(Lt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,s,a,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Sw(u,s,a,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Lt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return te.resolve(d)}lookupMutationBatch(e,s){return te.resolve(this.Xr(s))}getNextMutationBatchAfterBatchId(e,s){const a=s+1,o=this.ei(a),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Om:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,s){const a=new Lt(s,0),o=new Lt(s,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,o],(d=>{const p=this.Xr(d.Yr);u.push(p)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,s){let a=new Mt(Le);return s.forEach((o=>{const u=new Lt(o,0),d=new Lt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(p=>{a=a.add(p.Yr)}))})),te.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,s){const a=s.path,o=a.length+1;let u=a;ye.isDocumentKey(u)||(u=u.child(""));const d=new Lt(new ye(u),0);let p=new Mt(Le);return this.Zr.forEachWhile((_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===o&&(p=p.add(_.Yr)),!0)}),d),te.resolve(this.ti(p))}ti(e){const s=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&s.push(o)})),s}removeMutationBatch(e,s){Ke(this.ni(s.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return te.forEach(s.mutations,(o=>{const u=new Lt(o.key,s.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,s){const a=new Lt(s,0),o=this.Zr.firstAfterOrEqual(a);return te.resolve(s.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,s){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const s=this.ei(e);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}class uN{constructor(e){this.ri=e,this.docs=(function(){return new ut(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,s){const a=s.key,o=this.docs.get(a),u=o?o.size:0,d=this.ri(s);return this.docs=this.docs.insert(a,{document:s.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const s=this.docs.get(e);s&&(this.docs=this.docs.remove(e),this.size-=s.size)}getEntry(e,s){const a=this.docs.get(s);return te.resolve(a?a.document.mutableCopy():Jt.newInvalidDocument(s))}getEntries(e,s){let a=si();return s.forEach((o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():Jt.newInvalidDocument(o))})),te.resolve(a)}getDocumentsMatchingQuery(e,s,a,o){let u=si();const d=s.path,p=new ye(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:T}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||UA(LA(T),a)<=0||(o.has(T.key)||_h(s,T))&&(u=u.insert(T.key,T.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,s,a,o){ve(9500)}ii(e,s){return te.forEach(this.docs,(a=>s(a)))}newChangeBuffer(e){return new hN(this)}getSize(e){return te.resolve(this.size)}}class hN extends sN{constructor(e){super(),this.Nr=e}applyChanges(e){const s=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?s.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),te.waitFor(s)}getFromCache(e,s){return this.Nr.getEntry(e,s)}getAllFromCache(e,s){return this.Nr.getEntries(e,s)}}class fN{constructor(e){this.persistence=e,this.si=new Fr((s=>Um(s)),Pm),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new Gm,this.targetCount=0,this.ai=Za.ur()}forEachTarget(e,s){return this.si.forEach(((a,o)=>s(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,s,a){return a&&(this.lastRemoteSnapshotVersion=a),s>this.oi&&(this.oi=s),te.resolve()}Pr(e){this.si.set(e.target,e);const s=e.targetId;s>this.highestTargetId&&(this.ai=new Za(s),this.highestTargetId=s),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,s){return this.Pr(s),this.targetCount+=1,te.resolve()}updateTargetData(e,s){return this.Pr(s),te.resolve()}removeTargetData(e,s){return this.si.delete(s.target),this._i.jr(s.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,s,a){let o=0;const u=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=s&&a.get(p.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,s){const a=this.si.get(s)||null;return te.resolve(a)}addMatchingKeys(e,s,a){return this._i.Wr(s,a),te.resolve()}removeMatchingKeys(e,s,a){this._i.zr(s,a);const o=this.persistence.referenceDelegate,u=[];return o&&s.forEach((d=>{u.push(o.markPotentiallyOrphaned(e,d))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,s){return this._i.jr(s),te.resolve()}getMatchingKeysForTargetId(e,s){const a=this._i.Hr(s);return te.resolve(a)}containsKey(e,s){return te.resolve(this._i.containsKey(s))}}class ox{constructor(e,s){this.ui={},this.overlays={},this.ci=new dh(0),this.li=!1,this.li=!0,this.hi=new oN,this.referenceDelegate=e(this),this.Pi=new fN(this),this.indexManager=new $w,this.remoteDocumentCache=(function(o){return new uN(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new Kw(s),this.Ii=new aN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let s=this.overlays[e.toKey()];return s||(s=new lN,this.overlays[e.toKey()]=s),s}getMutationQueue(e,s){let a=this.ui[e.toKey()];return a||(a=new cN(s,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,s,a){ce("MemoryPersistence","Starting transaction:",e);const o=new dN(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,s){return te.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,s))))}}class dN extends zA{constructor(e){super(),this.currentSequenceNumber=e}}class Ym{constructor(e){this.persistence=e,this.Ri=new Gm,this.Vi=null}static mi(e){return new Ym(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,s,a){return this.Ri.addReference(a,s),this.fi.delete(a.toString()),te.resolve()}removeReference(e,s,a){return this.Ri.removeReference(a,s),this.fi.add(a.toString()),te.resolve()}markPotentiallyOrphaned(e,s){return this.fi.add(s.toString()),te.resolve()}removeTarget(e,s){this.Ri.jr(s.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,s.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>a.removeTargetData(e,s)))}Ei(){this.Vi=new Set}di(e){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(a=>{const o=ye.fromPath(a);return this.gi(e,o).next((u=>{u||s.removeEntry(o,Ee.min())}))})).next((()=>(this.Vi=null,s.apply(e))))}updateLimboDocument(e,s){return this.gi(e,s).next((a=>{a?this.fi.delete(s.toString()):this.fi.add(s.toString())}))}Ti(e){return 0}gi(e,s){return te.or([()=>te.resolve(this.Ri.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(e,s),()=>this.persistence.Ai(e,s)])}}class nh{constructor(e,s){this.persistence=e,this.pi=new Fr((a=>HA(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=nN(this,s)}static mi(e,s){return new nh(e,s)}Ei(){}di(e){return te.resolve()}forEachTarget(e,s){return this.persistence.getTargetCache().forEachTarget(e,s)}gr(e){const s=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>s.next((o=>a+o))))}wr(e){let s=0;return this.pr(e,(a=>{s++})).next((()=>s))}pr(e,s){return te.forEach(this.pi,((a,o)=>this.br(e,a,o).next((u=>u?te.resolve():s(o)))))}removeTargets(e,s,a){return this.persistence.getTargetCache().removeTargets(e,s,a)}removeOrphanedDocuments(e,s){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,s).next((p=>{p||(a++,u.removeEntry(d,Ee.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeTarget(e,s){const a=s.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,s,a){return this.pi.set(a,e.currentSequenceNumber),te.resolve()}removeReference(e,s,a){return this.pi.set(a,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}Ti(e){let s=e.key.toString().length;return e.isFoundDocument()&&(s+=Ou(e.data.value)),s}br(e,s,a){return te.or([()=>this.persistence.Ai(e,s),()=>this.persistence.getTargetCache().containsKey(e,s),()=>{const o=this.pi.get(s);return te.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Qm{constructor(e,s,a,o){this.targetId=e,this.fromCache=s,this.Es=a,this.ds=o}static As(e,s){let a=Ue(),o=Ue();for(const u of s.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Qm(e,s.fromCache,a,o)}}class mN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class gN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return sT()?8:BA(Wt())>0?6:4})()}initialize(e,s){this.ps=e,this.indexManager=s,this.Rs=!0}getDocumentsMatchingQuery(e,s,a,o){const u={result:null};return this.ys(e,s).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(e,s,o,a).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new mN;return this.Ss(e,s,d).next((p=>{if(u.result=p,this.Vs)return this.bs(e,s,d,p.size)}))})).next((()=>u.result))}bs(e,s,a,o){return a.documentReadCount<this.fs?(La()<=Ve.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Ua(s),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(La()<=Ve.DEBUG&&ce("QueryEngine","Query:",Ua(s),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(La()<=Ve.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Ua(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ss(s))):te.resolve())}ys(e,s){if(L_(s))return te.resolve(null);let a=Ss(s);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(s.limit!==null&&o===1&&(s=am(s,null,"F"),a=Ss(s)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const d=Ue(...u);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((_=>{const v=this.Ds(s,p);return this.Cs(s,v,d,_.readTime)?this.ys(e,am(s,null,"F")):this.vs(e,v,s,_)}))))})))))}ws(e,s,a,o){return L_(s)||o.isEqual(Ee.min())?te.resolve(null):this.ps.getDocuments(e,a).next((u=>{const d=this.Ds(s,u);return this.Cs(s,d,a,o)?te.resolve(null):(La()<=Ve.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ua(s)),this.vs(e,d,s,VA(o,Io)).next((p=>p)))}))}Ds(e,s){let a=new Mt(P1(e));return s.forEach(((o,u)=>{_h(e,u)&&(a=a.add(u))})),a}Cs(e,s,a,o){if(e.limit===null)return!1;if(a.size!==s.size)return!0;const u=e.limitType==="F"?s.last():s.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,s,a){return La()<=Ve.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Ua(s)),this.ps.getDocumentsMatchingQuery(e,s,Xi.min(),a)}vs(e,s,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((u=>(s.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const Km="LocalStore",pN=3e8;class yN{constructor(e,s,a,o){this.persistence=e,this.Fs=s,this.serializer=o,this.Ms=new ut(Le),this.xs=new Fr((u=>Um(u)),Pm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(s=>e.collect(s,this.Ms)))}}function _N(i,e,s,a){return new yN(i,e,s,a)}async function cx(i,e){const s=Se(i);return await s.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return s.mutationQueue.getAllMutationBatches(a).next((u=>(o=u,s.Bs(e),s.mutationQueue.getAllMutationBatches(a)))).next((u=>{const d=[],p=[];let _=Ue();for(const v of o){d.push(v.batchId);for(const T of v.mutations)_=_.add(T.key)}for(const v of u){p.push(v.batchId);for(const T of v.mutations)_=_.add(T.key)}return s.localDocuments.getDocuments(a,_).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function vN(i,e){const s=Se(i);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),u=s.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,v,T){const S=v.batch,C=S.keys();let B=te.resolve();return C.forEach(($=>{B=B.next((()=>T.getEntry(_,$))).next((Q=>{const P=v.docVersions.get($);Ke(P!==null,48541),Q.version.compareTo(P)<0&&(S.applyToRemoteDocument(Q,v),Q.isValidDocument()&&(Q.setReadTime(v.commitVersion),T.addEntry(Q)))}))})),B.next((()=>p.mutationQueue.removeMutationBatch(_,S)))})(s,a,e,u).next((()=>u.apply(a))).next((()=>s.mutationQueue.performConsistencyCheck(a))).next((()=>s.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=Ue();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(_=_.add(p.batch.mutations[v].key));return _})(e)))).next((()=>s.localDocuments.getDocuments(a,o)))}))}function ux(i){const e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(s=>e.Pi.getLastRemoteSnapshotVersion(s)))}function xN(i,e){const s=Se(i),a=e.snapshotVersion;let o=s.Ms;return s.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=s.Ns.newChangeBuffer({trackRemovals:!0});o=s.Ms;const p=[];e.targetChanges.forEach(((T,S)=>{const C=o.get(S);if(!C)return;p.push(s.Pi.removeMatchingKeys(u,T.removedDocuments,S).next((()=>s.Pi.addMatchingKeys(u,T.addedDocuments,S))));let B=C.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?B=B.withResumeToken(Kt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):T.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(T.resumeToken,a)),o=o.insert(S,B),(function(Q,P,se){return Q.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=pN?!0:se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0})(C,B,T)&&p.push(s.Pi.updateTargetData(u,B))}));let _=si(),v=Ue();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(s.persistence.referenceDelegate.updateLimboDocument(u,T))})),p.push(bN(u,d,e.documentUpdates).next((T=>{_=T.ks,v=T.qs}))),!a.isEqual(Ee.min())){const T=s.Pi.getLastRemoteSnapshotVersion(u).next((S=>s.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a)));p.push(T)}return te.waitFor(p).next((()=>d.apply(u))).next((()=>s.localDocuments.getLocalViewOfDocuments(u,_,v))).next((()=>_))})).then((u=>(s.Ms=o,u)))}function bN(i,e,s){let a=Ue(),o=Ue();return s.forEach((u=>a=a.add(u))),e.getEntries(i,a).next((u=>{let d=si();return s.forEach(((p,_)=>{const v=u.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),_.isNoDocument()&&_.version.isEqual(Ee.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):ce(Km,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function EN(i,e){const s=Se(i);return s.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Om),s.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function TN(i,e){const s=Se(i);return s.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return s.Pi.getTargetData(a,e).next((u=>u?(o=u,te.resolve(o)):s.Pi.allocateTargetId(a).next((d=>(o=new Hi(e,d,"TargetPurposeListen",a.currentSequenceNumber),s.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=s.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(s.Ms=s.Ms.insert(a.targetId,a),s.xs.set(e,a.targetId)),a}))}async function hm(i,e,s){const a=Se(i),o=a.Ms.get(e),u=s?"readwrite":"readwrite-primary";try{s||await a.persistence.runTransaction("Release target",u,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!al(d))throw d;ce(Km,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function $_(i,e,s){const a=Se(i);let o=Ee.min(),u=Ue();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,T){const S=Se(_),C=S.xs.get(T);return C!==void 0?te.resolve(S.Ms.get(C)):S.Pi.getTargetData(v,T)})(a,d,Ss(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{u=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,s?o:Ee.min(),s?u:Ue()))).next((p=>(SN(a,cw(e),p),{documents:p,Qs:u})))))}function SN(i,e,s){let a=i.Os.get(e)||Ee.min();s.forEach(((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),i.Os.set(e,a)}class Z_{constructor(){this.activeTargetIds=gw()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AN{constructor(){this.Mo=new Z_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,s,a){}addLocalQueryTarget(e,s=!0){return s&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,s,a){this.xo[e]=s}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Z_,Promise.resolve()}handleUserChange(e,s,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wN{Oo(e){}shutdown(){}}const J_="ConnectivityMonitor";class W_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(J_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(J_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Cu=null;function fm(){return Cu===null?Cu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cu++,"0x"+Cu.toString(16)}const Bd="RestConnection",NN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const s=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=s+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Xu?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,s,a,o,u){const d=fm(),p=this.zo(e,s.toUriEncodedString());ce(Bd,`Sending RPC '${e}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,u);const{host:v}=new URL(p),T=tl(v);return this.Jo(e,p,_,a,T).then((S=>(ce(Bd,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw Qa(Bd,`RPC '${e}' ${d} failed with error: `,S,"url: ",p,"request:",a),S}))}Ho(e,s,a,o,u,d){return this.Go(e,s,a,o,u)}jo(e,s,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+il})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((o,u)=>e[u]=o)),a&&a.headers.forEach(((o,u)=>e[u]=o))}zo(e,s){const a=NN[e];return`${this.Uo}/v1/${s}:${a}`}terminate(){}}class CN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const $t="WebChannelConnection";class IN extends RN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,s,a,o,u){const d=fm();return new Promise(((p,_)=>{const v=new m1;v.setWithCredentials(!0),v.listenOnce(g1.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case ju.NO_ERROR:const S=v.getResponseJson();ce($t,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),p(S);break;case ju.TIMEOUT:ce($t,`RPC '${e}' ${d} timed out`),_(new ge(ne.DEADLINE_EXCEEDED,"Request time out"));break;case ju.HTTP_ERROR:const C=v.getStatus();if(ce($t,`RPC '${e}' ${d} failed with status:`,C,"response text:",v.getResponseText()),C>0){let B=v.getResponseJson();Array.isArray(B)&&(B=B[0]);const $=B?.error;if($&&$.status&&$.message){const Q=(function(se){const L=se.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(L)>=0?L:ne.UNKNOWN})($.status);_(new ge(Q,$.message))}else _(new ge(ne.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new ge(ne.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ce($t,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(o);ce($t,`RPC '${e}' ${d} sending request:`,o),v.send(s,"POST",T,a,15)}))}T_(e,s,a){const o=fm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=_1(),p=y1(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,s,a),_.encodeInitMessageHeaders=!0;const T=u.join("");ce($t,`Creating RPC '${e}' stream ${o}: ${T}`,_);const S=d.createWebChannel(T,_);this.I_(S);let C=!1,B=!1;const $=new CN({Yo:P=>{B?ce($t,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(C||(ce($t,`Opening RPC '${e}' stream ${o} transport.`),S.open(),C=!0),ce($t,`RPC '${e}' stream ${o} sending:`,P),S.send(P))},Zo:()=>S.close()}),Q=(P,se,L)=>{P.listen(se,(V=>{try{L(V)}catch(ie){setTimeout((()=>{throw ie}),0)}}))};return Q(S,go.EventType.OPEN,(()=>{B||(ce($t,`RPC '${e}' stream ${o} transport opened.`),$.o_())})),Q(S,go.EventType.CLOSE,(()=>{B||(B=!0,ce($t,`RPC '${e}' stream ${o} transport closed`),$.a_(),this.E_(S))})),Q(S,go.EventType.ERROR,(P=>{B||(B=!0,Qa($t,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),$.a_(new ge(ne.UNAVAILABLE,"The operation could not be completed")))})),Q(S,go.EventType.MESSAGE,(P=>{if(!B){const se=P.data[0];Ke(!!se,16349);const L=se,V=L?.error||L[0]?.error;if(V){ce($t,`RPC '${e}' stream ${o} received error:`,V);const ie=V.status;let he=(function(E){const w=Nt[E];if(w!==void 0)return Z1(w)})(ie),ae=V.message;he===void 0&&(he=ne.INTERNAL,ae="Unknown error status: "+ie+" with message "+V.message),B=!0,$.a_(new ge(he,ae)),S.close()}else ce($t,`RPC '${e}' stream ${o} received:`,se),$.u_(se)}})),Q(p,p1.STAT_EVENT,(P=>{P.stat===em.PROXY?ce($t,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===em.NOPROXY&&ce($t,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((s=>s===e))}}function qd(){return typeof document<"u"?document:null}function Eh(i){return new jw(i,!0)}class hx{constructor(e,s,a=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=s,this.d_=a,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const s=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,s-a);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${s} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const ev="PersistentStream";class fx{constructor(e,s,a,o,u,d,p,_){this.Mi=e,this.S_=a,this.b_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new hx(e,s)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,s){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():s&&s.code===ne.RESOURCE_EXHAUSTED?(ni(s.toString()),ni("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):s&&s.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(s)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),s=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===s&&this.G_(a,o)}),(a=>{e((()=>{const o=new ge(ne.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,s){const a=this.W_(this.D_);this.stream=this.j_(e,s),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(ev,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return s=>{this.Mi.enqueueAndForget((()=>this.D_===e?s():(ce(ev,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class DN extends fx{constructor(e,s,a,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,a,o,d),this.serializer=u}j_(e,s){return this.connection.T_("Listen",e,s)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const s=Lw(this.serializer,e),a=(function(u){if(!("targetChange"in u))return Ee.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Ee.min():d.readTime?As(d.readTime):Ee.min()})(e);return this.listener.H_(s,a)}Y_(e){const s={};s.database=um(this.serializer),s.addTarget=(function(u,d){let p;const _=d.target;if(p=rm(_)?{documents:zw(u,_)}:{query:Bw(u,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=ex(u,d.resumeToken);const v=lm(u,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(Ee.min())>0){p.readTime=th(u,d.snapshotVersion.toTimestamp());const v=lm(u,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,e);const a=Hw(this.serializer,e);a&&(s.labels=a),this.q_(s)}Z_(e){const s={};s.database=um(this.serializer),s.removeTarget=e,this.q_(s)}}class kN extends fx{constructor(e,s,a,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,a,o,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,s){return this.connection.T_("Write",e,s)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const s=Pw(e.writeResults,e.commitTime),a=As(e.commitTime);return this.listener.na(a,s)}ra(){const e={};e.database=um(this.serializer),this.q_(e)}ea(e){const s={streamToken:this.lastStreamToken,writes:e.map((a=>Uw(this.serializer,a)))};this.q_(s)}}class MN{}class jN extends MN{constructor(e,s,a,o){super(),this.authCredentials=e,this.appCheckCredentials=s,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ge(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,s,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(e,om(s,a),o,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(ne.UNKNOWN,u.toString())}))}Ho(e,s,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,om(s,a),o,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ge(ne.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ON{constructor(e,s){this.asyncQueue=e,this.onlineStateHandler=s,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const s=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ni(s),this.aa=!1):ce("OnlineStateTracker",s)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const qr="RemoteStore";class VN{constructor(e,s,a,o,u){this.localStore=e,this.datastore=s,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Yr(this)&&(ce(qr,"Restarting streams for network reachability change."),await(async function(_){const v=Se(_);v.Ea.add(4),await Yo(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Th(v)})(this))}))})),this.Ra=new ON(a,o)}}async function Th(i){if(Yr(i))for(const e of i.da)await e(!0)}async function Yo(i){for(const e of i.da)await e(!1)}function dx(i,e){const s=Se(i);s.Ia.has(e.targetId)||(s.Ia.set(e.targetId,e),Jm(s)?Zm(s):ll(s).O_()&&$m(s,e))}function Xm(i,e){const s=Se(i),a=ll(s);s.Ia.delete(e),a.O_()&&mx(s,e),s.Ia.size===0&&(a.O_()?a.L_():Yr(s)&&s.Ra.set("Unknown"))}function $m(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const s=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(s)}ll(i).Y_(e)}function mx(i,e){i.Va.Ue(e),ll(i).Z_(e)}function Zm(i){i.Va=new Iw({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),ll(i).start(),i.Ra.ua()}function Jm(i){return Yr(i)&&!ll(i).x_()&&i.Ia.size>0}function Yr(i){return Se(i).Ea.size===0}function gx(i){i.Va=void 0}async function LN(i){i.Ra.set("Online")}async function UN(i){i.Ia.forEach(((e,s)=>{$m(i,e)}))}async function PN(i,e){gx(i),Jm(i)?(i.Ra.ha(e),Zm(i)):i.Ra.set("Unknown")}async function zN(i,e,s){if(i.Ra.set("Online"),e instanceof W1&&e.state===2&&e.cause)try{await(async function(o,u){const d=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(i,e)}catch(a){ce(qr,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await sh(i,a)}else if(e instanceof Uu?i.Va.Ze(e):e instanceof J1?i.Va.st(e):i.Va.tt(e),!s.isEqual(Ee.min()))try{const a=await ux(i.localStore);s.compareTo(a)>=0&&await(function(u,d){const p=u.Va.Tt(d);return p.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const T=u.Ia.get(v);T&&u.Ia.set(v,T.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,v)=>{const T=u.Ia.get(_);if(!T)return;u.Ia.set(_,T.withResumeToken(Kt.EMPTY_BYTE_STRING,T.snapshotVersion)),mx(u,_);const S=new Hi(T.target,_,v,T.sequenceNumber);$m(u,S)})),u.remoteSyncer.applyRemoteEvent(p)})(i,s)}catch(a){ce(qr,"Failed to raise snapshot:",a),await sh(i,a)}}async function sh(i,e,s){if(!al(e))throw e;i.Ea.add(1),await Yo(i),i.Ra.set("Offline"),s||(s=()=>ux(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ce(qr,"Retrying IndexedDB access"),await s(),i.Ea.delete(1),await Th(i)}))}function px(i,e){return e().catch((s=>sh(i,s,e)))}async function Sh(i){const e=Se(i),s=Wi(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Om;for(;BN(e);)try{const o=await EN(e.localStore,a);if(o===null){e.Ta.length===0&&s.L_();break}a=o.batchId,qN(e,o)}catch(o){await sh(e,o)}yx(e)&&_x(e)}function BN(i){return Yr(i)&&i.Ta.length<10}function qN(i,e){i.Ta.push(e);const s=Wi(i);s.O_()&&s.X_&&s.ea(e.mutations)}function yx(i){return Yr(i)&&!Wi(i).x_()&&i.Ta.length>0}function _x(i){Wi(i).start()}async function HN(i){Wi(i).ra()}async function FN(i){const e=Wi(i);for(const s of i.Ta)e.ea(s.mutations)}async function GN(i,e,s){const a=i.Ta.shift(),o=qm.from(a,e,s);await px(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Sh(i)}async function YN(i,e){e&&Wi(i).X_&&await(async function(a,o){if((function(d){return Nw(d)&&d!==ne.ABORTED})(o.code)){const u=a.Ta.shift();Wi(a).B_(),await px(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Sh(a)}})(i,e),yx(i)&&_x(i)}async function tv(i,e){const s=Se(i);s.asyncQueue.verifyOperationInProgress(),ce(qr,"RemoteStore received new credentials");const a=Yr(s);s.Ea.add(3),await Yo(s),a&&s.Ra.set("Unknown"),await s.remoteSyncer.handleCredentialChange(e),s.Ea.delete(3),await Th(s)}async function QN(i,e){const s=Se(i);e?(s.Ea.delete(2),await Th(s)):e||(s.Ea.add(2),await Yo(s),s.Ra.set("Unknown"))}function ll(i){return i.ma||(i.ma=(function(s,a,o){const u=Se(s);return u.sa(),new DN(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:LN.bind(null,i),t_:UN.bind(null,i),r_:PN.bind(null,i),H_:zN.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Jm(i)?Zm(i):i.Ra.set("Unknown")):(await i.ma.stop(),gx(i))}))),i.ma}function Wi(i){return i.fa||(i.fa=(function(s,a,o){const u=Se(s);return u.sa(),new kN(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:HN.bind(null,i),r_:YN.bind(null,i),ta:FN.bind(null,i),na:GN.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Sh(i)):(await i.fa.stop(),i.Ta.length>0&&(ce(qr,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Wm{constructor(e,s,a,o,u){this.asyncQueue=e,this.timerId=s,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,s,a,o,u){const d=Date.now()+a,p=new Wm(e,s,d,o,u);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eg(i,e){if(ni("AsyncQueue",`${e}: ${i}`),al(i))return new ge(ne.UNAVAILABLE,`${e}: ${i}`);throw i}class Fa{static emptySet(e){return new Fa(e.comparator)}constructor(e){this.comparator=e?(s,a)=>e(s,a)||ye.comparator(s.key,a.key):(s,a)=>ye.comparator(s.key,a.key),this.keyedMap=po(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const s=this.keyedMap.get(e);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((s,a)=>(e(s),!1)))}add(e){const s=this.delete(e.key);return s.copy(s.keyedMap.insert(e.key,e),s.sortedSet.insert(e,null))}delete(e){const s=this.get(e);return s?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(s)):this}isEqual(e){if(!(e instanceof Fa)||this.size!==e.size)return!1;const s=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;s.hasNext();){const o=s.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((s=>{e.push(s.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,s){const a=new Fa;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=s,a}}class nv{constructor(){this.ga=new ut(ye.comparator)}track(e){const s=e.doc.key,a=this.ga.get(s);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(s,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(s,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(s,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(s):e.type===1&&a.type===2?this.ga=this.ga.insert(s,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(s,e)}ya(){const e=[];return this.ga.inorderTraversal(((s,a)=>{e.push(a)})),e}}class Ja{constructor(e,s,a,o,u,d,p,_,v){this.query=e,this.docs=s,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,s,a,o,u){const d=[];return s.forEach((p=>{d.push({type:0,doc:p})})),new Ja(e,s,Fa.emptySet(s),d,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const s=this.docChanges,a=e.docChanges;if(s.length!==a.length)return!1;for(let o=0;o<s.length;o++)if(s[o].type!==a[o].type||!s[o].doc.isEqual(a[o].doc))return!1;return!0}}class KN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class XN{constructor(){this.queries=sv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(s,a){const o=Se(s),u=o.queries;o.queries=sv(),u.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(a)}))})(this,new ge(ne.ABORTED,"Firestore shutting down"))}}function sv(){return new Fr((i=>U1(i)),yh)}async function $N(i,e){const s=Se(i);let a=3;const o=e.query;let u=s.queries.get(o);u?!u.ba()&&e.Da()&&(a=2):(u=new KN,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await s.onListen(o,!0);break;case 1:u.wa=await s.onListen(o,!1);break;case 2:await s.onFirstRemoteStoreListen(o)}}catch(d){const p=eg(d,`Initialization of query '${Ua(e.query)}' failed`);return void e.onError(p)}s.queries.set(o,u),u.Sa.push(e),e.va(s.onlineState),u.wa&&e.Fa(u.wa)&&tg(s)}async function ZN(i,e){const s=Se(i),a=e.query;let o=3;const u=s.queries.get(a);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return s.queries.delete(a),s.onUnlisten(a,!0);case 1:return s.queries.delete(a),s.onUnlisten(a,!1);case 2:return s.onLastRemoteStoreUnlisten(a);default:return}}function JN(i,e){const s=Se(i);let a=!1;for(const o of e){const u=o.query,d=s.queries.get(u);if(d){for(const p of d.Sa)p.Fa(o)&&(a=!0);d.wa=o}}a&&tg(s)}function WN(i,e,s){const a=Se(i),o=a.queries.get(e);if(o)for(const u of o.Sa)u.onError(s);a.queries.delete(e)}function tg(i){i.Ca.forEach((e=>{e.next()}))}var dm,iv;(iv=dm||(dm={})).Ma="default",iv.Cache="cache";class e4{constructor(e,s,a){this.query=e,this.xa=s,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Ja(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let s=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),s=!0):this.La(e,this.onlineState)&&(this.ka(e),s=!0),this.Na=e,s}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let s=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),s=!0),s}La(e,s){if(!e.fromCache||!this.Da())return!0;const a=s!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||s==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const s=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}ka(e){e=Ja.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dm.Cache}}class vx{constructor(e){this.key=e}}class xx{constructor(e){this.key=e}}class t4{constructor(e,s){this.query=e,this.Ya=s,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=P1(e),this.tu=new Fa(this.eu)}get nu(){return this.Ya}ru(e,s){const a=s?s.iu:new nv,o=s?s.tu:this.tu;let u=s?s.mutatedKeys:this.mutatedKeys,d=o,p=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,S)=>{const C=o.get(T),B=_h(this.query,S)?S:null,$=!!C&&this.mutatedKeys.has(C.key),Q=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let P=!1;C&&B?C.data.isEqual(B.data)?$!==Q&&(a.track({type:3,doc:B}),P=!0):this.su(C,B)||(a.track({type:2,doc:B}),P=!0,(_&&this.eu(B,_)>0||v&&this.eu(B,v)<0)&&(p=!0)):!C&&B?(a.track({type:0,doc:B}),P=!0):C&&!B&&(a.track({type:1,doc:C}),P=!0,(_||v)&&(p=!0)),P&&(B?(d=d.add(B),u=Q?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),a.track({type:1,doc:T})}return{tu:d,iu:a,Cs:p,mutatedKeys:u}}su(e,s){return e.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(e,s,a,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,S)=>(function(B,$){const Q=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:P})}};return Q(B)-Q($)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(a),o=o??!1;const p=s&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,v=_!==this.Za;return this.Za=_,d.length!==0||v?{snapshot:new Ja(this.query,e.tu,u,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new nv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((s=>this.Ya=this.Ya.add(s))),e.modifiedDocuments.forEach((s=>{})),e.removedDocuments.forEach((s=>this.Ya=this.Ya.delete(s))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const s=[];return e.forEach((a=>{this.Xa.has(a)||s.push(new xx(a))})),this.Xa.forEach((a=>{e.has(a)||s.push(new vx(a))})),s}cu(e){this.Ya=e.Qs,this.Xa=Ue();const s=this.ru(e.documents);return this.applyChanges(s,!0)}lu(){return Ja.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ng="SyncEngine";class n4{constructor(e,s,a){this.query=e,this.targetId=s,this.view=a}}class s4{constructor(e){this.key=e,this.hu=!1}}class i4{constructor(e,s,a,o,u,d){this.localStore=e,this.remoteStore=s,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Fr((p=>U1(p)),yh),this.Iu=new Map,this.Eu=new Set,this.du=new ut(ye.comparator),this.Au=new Map,this.Ru=new Gm,this.Vu={},this.mu=new Map,this.fu=Za.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function r4(i,e,s=!0){const a=wx(i);let o;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await bx(a,e,s,!0),o}async function a4(i,e){const s=wx(i);await bx(s,e,!0,!1)}async function bx(i,e,s,a){const o=await TN(i.localStore,Ss(e)),u=o.targetId,d=i.sharedClientState.addLocalQueryTarget(u,s);let p;return a&&(p=await l4(i,e,u,d==="current",o.resumeToken)),i.isPrimaryClient&&s&&dx(i.remoteStore,o),p}async function l4(i,e,s,a,o){i.pu=(S,C,B)=>(async function(Q,P,se,L){let V=P.view.ru(se);V.Cs&&(V=await $_(Q.localStore,P.query,!1).then((({documents:k})=>P.view.ru(k,V))));const ie=L&&L.targetChanges.get(P.targetId),he=L&&L.targetMismatches.get(P.targetId)!=null,ae=P.view.applyChanges(V,Q.isPrimaryClient,ie,he);return av(Q,P.targetId,ae.au),ae.snapshot})(i,S,C,B);const u=await $_(i.localStore,e,!0),d=new t4(e,u.Qs),p=d.ru(u.documents),_=Go.createSynthesizedTargetChangeForCurrentChange(s,a&&i.onlineState!=="Offline",o),v=d.applyChanges(p,i.isPrimaryClient,_);av(i,s,v.au);const T=new n4(e,s,d);return i.Tu.set(e,T),i.Iu.has(s)?i.Iu.get(s).push(e):i.Iu.set(s,[e]),v.snapshot}async function o4(i,e,s){const a=Se(i),o=a.Tu.get(e),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter((d=>!yh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await hm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),s&&Xm(a.remoteStore,o.targetId),mm(a,o.targetId)})).catch(rl)):(mm(a,o.targetId),await hm(a.localStore,o.targetId,!0))}async function c4(i,e){const s=Se(i),a=s.Tu.get(e),o=s.Iu.get(a.targetId);s.isPrimaryClient&&o.length===1&&(s.sharedClientState.removeLocalQueryTarget(a.targetId),Xm(s.remoteStore,a.targetId))}async function u4(i,e,s){const a=y4(i);try{const o=await(function(d,p){const _=Se(d),v=rt.now(),T=p.reduce(((B,$)=>B.add($.key)),Ue());let S,C;return _.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let $=si(),Q=Ue();return _.Ns.getEntries(B,T).next((P=>{$=P,$.forEach(((se,L)=>{L.isValidDocument()||(Q=Q.add(se))}))})).next((()=>_.localDocuments.getOverlayedDocuments(B,$))).next((P=>{S=P;const se=[];for(const L of p){const V=Ew(L,S.get(L.key).overlayedDocument);V!=null&&se.push(new Gr(L.key,V,D1(V.value.mapValue),Ws.exists(!0)))}return _.mutationQueue.addMutationBatch(B,v,se,p)})).next((P=>{C=P;const se=P.applyToLocalDocumentSet(S,Q);return _.documentOverlayCache.saveOverlays(B,P.batchId,se)}))})).then((()=>({batchId:C.batchId,changes:B1(S)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,_){let v=d.Vu[d.currentUser.toKey()];v||(v=new ut(Le)),v=v.insert(p,_),d.Vu[d.currentUser.toKey()]=v})(a,o.batchId,s),await Qo(a,o.changes),await Sh(a.remoteStore)}catch(o){const u=eg(o,"Failed to persist write");s.reject(u)}}async function Ex(i,e){const s=Se(i);try{const a=await xN(s.localStore,e);e.targetChanges.forEach(((o,u)=>{const d=s.Au.get(u);d&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ke(d.hu,14607):o.removedDocuments.size>0&&(Ke(d.hu,42227),d.hu=!1))})),await Qo(s,a,e)}catch(a){await rl(a)}}function rv(i,e,s){const a=Se(i);if(a.isPrimaryClient&&s===0||!a.isPrimaryClient&&s===1){const o=[];a.Tu.forEach(((u,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const _=Se(d);_.onlineState=p;let v=!1;_.queries.forEach(((T,S)=>{for(const C of S.Sa)C.va(p)&&(v=!0)})),v&&tg(_)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function h4(i,e,s){const a=Se(i);a.sharedClientState.updateQueryState(e,"rejected",s);const o=a.Au.get(e),u=o&&o.key;if(u){let d=new ut(ye.comparator);d=d.insert(u,Jt.newNoDocument(u,Ee.min()));const p=Ue().add(u),_=new bh(Ee.min(),new Map,new ut(Le),d,p);await Ex(a,_),a.du=a.du.remove(u),a.Au.delete(e),sg(a)}else await hm(a.localStore,e,!1).then((()=>mm(a,e,s))).catch(rl)}async function f4(i,e){const s=Se(i),a=e.batch.batchId;try{const o=await vN(s.localStore,e);Sx(s,a,null),Tx(s,a),s.sharedClientState.updateMutationState(a,"acknowledged"),await Qo(s,o)}catch(o){await rl(o)}}async function d4(i,e,s){const a=Se(i);try{const o=await(function(d,p){const _=Se(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let T;return _.mutationQueue.lookupMutationBatch(v,p).next((S=>(Ke(S!==null,37113),T=S.keys(),_.mutationQueue.removeMutationBatch(v,S)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,T,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,T))).next((()=>_.localDocuments.getDocuments(v,T)))}))})(a.localStore,e);Sx(a,e,s),Tx(a,e),a.sharedClientState.updateMutationState(e,"rejected",s),await Qo(a,o)}catch(o){await rl(o)}}function Tx(i,e){(i.mu.get(e)||[]).forEach((s=>{s.resolve()})),i.mu.delete(e)}function Sx(i,e,s){const a=Se(i);let o=a.Vu[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(s?u.reject(s):u.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function mm(i,e,s=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.Iu.get(e))i.Tu.delete(a),s&&i.Pu.yu(a,s);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((a=>{i.Ru.containsKey(a)||Ax(i,a)}))}function Ax(i,e){i.Eu.delete(e.path.canonicalString());const s=i.du.get(e);s!==null&&(Xm(i.remoteStore,s),i.du=i.du.remove(e),i.Au.delete(s),sg(i))}function av(i,e,s){for(const a of s)a instanceof vx?(i.Ru.addReference(a.key,e),m4(i,a)):a instanceof xx?(ce(ng,"Document no longer in limbo: "+a.key),i.Ru.removeReference(a.key,e),i.Ru.containsKey(a.key)||Ax(i,a.key)):ve(19791,{wu:a})}function m4(i,e){const s=e.key,a=s.path.canonicalString();i.du.get(s)||i.Eu.has(a)||(ce(ng,"New document in limbo: "+s),i.Eu.add(a),sg(i))}function sg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const s=new ye(ct.fromString(e)),a=i.fu.next();i.Au.set(a,new s4(s)),i.du=i.du.insert(s,a),dx(i.remoteStore,new Hi(Ss(zm(s.path)),a,"TargetPurposeLimboResolution",dh.ce))}}async function Qo(i,e,s){const a=Se(i),o=[],u=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,e,s).then((v=>{if((v||s)&&a.isPrimaryClient){const T=v?!v.fromCache:s?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(v){o.push(v);const T=Qm.As(_.targetId,v);u.push(T)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(_,v){const T=Se(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>te.forEach(v,(C=>te.forEach(C.Es,(B=>T.persistence.referenceDelegate.addReference(S,C.targetId,B))).next((()=>te.forEach(C.ds,(B=>T.persistence.referenceDelegate.removeReference(S,C.targetId,B)))))))))}catch(S){if(!al(S))throw S;ce(Km,"Failed to update sequence numbers: "+S)}for(const S of v){const C=S.targetId;if(!S.fromCache){const B=T.Ms.get(C),$=B.snapshotVersion,Q=B.withLastLimboFreeSnapshotVersion($);T.Ms=T.Ms.insert(C,Q)}}})(a.localStore,u))}async function g4(i,e){const s=Se(i);if(!s.currentUser.isEqual(e)){ce(ng,"User change. New user:",e.toKey());const a=await cx(s.localStore,e);s.currentUser=e,(function(u,d){u.mu.forEach((p=>{p.forEach((_=>{_.reject(new ge(ne.CANCELLED,d))}))})),u.mu.clear()})(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Qo(s,a.Ls)}}function p4(i,e){const s=Se(i),a=s.Au.get(e);if(a&&a.hu)return Ue().add(a.key);{let o=Ue();const u=s.Iu.get(e);if(!u)return o;for(const d of u){const p=s.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function wx(i){const e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ex.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=p4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=h4.bind(null,e),e.Pu.H_=JN.bind(null,e.eventManager),e.Pu.yu=WN.bind(null,e.eventManager),e}function y4(i){const e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=f4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=d4.bind(null,e),e}class ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Eh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,s){return null}Mu(e,s){return null}vu(e){return _N(this.persistence,new gN,e.initialUser,this.serializer)}Cu(e){return new ox(Ym.mi,this.serializer)}Du(e){return new AN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ih.provider={build:()=>new ih};class _4 extends ih{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,s){Ke(this.persistence.referenceDelegate instanceof nh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new eN(a,e.asyncQueue,s)}Cu(e){const s=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new ox((a=>nh.mi(a,s)),this.serializer)}}class gm{async initialize(e,s){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>rv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=g4.bind(null,this.syncEngine),await QN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new XN})()}createDatastore(e){const s=Eh(e.databaseInfo.databaseId),a=(function(u){return new IN(u)})(e.databaseInfo);return(function(u,d,p,_){return new jN(u,d,p,_)})(e.authCredentials,e.appCheckCredentials,a,s)}createRemoteStore(e){return(function(a,o,u,d,p){return new VN(a,o,u,d,p)})(this.localStore,this.datastore,e.asyncQueue,(s=>rv(this.syncEngine,s,0)),(function(){return W_.v()?new W_:new wN})())}createSyncEngine(e,s){return(function(o,u,d,p,_,v,T){const S=new i4(o,u,d,p,_,v);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,s)}async terminate(){await(async function(s){const a=Se(s);ce(qr,"RemoteStore shutting down."),a.Ea.add(5),await Yo(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gm.provider={build:()=>new gm};class v4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ni("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,s){setTimeout((()=>{this.muted||e(s)}),0)}}const er="FirestoreClient";class x4{constructor(e,s,a,o,u){this.authCredentials=e,this.appCheckCredentials=s,this.asyncQueue=a,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=Mm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async d=>{ce(er,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ce(er,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(s){const a=eg(s,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Hd(i,e){i.asyncQueue.verifyOperationInProgress(),ce(er,"Initializing OfflineComponentProvider");const s=i.configuration;await e.initialize(s);let a=s.initialUser;i.setCredentialChangeListener((async o=>{a.isEqual(o)||(await cx(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function lv(i,e){i.asyncQueue.verifyOperationInProgress();const s=await b4(i);ce(er,"Initializing OnlineComponentProvider"),await e.initialize(s,i.configuration),i.setCredentialChangeListener((a=>tv(e.remoteStore,a))),i.setAppCheckTokenChangeListener(((a,o)=>tv(e.remoteStore,o))),i._onlineComponents=e}async function b4(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(er,"Using user provided OfflineComponentProvider");try{await Hd(i,i._uninitializedComponentsProvider._offline)}catch(e){const s=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(s))throw s;Qa("Error using user provided cache. Falling back to memory cache: "+s),await Hd(i,new ih)}}else ce(er,"Using default OfflineComponentProvider"),await Hd(i,new _4(void 0));return i._offlineComponents}async function Nx(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(er,"Using user provided OnlineComponentProvider"),await lv(i,i._uninitializedComponentsProvider._online)):(ce(er,"Using default OnlineComponentProvider"),await lv(i,new gm))),i._onlineComponents}function E4(i){return Nx(i).then((e=>e.syncEngine))}async function T4(i){const e=await Nx(i),s=e.eventManager;return s.onListen=r4.bind(null,e.syncEngine),s.onUnlisten=o4.bind(null,e.syncEngine),s.onFirstRemoteStoreListen=a4.bind(null,e.syncEngine),s.onLastRemoteStoreUnlisten=c4.bind(null,e.syncEngine),s}function S4(i,e,s={}){const a=new Ki;return i.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,_,v){const T=new v4({next:C=>{T.Nu(),d.enqueueAndForget((()=>ZN(u,S)));const B=C.docs.has(p);!B&&C.fromCache?v.reject(new ge(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&C.fromCache&&_&&_.source==="server"?v.reject(new ge(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(C)},error:C=>v.reject(C)}),S=new e4(zm(p.path),T,{includeMetadataChanges:!0,qa:!0});return $N(u,S)})(await T4(i),i.asyncQueue,e,s,a))),a.promise}function Rx(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const ov=new Map;const Cx="firestore.googleapis.com",cv=!0;class uv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Cx,this.ssl=cv}else this.host=e.host,this.ssl=e.ssl??cv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Jw)throw new ge(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Rx(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ig{constructor(e,s,a,o){this._authCredentials=e,this._appCheckCredentials=s,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new SA;switch(a.type){case"firstParty":return new RA(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ge(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(s){const a=ov.get(s);a&&(ce("ComponentProvider","Removing Datastore"),ov.delete(s),a.terminate())})(this),Promise.resolve()}}function A4(i,e,s,a={}){i=Co(i,ig);const o=tl(e),u=i._getSettings(),d={...u,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${s}`;o&&(Cv(`https://${p}`),Iv("Firestore",!0)),u.host!==Cx&&u.host!==p&&Qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...u,host:p,ssl:o,emulatorOptions:a};if(!Ur(_,d)&&(i._setSettings(_),a.mockUserToken)){let v,T;if(typeof a.mockUserToken=="string")v=a.mockUserToken,T=Zt.MOCK_USER;else{v=KE(a.mockUserToken,i._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ge(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Zt(S)}i._authCredentials=new AA(new x1(v,T))}}class rg{constructor(e,s,a){this.converter=s,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new rg(this.firestore,e,this._query)}}class Ut{constructor(e,s,a){this.converter=s,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,s,a){if(Ho(s,Ut._jsonSchema))return new Ut(e,a||null,new ye(ct.fromString(s.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:Rt("string",Ut._jsonSchemaVersion),referencePath:Rt("string")};class Vo extends rg{constructor(e,s,a){super(e,s,zm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new ye(e))}withConverter(e){return new Vo(this.firestore,e,this._path)}}function hv(i,e,...s){if(i=Vn(i),arguments.length===1&&(e=Mm.newId()),jA("doc","path",e),i instanceof ig){const a=ct.fromString(e,...s);return S_(a),new Ut(i,null,new ye(a))}{if(!(i instanceof Ut||i instanceof Vo))throw new ge(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(ct.fromString(e,...s));return S_(a),new Ut(i.firestore,i instanceof Vo?i.converter:null,new ye(a))}}const fv="AsyncQueue";class dv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hx(this,"async_queue_retry"),this._c=()=>{const a=qd();a&&ce(fv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const s=qd();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const s=qd();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const s=new Ki;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(s.resolve,s.reject),s.promise))).then((()=>s.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!al(e))throw e;ce(fv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const s=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,ni("INTERNAL UNHANDLED ERROR: ",mv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=s,s}enqueueAfterDelay(e,s,a){this.uc(),this.oc.indexOf(e)>-1&&(s=0);const o=Wm.createAndSchedule(this,e,s,a,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:mv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const s of this.tc)if(s.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((s,a)=>s.targetTimeMs-a.targetTimeMs));for(const s of this.tc)if(s.skipDelay(),e!=="all"&&s.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const s=this.tc.indexOf(e);this.tc.splice(s,1)}}function mv(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class ag extends ig{constructor(e,s,a,o){super(e,s,a,o),this.type="firestore",this._queue=new dv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dv(e),this._firestoreClient=void 0,await e}}}function w4(i,e){const s=typeof i=="object"?i:jv(),a=typeof i=="string"?i:Xu,o=bm(s,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=YE("firestore");u&&A4(o,...u)}return o}function Ix(i){if(i._terminated)throw new ge(ne.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||N4(i),i._firestoreClient}function N4(i){const e=i._freezeSettings(),s=(function(o,u,d,p){return new YA(o,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Rx(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new x4(i._authCredentials,i._appCheckCredentials,i._queue,s,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(Kt.fromBase64String(e))}catch(s){throw new ge(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(e){return new On(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ho(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:Rt("string",On._jsonSchemaVersion),bytes:Rt("string")};class lg{constructor(...e){for(let s=0;s<e.length;++s)if(e[s].length===0)throw new ge(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Dx{constructor(e){this._methodName=e}}class ws{constructor(e,s){if(!isFinite(e)||e<-90||e>90)throw new ge(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(s)||s<-180||s>180)throw new ge(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=e,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ws._jsonSchemaVersion}}static fromJSON(e){if(Ho(e,ws._jsonSchema))return new ws(e.latitude,e.longitude)}}ws._jsonSchemaVersion="firestore/geoPoint/1.0",ws._jsonSchema={type:Rt("string",ws._jsonSchemaVersion),latitude:Rt("number"),longitude:Rt("number")};class Ns{constructor(e){this._values=(e||[]).map((s=>s))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ns._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ho(e,Ns._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((s=>typeof s=="number")))return new Ns(e.vectorValues);throw new ge(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ns._jsonSchemaVersion="firestore/vectorValue/1.0",Ns._jsonSchema={type:Rt("string",Ns._jsonSchemaVersion),vectorValues:Rt("object")};const R4=/^__.*__$/;class C4{constructor(e,s,a){this.data=e,this.fieldMask=s,this.fieldTransforms=a}toMutation(e,s){return this.fieldMask!==null?new Gr(e,this.data,this.fieldMask,s,this.fieldTransforms):new Fo(e,this.data,s,this.fieldTransforms)}}function kx(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:i})}}class og{constructor(e,s,a,o,u,d){this.settings=e,this.databaseId=s,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new og({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const s=this.path?.child(e),a=this.Vc({path:s,fc:!1});return a.gc(e),a}yc(e){const s=this.path?.child(e),a=this.Vc({path:s,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((s=>e.isPrefixOf(s)))!==void 0||this.fieldTransforms.find((s=>e.isPrefixOf(s.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(kx(this.Ac)&&R4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class I4{constructor(e,s,a){this.databaseId=e,this.ignoreUndefinedProperties=s,this.serializer=a||Eh(e)}Cc(e,s,a,o=!1){return new og({Ac:e,methodName:s,Dc:a,path:Qt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function D4(i){const e=i._freezeSettings(),s=Eh(i._databaseId);return new I4(i._databaseId,!!e.ignoreUndefinedProperties,s)}function k4(i,e,s,a,o,u={}){const d=i.Cc(u.merge||u.mergeFields?2:0,e,s,o);Vx("Data must be an object, but it was:",d,a);const p=jx(a,d);let _,v;if(u.merge)_=new Jn(d.fieldMask),v=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const C=M4(e,S,s);if(!d.contains(C))throw new ge(ne.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);O4(T,C)||T.push(C)}_=new Jn(T),v=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,v=d.fieldTransforms;return new C4(new jn(p),_,v)}function Mx(i,e){if(Ox(i=Vn(i)))return Vx("Unsupported field value:",e,i),jx(i,e);if(i instanceof Dx)return(function(a,o){if(!kx(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const u=[];let d=0;for(const p of a){let _=Mx(p,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),u.push(_),d++}return{arrayValue:{values:u}}})(i,e)}return(function(a,o){if((a=Vn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return pw(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=rt.fromDate(a);return{timestampValue:th(o.serializer,u)}}if(a instanceof rt){const u=new rt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:th(o.serializer,u)}}if(a instanceof ws)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof On)return{bytesValue:ex(o.serializer,a._byteString)};if(a instanceof Ut){const u=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(u))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Fm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Ns)return(function(d,p){return{mapValue:{fields:{[C1]:{stringValue:I1},[$u]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return Bm(p.serializer,v)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${jm(a)}`)})(i,e)}function jx(i,e){const s={};return T1(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hr(i,((a,o)=>{const u=Mx(o,e.mc(a));u!=null&&(s[a]=u)})),{mapValue:{fields:s}}}function Ox(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof rt||i instanceof ws||i instanceof On||i instanceof Ut||i instanceof Dx||i instanceof Ns)}function Vx(i,e,s){if(!Ox(s)||!b1(s)){const a=jm(s);throw a==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+a)}}function M4(i,e,s){if((e=Vn(e))instanceof lg)return e._internalPath;if(typeof e=="string")return Lx(i,e);throw rh("Field path arguments must be of type string or ",i,!1,void 0,s)}const j4=new RegExp("[~\\*/\\[\\]]");function Lx(i,e,s){if(e.search(j4)>=0)throw rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,s);try{return new lg(...e.split("."))._internalPath}catch{throw rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,s)}}function rh(i,e,s,a,o){const u=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;s&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(u||d)&&(_+=" (found",u&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new ge(ne.INVALID_ARGUMENT,p+i+_)}function O4(i,e){return i.some((s=>s.isEqual(e)))}class Ux{constructor(e,s,a,o,u){this._firestore=e,this._userDataWriter=s,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new V4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const s=this._document.data.field(Px("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s)}}}class V4 extends Ux{data(){return super.data()}}function Px(i,e){return typeof e=="string"?Lx(i,e):e instanceof lg?e._internalPath:e._delegate._internalPath}class L4{convertValue(e,s="none"){switch(Ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,s);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,s);case 11:return this.convertObject(e.mapValue,s);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,s){return this.convertObjectMap(e.fields,s)}convertObjectMap(e,s="none"){const a={};return Hr(e,((o,u)=>{a[o]=this.convertValue(u,s)})),a}convertVectorValue(e){const s=e.fields?.[$u].arrayValue?.values?.map((a=>yt(a.doubleValue)));return new Ns(s)}convertGeoPoint(e){return new ws(yt(e.latitude),yt(e.longitude))}convertArray(e,s){return(e.values||[]).map((a=>this.convertValue(a,s)))}convertServerTimestamp(e,s){switch(s){case"previous":const a=gh(e);return a==null?null:this.convertValue(a,s);case"estimate":return this.convertTimestamp(Do(e));default:return null}}convertTimestamp(e){const s=$i(e);return new rt(s.seconds,s.nanos)}convertDocumentKey(e,s){const a=ct.fromString(e);Ke(ax(a),9688,{name:e});const o=new ko(a.get(1),a.get(3)),u=new ye(a.popFirst(5));return o.isEqual(s)||ni(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),u}}function U4(i,e,s){let a;return a=i?i.toFirestore(e):e,a}class _o{constructor(e,s){this.hasPendingWrites=e,this.fromCache=s}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vr extends Ux{constructor(e,s,a,o,u,d){super(e,s,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const s=new Pu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,s={}){if(this._document){const a=this._document.data.field(Px("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,s.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,s={};return s.type=Vr._jsonSchemaVersion,s.bundle="",s.bundleSource="DocumentSnapshot",s.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?s:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),s.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),s)}}Vr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vr._jsonSchema={type:Rt("string",Vr._jsonSchemaVersion),bundleSource:Rt("string","DocumentSnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class Pu extends Vr{data(e={}){return super.data(e)}}class Ao{constructor(e,s,a,o){this._firestore=e,this._userDataWriter=s,this._snapshot=o,this.metadata=new _o(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((s=>e.push(s))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,s){this._snapshot.docs.forEach((a=>{e.call(s,new Pu(this._firestore,this._userDataWriter,a.key,a,new _o(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const s=!!e.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new ge(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const _=new Pu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new _o(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const _=new Pu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new _o(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,T=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:P4(p.type),doc:_,oldIndex:v,newIndex:T}}))}})(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ao._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Mm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const s=[],a=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(s.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function P4(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:i})}}function z4(i){i=Co(i,Ut);const e=Co(i.firestore,ag);return S4(Ix(e),i._key).then((s=>F4(e,i,s)))}Ao._jsonSchemaVersion="firestore/querySnapshot/1.0",Ao._jsonSchema={type:Rt("string",Ao._jsonSchemaVersion),bundleSource:Rt("string","QuerySnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class B4 extends L4{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,s)}}function q4(i,e,s){i=Co(i,Ut);const a=Co(i.firestore,ag),o=U4(i.converter,e);return H4(a,[k4(D4(a),"setDoc",i._key,o,i.converter!==null,s).toMutation(i._key,Ws.none())])}function H4(i,e){return(function(a,o){const u=new Ki;return a.asyncQueue.enqueueAndForget((async()=>u4(await E4(a),o,u))),u.promise})(Ix(i),e)}function F4(i,e,s){const a=s.docs.get(e._key),o=new B4(i);return new Vr(i,o,e._key,a,new _o(s.hasPendingWrites,s.fromCache),e.converter)}(function(e,s=!0){(function(o){il=o})(nl),Ga(new Pr("firestore",((a,{instanceIdentifier:o,options:u})=>{const d=a.getProvider("app").getImmediate(),p=new ag(new wA(a.getProvider("auth-internal")),new CA(d,a.getProvider("app-check-internal")),(function(v,T){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ge(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ko(v.options.projectId,T)})(d,o),d);return u={useFetchStreams:s,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Yi(x_,b_,e),Yi(x_,b_,"esm2020")})();const G4={apiKey:"AIzaSyDqUKh24SoZ4tjV_dePHsnUNNKznsmjjYs",authDomain:"plan-my-life-36cef.firebaseapp.com",projectId:"plan-my-life-36cef",storageBucket:"plan-my-life-36cef.firebasestorage.app",messagingSenderId:"302156951876",appId:"1:302156951876:web:4bc6b51d3bd8377a92e711",measurementId:"G-4LSZY3NCXE"},zx=Mv(G4),Fd=xA(zx),Y4=new $s,gv=w4(zx),Bx=J.createContext(null);function Q4({children:i}){const[e,s]=J.useState(null),[a,o]=J.useState(!0);J.useEffect(()=>{const p=oS(Fd,_=>{s(_),o(!1)});return()=>p()},[]);const u=async()=>{try{await CS(Fd,Y4)}catch(p){throw console.error("Google  :",p),p}},d=async()=>{try{await cS(Fd)}catch(p){throw console.error(" :",p),p}};return m.jsx(Bx.Provider,{value:{user:e,loading:a,signInWithGoogle:u,logout:d},children:i})}function Ah(){const i=J.useContext(Bx);if(!i)throw new Error("useAuth must be used within an AuthProvider");return i}const qx="finance-timeline-data",K4=()=>{const i=localStorage.getItem(qx),e=new Date;if(i)try{const s=JSON.parse(i);return{transactions:s.transactions||[],loans:s.loans||[],events:s.events||[],currentYear:s.currentYear||e.getFullYear(),currentMonth:s.currentMonth||e.getMonth()+1}}catch{return{transactions:[],loans:[],events:[],currentYear:e.getFullYear(),currentMonth:e.getMonth()+1}}return{transactions:[],loans:[],events:[],currentYear:e.getFullYear(),currentMonth:e.getMonth()+1}};function X4(i,e,s){const a=e/100/12;return a===0?i/s:i*a*Math.pow(1+a,s)/(Math.pow(1+a,s)-1)}function $4(i,e,s){const a=new Date(i.startDate),o=a.getFullYear(),u=a.getMonth()+1;if(e<o||e===o&&s<u)return null;const d=(e-o)*12+(s-u)+1;if(d>i.termMonths)return null;const p=i.interestRate/100/12;let _=0,v=0,T=i.principal;if(i.repaymentType==="equal_principal_interest"){const C=X4(i.principal,i.interestRate,i.termMonths);for(let B=1;B<d;B++){const $=T*p,Q=C-$;T-=Q}v=T*p,_=C-v,T-=_}else if(i.repaymentType==="equal_principal"){const C=i.principal/i.termMonths;T=i.principal-C*(d-1),v=T*p,_=C,T-=_}else i.repaymentType==="bullet"&&(v=i.principal*p,_=d===i.termMonths?i.principal:0,T=d===i.termMonths?0:i.principal);const S=`${e}-${String(s).padStart(2,"0")}-${String(i.paymentDay).padStart(2,"0")}`;return{loanId:i.id,loanName:i.name,date:S,monthNumber:d,principal:Math.round(_),interest:Math.round(v),totalPayment:Math.round(_+v),remainingPrincipal:Math.max(0,Math.round(T))}}function Z4(i){const[e,s]=J.useState(K4),[a,o]=J.useState(!1),[u,d]=J.useState(null);J.useEffect(()=>{localStorage.setItem(qx,JSON.stringify(e))},[e]),J.useEffect(()=>{if(!i)return;(async()=>{try{o(!0);const w=hv(gv,"users",i),I=await z4(w);if(I.exists()){const N=I.data();s({transactions:N.transactions||[],loans:N.loans||[],events:N.events||[],currentYear:e.currentYear,currentMonth:e.currentMonth}),d(new Date)}}catch(w){console.error("Firestore  :",w)}finally{o(!1)}})()},[i]);const p=J.useCallback(async()=>{if(i)try{o(!0);const E=hv(gv,"users",i);await q4(E,{transactions:e.transactions,loans:e.loans,events:e.events,updatedAt:new Date().toISOString()}),d(new Date)}catch(E){throw console.error("Firestore  :",E),E}finally{o(!1)}},[i,e.transactions,e.loans,e.events]);J.useEffect(()=>{if(!i)return;const E=setTimeout(()=>{p()},2e3);return()=>clearTimeout(E)},[i,e.transactions,e.loans,e.events,p]);const _=J.useCallback(E=>{s(w=>({...w,transactions:[...w.transactions,E]}))},[]),v=J.useCallback((E,w)=>{s(I=>({...I,transactions:I.transactions.map(N=>N.id===E?{...N,...w}:N)}))},[]),T=J.useCallback(E=>{s(w=>({...w,transactions:w.transactions.filter(I=>I.id!==E)}))},[]),S=J.useCallback(E=>{s(w=>({...w,loans:[...w.loans,E]}))},[]),C=J.useCallback((E,w)=>{s(I=>({...I,loans:I.loans.map(N=>N.id===E?{...N,...w}:N)}))},[]),B=J.useCallback(E=>{s(w=>({...w,loans:w.loans.filter(I=>I.id!==E)}))},[]),$=J.useCallback((E,w)=>e.loans.map(I=>$4(I,E,w)).filter(I=>I!==null),[e.loans]),Q=J.useCallback(E=>{s(w=>({...w,events:[...w.events,E]}))},[]),P=J.useCallback((E,w)=>{s(I=>({...I,events:I.events.map(N=>N.id===E?{...N,...w}:N)}))},[]),se=J.useCallback(E=>{s(w=>({...w,events:w.events.filter(I=>I.id!==E)}))},[]),L=J.useCallback((E,w)=>e.events.filter(I=>{const N=new Date(I.date);return N.getFullYear()===E&&N.getMonth()+1===w}).sort((I,N)=>I.date.localeCompare(N.date)),[e.events]),V=J.useCallback((E,w)=>{s(I=>({...I,currentYear:E,currentMonth:w}))},[]),ie=J.useCallback((E,w)=>{const I=[],N=`${E}-${String(w).padStart(2,"0")}`;return e.transactions.forEach(M=>{const R=new Date(M.date),Me=R.getFullYear(),ze=R.getMonth()+1,K=R.getDate();if(M.recurrence==="once")Me===E&&ze===w&&I.push(M);else if(M.recurrence==="monthly"){const le=new Date(M.date),me=new Date(E,w-1,K),Ie=M.recurrenceEndDate?new Date(M.recurrenceEndDate):null;if(me>=le&&(!Ie||me<=Ie)){const He=`${N}-${String(K).padStart(2,"0")}`;I.push({...M,date:He})}}else if(M.recurrence==="yearly"&&ze===w){const le=new Date(M.date),me=new Date(E,w-1,K),Ie=M.recurrenceEndDate?new Date(M.recurrenceEndDate):null;if(me>=le&&(!Ie||me<=Ie)){const He=`${E}-${String(w).padStart(2,"0")}-${String(K).padStart(2,"0")}`;I.push({...M,date:He})}}}),I.sort((M,R)=>M.date.localeCompare(R.date))},[e.transactions]),he=J.useCallback((E,w)=>{const I=ie(E,w),N=$(E,w),M=I.filter(ze=>ze.type==="income").reduce((ze,K)=>ze+K.amount,0),R=I.filter(ze=>ze.type==="expense").reduce((ze,K)=>ze+K.amount,0),Me=N.reduce((ze,K)=>ze+K.interest,0);return{year:E,month:w,totalIncome:M,totalExpense:R+Me,balance:M-R-Me}},[ie,$]),ae=J.useCallback((E,w,I)=>{const N=[];let M=E,R=w;for(let Me=0;Me<I;Me++)N.push(he(M,R)),R++,R>12&&(R=1,M++);return N},[he]),k=J.useCallback((E,w)=>{let I=0;for(let N=2020;N<=E;N++){const M=N===E?w:12;for(let R=1;R<=M;R++){const Me=he(N,R);I+=Me.balance}}return I},[he]);return{...e,isSyncing:a,lastSyncTime:u,saveToFirestore:p,addTransaction:_,updateTransaction:v,deleteTransaction:T,addLoan:S,updateLoan:C,deleteLoan:B,getLoanPaymentsForMonth:$,addEvent:Q,updateEvent:P,deleteEvent:se,getEventsForMonth:L,setCurrentDate:V,getTransactionsForMonth:ie,getMonthSummary:he,getMultiMonthSummaries:ae,getCumulativeBalance:k}}const Hx=J.createContext(null);function J4({children:i}){const{user:e}=Ah(),s=Z4(e?.uid);return m.jsx(Hx.Provider,{value:s,children:i})}function Ln(){const i=J.useContext(Hx);if(!i)throw new Error("useApp must be used within AppProvider");return i}const W4=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eR=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,a)=>a?a.toUpperCase():s.toLowerCase()),pv=i=>{const e=eR(i);return e.charAt(0).toUpperCase()+e.slice(1)},Fx=(...i)=>i.filter((e,s,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===s).join(" ").trim(),tR=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var nR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sR=J.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:u,iconNode:d,...p},_)=>J.createElement("svg",{ref:_,...nR,width:e,height:e,stroke:i,strokeWidth:a?Number(s)*24/Number(e):s,className:Fx("lucide",o),...!u&&!tR(p)&&{"aria-hidden":"true"},...p},[...d.map(([v,T])=>J.createElement(v,T)),...Array.isArray(u)?u:[u]]));const Ae=(i,e)=>{const s=J.forwardRef(({className:a,...o},u)=>J.createElement(sR,{ref:u,iconNode:e,className:Fx(`lucide-${W4(pv(i))}`,`lucide-${i}`,a),...o}));return s.displayName=pv(i),s};const iR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],rR=Ae("calendar-days",iR);const aR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ko=Ae("calendar",aR);const lR=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],oR=Ae("car",lR);const cR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],uR=Ae("chevron-down",cR);const hR=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],fR=Ae("chevron-up",hR);const dR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],mR=Ae("circle-question-mark",dR);const gR=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],pR=Ae("clock",gR);const yR=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],pm=Ae("cloud-off",yR);const _R=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],Gx=Ae("cloud",_R);const vR=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Yx=Ae("compass",vR);const xR=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],bR=Ae("download",xR);const ER=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],TR=Ae("ellipsis",ER);const SR=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],ah=Ae("flag",SR);const AR=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],wR=Ae("gift",AR);const NR=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],RR=Ae("graduation-cap",NR);const CR=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],IR=Ae("heart",CR);const DR=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Qx=Ae("house",DR);const kR=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],lh=Ae("landmark",kR);const MR=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],jR=Ae("layout-dashboard",MR);const OR=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],VR=Ae("log-out",OR);const LR=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],UR=Ae("menu",LR);const PR=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],cg=Ae("pen",PR);const zR=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],BR=Ae("percent",zR);const qR=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],HR=Ae("piggy-bank",qR);const FR=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],GR=Ae("plane",FR);const YR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ug=Ae("plus",YR);const QR=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],KR=Ae("receipt",QR);const XR=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],wo=Ae("refresh-cw",XR);const $R=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],ZR=Ae("repeat",$R);const JR=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Kx=Ae("search",JR);const WR=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],eC=Ae("settings",WR);const tC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],nC=Ae("shield",tC);const sC=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],iC=Ae("shopping-bag",sC);const rC=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Wa=Ae("star",rC);const aC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],el=Ae("trash-2",aC);const lC=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],hg=Ae("trending-down",lC);const oC=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],fg=Ae("trending-up",oC);const cC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],uC=Ae("triangle-alert",cC);const hC=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],fC=Ae("upload",hC);const dC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],mC=Ae("user",dC);const gC=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],pC=Ae("utensils",gC);const yC=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Xx=Ae("wallet",yC);const _C=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wh=Ae("x",_C);const vC=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],xC=Ae("zap",vC),bC=[{id:"timeline",icon:Ko,label:""},{id:"transactions",icon:KR,label:"/"},{id:"events",icon:ah,label:""},{id:"loans",icon:lh,label:" "},{id:"summary",icon:jR,label:""},{id:"settings",icon:eC,label:""}];function EC({activeTab:i,onTabChange:e,isOpen:s,onClose:a}){const o=u=>{e(u),a()};return m.jsxs(m.Fragment,{children:[s&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:a}),m.jsxs("aside",{className:`fixed left-0 top-0 h-screen w-64 bg-dark-900/95 backdrop-blur-xl border-r border-dark-800 flex flex-col z-50 transition-transform duration-300 lg:translate-x-0 ${s?"translate-x-0":"-translate-x-full"}`,children:[m.jsx("div",{className:"p-4 lg:p-6 border-b border-dark-800",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center",children:m.jsx(Yx,{className:"w-5 h-5 text-white"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-lg font-bold text-dark-100",children:""}),m.jsx("p",{className:"text-xs text-dark-500",children:"Plan My Life"})]})]}),m.jsx("button",{onClick:a,className:"lg:hidden p-2 text-dark-400 hover:text-dark-100",children:m.jsx(wh,{className:"w-5 h-5"})})]})}),m.jsx("nav",{className:"flex-1 p-3 lg:p-4 space-y-1 overflow-y-auto",children:bC.map(u=>{const d=u.icon,p=i===u.id;return m.jsxs("button",{onClick:()=>o(u.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 ${p?"bg-violet-500/10 text-violet-400 border border-violet-500/20":"text-dark-400 hover:text-dark-100 hover:bg-dark-800/50"}`,children:[m.jsx(d,{className:"w-5 h-5"}),m.jsx("span",{className:"font-medium",children:u.label})]},u.id)})}),m.jsx("div",{className:"p-3 lg:p-4 border-t border-dark-800 hidden lg:block",children:m.jsxs("div",{className:"card !p-4 bg-gradient-to-br from-violet-500/10 to-purple-500/10 border-violet-500/20",children:[m.jsx("p",{className:"text-sm text-dark-300 mb-2",children:"  "}),m.jsx("p",{className:"text-xs text-dark-500",children:"Made by "})]})})]})]})}function TC({title:i,onTodayClick:e,showTodayButton:s,onMenuClick:a}){return m.jsxs("header",{className:"sticky top-0 z-30 h-14 lg:h-16 bg-dark-900/95 backdrop-blur-sm border-b border-dark-800 flex items-center px-4 lg:px-6",children:[m.jsx("button",{onClick:a,className:"lg:hidden p-2 -ml-2 mr-2 text-dark-400 hover:text-dark-100",children:m.jsx(UR,{className:"w-6 h-6"})}),m.jsxs("div",{className:"flex items-center gap-2 lg:gap-3 flex-1",children:[m.jsx("h2",{className:"text-lg lg:text-xl font-semibold text-dark-100 truncate",children:i}),s&&e&&m.jsxs("button",{onClick:e,className:"btn bg-blue-500/20 text-blue-400 border border-blue-500/40 hover:bg-blue-500/30 text-xs lg:text-sm py-1 lg:py-1.5 px-2 lg:px-3",children:[m.jsx(Qx,{className:"w-3 h-3 lg:w-4 lg:h-4"}),m.jsx("span",{className:"hidden sm:inline",children:""})]})]})]})}function SC({onContinueOffline:i}){const{signInWithGoogle:e}=Ah(),[s,a]=J.useState(!1),[o,u]=J.useState(null),d=async()=>{try{a(!0),u(null),await e()}catch(p){u(" .  ."),console.error(p)}finally{a(!1)}};return m.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center p-4",children:m.jsxs("div",{className:"w-full max-w-md",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center mx-auto mb-4",children:m.jsx(Yx,{className:"w-10 h-10 text-white"})}),m.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-dark-100 mb-2",children:""}),m.jsx("p",{className:"text-dark-400",children:"  "})]}),m.jsxs("div",{className:"card !p-6 space-y-4",children:[m.jsx("h2",{className:"text-lg font-semibold text-dark-100 text-center mb-2",children:""}),m.jsxs("button",{onClick:d,disabled:s,className:"w-full btn bg-white hover:bg-gray-100 text-gray-800 py-3 disabled:opacity-50",children:[s?m.jsx(wo,{className:"w-5 h-5 animate-spin"}):m.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[m.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),m.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),m.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),m.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),m.jsx("span",{children:s?" ...":"Google  "})]}),m.jsxs("div",{className:"flex items-center gap-2 p-3 bg-emerald-500/10 rounded-lg border border-emerald-500/20",children:[m.jsx(Gx,{className:"w-4 h-4 text-emerald-400 flex-shrink-0"}),m.jsx("p",{className:"text-xs text-emerald-400",children:"     "})]}),o&&m.jsx("p",{className:"text-sm text-rose-400 text-center",children:o}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"flex-1 h-px bg-dark-700"}),m.jsx("span",{className:"text-xs text-dark-500",children:""}),m.jsx("div",{className:"flex-1 h-px bg-dark-700"})]}),m.jsxs("button",{onClick:i,disabled:s,className:"w-full btn btn-secondary py-3 disabled:opacity-50",children:[m.jsx(pm,{className:"w-5 h-5"}),m.jsx("span",{children:"  "})]}),m.jsxs("div",{className:"flex items-center gap-2 p-3 bg-dark-800/50 rounded-lg",children:[m.jsx(pm,{className:"w-4 h-4 text-dark-400 flex-shrink-0"}),m.jsx("p",{className:"text-xs text-dark-400",children:"   "})]})]}),m.jsx("p",{className:"text-center text-xs text-dark-500 mt-6",children:"Made by "})]})})}const oh={salary:"",bonus:"",other_income:" ",rent:"/",insurance:"",subscription:"",utilities:"",transport:"",food:"",shopping:"",travel:"",education:"",medical:"",other_expense:" "},yv=["salary","bonus","other_income"],_v=["rent","insurance","subscription","utilities","transport","food","shopping","travel","education","medical","other_expense"],Lo={once:"",monthly:"",yearly:""},ym={equal_principal_interest:"",equal_principal:"",bullet:""},AC={equal_principal_interest:"  (+) ",equal_principal:"   +    ",bullet:"  ,    "},qi={housing:"",contract:"",career:"",family:"",education:"",other:""},Lr={red:"bg-red-500",orange:"bg-orange-500",yellow:"bg-yellow-500",green:"bg-green-500",blue:"bg-blue-500",purple:"bg-purple-500",pink:"bg-pink-500"},wC={red:"text-red-400",orange:"text-orange-400",yellow:"text-yellow-400",green:"text-green-400",blue:"text-blue-400",purple:"text-purple-400",pink:"text-pink-400"},dg={red:"bg-red-500/10 border-red-500/30 hover:bg-red-500/20",orange:"bg-orange-500/10 border-orange-500/30 hover:bg-orange-500/20",yellow:"bg-yellow-500/10 border-yellow-500/30 hover:bg-yellow-500/20",green:"bg-green-500/10 border-green-500/30 hover:bg-green-500/20",blue:"bg-blue-500/10 border-blue-500/30 hover:bg-blue-500/20",purple:"bg-purple-500/10 border-purple-500/30 hover:bg-purple-500/20",pink:"bg-pink-500/10 border-pink-500/30 hover:bg-pink-500/20"},NC={red:"bg-red-500/20",orange:"bg-orange-500/20",yellow:"bg-yellow-500/20",green:"bg-green-500/20",blue:"bg-blue-500/20",purple:"bg-purple-500/20",pink:"bg-pink-500/20"},RC={red:"bg-red-500/20 text-red-400",orange:"bg-orange-500/20 text-orange-400",yellow:"bg-yellow-500/20 text-yellow-400",green:"bg-green-500/20 text-green-400",blue:"bg-blue-500/20 text-blue-400",purple:"bg-purple-500/20 text-purple-400",pink:"bg-pink-500/20 text-pink-400"},CC={salary:m.jsx(Xx,{className:"w-4 h-4"}),bonus:m.jsx(wR,{className:"w-4 h-4"}),other_income:m.jsx(HR,{className:"w-4 h-4"}),rent:m.jsx(Qx,{className:"w-4 h-4"}),insurance:m.jsx(nC,{className:"w-4 h-4"}),subscription:m.jsx(wo,{className:"w-4 h-4"}),utilities:m.jsx(xC,{className:"w-4 h-4"}),transport:m.jsx(oR,{className:"w-4 h-4"}),food:m.jsx(pC,{className:"w-4 h-4"}),shopping:m.jsx(iC,{className:"w-4 h-4"}),travel:m.jsx(GR,{className:"w-4 h-4"}),education:m.jsx(RR,{className:"w-4 h-4"}),medical:m.jsx(IR,{className:"w-4 h-4"}),other_expense:m.jsx(TR,{className:"w-4 h-4"})};function IC({year:i,month:e,onEdit:s,onEditEvent:a}){const{getTransactionsForMonth:o,getMonthSummary:u,deleteTransaction:d,getLoanPaymentsForMonth:p,getEventsForMonth:_,deleteEvent:v}=Ln(),T=J.useMemo(()=>o(i,e),[o,i,e]),S=J.useMemo(()=>p(i,e),[p,i,e]),C=J.useMemo(()=>_(i,e),[_,i,e]),B=J.useMemo(()=>u(i,e),[u,i,e]),$=J.useMemo(()=>S.reduce((L,V)=>L+V.totalPayment,0),[S]),Q=L=>new Intl.NumberFormat("ko-KR").format(L),P=L=>new Date(L).getDate(),se=J.useMemo(()=>[...T.map(V=>({type:"transaction",data:V})),...S.map(V=>({type:"loan",data:V})),...C.map(V=>({type:"event",data:V}))].sort((V,ie)=>{const he=V.data.date,ae=ie.data.date;return he.localeCompare(ae)}),[T,S,C]);return m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"sticky top-14 lg:top-16 z-10 bg-dark-950/95 backdrop-blur-sm py-3 lg:py-4 border-b border-dark-800",children:m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[m.jsxs("h2",{className:"text-lg lg:text-xl font-bold text-dark-100",children:[i," ",e,""]}),m.jsxs("div",{className:"flex items-center gap-2 lg:gap-4 text-xs lg:text-sm flex-wrap",children:[m.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[m.jsx(fg,{className:"w-3 h-3 lg:w-4 lg:h-4 text-emerald-400"}),m.jsxs("span",{className:"font-semibold text-emerald-400",children:["+",Q(B.totalIncome)]})]}),m.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[m.jsx(hg,{className:"w-3 h-3 lg:w-4 lg:h-4 text-rose-400"}),m.jsxs("span",{className:"font-semibold text-rose-400",children:["-",Q(B.totalExpense)]})]}),$>0&&m.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[m.jsx(lh,{className:"w-3 h-3 lg:w-4 lg:h-4 text-blue-400"}),m.jsx("span",{className:"font-semibold text-blue-400",children:Q($)})]}),m.jsxs("div",{className:`font-bold ${B.balance>=0?"text-emerald-400":"text-rose-400"}`,children:["= ",B.balance>=0?"+":"",Q(B.balance)]})]})]})}),m.jsx("div",{className:"py-3 lg:py-4 space-y-2",children:se.length===0?m.jsx("div",{className:"text-center py-6 lg:py-8 text-dark-500 text-sm",children:"    "}):se.map(L=>{if(L.type==="transaction"){const V=L.data;return m.jsxs("div",{className:"group flex items-center gap-2 lg:gap-4 p-3 lg:p-4 bg-dark-900/50 hover:bg-dark-800/50 rounded-xl border border-dark-800/50 hover:border-dark-700 transition-all cursor-pointer",onClick:()=>s(V),children:[m.jsxs("div",{className:"w-10 lg:w-12 text-center flex-shrink-0",children:[m.jsx("span",{className:"text-xl lg:text-2xl font-bold text-dark-300",children:P(V.date)}),m.jsx("span",{className:"text-[10px] lg:text-xs text-dark-500 block",children:""})]}),m.jsx("div",{className:`w-1 h-10 lg:h-12 rounded-full flex-shrink-0 ${V.type==="income"?"bg-emerald-500":"bg-rose-500"}`}),m.jsx("div",{className:`hidden sm:flex w-10 h-10 rounded-xl items-center justify-center flex-shrink-0 ${V.type==="income"?"bg-emerald-500/20 text-emerald-400":"bg-rose-500/20 text-rose-400"}`,children:CC[V.category]}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-1.5 lg:gap-2",children:[m.jsx("h3",{className:"font-medium text-dark-100 truncate text-sm lg:text-base",children:V.title}),V.recurrence!=="once"&&m.jsxs("span",{className:"hidden sm:flex items-center gap-1 px-1.5 lg:px-2 py-0.5 bg-dark-700 rounded-full text-[10px] lg:text-xs text-dark-300 flex-shrink-0",children:[m.jsx(ZR,{className:"w-3 h-3"}),Lo[V.recurrence]]})]}),m.jsxs("p",{className:"text-xs lg:text-sm text-dark-500 truncate",children:[oh[V.category],V.recurrence!=="once"&&m.jsxs("span",{className:"sm:hidden",children:["  ",Lo[V.recurrence]]})]})]}),m.jsxs("div",{className:`text-right font-semibold text-sm lg:text-base flex-shrink-0 ${V.type==="income"?"text-emerald-400":"text-rose-400"}`,children:[V.type==="income"?"+":"-",Q(V.amount)]}),m.jsx("button",{onClick:ie=>{ie.stopPropagation(),confirm("  ?")&&d(V.id)},className:"opacity-0 group-hover:opacity-100 p-1.5 lg:p-2 text-dark-500 hover:text-rose-400 transition-all flex-shrink-0",children:m.jsx(el,{className:"w-4 h-4"})})]},`t-${V.id}-${V.date}`)}else if(L.type==="loan"){const V=L.data;return m.jsxs("div",{className:"flex items-center gap-2 lg:gap-4 p-3 lg:p-4 bg-blue-500/5 rounded-xl border border-blue-500/20",children:[m.jsxs("div",{className:"w-10 lg:w-12 text-center flex-shrink-0",children:[m.jsx("span",{className:"text-xl lg:text-2xl font-bold text-dark-300",children:P(V.date)}),m.jsx("span",{className:"text-[10px] lg:text-xs text-dark-500 block",children:""})]}),m.jsx("div",{className:"w-1 h-10 lg:h-12 rounded-full bg-blue-500 flex-shrink-0"}),m.jsx("div",{className:"hidden sm:flex w-10 h-10 rounded-xl items-center justify-center bg-blue-500/20 text-blue-400 flex-shrink-0",children:m.jsx(lh,{className:"w-4 h-4"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-1.5 lg:gap-2",children:[m.jsx("h3",{className:"font-medium text-dark-100 truncate text-sm lg:text-base",children:V.loanName}),m.jsxs("span",{className:"px-1.5 lg:px-2 py-0.5 bg-blue-500/20 rounded-full text-[10px] lg:text-xs text-blue-400 flex-shrink-0",children:[V.monthNumber,""]})]}),m.jsxs("p",{className:"text-xs lg:text-sm text-dark-500 truncate",children:[m.jsxs("span",{className:"hidden sm:inline",children:[" ",Q(V.principal)," +  ",Q(V.interest)]}),m.jsxs("span",{className:"sm:hidden",children:[" ",Q(V.interest)]})]})]}),m.jsxs("div",{className:"text-right flex-shrink-0",children:[m.jsx("p",{className:"font-semibold text-blue-400 text-sm lg:text-base",children:Q(V.totalPayment)}),m.jsxs("p",{className:"text-[10px] lg:text-xs text-rose-400",children:["-",Q(V.interest)]})]})]},`l-${V.loanId}-${V.date}`)}else{const V=L.data;return m.jsxs("div",{className:`group flex items-center gap-2 lg:gap-4 p-3 lg:p-4 rounded-xl border transition-all cursor-pointer ${dg[V.color]}`,onClick:()=>a?.(V),children:[m.jsxs("div",{className:"w-10 lg:w-12 text-center flex-shrink-0",children:[m.jsx("span",{className:"text-xl lg:text-2xl font-bold text-dark-300",children:P(V.date)}),m.jsx("span",{className:"text-[10px] lg:text-xs text-dark-500 block",children:""})]}),m.jsx("div",{className:`w-1 h-10 lg:h-12 rounded-full flex-shrink-0 ${Lr[V.color]}`}),m.jsx("div",{className:`hidden sm:flex w-10 h-10 rounded-xl items-center justify-center flex-shrink-0 ${NC[V.color]}`,children:V.isImportant?m.jsx(Wa,{className:"w-4 h-4 text-amber-400 fill-amber-400"}):m.jsx(Ko,{className:`w-4 h-4 ${wC[V.color]}`})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-1.5 lg:gap-2",children:[m.jsx("h3",{className:"font-medium text-dark-100 truncate text-sm lg:text-base",children:V.title}),V.isImportant&&m.jsx(Wa,{className:"w-3.5 h-3.5 text-amber-400 fill-amber-400 sm:hidden flex-shrink-0"}),m.jsx("span",{className:`hidden sm:inline px-2 py-0.5 rounded-full text-xs ${RC[V.color]}`,children:qi[V.category]}),V.isImportant&&m.jsx("span",{className:"hidden sm:inline px-2 py-0.5 bg-amber-500/20 rounded-full text-xs text-amber-400",children:""})]}),m.jsxs("p",{className:"text-xs lg:text-sm text-dark-500 truncate",children:[m.jsx("span",{className:"sm:hidden",children:qi[V.category]}),V.description&&m.jsx("span",{className:"hidden sm:inline",children:V.description})]})]}),m.jsx("button",{onClick:ie=>{ie.stopPropagation(),confirm("  ?")&&v(V.id)},className:"opacity-0 group-hover:opacity-100 p-1.5 lg:p-2 text-dark-500 hover:text-rose-400 transition-all flex-shrink-0",children:m.jsx(el,{className:"w-4 h-4"})})]},`e-${V.id}`)}})})]})}function DC({year:i,onEdit:e,onEditEvent:s}){const{getMultiMonthSummaries:a,getTransactionsForMonth:o,getEventsForMonth:u,events:d}=Ln(),[p,_]=J.useState(null),v=J.useMemo(()=>a(i,1,12),[a,i]),T=J.useMemo(()=>v.reduce((P,se)=>({income:P.income+se.totalIncome,expense:P.expense+se.totalExpense,balance:P.balance+se.balance}),{income:0,expense:0,balance:0}),[v]),S=J.useMemo(()=>d.filter(P=>new Date(P.date).getFullYear()===i),[d,i]),C=P=>d.filter(se=>{const L=new Date(se.date);return L.getFullYear()===i&&L.getMonth()+1===P}).length,B=P=>new Intl.NumberFormat("ko-KR").format(P),$=P=>P>=1e8?`${(P/1e8).toFixed(1)}`:P>=1e4?`${(P/1e4).toFixed(0)}`:B(P),Q=P=>{_(p===P?null:P)};return m.jsxs("div",{className:"card !p-3 lg:!p-6",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-4 lg:mb-6 pb-3 lg:pb-4 border-b border-dark-800",children:[m.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[m.jsxs("h2",{className:"text-xl lg:text-2xl font-bold text-dark-100",children:[i,""]}),S.length>0&&m.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-purple-500/20 rounded-full text-[10px] lg:text-xs text-purple-400",children:[m.jsx(ah,{className:"w-3 h-3"}),S.length]})]}),m.jsxs("div",{className:"flex items-center gap-2 lg:gap-6 text-xs lg:text-sm flex-wrap",children:[m.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[m.jsx(fg,{className:"w-3 h-3 lg:w-4 lg:h-4 text-emerald-400"}),m.jsxs("span",{className:"font-semibold text-emerald-400",children:["+",$(T.income)]})]}),m.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[m.jsx(hg,{className:"w-3 h-3 lg:w-4 lg:h-4 text-rose-400"}),m.jsxs("span",{className:"font-semibold text-rose-400",children:["-",$(T.expense)]})]}),m.jsxs("div",{className:`font-bold text-sm lg:text-lg ${T.balance>=0?"text-emerald-400":"text-rose-400"}`,children:["= ",T.balance>=0?"+":"",$(T.balance)]})]})]}),m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 lg:gap-3",children:v.map(P=>{const se=p===P.month,L=se?o(i,P.month):[],V=se?u(i,P.month):[],ie=C(P.month),he=P.totalIncome>0||P.totalExpense>0||ie>0;return m.jsxs("div",{className:`rounded-xl border transition-all ${he?"bg-dark-800/50 border-dark-700 hover:border-dark-600":"bg-dark-900/30 border-dark-800/50"}`,children:[m.jsxs("button",{onClick:()=>he&&Q(P.month),className:`w-full p-2.5 lg:p-4 text-left ${he?"cursor-pointer":"cursor-default"}`,disabled:!he,children:[m.jsxs("div",{className:"flex items-center justify-between mb-1.5 lg:mb-2",children:[m.jsxs("div",{className:"flex items-center gap-1.5 lg:gap-2",children:[m.jsxs("span",{className:"text-sm lg:text-lg font-semibold text-dark-100",children:[P.month,""]}),ie>0&&m.jsxs("span",{className:"flex items-center gap-0.5 px-1 lg:px-1.5 py-0.5 bg-purple-500/20 rounded text-[10px] lg:text-xs text-purple-400",children:[m.jsx(ah,{className:"w-2 h-2 lg:w-2.5 lg:h-2.5"}),ie]})]}),he&&(se?m.jsx(fR,{className:"w-3.5 h-3.5 lg:w-4 lg:h-4 text-dark-400"}):m.jsx(uR,{className:"w-3.5 h-3.5 lg:w-4 lg:h-4 text-dark-400"}))]}),P.totalIncome>0||P.totalExpense>0?m.jsxs("div",{className:"space-y-0.5 lg:space-y-1",children:[m.jsxs("div",{className:"flex justify-between text-xs lg:text-sm",children:[m.jsx("span",{className:"text-dark-500",children:""}),m.jsxs("span",{className:"text-emerald-400",children:["+",$(P.totalIncome)]})]}),m.jsxs("div",{className:"flex justify-between text-xs lg:text-sm",children:[m.jsx("span",{className:"text-dark-500",children:""}),m.jsxs("span",{className:"text-rose-400",children:["-",$(P.totalExpense)]})]}),m.jsxs("div",{className:"flex justify-between text-xs lg:text-sm font-medium pt-1 border-t border-dark-700",children:[m.jsx("span",{className:"text-dark-400",children:""}),m.jsxs("span",{className:P.balance>=0?"text-emerald-400":"text-rose-400",children:[P.balance>=0?"+":"",$(P.balance)]})]})]}):ie>0?m.jsx("p",{className:"text-xs lg:text-sm text-purple-400",children:" "}):m.jsx("p",{className:"text-xs lg:text-sm text-dark-600",children:" "})]}),se&&(L.length>0||V.length>0)&&m.jsxs("div",{className:"border-t border-dark-700 p-2 lg:p-3 space-y-1.5 lg:space-y-2 max-h-48 lg:max-h-60 overflow-y-auto",children:[V.map(ae=>m.jsxs("button",{onClick:()=>s?.(ae),className:`w-full flex items-center justify-between p-1.5 lg:p-2 rounded-lg transition-colors text-left ${dg[ae.color]}`,children:[m.jsxs("div",{className:"flex items-center gap-1.5 lg:gap-2 min-w-0",children:[ae.isImportant?m.jsx(Wa,{className:"w-3 h-3 text-amber-400 fill-amber-400 flex-shrink-0"}):m.jsx("div",{className:`w-1.5 h-1.5 rounded-full flex-shrink-0 ${Lr[ae.color]}`}),m.jsx("span",{className:"text-xs lg:text-sm text-dark-200 truncate",children:ae.title})]}),m.jsxs("span",{className:"text-[10px] lg:text-xs text-dark-500 flex-shrink-0 ml-1",children:[new Date(ae.date).getDate(),""]})]},`e-${ae.id}`)),L.map(ae=>m.jsxs("button",{onClick:()=>e(ae),className:"w-full flex items-center justify-between p-1.5 lg:p-2 rounded-lg bg-dark-900/50 hover:bg-dark-700/50 transition-colors text-left",children:[m.jsxs("div",{className:"flex items-center gap-1.5 lg:gap-2 min-w-0",children:[m.jsx("div",{className:`w-1.5 h-1.5 rounded-full flex-shrink-0 ${ae.type==="income"?"bg-emerald-500":"bg-rose-500"}`}),m.jsx("span",{className:"text-xs lg:text-sm text-dark-200 truncate",children:ae.title})]}),m.jsxs("span",{className:`text-xs lg:text-sm font-medium whitespace-nowrap ml-1 ${ae.type==="income"?"text-emerald-400":"text-rose-400"}`,children:[ae.type==="income"?"+":"-",$(ae.amount)]})]},`${ae.id}-${ae.date}`))]})]},P.month)})}),m.jsxs("div",{className:"mt-4 lg:mt-6 pt-3 lg:pt-4 border-t border-dark-800",children:[m.jsx("h4",{className:"text-xs lg:text-sm font-medium text-dark-400 mb-2 lg:mb-3",children:" "}),m.jsx("div",{className:"flex items-end gap-0.5 lg:gap-1 h-16 lg:h-24",children:v.map(P=>{const se=Math.max(...v.map(ie=>Math.max(ie.totalIncome,ie.totalExpense))),L=se>0?P.totalIncome/se*100:0,V=se>0?P.totalExpense/se*100:0;return m.jsxs("div",{className:"flex-1 flex flex-col items-center gap-0.5 lg:gap-1",children:[m.jsxs("div",{className:"w-full flex gap-0.5 items-end h-12 lg:h-20",children:[m.jsx("div",{className:"flex-1 bg-emerald-500/60 rounded-t transition-all",style:{height:`${L}%`,minHeight:P.totalIncome>0?"2px":"0"}}),m.jsx("div",{className:"flex-1 bg-rose-500/60 rounded-t transition-all",style:{height:`${V}%`,minHeight:P.totalExpense>0?"2px":"0"}})]}),m.jsx("span",{className:"text-[10px] lg:text-xs text-dark-500",children:P.month})]},P.month)})}),m.jsxs("div",{className:"flex justify-center gap-3 lg:gap-4 mt-2",children:[m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("div",{className:"w-2.5 h-2.5 lg:w-3 lg:h-3 rounded bg-emerald-500/60"}),m.jsx("span",{className:"text-[10px] lg:text-xs text-dark-500",children:""})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("div",{className:"w-2.5 h-2.5 lg:w-3 lg:h-3 rounded bg-rose-500/60"}),m.jsx("span",{className:"text-[10px] lg:text-xs text-dark-500",children:""})]})]})]})]})}const Gt=[];for(let i=0;i<256;++i)Gt.push((i+256).toString(16).slice(1));function kC(i,e=0){return(Gt[i[e+0]]+Gt[i[e+1]]+Gt[i[e+2]]+Gt[i[e+3]]+"-"+Gt[i[e+4]]+Gt[i[e+5]]+"-"+Gt[i[e+6]]+Gt[i[e+7]]+"-"+Gt[i[e+8]]+Gt[i[e+9]]+"-"+Gt[i[e+10]]+Gt[i[e+11]]+Gt[i[e+12]]+Gt[i[e+13]]+Gt[i[e+14]]+Gt[i[e+15]]).toLowerCase()}let Gd;const MC=new Uint8Array(16);function jC(){if(!Gd){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Gd=crypto.getRandomValues.bind(crypto)}return Gd(MC)}const OC=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),vv={randomUUID:OC};function VC(i,e,s){i=i||{};const a=i.random??i.rng?.()??jC();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,kC(a)}function mg(i,e,s){return vv.randomUUID&&!i?vv.randomUUID():VC(i)}function $x({transaction:i,onClose:e}){const{addTransaction:s,updateTransaction:a,currentYear:o,currentMonth:u}=Ln(),[d,p]=J.useState("expense"),[_,v]=J.useState(""),[T,S]=J.useState(""),[C,B]=J.useState("other_expense"),[$,Q]=J.useState(""),[P,se]=J.useState("once"),[L,V]=J.useState(""),[ie,he]=J.useState("");J.useEffect(()=>{i?(p(i.type),v(i.title),S(String(i.amount)),B(i.category),Q(i.date),se(i.recurrence),V(i.recurrenceEndDate||""),he(i.memo||"")):Q(`${o}-${String(u).padStart(2,"0")}-01`)},[i,o,u]),J.useEffect(()=>{d==="income"&&!yv.includes(C)?B("salary"):d==="expense"&&!_v.includes(C)&&B("other_expense")},[d,C]);const ae=E=>{if(E.preventDefault(),!_.trim()||!T||!$)return;const w={id:i?.id||mg(),title:_.trim(),amount:Number(T),type:d,category:C,date:$,recurrence:P,recurrenceEndDate:L||void 0,memo:ie.trim()||void 0,createdAt:i?.createdAt||new Date().toISOString()};i?a(i.id,w):s(w),e()},k=d==="income"?yv:_v;return m.jsx("div",{className:"fixed inset-0 bg-dark-950/80 backdrop-blur-sm flex items-end sm:items-center justify-center z-50 p-0 sm:p-4",children:m.jsxs("div",{className:"card w-full sm:max-w-lg max-h-[85vh] sm:max-h-[90vh] overflow-y-auto rounded-b-none sm:rounded-b-2xl",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:[m.jsx("h3",{className:"text-lg lg:text-xl font-bold text-dark-100",children:i?" ":"  "}),m.jsx("button",{onClick:e,className:"btn btn-ghost p-2",children:m.jsx(wh,{className:"w-5 h-5"})})]}),m.jsxs("form",{onSubmit:ae,className:"space-y-3 lg:space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),m.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[m.jsx("button",{type:"button",onClick:()=>p("income"),className:`py-2.5 lg:py-3 rounded-xl font-medium text-sm lg:text-base transition-all ${d==="income"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/40":"bg-dark-800 text-dark-400 border border-dark-700 hover:border-dark-600"}`,children:""}),m.jsx("button",{type:"button",onClick:()=>p("expense"),className:`py-2.5 lg:py-3 rounded-xl font-medium text-sm lg:text-base transition-all ${d==="expense"?"bg-rose-500/20 text-rose-400 border border-rose-500/40":"bg-dark-800 text-dark-400 border border-dark-700 hover:border-dark-600"}`,children:""})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:" *"}),m.jsx("input",{type:"text",value:_,onChange:E=>v(E.target.value),placeholder:": ,  ",className:"input text-sm lg:text-base",autoFocus:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:" *"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"number",value:T,onChange:E=>S(E.target.value),placeholder:"0",className:"input pr-12 text-sm lg:text-base",min:"0"}),m.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-dark-400 text-sm",children:""})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 lg:gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),m.jsx("select",{value:C,onChange:E=>B(E.target.value),className:"input text-sm lg:text-base",children:k.map(E=>m.jsx("option",{value:E,children:oh[E]},E))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:" *"}),m.jsx("input",{type:"date",value:$,onChange:E=>Q(E.target.value),className:"input text-sm lg:text-base"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),m.jsx("select",{value:P,onChange:E=>se(E.target.value),className:"input text-sm lg:text-base",children:Object.keys(Lo).map(E=>m.jsx("option",{value:E,children:Lo[E]},E))})]}),P!=="once"&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:"  ()"}),m.jsx("input",{type:"date",value:L,onChange:E=>V(E.target.value),className:"input text-sm lg:text-base"}),m.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mt-1",children:"  "})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),m.jsx("textarea",{value:ie,onChange:E=>he(E.target.value),placeholder:"  ()",className:"input min-h-[60px] lg:min-h-[80px] resize-none text-sm lg:text-base"})]}),m.jsxs("div",{className:"flex gap-2 lg:gap-3 pt-3 lg:pt-4",children:[m.jsx("button",{type:"button",onClick:e,className:"btn btn-secondary flex-1 text-sm lg:text-base",children:""}),m.jsx("button",{type:"submit",className:`btn flex-1 text-white text-sm lg:text-base ${d==="income"?"bg-emerald-500 hover:bg-emerald-600":"bg-rose-500 hover:bg-rose-600"}`,children:i?"":""})]})]})]})})}const LC=["housing","contract","career","family","education","other"],UC=["red","orange","yellow","green","blue","purple","pink"];function Zx({event:i,onClose:e}){const{addEvent:s,updateEvent:a,currentYear:o,currentMonth:u}=Ln(),[d,p]=J.useState(""),[_,v]=J.useState("other"),[T,S]=J.useState(""),[C,B]=J.useState(""),[$,Q]=J.useState(!1),[P,se]=J.useState("blue");J.useEffect(()=>{i?(p(i.title),v(i.category),S(i.date),B(i.description||""),Q(i.isImportant),se(i.color)):S(`${o}-${String(u).padStart(2,"0")}-01`)},[i,o,u]);const L=V=>{if(V.preventDefault(),!d.trim()||!T)return;const ie={id:i?.id||mg(),title:d.trim(),category:_,date:T,description:C.trim()||void 0,isImportant:$,color:P,createdAt:i?.createdAt||new Date().toISOString()};i?a(i.id,ie):s(ie),e()};return m.jsx("div",{className:"fixed inset-0 bg-dark-950/80 backdrop-blur-sm flex items-end sm:items-center justify-center z-50 p-0 sm:p-4",children:m.jsxs("div",{className:"card w-full sm:max-w-lg max-h-[85vh] sm:max-h-[90vh] overflow-y-auto rounded-b-none sm:rounded-b-2xl",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:[m.jsx("h3",{className:"text-lg lg:text-xl font-bold text-dark-100",children:i?" ":"  "}),m.jsx("button",{onClick:e,className:"btn btn-ghost p-2",children:m.jsx(wh,{className:"w-5 h-5"})})]}),m.jsxs("form",{onSubmit:L,className:"space-y-3 lg:space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:"  *"}),m.jsx("input",{type:"text",value:d,onChange:V=>p(V.target.value),placeholder:":  , ,  ",className:"input text-sm lg:text-base",autoFocus:!0})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 lg:gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),m.jsx("select",{value:_,onChange:V=>v(V.target.value),className:"input text-sm lg:text-base",children:LC.map(V=>m.jsx("option",{value:V,children:qi[V]},V))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:" *"}),m.jsx("input",{type:"date",value:T,onChange:V=>S(V.target.value),className:"input text-sm lg:text-base"})]})]}),m.jsxs("div",{className:"flex items-end gap-4",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),m.jsx("div",{className:"flex gap-1.5 lg:gap-2",children:UC.map(V=>m.jsx("button",{type:"button",onClick:()=>se(V),className:`w-6 h-6 lg:w-8 lg:h-8 rounded-full ${Lr[V]} transition-all ${P===V?"ring-2 ring-offset-2 ring-offset-dark-900 ring-white scale-110":"hover:scale-105"}`},V))})]}),m.jsxs("label",{className:"flex items-center gap-2 cursor-pointer pb-0.5",children:[m.jsx("button",{type:"button",onClick:()=>Q(!$),className:`p-1.5 lg:p-2 rounded-lg transition-all ${$?"bg-amber-500/20 text-amber-400":"bg-dark-800 text-dark-500 hover:text-dark-300"}`,children:m.jsx(Wa,{className:`w-4 h-4 lg:w-5 lg:h-5 ${$?"fill-current":""}`})}),m.jsx("span",{className:"text-xs lg:text-sm text-dark-300",children:""})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),m.jsx("textarea",{value:C,onChange:V=>B(V.target.value),placeholder:"  ()",className:"input min-h-[60px] lg:min-h-[80px] resize-none text-sm lg:text-base"})]}),m.jsxs("div",{className:"flex gap-2 lg:gap-3 pt-3 lg:pt-4",children:[m.jsx("button",{type:"button",onClick:e,className:"btn btn-secondary flex-1 text-sm lg:text-base",children:""}),m.jsx("button",{type:"submit",className:`btn flex-1 text-white text-sm lg:text-base ${Lr[P]} hover:opacity-90`,children:i?"":""})]})]})]})})}function xv(){const{currentYear:i,currentMonth:e}=Ln(),[s,a]=J.useState("month"),[o,u]=J.useState(null),[d,p]=J.useState(null),[_,v]=J.useState(6),[T,S]=J.useState(3),C=J.useRef(null),B=L=>{u(L)},$=L=>{p(L)},Q=J.useCallback(L=>{L[0].isIntersecting&&(s==="month"?v(ie=>ie+6):S(ie=>ie+2))},[s]);J.useEffect(()=>{const L={root:null,rootMargin:"100px",threshold:0},V=new IntersectionObserver(Q,L);return C.current&&V.observe(C.current),()=>V.disconnect()},[Q]),J.useEffect(()=>{v(6),S(3)},[s]),J.useEffect(()=>{v(6),S(3),window.scrollTo({top:0,behavior:"smooth"})},[i,e]);const P=()=>{const L=[];let V=i,ie=e;for(let he=0;he<_;he++)L.push({year:V,month:ie}),ie++,ie>12&&(ie=1,V++);return L},se=()=>{const L=[];for(let V=0;V<T;V++)L.push(i+V);return L};return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 mb-4",children:[m.jsxs("button",{onClick:()=>a("month"),className:`btn text-xs sm:text-sm py-1.5 px-2 sm:py-2 sm:px-3 ${s==="month"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/40":"btn-secondary"}`,children:[m.jsx(Ko,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),m.jsx("span",{className:"hidden sm:inline",children:" "}),m.jsx("span",{className:"sm:hidden",children:""})]}),m.jsxs("button",{onClick:()=>a("year"),className:`btn text-xs sm:text-sm py-1.5 px-2 sm:py-2 sm:px-3 ${s==="year"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/40":"btn-secondary"}`,children:[m.jsx(rR,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),m.jsx("span",{className:"hidden sm:inline",children:" "}),m.jsx("span",{className:"sm:hidden",children:""})]})]}),m.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[s==="month"?P().map(({year:L,month:V})=>m.jsx(IC,{year:L,month:V,onEdit:B,onEditEvent:$},`${L}-${V}`)):se().map(L=>m.jsx(DC,{year:L,onEdit:B,onEditEvent:$},L)),m.jsx("div",{ref:C,className:"flex justify-center py-8",children:m.jsx("div",{className:"text-dark-500 text-sm",children:"  ..."})})]}),o&&m.jsx($x,{transaction:o,onClose:()=>u(null)}),d&&m.jsx(Zx,{event:d,onClose:()=>p(null)})]})}function PC(){const{transactions:i,deleteTransaction:e}=Ln(),[s,a]=J.useState(!1),[o,u]=J.useState(null),[d,p]=J.useState("all"),[_,v]=J.useState(""),T=J.useMemo(()=>i.filter(L=>{if(d!=="all"&&L.type!==d)return!1;if(_){const V=_.toLowerCase();return L.title.toLowerCase().includes(V)||oh[L.category].toLowerCase().includes(V)||L.memo&&L.memo.toLowerCase().includes(V)}return!0}).sort((L,V)=>V.createdAt.localeCompare(L.createdAt)),[i,d,_]),S=J.useMemo(()=>{const L=i.filter(ie=>ie.type==="income").reduce((ie,he)=>he.recurrence==="monthly"?ie+he.amount*12:ie+he.amount,0),V=i.filter(ie=>ie.type==="expense").reduce((ie,he)=>he.recurrence==="monthly"?ie+he.amount*12:ie+he.amount,0);return{income:L,expense:V,balance:L-V}},[i]),C=L=>new Intl.NumberFormat("ko-KR").format(L),B=L=>{const V=new Date(L);return`${V.getFullYear()}.${String(V.getMonth()+1).padStart(2,"0")}.${String(V.getDate()).padStart(2,"0")}`},$=L=>{u(L),a(!0)},Q=()=>{u(null),a(!0)},P=()=>{a(!1),u(null)},se=(L,V)=>{confirm(`"${V}"  ?`)&&e(L)};return m.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-3 gap-2 lg:gap-4",children:[m.jsxs("div",{className:"card !p-3 lg:!p-6",children:[m.jsx("p",{className:"text-dark-400 text-xs lg:text-sm mb-1",children:""}),m.jsxs("p",{className:"text-sm lg:text-2xl font-bold text-emerald-400 truncate",children:["+",C(S.income)]})]}),m.jsxs("div",{className:"card !p-3 lg:!p-6",children:[m.jsx("p",{className:"text-dark-400 text-xs lg:text-sm mb-1",children:""}),m.jsxs("p",{className:"text-sm lg:text-2xl font-bold text-rose-400 truncate",children:["-",C(S.expense)]})]}),m.jsxs("div",{className:"card !p-3 lg:!p-6",children:[m.jsx("p",{className:"text-dark-400 text-xs lg:text-sm mb-1",children:""}),m.jsxs("p",{className:`text-sm lg:text-2xl font-bold truncate ${S.balance>=0?"text-emerald-400":"text-rose-400"}`,children:[S.balance>=0?"+":"",C(S.balance)]})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("div",{className:"relative flex-1",children:[m.jsx(Kx,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-dark-500"}),m.jsx("input",{type:"text",value:_,onChange:L=>v(L.target.value),placeholder:"...",className:"input pl-10 w-full text-sm"})]}),m.jsxs("button",{onClick:Q,className:"btn bg-emerald-500 hover:bg-emerald-600 text-white whitespace-nowrap",children:[m.jsx(ug,{className:"w-4 h-4"}),m.jsx("span",{className:"hidden sm:inline",children:""})]})]}),m.jsxs("div",{className:"flex items-center gap-1 bg-dark-800 rounded-lg p-1 w-fit",children:[m.jsx("button",{onClick:()=>p("all"),className:`px-3 py-1.5 rounded-md text-xs lg:text-sm transition-colors ${d==="all"?"bg-dark-700 text-dark-100":"text-dark-400 hover:text-dark-200"}`,children:""}),m.jsx("button",{onClick:()=>p("income"),className:`px-3 py-1.5 rounded-md text-xs lg:text-sm transition-colors ${d==="income"?"bg-emerald-500/20 text-emerald-400":"text-dark-400 hover:text-dark-200"}`,children:""}),m.jsx("button",{onClick:()=>p("expense"),className:`px-3 py-1.5 rounded-md text-xs lg:text-sm transition-colors ${d==="expense"?"bg-rose-500/20 text-rose-400":"text-dark-400 hover:text-dark-200"}`,children:""})]})]}),m.jsx("div",{className:"card !p-0 overflow-hidden",children:T.length===0?m.jsx("div",{className:"text-center py-8 lg:py-12 text-dark-500 text-sm",children:_||d!=="all"?"  ":"  "}):m.jsx("div",{className:"divide-y divide-dark-800",children:T.map(L=>m.jsxs("div",{className:"flex items-start lg:items-center gap-3 p-3 lg:p-4 hover:bg-dark-800/50 transition-colors",children:[m.jsx("div",{className:`w-1 h-10 lg:h-12 rounded-full flex-shrink-0 ${L.type==="income"?"bg-emerald-500":"bg-rose-500"}`}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-0.5 lg:mb-1",children:[m.jsx("h3",{className:"font-medium text-dark-100 truncate text-sm lg:text-base",children:L.title}),L.recurrence!=="once"&&m.jsx("span",{className:"px-1.5 lg:px-2 py-0.5 bg-dark-700 rounded-full text-[10px] lg:text-xs text-dark-300 flex-shrink-0",children:Lo[L.recurrence]})]}),m.jsxs("div",{className:"flex items-center gap-1 lg:gap-2 text-xs lg:text-sm text-dark-500 flex-wrap",children:[m.jsx("span",{children:oh[L.category]}),m.jsx("span",{className:"hidden sm:inline",children:""}),m.jsx("span",{className:"hidden sm:inline",children:B(L.date)})]})]}),m.jsxs("div",{className:`text-right font-semibold text-sm lg:text-base flex-shrink-0 ${L.type==="income"?"text-emerald-400":"text-rose-400"}`,children:[L.type==="income"?"+":"-",C(L.amount)]}),m.jsxs("div",{className:"flex items-center gap-0.5 flex-shrink-0",children:[m.jsx("button",{onClick:()=>$(L),className:"p-1.5 lg:p-2 text-dark-500 hover:text-dark-200 transition-colors",title:"",children:m.jsx(cg,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>se(L.id,L.title),className:"p-1.5 lg:p-2 text-dark-500 hover:text-rose-400 transition-colors",title:"",children:m.jsx(el,{className:"w-4 h-4"})})]})]},L.id))})}),m.jsxs("div",{className:"text-center text-sm text-dark-500",children:[" ",T.length," ",d!=="all"&&` (${d==="income"?"":""})`]}),s&&m.jsx($x,{transaction:o,onClose:P})]})}function zC(){const{events:i,deleteEvent:e}=Ln(),[s,a]=J.useState(!1),[o,u]=J.useState(null),[d,p]=J.useState("all"),[_,v]=J.useState(""),T=J.useMemo(()=>i.filter(L=>{if(d!=="all"&&L.category!==d)return!1;if(_){const V=_.toLowerCase();return L.title.toLowerCase().includes(V)||qi[L.category].toLowerCase().includes(V)||L.description&&L.description.toLowerCase().includes(V)}return!0}).sort((L,V)=>L.date.localeCompare(V.date)),[i,d,_]),S=J.useMemo(()=>{const L={};let V=0;return i.forEach(ie=>{L[ie.category]=(L[ie.category]||0)+1,ie.isImportant&&V++}),{categoryCounts:L,importantCount:V,total:i.length}},[i]),C=L=>{const V=new Date(L);return`${V.getFullYear()}.${String(V.getMonth()+1).padStart(2,"0")}.${String(V.getDate()).padStart(2,"0")}`},B=L=>{u(L),a(!0)},$=()=>{u(null),a(!0)},Q=()=>{a(!1),u(null)},P=(L,V)=>{confirm(`"${V}"  ?`)&&e(L)},se=["housing","contract","career","family","education","other"];return m.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-2 lg:gap-4",children:[m.jsxs("div",{className:"card !p-3 lg:!p-6",children:[m.jsx("p",{className:"text-dark-400 text-xs lg:text-sm mb-1",children:""}),m.jsxs("p",{className:"text-xl lg:text-2xl font-bold text-dark-100",children:[S.total,""]})]}),m.jsxs("div",{className:"card !p-3 lg:!p-6",children:[m.jsx("p",{className:"text-dark-400 text-xs lg:text-sm mb-1",children:""}),m.jsxs("p",{className:"text-xl lg:text-2xl font-bold text-amber-400",children:[S.importantCount,""]})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("div",{className:"relative flex-1",children:[m.jsx(Kx,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-dark-500"}),m.jsx("input",{type:"text",value:_,onChange:L=>v(L.target.value),placeholder:"...",className:"input pl-10 w-full text-sm"})]}),m.jsxs("button",{onClick:$,className:"btn bg-purple-500 hover:bg-purple-600 text-white whitespace-nowrap",children:[m.jsx(ug,{className:"w-4 h-4"}),m.jsx("span",{className:"hidden sm:inline",children:""})]})]}),m.jsxs("select",{value:d,onChange:L=>p(L.target.value),className:"input py-2 text-sm w-full sm:w-auto",children:[m.jsx("option",{value:"all",children:" "}),se.map(L=>m.jsx("option",{value:L,children:qi[L]},L))]})]}),m.jsx("div",{className:"card !p-0 overflow-hidden",children:T.length===0?m.jsx("div",{className:"text-center py-8 lg:py-12 text-dark-500 text-sm",children:_||d!=="all"?"  ":"  .  !"}):m.jsx("div",{className:"divide-y divide-dark-800",children:T.map(L=>m.jsxs("div",{className:`flex items-start lg:items-center gap-3 p-3 lg:p-4 hover:bg-dark-800/50 transition-colors ${dg[L.color]}`,children:[m.jsx("div",{className:`w-1 h-10 lg:h-12 rounded-full flex-shrink-0 ${Lr[L.color]}`}),m.jsx("div",{className:`hidden sm:flex w-10 h-10 rounded-xl items-center justify-center flex-shrink-0 ${Lr[L.color]}/20`,children:L.isImportant?m.jsx(Wa,{className:"w-5 h-5 text-amber-400 fill-amber-400"}):m.jsx(Ko,{className:"w-5 h-5 text-dark-300"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-1.5 lg:gap-2 mb-0.5 lg:mb-1 flex-wrap",children:[m.jsx("h3",{className:"font-medium text-dark-100 truncate text-sm lg:text-base",children:L.title}),L.isImportant&&m.jsx(Wa,{className:"w-3.5 h-3.5 text-amber-400 fill-amber-400 sm:hidden flex-shrink-0"}),m.jsx("span",{className:`hidden sm:inline px-2 py-0.5 rounded-full text-xs ${Lr[L.color]}/20 text-dark-300`,children:qi[L.category]}),L.isImportant&&m.jsx("span",{className:"hidden sm:inline px-2 py-0.5 bg-amber-500/20 rounded-full text-xs text-amber-400",children:""})]}),m.jsxs("div",{className:"flex items-center gap-1 lg:gap-2 text-xs lg:text-sm text-dark-500 flex-wrap",children:[m.jsx("span",{children:C(L.date)}),m.jsxs("span",{className:"sm:hidden",children:[" ",qi[L.category]]}),L.description&&m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"hidden sm:inline",children:""}),m.jsx("span",{className:"hidden sm:inline truncate max-w-[300px]",children:L.description})]})]})]}),m.jsxs("div",{className:"flex items-center gap-0.5 flex-shrink-0",children:[m.jsx("button",{onClick:()=>B(L),className:"p-1.5 lg:p-2 text-dark-500 hover:text-dark-200 transition-colors",title:"",children:m.jsx(cg,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>P(L.id,L.title),className:"p-1.5 lg:p-2 text-dark-500 hover:text-rose-400 transition-colors",title:"",children:m.jsx(el,{className:"w-4 h-4"})})]})]},L.id))})}),m.jsxs("div",{className:"text-center text-sm text-dark-500",children:[" ",T.length," ",d!=="all"&&` (${qi[d]})`]}),s&&m.jsx(Zx,{event:o,onClose:Q})]})}const bv=["equal_principal_interest","equal_principal","bullet"];function BC({loan:i,onClose:e}){const{addLoan:s,updateLoan:a}=Ln(),[o,u]=J.useState(""),[d,p]=J.useState(""),[_,v]=J.useState(""),[T,S]=J.useState("equal_principal_interest"),[C,B]=J.useState(""),[$,Q]=J.useState(""),[P,se]=J.useState(""),[L,V]=J.useState("25"),[ie,he]=J.useState(""),[ae,k]=J.useState(!1);J.useEffect(()=>{if(i)u(i.name),p(String(i.principal)),v(String(i.interestRate)),S(i.repaymentType),Q(String(Math.floor(i.termMonths/12))),B(String(i.termMonths%12)),se(i.startDate),V(String(i.paymentDay)),he(i.memo||"");else{const N=new Date;se(`${N.getFullYear()}-${String(N.getMonth()+1).padStart(2,"0")}-01`)}},[i]);const E=N=>{if(N.preventDefault(),!o.trim()||!d||!_||!P)return;const M=(parseInt($)||0)*12+(parseInt(C)||0);if(M<=0)return;const R={id:i?.id||mg(),name:o.trim(),principal:Number(d),interestRate:Number(_),repaymentType:T,termMonths:M,startDate:P,paymentDay:parseInt(L)||25,memo:ie.trim()||void 0,createdAt:i?.createdAt||new Date().toISOString()};i?a(i.id,R):s(R),e()},I=(()=>{const N=Number(d),M=Number(_)/100/12,R=(parseInt($)||0)*12+(parseInt(C)||0);if(!N||!R)return null;if(T==="equal_principal_interest")return Math.round(M===0?N/R:N*M*Math.pow(1+M,R)/(Math.pow(1+M,R)-1));if(T==="equal_principal"){const Me=N/R,ze=N*M;return Math.round(Me+ze)}else return Math.round(N*M)})();return m.jsx("div",{className:"fixed inset-0 bg-dark-950/80 backdrop-blur-sm flex items-end sm:items-center justify-center z-50 p-0 sm:p-4",children:m.jsxs("div",{className:"card w-full sm:max-w-lg max-h-[85vh] sm:max-h-[90vh] overflow-y-auto rounded-b-none sm:rounded-b-2xl",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:[m.jsx("h3",{className:"text-lg lg:text-xl font-bold text-dark-100",children:i?" ":"  "}),m.jsx("button",{onClick:e,className:"btn btn-ghost p-2",children:m.jsx(wh,{className:"w-5 h-5"})})]}),m.jsxs("form",{onSubmit:E,className:"space-y-3 lg:space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:" *"}),m.jsx("input",{type:"text",value:o,onChange:N=>u(N.target.value),placeholder:": , ",className:"input text-sm lg:text-base",autoFocus:!0})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 lg:gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:"  *"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"number",value:d,onChange:N=>p(N.target.value),placeholder:"0",className:"input pr-10 text-sm lg:text-base",min:"0"}),m.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-dark-400 text-xs lg:text-sm",children:""})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:" *"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"number",value:_,onChange:N=>v(N.target.value),placeholder:"0.0",className:"input pr-10 text-sm lg:text-base",min:"0",step:"0.01"}),m.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-dark-400 text-xs lg:text-sm",children:"%"})]})]})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1.5 lg:mb-2",children:[m.jsx("label",{className:"text-xs lg:text-sm font-medium text-dark-300",children:" "}),m.jsx("button",{type:"button",onClick:()=>k(!ae),className:"text-dark-500 hover:text-dark-300",children:m.jsx(mR,{className:"w-3.5 h-3.5 lg:w-4 lg:h-4"})})]}),ae&&m.jsx("div",{className:"mb-2 lg:mb-3 p-2 lg:p-3 bg-dark-800/50 rounded-lg text-xs lg:text-sm space-y-1.5 lg:space-y-2",children:bv.map(N=>m.jsxs("div",{children:[m.jsx("span",{className:"text-dark-200 font-medium",children:ym[N]}),m.jsx("p",{className:"text-dark-400 text-[10px] lg:text-xs",children:AC[N]})]},N))}),m.jsx("select",{value:T,onChange:N=>S(N.target.value),className:"input text-sm lg:text-base",children:bv.map(N=>m.jsx("option",{value:N,children:ym[N]},N))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:"  *"}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 lg:gap-3",children:[m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"number",value:$,onChange:N=>Q(N.target.value),placeholder:"0",className:"input pr-10 text-sm lg:text-base",min:"0"}),m.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-dark-400 text-xs lg:text-sm",children:""})]}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"number",value:C,onChange:N=>B(N.target.value),placeholder:"0",className:"input pr-10 text-sm lg:text-base",min:"0",max:"11"}),m.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-dark-400 text-xs lg:text-sm",children:""})]})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 lg:gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:"  *"}),m.jsx("input",{type:"date",value:P,onChange:N=>se(N.target.value),className:"input text-sm lg:text-base"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:" "}),m.jsx("select",{value:L,onChange:N=>V(N.target.value),className:"input text-sm lg:text-base",children:Array.from({length:28},(N,M)=>M+1).map(N=>m.jsxs("option",{value:N,children:[N,""]},N))})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs lg:text-sm font-medium text-dark-300 mb-1.5 lg:mb-2",children:""}),m.jsx("textarea",{value:ie,onChange:N=>he(N.target.value),placeholder:"  ()",className:"input min-h-[50px] lg:min-h-[60px] resize-none text-sm lg:text-base"})]}),I&&m.jsxs("div",{className:"p-3 lg:p-4 bg-blue-500/10 border border-blue-500/20 rounded-xl",children:[m.jsx("p",{className:"text-xs lg:text-sm text-dark-400 mb-1",children:"  "}),m.jsxs("p",{className:"text-lg lg:text-xl font-bold text-blue-400",children:[new Intl.NumberFormat("ko-KR").format(I),""]}),T==="equal_principal"&&m.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mt-1",children:"*    (  )"}),T==="bullet"&&m.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mt-1",children:"*  (   )"})]}),m.jsxs("div",{className:"flex gap-2 lg:gap-3 pt-3 lg:pt-4",children:[m.jsx("button",{type:"button",onClick:e,className:"btn btn-secondary flex-1 text-sm lg:text-base",children:""}),m.jsx("button",{type:"submit",className:"btn bg-blue-500 hover:bg-blue-600 text-white flex-1 text-sm lg:text-base",children:i?"":""})]})]})]})})}function qC(){const{loans:i,deleteLoan:e,getLoanPaymentsForMonth:s,currentYear:a,currentMonth:o}=Ln(),[u,d]=J.useState(!1),[p,_]=J.useState(null),v=Q=>{_(Q),d(!0)},T=()=>{d(!1),_(null)},S=(Q,P)=>{confirm(`"${P}"  ?`)&&e(Q)},C=Q=>new Intl.NumberFormat("ko-KR").format(Q),B=J.useMemo(()=>s(a,o),[s,a,o]),$=J.useMemo(()=>{const Q=i.reduce((ie,he)=>ie+he.principal,0),P=B,se=P.reduce((ie,he)=>ie+he.totalPayment,0),L=P.reduce((ie,he)=>ie+he.interest,0),V=P.reduce((ie,he)=>ie+he.remainingPrincipal,0);return{totalPrincipal:Q,totalMonthlyPayment:se,totalInterest:L,totalRemainingPrincipal:V}},[i,B]);return m.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 lg:gap-4",children:[m.jsxs("div",{className:"card !p-3 lg:!p-6",children:[m.jsx("p",{className:"text-xs lg:text-sm text-dark-400 mb-1",children:"  "}),m.jsx("p",{className:"text-sm lg:text-2xl font-bold text-dark-100 truncate",children:C($.totalPrincipal)})]}),m.jsxs("div",{className:"card !p-3 lg:!p-6",children:[m.jsx("p",{className:"text-xs lg:text-sm text-dark-400 mb-1",children:"  "}),m.jsx("p",{className:"text-sm lg:text-2xl font-bold text-blue-400 truncate",children:C($.totalMonthlyPayment)})]}),m.jsxs("div",{className:"card !p-3 lg:!p-6",children:[m.jsx("p",{className:"text-xs lg:text-sm text-dark-400 mb-1",children:"  "}),m.jsx("p",{className:"text-sm lg:text-2xl font-bold text-rose-400 truncate",children:C($.totalInterest)})]}),m.jsxs("div",{className:"card !p-3 lg:!p-6",children:[m.jsx("p",{className:"text-xs lg:text-sm text-dark-400 mb-1",children:" "}),m.jsx("p",{className:"text-sm lg:text-2xl font-bold text-amber-400 truncate",children:C($.totalRemainingPrincipal)})]})]}),m.jsxs("div",{className:"card !p-3 lg:!p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-3 lg:mb-4",children:[m.jsx("h3",{className:"text-base lg:text-lg font-semibold text-dark-100",children:" "}),m.jsxs("button",{onClick:()=>d(!0),className:"btn bg-blue-500 hover:bg-blue-600 text-white text-xs lg:text-sm py-1.5 px-2 lg:py-2 lg:px-3",children:[m.jsx(ug,{className:"w-4 h-4"}),m.jsx("span",{className:"hidden sm:inline",children:" "}),m.jsx("span",{className:"sm:hidden",children:""})]})]}),i.length===0?m.jsxs("div",{className:"flex flex-col items-center justify-center py-8 lg:py-12 text-dark-500",children:[m.jsx(lh,{className:"w-12 h-12 lg:w-16 lg:h-16 mb-3 lg:mb-4 opacity-50"}),m.jsx("p",{className:"text-sm lg:text-lg mb-2",children:"  "}),m.jsx("p",{className:"text-xs lg:text-sm mb-4 text-center px-4",children:"      "}),m.jsx("button",{onClick:()=>d(!0),className:"btn bg-blue-500 hover:bg-blue-600 text-white text-sm",children:"  "})]}):m.jsx("div",{className:"space-y-3 lg:space-y-4",children:i.map(Q=>{const P=B.find(V=>V.loanId===Q.id),se=new Date(Q.startDate),L=new Date(se);return L.setMonth(L.getMonth()+Q.termMonths),m.jsxs("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl border border-dark-700 hover:border-dark-600 transition-all",children:[m.jsxs("div",{className:"flex items-start justify-between mb-2 lg:mb-3",children:[m.jsxs("div",{className:"min-w-0 flex-1",children:[m.jsx("h4",{className:"text-sm lg:text-lg font-semibold text-dark-100 truncate",children:Q.name}),m.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:ym[Q.repaymentType]})]}),m.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[m.jsx("button",{onClick:()=>v(Q),className:"p-1.5 lg:p-2 text-dark-400 hover:text-dark-100 transition-colors",children:m.jsx(cg,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>S(Q.id,Q.name),className:"p-1.5 lg:p-2 text-dark-400 hover:text-rose-400 transition-colors",children:m.jsx(el,{className:"w-4 h-4"})})]})]}),m.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 lg:gap-4 mb-3 lg:mb-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mb-0.5 lg:mb-1",children:" "}),m.jsx("p",{className:"text-xs lg:text-base font-medium text-dark-200 truncate",children:C(Q.principal)})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mb-0.5 lg:mb-1",children:""}),m.jsxs("p",{className:"text-xs lg:text-base font-medium text-dark-200 flex items-center gap-1",children:[m.jsx(BR,{className:"w-3 h-3 hidden lg:inline"}),Q.interestRate,"%"]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mb-0.5 lg:mb-1",children:" "}),m.jsxs("p",{className:"text-xs lg:text-base font-medium text-dark-200 flex items-center gap-1",children:[m.jsx(pR,{className:"w-3 h-3 hidden lg:inline"}),Math.floor(Q.termMonths/12)," ",Q.termMonths%12,""]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] lg:text-xs text-dark-500 mb-0.5 lg:mb-1",children:"~"}),m.jsxs("p",{className:"text-xs lg:text-base font-medium text-dark-200 flex items-center gap-1",children:[m.jsx(Ko,{className:"w-3 h-3 hidden lg:inline"}),m.jsxs("span",{className:"truncate",children:[se.getFullYear(),".",se.getMonth()+1," ~ ",L.getFullYear(),".",L.getMonth()+1]})]})]})]}),P&&m.jsxs("div",{className:"p-2 lg:p-3 bg-dark-900/50 rounded-lg",children:[m.jsxs("p",{className:"text-[10px] lg:text-xs text-dark-500 mb-1.5 lg:mb-2",children:[a," ",o,"  (",P.monthNumber,")"]}),m.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 lg:gap-4 text-xs lg:text-sm",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-dark-500 text-[10px] lg:text-xs",children:""}),m.jsx("p",{className:"font-medium text-dark-300 truncate",children:C(P.principal)})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-dark-500 text-[10px] lg:text-xs",children:""}),m.jsx("p",{className:"font-medium text-rose-400 truncate",children:C(P.interest)})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-dark-500 text-[10px] lg:text-xs",children:" "}),m.jsx("p",{className:"font-medium text-blue-400 truncate",children:C(P.totalPayment)})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-dark-500 text-[10px] lg:text-xs",children:" "}),m.jsx("p",{className:"font-medium text-amber-400 truncate",children:C(P.remainingPrincipal)})]})]})]}),Q.memo&&m.jsx("p",{className:"mt-2 lg:mt-3 text-xs lg:text-sm text-dark-500",children:Q.memo})]},Q.id)})})]}),u&&m.jsx(BC,{loan:p,onClose:T})]})}function HC(){const{currentYear:i,getMultiMonthSummaries:e,transactions:s,events:a}=Ln(),[o,u]=J.useState(3),d=J.useRef(null),p=J.useCallback(S=>{S[0].isIntersecting&&u(B=>B+2)},[]);J.useEffect(()=>{const S={root:null,rootMargin:"100px",threshold:0},C=new IntersectionObserver(p,S);return d.current&&C.observe(d.current),()=>C.disconnect()},[p]);const _=()=>{const S=[];for(let C=0;C<o;C++)S.push(i+C);return S},v=S=>new Intl.NumberFormat("ko-KR").format(S),T={salary:"",bonus:"",other_income:" ",rent:"/",insurance:"",subscription:"",utilities:"",transport:"",food:"",shopping:"",travel:"",education:"",medical:"",other_expense:" "};return m.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[_().map(S=>m.jsx(FC,{year:S,getMultiMonthSummaries:e,transactions:s,events:a,formatAmount:v,categoryLabels:T},S)),m.jsx("div",{ref:d,className:"flex justify-center py-8",children:m.jsx("div",{className:"text-dark-500 text-sm",children:"  ..."})})]})}function FC({year:i,getMultiMonthSummaries:e,transactions:s,events:a,formatAmount:o,categoryLabels:u}){const d=J.useMemo(()=>e(i,1,12),[e,i]),p=J.useMemo(()=>d.reduce((S,C)=>({income:S.income+C.totalIncome,expense:S.expense+C.totalExpense,balance:S.balance+C.balance}),{income:0,expense:0,balance:0}),[d]),_=J.useMemo(()=>a.filter(S=>new Date(S.date).getFullYear()===i).length,[a,i]),v=J.useMemo(()=>{const S={};return s.filter(C=>C.type==="expense").forEach(C=>{let B=C.amount;C.recurrence==="monthly"&&(B*=12),S[C.category]=(S[C.category]||0)+B}),Object.entries(S).sort((C,B)=>B[1]-C[1]).slice(0,5)},[s]),T=p.income>0||p.expense>0||_>0;return m.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[m.jsxs("div",{className:"flex items-center gap-2 lg:gap-3 pb-2 border-b border-dark-800",children:[m.jsxs("h2",{className:"text-xl lg:text-2xl font-bold text-dark-100",children:[i," "]}),_>0&&m.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-purple-500/20 rounded-full text-[10px] lg:text-xs text-purple-400",children:[m.jsx(ah,{className:"w-3 h-3"}),_]})]}),T?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid grid-cols-3 gap-2 lg:gap-4",children:[m.jsxs("div",{className:"card !p-3 lg:!p-6",children:[m.jsxs("div",{className:"flex items-center gap-2 lg:gap-3 mb-2 lg:mb-3",children:[m.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 rounded-xl bg-emerald-500/20 flex items-center justify-center flex-shrink-0",children:m.jsx(fg,{className:"w-4 h-4 lg:w-5 lg:h-5 text-emerald-400"})}),m.jsx("span",{className:"text-dark-400 text-xs lg:text-base hidden sm:inline",children:"  "}),m.jsx("span",{className:"text-dark-400 text-xs sm:hidden",children:""})]}),m.jsxs("p",{className:"text-sm lg:text-2xl font-bold text-emerald-400 truncate",children:["+",o(p.income)]})]}),m.jsxs("div",{className:"card !p-3 lg:!p-6",children:[m.jsxs("div",{className:"flex items-center gap-2 lg:gap-3 mb-2 lg:mb-3",children:[m.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 rounded-xl bg-rose-500/20 flex items-center justify-center flex-shrink-0",children:m.jsx(hg,{className:"w-4 h-4 lg:w-5 lg:h-5 text-rose-400"})}),m.jsx("span",{className:"text-dark-400 text-xs lg:text-base hidden sm:inline",children:"  "}),m.jsx("span",{className:"text-dark-400 text-xs sm:hidden",children:""})]}),m.jsxs("p",{className:"text-sm lg:text-2xl font-bold text-rose-400 truncate",children:["-",o(p.expense)]})]}),m.jsxs("div",{className:"card !p-3 lg:!p-6",children:[m.jsxs("div",{className:"flex items-center gap-2 lg:gap-3 mb-2 lg:mb-3",children:[m.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 rounded-xl bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:m.jsx(Xx,{className:"w-4 h-4 lg:w-5 lg:h-5 text-blue-400"})}),m.jsx("span",{className:"text-dark-400 text-xs lg:text-base hidden sm:inline",children:" "}),m.jsx("span",{className:"text-dark-400 text-xs sm:hidden",children:""})]}),m.jsxs("p",{className:`text-sm lg:text-2xl font-bold truncate ${p.balance>=0?"text-emerald-400":"text-rose-400"}`,children:[p.balance>=0?"+":"",o(p.balance)]})]})]}),m.jsxs("div",{className:"card !p-3 lg:!p-6",children:[m.jsx("h3",{className:"text-base lg:text-lg font-semibold text-dark-100 mb-3 lg:mb-4",children:" "}),m.jsx("div",{className:"space-y-2 lg:space-y-3",children:d.map(S=>{const C=Math.max(...d.map(Q=>Math.max(Q.totalIncome,Q.totalExpense))),B=C>0?S.totalIncome/C*100:0,$=C>0?S.totalExpense/C*100:0;return m.jsxs("div",{className:"flex items-center gap-2 lg:gap-4",children:[m.jsxs("div",{className:"w-8 lg:w-12 text-xs lg:text-sm font-medium text-dark-300",children:[S.month,""]}),m.jsxs("div",{className:"flex-1 space-y-1",children:[m.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[m.jsx("div",{className:"h-3 lg:h-4 bg-emerald-500/60 rounded",style:{width:`${B}%`,minWidth:S.totalIncome>0?"4px":"0"}}),m.jsxs("span",{className:"text-[10px] lg:text-xs text-emerald-400 min-w-[50px] lg:min-w-[80px]",children:["+",o(S.totalIncome)]})]}),m.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[m.jsx("div",{className:"h-3 lg:h-4 bg-rose-500/60 rounded",style:{width:`${$}%`,minWidth:S.totalExpense>0?"4px":"0"}}),m.jsxs("span",{className:"text-[10px] lg:text-xs text-rose-400 min-w-[50px] lg:min-w-[80px]",children:["-",o(S.totalExpense)]})]})]}),m.jsxs("div",{className:`w-16 lg:w-24 text-right text-[10px] lg:text-sm font-medium ${S.balance>=0?"text-emerald-400":"text-rose-400"}`,children:[S.balance>=0?"+":"",o(S.balance)]})]},S.month)})})]}),v.length>0&&m.jsxs("div",{className:"card !p-3 lg:!p-6",children:[m.jsx("h3",{className:"text-base lg:text-lg font-semibold text-dark-100 mb-3 lg:mb-4",children:"  "}),m.jsx("div",{className:"space-y-2 lg:space-y-3",children:v.map(([S,C],B)=>{const $=v[0][1],Q=C/$*100;return m.jsxs("div",{className:"flex items-center gap-2 lg:gap-4",children:[m.jsx("div",{className:"w-5 lg:w-6 text-xs lg:text-sm font-medium text-dark-500",children:B+1}),m.jsx("div",{className:"w-16 lg:w-24 text-xs lg:text-sm text-dark-200 truncate",children:u[S]||S}),m.jsx("div",{className:"flex-1",children:m.jsx("div",{className:"h-5 lg:h-6 bg-rose-500/40 rounded flex items-center px-2",style:{width:`${Q}%`,minWidth:"50px"},children:m.jsx("span",{className:"text-[10px] lg:text-xs text-rose-200 whitespace-nowrap",children:o(C)})})})]},S)})})]})]}):m.jsx("div",{className:"card text-center py-8 lg:py-12",children:m.jsx("p",{className:"text-dark-500 text-sm lg:text-base",children:"    "})})]})}function GC(){const{transactions:i,loans:e,events:s,isSyncing:a,lastSyncTime:o,saveToFirestore:u}=Ln(),{user:d,loading:p,signInWithGoogle:_,logout:v}=Ah(),[T,S]=J.useState(!1),[C,B]=J.useState(null),$=async()=>{try{B(null),await _()}catch(ae){B(" .  ."),console.error(ae)}},Q=async()=>{try{await v()}catch(ae){console.error(ae)}},P=async()=>{try{await u(),alert(" !")}catch(ae){alert(" ."),console.error(ae)}},se=()=>{const ae={transactions:i,loans:e,events:s,exportedAt:new Date().toISOString()},k=new Blob([JSON.stringify(ae,null,2)],{type:"application/json"}),E=URL.createObjectURL(k),w=document.createElement("a");w.href=E,w.download=`finance-backup-${new Date().toISOString().split("T")[0]}.json`,w.click(),URL.revokeObjectURL(E)},L=()=>{const ae=document.createElement("input");ae.type="file",ae.accept=".json",ae.onchange=k=>{const E=k.target.files?.[0];if(!E)return;const w=new FileReader;w.onload=I=>{try{const N=JSON.parse(I.target?.result);if(N.transactions){const M=new Date;localStorage.setItem("finance-timeline-data",JSON.stringify({transactions:N.transactions,currentYear:M.getFullYear(),currentMonth:M.getMonth()+1})),window.location.reload()}}catch{alert("  .")}},w.readAsText(E)},ae.click()},V=()=>{localStorage.removeItem("finance-timeline-data"),window.location.reload()},ie={totalTransactions:i.length,incomeCount:i.filter(ae=>ae.type==="income").length,expenseCount:i.filter(ae=>ae.type==="expense").length,recurringCount:i.filter(ae=>ae.recurrence!=="once").length,loansCount:e.length,eventsCount:s.length},he=ae=>`${ae.getHours().toString().padStart(2,"0")}:${ae.getMinutes().toString().padStart(2,"0")}`;return m.jsxs("div",{className:"max-w-2xl space-y-4 lg:space-y-6",children:[m.jsxs("div",{className:"card !p-4 lg:!p-6",children:[m.jsx("h3",{className:"text-base lg:text-lg font-semibold text-dark-100 mb-3 lg:mb-4",children:" "}),p?m.jsx("div",{className:"flex items-center justify-center py-8",children:m.jsx(wo,{className:"w-6 h-6 text-dark-400 animate-spin"})}):d?m.jsxs("div",{className:"space-y-3 lg:space-y-4",children:[m.jsxs("div",{className:"flex items-center gap-3 lg:gap-4 p-3 lg:p-4 bg-dark-800/50 rounded-xl",children:[d.photoURL?m.jsx("img",{src:d.photoURL,alt:"",className:"w-10 h-10 lg:w-12 lg:h-12 rounded-full"}):m.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-full bg-violet-500/20 flex items-center justify-center",children:m.jsx(mC,{className:"w-5 h-5 lg:w-6 lg:h-6 text-violet-400"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"font-medium text-dark-100 text-sm lg:text-base truncate",children:d.displayName}),m.jsx("p",{className:"text-xs lg:text-sm text-dark-400 truncate",children:d.email})]}),m.jsxs("button",{onClick:Q,className:"btn btn-secondary text-xs lg:text-sm py-1.5 lg:py-2 px-2 lg:px-3",children:[m.jsx(VR,{className:"w-4 h-4"}),m.jsx("span",{className:"hidden sm:inline",children:""})]})]}),m.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 bg-emerald-500/10 rounded-xl border border-emerald-500/20",children:[m.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[a?m.jsx(wo,{className:"w-4 h-4 lg:w-5 lg:h-5 text-emerald-400 animate-spin"}):m.jsx(Gx,{className:"w-4 h-4 lg:w-5 lg:h-5 text-emerald-400"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm lg:text-base font-medium text-emerald-400",children:a?" ...":" "}),o&&m.jsxs("p",{className:"text-xs text-dark-400",children:[" : ",he(o)]})]})]}),m.jsxs("button",{onClick:P,disabled:a,className:"btn bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30 text-xs lg:text-sm py-1.5 lg:py-2 px-2 lg:px-3",children:[m.jsx(wo,{className:`w-4 h-4 ${a?"animate-spin":""}`}),m.jsx("span",{className:"hidden sm:inline",children:" "})]})]})]}):m.jsxs("div",{className:"space-y-3 lg:space-y-4",children:[m.jsxs("div",{className:"flex items-center gap-3 p-3 lg:p-4 bg-dark-800/50 rounded-xl",children:[m.jsx(pm,{className:"w-5 h-5 text-dark-400"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"text-sm lg:text-base font-medium text-dark-200",children:" "}),m.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:"Google        "})]})]}),C&&m.jsx("p",{className:"text-sm text-rose-400 px-1",children:C}),m.jsxs("button",{onClick:$,className:"w-full btn bg-white hover:bg-gray-100 text-gray-800 py-2.5 lg:py-3",children:[m.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[m.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),m.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),m.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),m.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google  "]})]})]}),m.jsxs("div",{className:"card !p-4 lg:!p-6",children:[m.jsx("h3",{className:"text-base lg:text-lg font-semibold text-dark-100 mb-3 lg:mb-4",children:" "}),m.jsxs("div",{className:"space-y-3 lg:space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 bg-dark-800/50 rounded-xl gap-3",children:[m.jsxs("div",{className:"min-w-0",children:[m.jsx("h4",{className:"font-medium text-dark-100 text-sm lg:text-base",children:" "}),m.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:"  JSON  "})]}),m.jsxs("button",{onClick:se,className:"btn btn-secondary text-xs lg:text-sm py-1.5 lg:py-2 px-2 lg:px-3 flex-shrink-0",children:[m.jsx(bR,{className:"w-4 h-4"}),m.jsx("span",{className:"hidden sm:inline",children:""})]})]}),m.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 bg-dark-800/50 rounded-xl gap-3",children:[m.jsxs("div",{className:"min-w-0",children:[m.jsx("h4",{className:"font-medium text-dark-100 text-sm lg:text-base",children:" "}),m.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:"   "})]}),m.jsxs("button",{onClick:L,className:"btn btn-secondary text-xs lg:text-sm py-1.5 lg:py-2 px-2 lg:px-3 flex-shrink-0",children:[m.jsx(fC,{className:"w-4 h-4"}),m.jsx("span",{className:"hidden sm:inline",children:""})]})]}),m.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 bg-dark-800/50 rounded-xl border border-rose-500/20 gap-3",children:[m.jsxs("div",{className:"min-w-0",children:[m.jsx("h4",{className:"font-medium text-dark-100 text-sm lg:text-base",children:" "}),m.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:"  "})]}),m.jsxs("button",{onClick:()=>S(!0),className:"btn bg-rose-500/20 text-rose-400 hover:bg-rose-500/30 text-xs lg:text-sm py-1.5 lg:py-2 px-2 lg:px-3 flex-shrink-0",children:[m.jsx(el,{className:"w-4 h-4"}),m.jsx("span",{className:"hidden sm:inline",children:""})]})]})]})]}),m.jsxs("div",{className:"card !p-4 lg:!p-6",children:[m.jsx("h3",{className:"text-base lg:text-lg font-semibold text-dark-100 mb-3 lg:mb-4",children:""}),m.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-2 lg:gap-4",children:[m.jsxs("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl",children:[m.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:" "}),m.jsxs("p",{className:"text-lg lg:text-2xl font-bold text-dark-100",children:[ie.totalTransactions,""]})]}),m.jsxs("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl",children:[m.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:" "}),m.jsxs("p",{className:"text-lg lg:text-2xl font-bold text-emerald-400",children:[ie.incomeCount,""]})]}),m.jsxs("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl",children:[m.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:" "}),m.jsxs("p",{className:"text-lg lg:text-2xl font-bold text-rose-400",children:[ie.expenseCount,""]})]}),m.jsxs("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl",children:[m.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:" "}),m.jsxs("p",{className:"text-lg lg:text-2xl font-bold text-blue-400",children:[ie.recurringCount,""]})]}),m.jsxs("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl",children:[m.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:""}),m.jsxs("p",{className:"text-lg lg:text-2xl font-bold text-amber-400",children:[ie.loansCount,""]})]}),m.jsxs("div",{className:"p-3 lg:p-4 bg-dark-800/50 rounded-xl",children:[m.jsx("p",{className:"text-xs lg:text-sm text-dark-400",children:""}),m.jsxs("p",{className:"text-lg lg:text-2xl font-bold text-purple-400",children:[ie.eventsCount,""]})]})]})]}),T&&m.jsx("div",{className:"fixed inset-0 bg-dark-950/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"card w-full max-w-md text-center",children:[m.jsx("div",{className:"w-16 h-16 rounded-full bg-rose-500/20 flex items-center justify-center mx-auto mb-4",children:m.jsx(uC,{className:"w-8 h-8 text-rose-400"})}),m.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:" ?"}),m.jsxs("p",{className:"text-dark-400 mb-6",children:["    .",m.jsx("br",{}),"    ."]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:()=>S(!1),className:"btn btn-secondary flex-1",children:""}),m.jsx("button",{onClick:V,className:"btn bg-rose-500 hover:bg-rose-600 text-white flex-1",children:""})]})]})})]})}const Ev="plan-my-life-offline-mode",YC={timeline:"",transactions:"/ ",events:" ",loans:" ",summary:"",settings:""};function QC(){const[i,e]=J.useState("timeline"),[s,a]=J.useState(!1),{setCurrentDate:o}=Ln(),u=()=>{switch(i){case"timeline":return m.jsx(xv,{});case"transactions":return m.jsx(PC,{});case"events":return m.jsx(zC,{});case"loans":return m.jsx(qC,{});case"summary":return m.jsx(HC,{});case"settings":return m.jsx(GC,{});default:return m.jsx(xv,{})}},d=()=>{const _=new Date;o(_.getFullYear(),_.getMonth()+1),window.scrollTo({top:0,behavior:"smooth"})},p=i==="timeline";return m.jsxs("div",{className:"min-h-screen bg-dark-950",children:[m.jsx(EC,{activeTab:i,onTabChange:e,isOpen:s,onClose:()=>a(!1)}),m.jsxs("main",{className:"lg:ml-64 min-h-screen",children:[m.jsx(TC,{title:YC[i],onTodayClick:d,showTodayButton:p,onMenuClick:()=>a(!0)}),m.jsx("div",{className:"p-4 lg:p-6",children:u()})]})]})}function KC(){const{user:i,loading:e}=Ah(),[s,a]=J.useState(null);J.useEffect(()=>{const u=localStorage.getItem(Ev);a(u==="true")},[]);const o=()=>{localStorage.setItem(Ev,"true"),a(!0)};return e||s===null?m.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:m.jsx("div",{className:"w-8 h-8 border-2 border-violet-500 border-t-transparent rounded-full animate-spin"})}):!i&&!s?m.jsx(SC,{onContinueOffline:o}):m.jsx(J4,{children:m.jsx(QC,{})})}function XC(){return m.jsx(Q4,{children:m.jsx(KC,{})})}LE.createRoot(document.getElementById("root")).render(m.jsx(J.StrictMode,{children:m.jsx(XC,{})}));
